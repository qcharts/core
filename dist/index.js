!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("spritejs/dist/spritejs.min.js")):"function"==typeof define&&define.amd?define(["spritejs"],e):"object"==typeof exports?exports.qcharts=e(require("spritejs/dist/spritejs.min.js")):t.qcharts=e(t.spritejs)}(window,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function t(e,n,o){var i=e;if("object"==r(e))if("array"===c(e)){i=[];for(var u=0,a=e.length;u<a;u++)i.push(t(e[u],n,o))}else if(null!==e)for(var s in i=Object.create(null),e)n&&"array"===c(n)&&n.length?-1!=n.indexOf(s)&&(i[s]=t(e[s],n,o)):n&&"regexp"===c(n)?n.test(s)&&(i[s]=t(e[s],n,o)):n&&"function"===c(n)?n(s,e[s])&&(i[s]=t(e[s],n,o)):o&&"array"===c(o)&&o.length?-1===o.indexOf(s)&&(i[s]=t(e[s],n,o)):o&&"regexp"===c(o)?o.test(s)||(i[s]=t(e[s],n,o)):o&&"function"===c(o)&&o(s,e[s])||(i[s]=t(e[s],n,o));return i;function c(t){var e=r(t);return"object"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}};e.default=o},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function t(e,n,o){var i=e;if("object"==r(e))if("array"===c(e)){i=[];for(var u=0,a=e.length;u<a;u++)i.push(t(e[u],n,o))}else if(null!==e)for(var s in i=Object.create(null),e)n&&"array"===c(n)&&n.length?-1!=n.indexOf(s)&&(i[s]=t(e[s],n,o)):n&&"regexp"===c(n)?n.test(s)&&(i[s]=t(e[s],n,o)):n&&"function"===c(n)?n(s,e[s])&&(i[s]=t(e[s],n,o)):o&&"array"===c(o)&&o.length?-1===o.indexOf(s)&&(i[s]=t(e[s],n,o)):o&&"regexp"===c(o)?o.test(s)||(i[s]=t(e[s],n,o)):o&&"function"===c(o)&&o(s,e[s])||(i[s]=t(e[s],n,o));return i;function c(t){var e=r(t);return"object"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}};e.default=o},function(t,e,n){"use strict";n.r(e);const r=function(){},o=t=>[].concat.apply([],t);function i(t,e,...n){const i=new r;return i.tagName=t,i.attrs=e||{},i.children=o(n).filter(Boolean),i}const u="CREATE",a="REPLACE",s="UPDATE",c="REMOVE",f=t=>null==t,l=(t,e)=>{const n=[],r=Math.max(t.children.length,e.children.length);for(let o=0;o<r;o++)n[o]=d(t.children[o],e.children[o]);return n},h=(t,e)=>{let n=[];const r=t.attrs,o=e.attrs;return n=Object.assign({},r,o),n},p=(t,e)=>"object"!=typeof t&&t!==e||"object"!=typeof e&&t!==e||t.tagName!==e.tagName;function d(t,e){return f(t)?{type:u,newVNode:e}:f(e)?{type:c}:p(t,e)?{type:a,newVNode:e}:e.tagName?{type:s,children:l(t,e),attrs:h(t,e)}:void 0}function y(t){if(!t)return;let{tagName:e,attrs:n,children:r}=t;const o=new e;return T(this,o,n),o.appendChild&&r.map(y.bind(this)).filter(Boolean).forEach(o.appendChild.bind(o)),o}const b={linear:function(t){return t},quadIn:t=>t*t,quadOut:t=>t*(2-t),quadInOut:t=>((t*=2)<=1?t*t:--t*(2-t)+1)/2,cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-b.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*b.bounceIn(2*t):.5*b.bounceOut(2*t-1)+.5}};var _=b;function v(...t){let e=t[0];if(t.length>1)for(let r=1;r<t.length;r++)n(e,t[r]);return e;function n(t,e){for(var n in e)t[n]=t[n]&&"[object Object]"===t[n].toString()?v(t[n],e[n]):t[n]=e[n];return t}}function m(){return Object.create(null)}function g(t){const e=typeof t;return"object"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}function w(t,e=16,n=!1){let r=null,o=n;return function(...n){if(o)return t.apply(this,n),o=!1;r||(r=setTimeout(()=>{clearTimeout(r),r=null,t.apply(this,n)},e))}}function O(t,e){return"string"===g(t)&&t.match(/%$/)?Number(t.substring(0,t.indexOf("%")))/100*e:t}const j=t=>()=>t,E=(t,e)=>n=>t+(e-t)*n,k=(t,e)=>{const n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),i=new Array(n);let u;for(u=0;u<r;++u)o[u]=M(t[u],e[u]);for(;u<n;++u)i[u]=e[u];return t=>{for(u=0;u<r;++u)i[u]=o[u](t);return i}},S=(t,e)=>{let n,r={},o={};for(n in t&&"object"!==!g(t)||(t={}),e&&"object"!==!g(e)||(e={}),e)n in t?r[n]=M(t[n],e[n]):o[n]=e[n];return t=>{for(n in r)o[n]=r[n](t);return o}};function M(t,e){let n=typeof e;return null===e||"string"===n||"boolean"===n?j(e):("number"===n?E:"array"===g(e)?k:S)(t,e)}function P(){return"undefined"!=typeof performance?performance.now():Date.now()}let x=window.requestAnimationFrame,C=window.cancelAnimationFrame;if(!x){const t=P();x=e=>setTimeout(()=>{e(P()-t)},16),C=t=>clearTimeout(t)}function A(t="linear"){return this._start=null,this._end=null,this._delay=0,this._canceled=!1,this._duration=1,this._easing=_[t]?_[t]:_.linear,this._onUpdate=()=>{},this._onStart=()=>{},this}A.prototype={from(t){return this._start=t,this},to(t){return this._end=t,this},duration(t){if("number"!=typeof t)throw new Error("Duration time must be a number");return this._duration=t,this},delay(t){return this._delay=t,this},easing(t){if("function"!=typeof t)throw new Error("easing function must be a function");return this._easing=t,this},onStart(t){if("function"!=typeof t)throw new Error("start callback must be a function");return this._onStart=t,this},onUpdate(t){if("function"!=typeof t)throw new Error("update callback must be a function");return this._onUpdate=t,this},onComplete(t){if("function"!=typeof t)throw new Error("complete callback must be a function");return this._onComplete=t,this},start(){const t=this._easing,e=M(this._start,this._end),n=this._onUpdate;let r=0,o=this._duration,i=null,u=this._delay,a=0;return new Promise(s=>{const c=()=>{r=P()-a;const u=t(Math.min(1,r/o));r>=o?(n(e(1)),s(this),C(i)):(n(e(u)),i=x(c))},f=()=>{a=P(),this._onStart(this._start,this._end),i=x(c)};this.cancel=()=>{C(i)},u&&u>0?(t=>new Promise(e=>setTimeout(()=>{e()},t)))(u).then(f):f()})}};var R=A,I=n(1),q=n.n(I);function T(t,e,n){e&&Object.keys(n).length&&(function(t,e,n){const r=n.ref;if(delete n.ref,r&&e)try{t.addRef(r,e)}catch(t){console.error(t)}}(t,e,n),function(t,e){const n=Object.create(null);let r=null,o={normal:n,...e.states||{}};delete e.states;let i=Object.keys(e).reduce((o,i)=>{if(!/\S+state$/i.test(i))return o;let u=e[i];if(!u||"object"!=typeof u)return o;const a=i.slice(0,-5);r||(r=t.cloneNode()),r.attr(u);const s=r.attr();Object.keys(u).forEach(t=>{u[t]=s[t]});const c=Object.assign({},t.attr(),e);return Object.keys(u).forEach(e=>{e in c?n[e]=c[e]:(console.warn(`Set invalid attribute '${e}' to ${t.nodeName}.`),n[e]=u[e])}),o[a]=u,delete e[i],o},o);t.attr({state:"normal",states:i})}(e,n),function(t,e={}){Object.keys(e).forEach(n=>{if(!/^@/.test(n))return;const r=n.split("@")[1].toLowerCase(),o=e[n]||(()=>{});t.off(r),t.on(r,e=>o.bind(t)(e)),delete e[n]})}(e,n),e.attr(n),function(t,e,n){if(!e||!n.animation)return;const r=v(t.renderAttrs.animation,n.animation),{from:o,middle:i,use:u,to:a,delay:s,duration:c,useTween:f,formatter:l=(t=>t)}=r;if(!o||!a||!u)return;let h=q()(r,null,["from","to","formatter","use"]);(()=>{if(f)(new R).from(o).to(a).delay(s).duration(c).onUpdate(t=>{e.attr(l(t))}).start();else{let t=null;t=i?[o,i,a]:[o,a],e.animate(t,{fill:"both",...h}).finished.then(()=>{delete a.offset,e.attr(a)})}})()}(t,e,n))}function F(t,e,n=0){let r=n,o=this;if(e&&t)switch(e.type){case u:{const{newVNode:n}=e,r=y.bind(o)(n);r&&t.appendChild(r);break}case a:{const{newVNode:n}=e,r=y(n);t.replaceChild(r,el);break}case c:t.children[r]&&t.children[r].remove();break;case s:{const{attrs:n,children:i}=e;let u=t.children[r];T(o,u,n);for(let t=i.length-1;t>=0;t--)F.bind(o)(u,i[t],t);for(let e=t.children.length-i.length;e>=0;e--)F.bind(o)(u,i[e],e);break}}}var D={default:"default",hide:"hide",hover:"hover",active:"active",mixed:"mixed"};var N=class extends Object{constructor(t,e){super(),this.__store=Object.create(null),this.__store.__option=e;for(let e in t)0!==e.indexOf("__")&&(this[e]=t[e]);this.__store.__state=D.default}get value(){return this[this.__store.__option.value]}get text(){return this[this.__store.__option.text]}get option(){return this.__store.__option}get state(){return this.__store.__state}set state(t){this.__store.__state=D[t]}};var U=class extends Array{constructor(t,e){super(),this.__store=Object.create(null),this.__store.__name=t,this.__store.__option=e}get name(){return this.__store.__name}get option(){return this.__store.__option}get state(){let t=this[0].state;for(let e=1;e<this.length;e++)if(this[e].state!==t){t="mixed";break}return t}set state(t){this.forEach(e=>{e.state=state[t]})}};class L extends Array{constructor(t,e){super(),t.forEach((t,n)=>{t.__cell=new N(t,e),this[n]=t}),this.__store=Object.create(null);let n=this.__store;n.__option=e,n.__deps=[],n.__rows=[],n.__rows=function(t=[],e,n){let{row:r,col:o}=n,i=[];if("*"===r){let r=new e("*",n);t.forEach(t=>{r.push(t.__cell)}),i.push(r.sort(u))}else{let o=Object.create(null);t.forEach(t=>{o[t[r]]||(o[t[r]]=new e(t[r],n)),o[t[r]].push(t.__cell)});for(let t in o)i.push(o[t].sort(u))}return i;function u(t,e){if(o)return t[o]>e[o]?1:-1}}(this,U,e)}get option(){return this.__store.__option}get cols(){let t=[],e=0;this.__store.__rows.forEach(t=>{t.length>e&&(e=t.length)});for(let n=0;n<e;n++){let e=[];this.__store.__rows.forEach(t=>{e.push(t[n])}),t.push(e)}return t}get rows(){return this.__store.__rows}selectRows(t){let e=this.option.row,n=[];return this.forEach(r=>{-1!==t.indexOf(r[e])&&n.push(r)}),new L(n,this.option)}addDep(t){this.__store.__deps.push(t)}}var B=L,$=n(0),G={beforeCreate:"beforeCreate",created:"created",beforeRender:"beforeRender",rendered:"rendered",beforeUpdate:"beforeUpdate",updated:"updated",beforeDestroy:"beforeDestroy",destroyed:"destroyed"};var V=n(2),z=n.n(V);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K(t,e,n){return(K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Q(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){function e(t){var n,r,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Q(e).call(this))||"object"!==W(o)&&"function"!=typeof o?J(r):o).dispatchEvent(G.beforeCreate),(i=J(n)).on=i.addEventListener,i.off=i.removeEventListener,i.once=function(t,e){var n=this;return this.on(t,(function r(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];e.apply(n,i),n.off(t,r)}))},n.__store=m();var u=n.__store;return u.__attrs=m(),u.__vnode__=null,u.__isCreated__=!1,u.__refs=m(),u.dataset=null,n.attr(t),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,t),n=e,(r=[{key:"source",value:function(t,e){var n=t,r=this.__store;if(!(t instanceof B)){var o=e;r.dataset&&(o=v({},r.dataset.option,e)),n=new B(t,o)}return r.dataset&&r.__isCreated__&&this.update(),r.dataset=n,this}},{key:"created",value:function(){var t=this.__store;this.dispatchEvent(G.created),t.__vnode__=this.render(this.beforeRender());var e=d(null,t.__vnode__);this.dispatchEvent(G.beforeRender),F.bind(this)(this.parent||this.layer,e),this.dispatchEvent(G.rendered),this.rendered()}},{key:"beforeRender",value:function(){return this.renderAttrs}},{key:"render",value:function(){console.warn("this function must be rewrited")}},{key:"beforeUpdate",value:function(){return this.renderAttrs}},{key:"update",value:function(){var t=this.__store;this.dispatchEvent(G.beforeUpdate);var e=this.render(this.beforeUpdate()),n=d(t.__vnode__,e);F.bind(this)(this.parent||this.layer,n),t.__vnode__=e,this.dispatchEvent(G.updated)}},{key:"updated",value:function(){}},{key:"dispatchEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m();K(Q(e.prototype),"dispatchEvent",this).call(this,t,n)}},{key:"defaultAttrs",value:function(){}},{key:"baseAttrs",value:function(){return{animation:{use:!0,duration:300,useTween:!0,easing:"linear"},clientRect:{left:"10%",top:"10%",right:"10%",bottom:"10%",width:void 0,height:void 0},opacity:1,layer:"default",layoutBy:"rows"}}},{key:"attr",value:function(t,e){var n=this.__store;if("object"===g(t))for(var r in t)this.attr(r,t[r]);else{if(void 0===t)return n.__attrs;if(void 0===e)return n.__attrs[t];void 0!==t&&(n.__attrs[t]=e)}}},{key:"addRef",value:function(t,e){this.__store.__refs[t]=e}},{key:"style",value:function(t,e){var n=this;if("object"===g(t))for(var r in t)this.style(r,t[r]);else{if(void 0!==t&&void 0===e){var o=this.attr("style@"+t);return function(){if(isFunction(o)){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.apply(n,e)}return o}}if(void 0!==t)return this.attr("style@"+t,e),this}}},{key:"store",get:function(){return this.__store}},{key:"layer",get:function(){return this.scene.layer(this.attr("layer")||"default")}},{key:"$refs",get:function(){return this.__store.__refs}},{key:"renderAttrs",get:function(){var t=z()(v(this.baseAttrs(),this.defaultAttrs(),this.attr())),e=t.animation,n=t.clientRect;"boolean"===g(e)&&(e={use:!!e});var r=this.layer.canvas.getBoundingClientRect(),o=r.width,i=r.height;for(var u in n)-1!==["left","right","width"].indexOf(u)?n[u]=O(n[u],o):-1!==["top","bottom","height"].indexOf(u)&&(n[u]=O(n[u],i));return void 0===n.width?n.width=o-n.left-n.right:n.right=o-n.left-n.width,void 0===n.height?n.height=i-n.top-n.bottom:n.bottom=i-n.top-n.height,t.colors=this.theme.colors,t}},{key:"dataset",get:function(){return this.__store.dataset||this.chart&&this.chart.dataset}}])&&H(n.prototype,r),o&&H(n,o),e}($.Node),Z={colors:["#47A1FF","#6CD3FF","#A2E5FF","#4DCCCB","#3FDDC7","#84E0BE","#59CB74","#ADDF84","#FBD54A","#FFB952","#F79452","#E37474","#FC6980","#ED8CCE","#DA65CC","#9861E5","#9F8CF1","#6367EC","#5982F6","#659AEC"]};Z.visuals={Line:{colors:Z.colors,styles:{},attrs:{}}},Z.plugins={};var tt=Z;function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ut=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=rt(this,ot(e).call(this,t))).theme=tt.visuals[n.constructor.name],n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,t),n=e,(r=[{key:"componentType",get:function(){return"visual"}}])&&nt(n.prototype,r),o&&nt(n,o),e}(Y);function at(t){if(!Array.isArray(t.dataSet)&&!t.hasOwnProperty("section"))return[];if(void 0!==t.section)return function(t){if(t&&Array.isArray(t)){var e=t[1]-t[0],n=[],r=4;n.push(t[0]);for(var o=4;o<8;o++)if(e%o==0){r=o;break}for(var i=1;i<=r;i++)n.push((t[0]+e*i/r).toFixed(2));return n}return[]}(t.section);var e=function(t){var e=t.stack||!1,n=t.dataSet||[],r=[];if(e&&0!==n.length&&n[0].length)for(var o=0,i=n[0].length;o<i;o++){for(var u=0,a=0,s=0,c=n.length;s<c;s++)if(!0!==n[s][o].disabled){var f=n[s][o].__valueGetter__();f<0?a+=f:u+=f}u&&r.push(u),a&&r.push(a)}else for(var l=0;l<n.length;l++)for(var h=0;h<n[l].length;h++)!0!==n[l][h].disabled&&r.push(n[l][h].value);return r}(t),n=[],r=[],o=!0,i=!1,u=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;c<0?r.push(Math.abs(c)):n.push(c)}}catch(t){i=!0,u=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}var f=5,l=n.sort((function(t,e){return t-e})),h=r.sort((function(t,e){return t-e})),p=l.length&&Math.ceil(l.pop()/.95),d=h.length&&Math.ceil(h.pop()/.95),y=p-d>=0?p:d,b=4,_=7;d&&p&&(b=3,_=5),t.splitNumber&&(_=(b=t.splitNumber)+1);var v=!1,m=y.toString().length,g=m<3?Math.ceil(y/Math.pow(10,m-1)):Math.ceil(y/Math.pow(10,m-2));do{for(var w=b;w<_;w++)if(g%w==0){f=w,y=m<3?g*Math.pow(10,m-1):g*Math.pow(10,m-2),v=!0;break}g++}while(!v);var O=new Array(f+1);O[0]=0;for(var j=1;j<f+1;j++)O[j]=p>=d?Math.round(y/f*j):-1*Math.round(y/f*j);if(d<=1&&d>0||p<=1&&p>0||0===p&&0===d){(O=new Array(6))[0]=0,y=1;for(var E=1;E<6;E++)O[E]=p>=d?2*y*E/10:-2*y*E/10}if(p<d&&O.reverse(),0===d.length||0===p.length)return O;if(p>=d)for(var k=10*O[1],S=1,M=Math.ceil((O.length-1)*d/p);S<M+1;S++)O.unshift(-1*k*S/10);else for(var P=10*O[O.length-2],x=1,C=Math.ceil((O.length-1)*p/d);x<C+1;x++)O.push(-1*P*x/10);return t.needReverse&&(O=O.map((function(t){return Global.datasetReverse?Math.round(Global.datasetReverse(t)):t}))),O}function st(t,e){var n=[],r=e.stack,o=e.splitNumber,i=e.clientRect,u=i.width,a=i.height,s=at({dataSet:t,stack:r,splitNumber:o});Math.max.apply(this,s),Math.min.apply(this,s);return t.forEach((function(t){var e={points:[]};t.forEach((function(n,r){var o=n.value,i=u/(t.length-1),s=function(){var t=[0,1],e=[0,1];function n(n){var r=t[1]-t[0],o=e[1]-e[0],i=(n-t[0])/r||0;return e[0]+o*i}return n.domain=function(e){return t=e,this},n.range=function(t){return e=t,this},n}().domain([0,120]).range([0,a]);e.points.push([i*r,a-s(o)])})),n.push(e)})),n}function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,e){return!e||"object"!==ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ht(t,e,n){return(ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=lt(this,pt(e).call(this,t))).renderLines=[],n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(e,t),n=e,(r=[{key:"beforeRender",value:function(){var t=this.renderAttrs;return st(this.dataset[t.layoutBy],t).map((function(t){return{from:{points:t.points},to:{points:t.points}}}))}},{key:"beforeUpdate",value:function(){var t=this.renderAttrs,e=st(this.dataset[t.layoutBy],t),n=this.renderLines;return e.map((function(t,e){var r={points:t.points};return n[e]&&(r={points:n[e].to.points}),{from:r,to:{points:t.points}}}))}},{key:"rendered",value:function(){console.log(this.$refs.wrap)}},{key:"defaultAttrs",value:function(){return{stack:!1}}},{key:"render",value:function(t){var e=this.renderAttrs,n=e.clientRect,r=e.smooth;return console.log(this.renderAttrs),this.renderLines=t,qcharts.h($.Group,{class:"container",ref:"wrap"},qcharts.h($.Group,{ref:"lines",class:"lines-group",pos:[n.left,n.top]},t.map((function(t){return qcharts.h($.Polyline,{strokeColor:"#f00",smooth:r,lineWidth:1,animation:{from:t.from,to:t.to}})}))))}},{key:"renderAttrs",get:function(){return ht(pt(e.prototype),"renderAttrs",this)}}])&&ft(n.prototype,r),o&&ft(n,o),e}(ut),bt=window;function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ot=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=mt(this,gt(e).call(this,t))).theme=theme.plugins[n.constructor.name],n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,t),n=e,(r=[{key:"componentType",get:function(){return"plugin"}}])&&vt(n.prototype,r),o&&vt(n,o),e}(Y);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mt(t,e){return(Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pt=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=kt(this,St(e).call(this));var r=t.container;return"string"===g(r)&&(r=document.querySelector(r)),n.visuals=[],n.plugins=[],n.scene=new $.Scene({container:r,displayRatio:bt.devicePixelRatio}),n.scene.addEventListener("resize",(function(t){n.checkUpdate()})),n.checkUpdate=w((function(t){[].concat(n.plugins).concat(n.visuals).forEach((function(t){t.update()}))}),300),n.checkRender=w((function(t){[].concat(n.visuals).concat(n.plugins).forEach((function(t){t.created(),n.dataset.addDep(t)})),n.__store.__isCreated__=!0,n.dispatchEvent("updated",m())})),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mt(t,e)}(e,t),n=e,(r=[{key:"update",value:function(){this.checkUpdate()}},{key:"append",value:function(t){var e=this;this.dataset?"array"!==g(t)?(t instanceof ut?this.visuals.push(t):t instanceof Ot&&this.plugins.push(t),t.chart=this,t.scene=this.scene,this.checkRender()):t.forEach((function(t){e.append(t)})):console.error("Chart should set data before append some graphs")}},{key:"renderChild",value:function(){}}])&&Et(n.prototype,r),o&&Et(n,o),e}(Y);n.d(e,"qcharts",(function(){return xt})),n.d(e,"Dataset",(function(){return B})),n.d(e,"Line",(function(){return yt})),n.d(e,"Chart",(function(){return Pt})),n.d(e,"h",(function(){return i})),n.d(e,"theme",(function(){return tt}));var xt={version:3.1,Line:yt,h:i,theme:tt,Chart:Pt};e.default=xt}]).default}));