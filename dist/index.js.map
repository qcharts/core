{"version":3,"sources":["webpack://qcharts/webpack/universalModuleDefinition","webpack://qcharts/webpack/bootstrap","webpack://qcharts/external {\"root\":\"spritejs\",\"commonjs2\":\"spritejs/dist/spritejs.min.js\",\"commonjs\":\"spritejs/dist/spritejs.min.js\",\"amd\":\"spritejs\",\"umd\":\"spritejs\"}","webpack://qcharts/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/extends.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/inherits.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/createClass.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/get.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://qcharts/./node_modules/filter-clone/lib/index.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/typeof.js","webpack://qcharts/utils/webpack/universalModuleDefinition","webpack://qcharts/utils/webpack/bootstrap","webpack://qcharts/utils/src/index.js","webpack://qcharts/./src/base/platform.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://qcharts/(webpack)/buildin/harmony-module.js","webpack://qcharts/(webpack)/buildin/amd-options.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/construct.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://qcharts/(webpack)/buildin/global.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/h.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/diff.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/consts.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/render.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/easing.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/interpolate.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/invariant.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/index.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/tween.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/nodeHelper.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/patch.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/state.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/event.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Cell.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Row.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Dataset.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/index.js","webpack://qcharts/./src/base/mixin.js","webpack://qcharts/./node_modules/@qcharts/utils/src/index.js","webpack://qcharts/./src/theme/default.js","webpack://qcharts/./src/base/Base.js","webpack://qcharts/./src/base/BaseVisual.js","webpack://qcharts/./src/utils/getStyle.js","webpack://qcharts/./src/utils/scaleLinear.js","webpack://qcharts/./src/utils/axis.js","webpack://qcharts/./src/visuals/Line/layout.js","webpack://qcharts/./src/utils/Point.js","webpack://qcharts/./src/visuals/Line/index.js","webpack://qcharts/./src/visuals/Pie/layout.js","webpack://qcharts/./src/visuals/Pie/index.js","webpack://qcharts/./src/visuals/Area/index.js","webpack://qcharts/./src/visuals/Radar/layout.js","webpack://qcharts/./src/visuals/Radar/index.js","webpack://qcharts/./src/visuals/Bar/layout.js","webpack://qcharts/./src/visuals/Bar/index.js","webpack://qcharts/./src/visuals/PolarBar/layout.js","webpack://qcharts/./src/visuals/PolarBar/index.js","webpack://qcharts/./src/visuals/Funnel/layout.js","webpack://qcharts/./src/visuals/Funnel/index.js","webpack://qcharts/./src/visuals/Scatter/layout.js","webpack://qcharts/./src/visuals/Scatter/index.js","webpack://qcharts/./src/utils/color.js","webpack://qcharts/./src/utils/ellipse2path.js","webpack://qcharts/./src/visuals/Wave/index.js","webpack://qcharts/./src/visuals/Gauge/index.js","webpack://qcharts/./src/visuals/RadialBar/index.js","webpack://qcharts/./src/base/BasePlugin.js","webpack://qcharts/./src/plugins/Axis/layout.js","webpack://qcharts/./src/plugins/Axis/index.js","webpack://qcharts/./src/plugins/Legend/index.js","webpack://qcharts/./src/plugins/Tooltip/index.js","webpack://qcharts/./src/Chart.js","webpack://qcharts/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_extends","assign","target","arguments","length","source","apply","this","instance","Constructor","TypeError","_typeof","assertThisInitialized","self","subClass","superClass","constructor","writable","configurable","_defineProperties","props","descriptor","protoProps","staticProps","obj","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","ReferenceError","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","arrayWithHoles","iterableToArrayLimit","nonIterableRest","iterator","_default","filterClone","include","exclude","res","getType","len","push","j","indexOf","test","str","toString","slice","toLowerCase","deepObjectMerge","args","objectMerge","FirstOBJ","SecondOBJ","emptyObject","jsType","throttle","fn","interval","immediately","timer","firstTime","setTimeout","clearTimeout","getDistancePx","num","distance","match","Number","substring","isWeiXin","wx","getSystemInfoSync","getGlobal","getApp","global","Error","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Map","undefined","has","set","Wrapper","_setPrototypeOf","originalModule","webpackPolyfill","children","__webpack_amd_options__","Function","isNativeReflectConstruct","sham","Proxy","Date","e","_construct","Parent","a","Array","isArray","_arr","_n","_d","_e","_s","_i","next","done","err","arr2","iter","from","g","sourceKeys","keys","VNode","flattern","concat","h","tagName","attrs","node","filter","Boolean","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","type","isDiffrentVNode","createElement","vnode","TagName","el","patchAttrs","appendChild","map","forEach","easing","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","number","b","array","bl","al","min","x","interpolate","invariant","requestAnimationFrame","cancelAnimationFrame","now","performance","startTime","id","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","to","duration","time","delay","onStart","onUpdate","onComplete","_onComplete","start","callback","elapseTime","animateTime","delayTime","Promise","resolve","step","cancel","then","addAnimate","graph","animation","renderAttrs","middle","use","useTween","formatter","attr","ani","animate","fill","finished","offset","setAnimation","patche","ref","addRef","console","error","split","cb","removeAllListeners","addEventListener","evt","addEvent","states","state","oldState","oldstates","oldAttrs","newAttrs","transition","addAttrs","patch","$el","isRoot","newEl","parent","replaceChild","remove","child","ind","_ind","curNode","curVnode","default","hide","hover","active","disabled","mixed","mixinEvent","__store","events","on","off","curEvent","splice","once","dispatchEvent","option","item","Cell","data","dataset","row","col","datasets","_layoutScaleFunc","layoutScaleFunc","List","__name","__option","cell","sta","dispatchOption","Row","Col","Dataset","handleLayoutScale","layoutScale","store","__deps","__rows","sort","resArr","list","curRow","getArrData","rowKey","dep","method","replace","NUM","warn","datasetReverse","cols","colLen","lifeCycle","Base","component","removeEventListener","listener","__attrs","__vnode__","__isCreated__","__refs","layerSetting","layer","__update","update","options","opts","_","render","beforeRender","rendered","params","beforeUpdate","updated","event","clientRect","left","top","right","bottom","width","height","opacity","layoutBy","style","styleKey","substr","baseAttrs","defaultAttrs","theme","layerName","zIndex","scene","defaultStyles","styles","rect","canvas","getBoundingClientRect","colors","chart","Node","random","visuals","Line","line","lineWidth","guideline","strokeColor","point","pointType","radiusX","radiusY","borderWidth","statck","Pie","sector","Area","area","Radar","Bar","bar","textureRepeat","groupBar","text","PolarBar","Funnel","funnel","Scatter","showGuideLine","Wave","wave","fillColor","fontSize","shape","Gauge","RadialBar","plugins","Tooltip","Legend","iconSize","Axis","axis","scale","bgcolor","label","grid","lineDash","orient","BaseVisual","getStyle","defaultStyle","oStyle","arrStyle","oArgs","cusStyle","includes","curStyle","scaleLinear","domain","range","disDomain","disRange","per","dataSet","section","gap","divide","toFixed","sectionAxis","stack","sum","sumDown","leng","layoutScaleValue","dataHandle","upZero","downZero","element","abs","sortUpZero","sortDownZero","maxUpZero","ceil","pop","maxDownZero","maxValue","mixNum","maxNum","splitNumber","getMax","axisArray","round","reverse","unit","unshift","layout","lines","axisGap","scales","maxVal","minVal","scaleFY","prevRow","points","areaPoints","smoothRange","dx","offsetX","curPos","axisPoints","curLine","nextPoints","startPoints","endPoints","transAreaPoint","allPoint","sprite","Sprite","path","Path","ellipse","Ellipse","Rect","triangle","Triangle","parallel","Parallel","regular","Regular","star","Star","Point","$sprite","renderSymbol","pos","renderAttr","append","Group","renderLines","hoverIndex","getRenderData","arrLayout","maxLen","areaFrom","areaTo","renderData","guidePoints","resetState","arrX","getOffsetPosition","y","curInd","posX","lineState","smooth","renderStyles","class","onMouseleave","guidelineleave","onMouseenter","guidelinemove","onMousemove","size","rows","onClick","lineClick","styleHover","rings","arrVal","reduce","totalVal","startAngle","endAngle","activeOffset","minAngle","maxAngle","totalAngle","perAngle","offsetPos","curObj","prevRing","curAngle","bisectorAngle","bisectorRadian","transRadius","angle","computeLinePos","center","radius","disRadius","centerAngle","startPoint","endPoint","labelPos","labelAnchor","renderRings","activeIndex","pervAngle","computeLine","oldRings","radiusPx","fromPoints","fromAnchor","fromPos","toPoints","toAnchor","toPos","anchor","innerRadius","curData","innerRadiusPx","mouseleave","ring","outerRadius","_index","mousemove","getPointCoordinate","radian","labelOffset","bgPoints","gridAttrs","axisAttrs","sectionAttrs","some","indicatorMax","dimension","perRadian","startRadian","currentRadian","maxScale","index","categoryPoints","dataOrigin","close","gridPoints","attributes","sectionData","scaleEl","oldPos","gridType","zeroPoints","otherAttrs","hoverStyle","stateStyle","getPolylineAnimation","processData","updateData","toScale","fromPts","toPts","GridShape","Arc","Polyline","getScaleAnimation","color","calcAnchor","getPt","perX","perY","perNum","labels","common","translate","display","elIndex","preEl","renderAxisLabel","renderAxisScale","secAnimation","prePoints","isSamePoints","pre","cur","otherAttr","gAnimation","renderGrid","renderAxis","renderSection","renderPoints","barSize","transpose","groupGap","stackGap","barWidth","barData","groupData","textData","bgPillarAttr","valueAxis","tableSize","axisValueMax","axisValueMin","POSITIVE_RATIO","GROUP_BAR_NUM","flag","computerLegend","GROUP_NUM","BAR_HEIGHT_FACTOR","heightSumUp","heightSumDown","gpData","rects","lenj","stackGapTemp","barHeight","posLabelY","paddingAttrs","rawValue","rotate","paddingLeft","groups","isNaN","floor","bgpillarState","log","pillars","texts","fromTos","nextPillar","prev","labelAttrs","disable","nextText","bgpillar","dataLength","myClick","pillar","barAttrs","textStyle","groupPadAngle","barInnerRadius","padAngle","BAR_MAX_HEIGHT","groupAngle","barAngle","legendArr","barStyle","groupInd","align","pyramid","polygons","widthFactory","POLYGON_NUM","polygon","colse","textAnchor","counter","nextValue","plg","oldPolygons","plgStyle","getDataRange","getBigRange","updateSectionVal","newSection","layoutWay","textField","valueField","allData","xDomain","xSection","xIsTextData","xScales","field","ySection","yScales","yDomain","newLayoutWay","xLinear","yLinear","dArry","scatterData","guideLineData","labelField","areaField","areaRange","hex","join","hexToRgba","di","temp","oldRow","cInd","getRealRadius","oldCell","fromRadius","toRadius","rowInd","colInd","ci","labelAttr","hStyle","renderScatter","renderGuideLine","ellipse2path","cx","cy","rx","ry","offsetR","tickId","oldAttr","amplitude","wavelength","percent","currentR","clipWave","$refs","clipPath","pathHeight","originalContentRect","perR","currentX","startY","lastY","waveStyle","shapeStyle","tickLine","tickLength","isInner","cX0","cY0","anchorX","anchorY","gaugeAnimations","lineCap","_useBuiltInColors","strokeBgcolor","title","tickStep","tickFormatter","arc","transform","maxTickTextFontSize","fromRotate","pointerAnimation","pointerWidth","pointerTopOffset","pointerLen","pWidth","transformOrigin","labelCenter","ticks","isStyleExist","tickText","realTitle","gradientColor","gradientOpt","vector","Gradient","tick","realSize","gPos","gSize","renderPointer","textAlign","forceUpdate","v","count","tickRadius","ret","animators","total","cloneData","maxOuterRadius","perRadius","normalStyle","anticlockwise","maxRadius","maxWidth","maxHeight","BasePlugin","grids","padding","getItemAttrs","scaleAttr","gridAttr","curArr","nameAttr","dy","scaleF","labelPosValue","yv","xv","oldAxis","axisStyle","arrOrient","plugin","nameStyle","nameAni","targetVisual","page","totalPage","perPageWidthOrHeight","paginationSize","groupSize","twiceRender","animationSwitch","posFrom","currentPos","legendStateArray","textSize","outGap","innerGap","reset","textAttrs","legendsSize","maxTextWidth","iconAttrs","textRect","isVertical","pagePos","onAfterrender","afterrender","textHoverStyle","itemClick","itemLeave","itemMove","pagePrev","marginLeft","changePage","pageText","lineBreak","pageNext","canvasWidth","canvasHeight","isValidLayout","hLocation","numberOrPercent","parseFloat","vLocation","totalPageX","totalPageY","pagePosY","maxLeft","innerWidth","maxTop","innerHeight","tarTop","tarLeft","innerHTML","innerHtml","$div","document","cssText","html","body","tipMousemove","className","Chart","container","querySelector","pixelUnit","contextType","displayRatio","windowWidth","Scene","extra","devicePixelRatio","checkUpdate","checkRender","created","addDep","Target","snapshot","toDataURL","qcharts","version"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"spritejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qcharts\"] = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse\n\t\troot[\"qcharts\"] = factory(root[\"spritejs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"utils\"] = factory();\n\telse\n\t\troot[\"utils\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      FirstOBJ[key] = FirstOBJ[key] && FirstOBJ[key].toString() === '[object Object]' ? deepObjectMerge(FirstOBJ[key], SecondOBJ[key]) : (FirstOBJ[key] = SecondOBJ[key])\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null\n      ? null\n      : Object.prototype.toString\n          .call(value)\n          .slice(8, -1)\n          .toLowerCase()\n  }\n  return str\n}\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function(...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, getDistancePx }\n","export const isWeiXin = () => {\r\n  return typeof wx !== 'undefined' && typeof wx.getSystemInfoSync === 'function'\r\n}\r\n\r\nexport const getGlobal = () => {\r\n  if (isWeiXin()) return getApp()\r\n  if (typeof self !== 'undefined') return self\r\n  if (typeof window !== 'undefined') return window\r\n  if (typeof global !== 'undefined') return global\r\n  throw new Error(`unable to locate global object`)\r\n}\r\n\r\nexport const platform = getGlobal()\r\n","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  const el = new TagName(attrs)\n  //渲染的spritejs对象放到 visual或者plugin上\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children.map(createElement.bind(this)).filter(Boolean).forEach(el.appendChild.bind(el))\n  }\n  return el\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict'\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nconst NODE_ENV = process.env.NODE_ENV\n\nfunction invariant(condition, message) {\n  if (NODE_ENV !== 'production') {\n    if (message === undefined) {\n      throw new Error('invariant requires an error message argument')\n    }\n  }\n\n  if (!condition) {\n    var error\n    if (message === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.')\n    } else {\n      error = new Error(message)\n      error.name = 'Qcharts Error'\n    }\n\n    error.framesToPop = 1 // we don't care about invariant's own frame\n    throw error\n  }\n}\nexport default invariant\n","import interpolate from './interpolate'\nimport invariant from './invariant'\n\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame, cancelAnimationFrame\nif (typeof window !== 'undefined' && typeof window.requestAnimationFrame === 'function') {\n  requestAnimationFrame = window.requestAnimationFrame\n  cancelAnimationFrame = window.cancelAnimationFrame\n} else {\n  const startTime = now()\n  requestAnimationFrame = (fn) => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = (id) => {\n    return clearTimeout(id)\n  }\n}\nconst delay = (time) =>\n  new Promise((resolve) =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { Tween } from '../tween'\nimport { deepObjectMerge, emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n\n  const { from, middle, use, to, delay, duration, useTween, easing, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n  if (from) {\n    //如果存在from，一开始就设置，防止出现抖动\n    el.attr(from)\n  }\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween(easing)\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAttrs(graph, el, attrs = {}) {\n  let states = attrs['states']\n  let state = attrs['state']\n  if (states && state) {\n    let oldState = el.attr('state')\n    if (state !== oldState) {\n      //不相当就处理，相当上一次已经处理完毕\n      let oldstates = el.attr('states') || emptyObject()\n      let oldAttrs = deepObjectMerge(emptyObject(), attrs, oldstates[oldState])\n      let newAttrs = deepObjectMerge(emptyObject(), attrs, states[state])\n      el.attr(oldAttrs)\n      let { duration } = deepObjectMerge(emptyObject(), graph.renderAttrs.animation, states.animation)\n      el.transition(duration / 1000).attr(newAttrs)\n    }\n  } else {\n    el.attr(attrs)\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(graph, el, attrs = {}) {\n  //缓存方法，修改方法指针this\n  Object.keys(attrs).forEach(key => {\n    if (!/^on/.test(key)) {\n      return\n    }\n    const type = key.split('on')[1].toLowerCase()\n    const cb = attrs[key] || (() => {})\n    let newF = evt => cb.call(graph, evt, el)\n    el.removeAllListeners(type)\n    el.addEventListener(type, newF)\n    delete attrs[key]\n  })\n}\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addAttrs, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs(graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addEvent(graph, el, patche)\n  addAttrs(graph, el, patche)\n  //el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} $el 当前的真实spritejs 节点\n * @param {*} patches 虚拟节点\n * @param {*} isRoot 是否是初节点，用于绑定$el与visual或者plugin\n */\nexport default function patch($el, patche, isRoot = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let graph = this //graph为当前的qcharts对象 visula或者plugin\n  if (!$el && !patche) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      if (newEl) {\n        if (isRoot) {\n          //创建的时候，visual与plugin绑定对应的sprite元素\n          graph.$el = newEl\n        }\n        $el.appendChild(newEl)\n      }\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      $el.parent.replaceChild(newEl, $el)\n      break\n    }\n    case REMOVE: {\n      $el.remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      patchAttrs(graph, $el, attrs)\n      if ($el.children && children.length) {\n        $el.children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        let len = children.length > $el.children.length ? children.length : $el.children.length\n        for (let j = 0; j < len; j++) {\n          let curNode = $el.children.filter(child => child._ind === j)[0]\n          let curVnode = children.filter(child => child._ind === j)[0]\n          if (curVnode && curVnode.type === 'CREATE') {\n            //如果是create需要传父级$el\n            patch.bind(graph)($el, curVnode)\n          } else {\n            patch.bind(graph)(curNode, curVnode)\n          }\n        }\n      }\n      break\n    }\n  }\n}\n","export default {\n  default: 'default', //默认\n  hide: 'hide', //数据隐藏\n  hover: 'hover', //次激活模式，类似css中的hover\n  active: 'active', //激活模式，如选中等场景\n  disabled: 'disabled', //禁用模式\n  mixed: 'mixed' //混合模式,比如一个row或者col里面有多种状态\n}\n","function mixinEvent(target) {\n  if (target.__store) {\n    target.__store.events = []\n    let events = target.__store.events\n    target.on = function(type, cb) {\n      events.push({ type, cb })\n      return target\n    }\n    target.off = function(type, cb) {\n      for (let i = 0; i < events.length; i++) {\n        if (cb === undefined) {\n          events = []\n        } else {\n          let curEvent = events[i]\n          if (curEvent.type === type && curEvent.cb === cb) {\n            events.splice(i, 1)\n            i--\n          }\n        }\n      }\n      return target\n    }\n    target.once = function(type, cb) {\n      const listener = function(...args) {\n        fn.apply(target, args)\n        self.off(type, cb)\n      }\n      return target.on(type, listener)\n    }\n    target.dispatchEvent = function(type, option) {\n      events.forEach(item => {\n        if (item.type === type) {\n          item.cb.call(target, { type, option })\n        }\n      })\n      return target\n    }\n  }\n}\nexport { mixinEvent }\n","import state from \"./state\";\nimport { mixinEvent } from \"./event\";\nclass Cell extends Object {\n  constructor(data, option, dataset) {\n    super();\n    this.__store = Object.create(null);\n    this.__store.state = state[\"default\"];\n    this.__store.row = undefined;\n    this.__store.col = undefined;\n    this.__store.option = option;\n    this.__store.data = data;\n    this.__store.datasets = [dataset];\n    this._layoutScaleFunc = dataset.layoutScaleFunc;\n    mixinEvent(this);\n  }\n  get datasets() {\n    return this.__store.datasets;\n  }\n  get data() {\n    return this, this.__store.data;\n  }\n  get value() {\n    return this.__store.data[this.__store.option[\"value\"]];\n  }\n  get layoutScaleValue() {\n    return typeof this._layoutScaleFunc === \"function\"\n      ? this._layoutScaleFunc(this.__store.data[this.__store.option[\"value\"]])\n      : this.__store.data[this.__store.option[\"value\"]];\n  }\n  get text() {\n    return this.__store.data[this.__store.option[\"text\"]];\n  }\n  set row(num) {\n    if (this.__store.row === undefined) {\n      this.__store.row = num;\n    }\n  }\n  get row() {\n    return this.__store.row;\n  }\n  set col(num) {\n    if (this.__store.col === undefined) {\n      this.__store.col = num;\n    }\n  }\n  get col() {\n    return this.__store.col;\n  }\n  get option() {\n    return this.__store.option;\n  }\n  get state() {\n    return this.__store.state;\n  }\n  set state(name) {\n    if (state[name] && this.__store.state !== state[name]) {\n      this.__store.state = state[name];\n      this.dispatchEvent(\"change\", {\n        name: \"cell\",\n        value: state[name],\n        data: this,\n      });\n      this.datasets.forEach((dataset) => {\n        dataset.dispatchEvent(\"change\", {\n          name: \"cell\",\n          value: state[name],\n          data: this,\n        });\n      });\n    }\n  }\n}\nexport default Cell;\n","import { mixinEvent } from './event'\nimport state from './state'\nclass List extends Array {\n  constructor(name, option) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.__name = name\n    this.__store.__option = option\n    this.__store.dataset = null\n    mixinEvent(this)\n  }\n  get data() {\n    let arr = []\n    this.forEach(cell => {\n      arr.push(cell.data)\n    })\n    return arr\n  }\n  set dataset(arr) {\n    this.__store.dataset = arr\n  }\n  get dataset() {\n    return this.__store.dataset\n  }\n  get name() {\n    return this.__store.__name\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get state() {\n    //遍历子项，查看状态是否统一\n    let sta = this[0].state\n    for (let i = 1; i < this.length; i++) {\n      if (this[i].state !== sta) {\n        sta = 'mixed'\n        break\n      }\n    }\n    return sta\n  }\n  set state(name) {\n    if (state[name] && this.state !== state[name]) {\n      //给所有子项设置state\n      this.forEach(cell => {\n        //如果disabled的状态，必须先设置位default,disabled的state不能直接修改位其它状态\n        if (cell.state === 'disabled' && name !== 'default') {\n          return\n        }\n        cell.state = state[name]\n      })\n      let dispatchOption = null\n      if (this instanceof Row) {\n        dispatchOption = { name: 'row', value: state[name], data: this }\n      } else if (this instanceof Col) {\n        dispatchOption = { name: 'col', value: state[name], data: this }\n      }\n      this.dispatchEvent('change', dispatchOption)\n      this.dataset && this.dataset.dispatchEvent('change', dispatchOption)\n    }\n  }\n}\nclass Row extends List {}\nclass Col extends List {}\nexport { Row, Col }\n","import Cell from './Cell'\nimport { Row, Col } from './Row'\nimport { mixinEvent } from './event'\nclass Dataset extends Array {\n  constructor(data, option) {\n    super()\n    this.layoutScaleFunc = this.handleLayoutScale(option.layoutScale)\n    data.forEach((item, i) => {\n      let cell = item\n      if (!(item instanceof Cell)) {\n        cell = new Cell(item, option, this)\n      } else {\n        cell.datasets.push(this)\n      }\n      this[i] = cell\n    })\n    this.__store = Object.create(null)\n    let store = this.__store\n    store.__option = option\n    store.__deps = []\n    store.__rows = []\n    store.__rows = getArrData(this, option)\n    mixinEvent(this)\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get cols() {\n    let cols = []\n    let colLen = 0\n    this.__store.__rows.forEach(row => {\n      if (row.length > colLen) {\n        colLen = row.length\n      }\n    })\n    for (let i = 0; i < colLen; i++) {\n      let arr = new Col()\n      arr.dataset = this\n      this.__store.__rows.forEach(item => {\n        arr.push(item[i])\n      })\n      cols.push(arr)\n    }\n    return cols\n  }\n  get rows() {\n    return this.__store.__rows\n  }\n  resetState(state = 'default') {\n    let res = []\n    this.forEach(cell => {\n      //reset的时候不处理disabled\n      if (cell.state !== state && cell.state !== 'disabled') {\n        res.push(cell)\n        cell.state = state\n      }\n    })\n    this.dispatchEvent('change', { name: 'reset', data: res })\n  }\n  selectRows(name) {\n    let rowKey = this.option.row\n    let arr = []\n    this.forEach(item => {\n      if (name.indexOf(item.data[rowKey]) !== -1) {\n        arr.push(item)\n      }\n    })\n    return new Dataset(arr, this.option)\n  }\n  addDep(dep) {\n    this.__store.__deps.push(dep)\n  }\n  handleLayoutScale(layoutScale) {\n    if (typeof layoutScale === 'string') {\n      let method = layoutScale.replace(/\\d+$/, '')\n      let NUM = 2\n      if (method !== 'sqrt' && method !== 'pow' && method !== 'log') {\n        console.warn('layoutScale type error')\n        return function (value) {\n          return value\n        }\n      }\n\n      let number = layoutScale.replace(/^[a-z]+/, '')\n      if (number) {\n        let isNumber = /^[-+]?\\d*$/.test(number)\n        if (!isNumber) {\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n        } else {\n          NUM = Number(number)\n        }\n      }\n\n      switch (method) {\n        case 'sqrt':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, NUM)\n          }\n          return function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n        case 'pow':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n          return function (value) {\n            return Math.pow(value, NUM)\n          }\n        case 'log':\n          if (NUM !== 2 && NUM !== 10) {\n            console.warn('layoutScale type error')\n            return function (value) {\n              return value\n            }\n          }\n          this.datasetReverse = function (value) {\n            return Math.pow(NUM, value)\n          }\n          return function (value) {\n            return Math['log' + NUM](value)\n          }\n        default:\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n      }\n    }\n    return layoutScale\n  }\n}\nfunction getArrData(data = [], option) {\n  let { row: key, sort } = option\n  let resArr = []\n  if (key === '*') {\n    let list = new Row('*', option)\n    data.forEach(item => {\n      list.push(item)\n    })\n    if (sort) {\n      list.sort((a, b) => sort(a.data, b.data))\n    }\n    resArr.push(list)\n  } else {\n    let keys = Object.create(null)\n    data.forEach(item => {\n      let data = item.__store.data\n      if (!keys[data[key]]) {\n        keys[data[key]] = new Row(data[key], option)\n      }\n      keys[data[key]].push(item)\n    })\n    for (let key in keys) {\n      let curRow = keys[key]\n      if (sort) {\n        curRow.sort((a, b) => sort(a.data, b.data))\n      }\n      resArr.push(curRow)\n    }\n  }\n  resArr.forEach((list, m) => {\n    list.dataset = data\n    list.forEach((cell, n) => {\n      cell.row = m\n      cell.col = n\n    })\n  })\n  return resArr\n}\n\nexport default Dataset\n","import Dataset from './Dataset'\nexport default Dataset\n","const lifeCycle = {\r\n  beforeCreate: 'beforeCreate', //创建前\r\n  created: 'created', // 图表创建\r\n  beforeRender: 'beforeRender', //图表渲染前\r\n  rendered: 'rendered', // 图表渲染结束\r\n  beforeUpdate: 'beforeUpdate', // 图表更新前\r\n  updated: 'updated', // 图表更新\r\n  beforeDestroy: 'beforeDestroy', // 图表卸载前\r\n  destroyed: 'destroyed' // 图表卸载\r\n}\r\nfunction mixin(component) {\r\n  component.on = component.addEventListener\r\n  component.off = component.removeEventListener\r\n  component.once = function(type, fn) {\r\n    const listener = (...args) => {\r\n      fn.apply(this, args)\r\n      this.off(type, listener)\r\n    }\r\n    return this.on(type, listener)\r\n  }\r\n}\r\n\r\nexport { lifeCycle, mixin }\r\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'object' && jsType(SecondOBJ[key]) === 'object') {\n        //对象处理\n        deepObjectMerge(FirstOBJ[key], SecondOBJ[key])\n      } else if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'array' && jsType(SecondOBJ[key]) === 'array') {\n        //数组处理\n        FirstOBJ[key].splice(0, FirstOBJ[key].length, ...SecondOBJ[key])\n      } else {\n        FirstOBJ[key] = SecondOBJ[key]\n      }\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase()\n  }\n  return str\n}\n\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function (...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction debounce(fn, delay = 16, immediately = false) {\n  let timer = null\n  return function () {\n    let args = arguments\n    let context = this\n    if (timer) {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    } else {\n      if (immediately) {\n        fn.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    }\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, debounce, getDistancePx }\n","import { deepObjectMerge } from '@qcharts/utils'\r\nconst colors = ['#47A1FF', '#59CB74', '#FFB952', '#FC6980', '#6367EC', '#DA65CC', '#FBD54A', '#ADDF84', '#6CD3FF', '#659AEC', '#9F8CF1', '#ED8CCE', '#A2E5FF', '#4DCCCB', '#F79452', '#84E0BE', '#5982F6', '#E37474', '#3FDDC7', '#9861E5']\r\nfor (let i = 0; i < 1004; i++) {\r\n  //生成1024种颜色\r\n  colors.push('#' + ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substr(-6))\r\n}\r\nconst theme = {\r\n  colors\r\n}\r\ntheme.visuals = {\r\n  Line: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      line: { lineWidth: 1 },\r\n      guideline: { strokeColor: '#ddd' },\r\n      point: {\r\n        pointType: 'ellipse',\r\n        radiusX: 4,\r\n        radiusY: 4,\r\n        strokeColor: '#fff',\r\n        borderWidth: 1\r\n      }\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Pie: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      sector: { lineWidth: 1, strokeColor: '#fff' }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Area: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      area: { opacity: 0.5 },\r\n      guideline: { strokeColor: '#ddd' },\r\n      point: {\r\n        pointType: 'ellipse',\r\n        radiusX: 4,\r\n        radiusY: 4,\r\n        strokeColor: '#fff',\r\n        borderWidth: 1\r\n      }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Radar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      area: { opacity: 0.5 }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Bar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      bar: { textureRepeat: true },\r\n      groupBar: { opacity: 0.1 },\r\n      text: false\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  PolarBar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      bar: {}\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Funnel: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      funnel: {}\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Scatter: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      point: {}\r\n    },\r\n    attrs: {\r\n      showGuideLine: false\r\n    }\r\n  },\r\n  Wave: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      wave: { fillColor: '#37c', strokeColor: '#37c', lineWidth: 0 },\r\n      text: { fillColor: '#333', fontSize: 24 },\r\n      shape: { fillColor: '#e6f3ff', lineWidth: 3, strokeColor: '#156cbd' }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Gauge: {\r\n    colors: theme.colors,\r\n    attrs: {}\r\n  },\r\n  RadialBar: {\r\n    colors: theme.colors,\r\n    attrs: {}\r\n  }\r\n}\r\ntheme.plugins = {\r\n  Tooltip: {\r\n    colors: theme.colors,\r\n    styles: {},\r\n    attrs: {}\r\n  },\r\n  Legend: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      point: {\r\n        pointType: 'sprite',\r\n        iconSize: [12, 12]\r\n      },\r\n      text: {\r\n        fontSize: '12px',\r\n        fillColor: '#666'\r\n      }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Axis: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      axis: {\r\n        strokeColor: '#ccc',\r\n        lineWidth: 1\r\n      },\r\n      scale: {\r\n        bgcolor: '#ccc'\r\n      },\r\n      label: {\r\n        fontSize: 12,\r\n        fillColor: '#666'\r\n      },\r\n      grid: {\r\n        strokeColor: '#ddd',\r\n        lineDash: [3, 3]\r\n      },\r\n      name: {\r\n        fontSize: 12,\r\n        fillColor: '#666'\r\n      }\r\n    },\r\n    attrs: {\r\n      orient: 'bottom'\r\n    }\r\n  }\r\n}\r\ntheme.set = function(obj) {\r\n  //合并样式\r\n  deepObjectMerge(theme, obj)\r\n}\r\nexport default theme\r\n","import { Node } from 'spritejs'\r\nimport { lifeCycle, mixin } from './mixin'\r\nimport { emptyObject, deepObjectMerge, jsType, getDistancePx, throttle } from '@qcharts/utils'\r\nimport { patch, diff } from '@qcharts/vnode'\r\nimport Dataset from '@qcharts/dataset'\r\nimport { isWeiXin } from './platform'\r\nclass Base extends Node {\r\n  constructor(attrs) {\r\n    super()\r\n    this.dispatchEvent(lifeCycle.beforeCreate)\r\n    mixin(this)\r\n    this['__store'] = emptyObject()\r\n    let store = this['__store']\r\n    store.__attrs = emptyObject()\r\n    store.__vnode__ = null\r\n    store.__isCreated__ = false\r\n    store.__refs = emptyObject()\r\n    store.dataset = null\r\n    // 微信中不支持多图层\r\n    const layerSetting = isWeiXin() ? { layer: 'default' } : {}\r\n    this.attr({ ...attrs, ...layerSetting })\r\n    this.__update = throttle((args) => {\r\n      if (store.__isCreated__) {\r\n        this.update(args)\r\n      }\r\n    })\r\n  }\r\n  get store() {\r\n    return this['__store']\r\n  }\r\n  get layer() {\r\n    let { layer: layerName, zIndex = 0 } = deepObjectMerge(\r\n      {},\r\n      this.baseAttrs(),\r\n      this.defaultAttrs(),\r\n      this.theme.attrs,\r\n      this.attr()\r\n    )\r\n    return this.scene.layer(layerName).attr({ zIndex })\r\n  }\r\n  get $refs() {\r\n    return this['__store'].__refs\r\n  }\r\n  get renderStyles() {\r\n    let styles = deepObjectMerge({}, this.defaultStyles(), this.theme.styles)\r\n    return styles\r\n  }\r\n  get renderAttrs() {\r\n    //attrs转换\r\n    let attrs = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\r\n    let { animation, clientRect } = attrs\r\n    //动画数据转换\r\n    if (jsType(animation) === 'boolean') {\r\n      animation = { use: animation ? true : false }\r\n    }\r\n    //处理layer支持多layer\r\n    const rect = isWeiXin() ? this.layer.canvas : this.layer.canvas.getBoundingClientRect()\r\n    const { width, height } = rect\r\n\r\n    //计算布局数据\r\n    for (let key in clientRect) {\r\n      if (['left', 'right', 'width'].indexOf(key) !== -1) {\r\n        clientRect[key] = getDistancePx(clientRect[key], width)\r\n      } else if (['top', 'bottom', 'height'].indexOf(key) !== -1) {\r\n        clientRect[key] = getDistancePx(clientRect[key], height)\r\n      }\r\n    }\r\n    if (clientRect.width === undefined) {\r\n      clientRect.width = width - clientRect.left - clientRect.right\r\n    } else {\r\n      clientRect.right = width - clientRect.left - clientRect.width\r\n    }\r\n    if (clientRect.height === undefined) {\r\n      clientRect.height = height - clientRect.top - clientRect.bottom\r\n    } else {\r\n      clientRect.bottom = height - clientRect.top - clientRect.height\r\n    }\r\n    attrs.colors = this.theme.colors\r\n    return attrs\r\n  }\r\n  get dataset() {\r\n    return this['__store'].dataset || (this.chart && this.chart.dataset)\r\n  }\r\n  source(data, options) {\r\n    let store = this['__store']\r\n    if (!(data instanceof Dataset)) {\r\n      let opts = options\r\n      if (store.dataset) {\r\n        opts = deepObjectMerge({}, store.dataset.option, options)\r\n      }\r\n      store.dataset = new Dataset(data, opts)\r\n    } else {\r\n      store.dataset = data\r\n    }\r\n    if (store.dataset && store.__isCreated__) {\r\n      store.dataset.on('change', (_) => {\r\n        this.__update({ type: 'state' })\r\n      })\r\n      //如果以前存在，则更新\r\n      this.__update({ type: 'source' })\r\n    }\r\n    return this\r\n  }\r\n  created() {\r\n    //初始化创建的时候执行\r\n    let store = this['__store']\r\n    this.dispatchEvent(lifeCycle.created)\r\n    store.__vnode__ = this.render(this.beforeRender({ type: 'create' }))\r\n    const patches = diff(null, store.__vnode__)\r\n    this.dispatchEvent(lifeCycle.beforeRender)\r\n    patch.bind(this)(this.$el || this.layer, patches, 1)\r\n    this.dispatchEvent(lifeCycle.rendered)\r\n    this.rendered()\r\n    store.__isCreated__ = true\r\n    this.dataset.on('change', (_) => {\r\n      this.__update({ type: 'state' })\r\n    })\r\n  }\r\n  beforeRender() {\r\n    //图表初始化准备数据\r\n    return this.renderAttrs\r\n  }\r\n  render() {\r\n    console.warn('this function must be rewrited')\r\n  }\r\n  beforeUpdate() {\r\n    return this.renderAttrs\r\n  }\r\n  update(params) {\r\n    //图表更新准备数据\r\n    let store = this['__store']\r\n    this.dispatchEvent(lifeCycle.beforeUpdate)\r\n    let vnode = this.render(this.beforeUpdate(params))\r\n    const patches = diff(store.__vnode__, vnode)\r\n    patch.bind(this)(this.$el || this.layer, patches)\r\n    store.__vnode__ = vnode\r\n    this.dispatchEvent(lifeCycle.updated)\r\n    this.updated()\r\n  }\r\n  updated() {}\r\n  dispatchEvent(event, obj = emptyObject()) {\r\n    super.dispatchEvent(event, obj)\r\n  }\r\n  defaultAttrs() {\r\n    return emptyObject()\r\n  }\r\n  defaultStyles() {\r\n    return emptyObject()\r\n  }\r\n  baseAttrs() {\r\n    let attrs = {\r\n      //动画类型\r\n      animation: {\r\n        use: true,\r\n        duration: 700,\r\n        useTween: true,\r\n        easing: 'bounceOut'\r\n      },\r\n      //位置布局信息\r\n      clientRect: {\r\n        left: '10%',\r\n        top: '10%',\r\n        right: '10%',\r\n        bottom: '10%',\r\n        width: undefined,\r\n        height: undefined\r\n      },\r\n      //透明度\r\n      opacity: 1,\r\n      layer: 'default',\r\n      layoutBy: 'rows' //按照哪个数据布局 ['rows','cols']\r\n    }\r\n    return attrs\r\n  }\r\n  attr(name, val) {\r\n    //属性设置\r\n    let store = this['__store']\r\n    if (jsType(name) === 'object') {\r\n      for (let key in name) {\r\n        this.attr(key, name[key])\r\n      }\r\n    } else if (name === undefined) {\r\n      let res = emptyObject()\r\n      for (let key in store.__attrs) {\r\n        //过滤style属性\r\n        if (key.indexOf('style@') !== 0) {\r\n          res[key] = store.__attrs[key]\r\n        }\r\n      }\r\n      return res\r\n    } else if (val === undefined) {\r\n      //获取属性\r\n      return store.__attrs[name]\r\n    } else if (name !== undefined) {\r\n      store.__attrs[name] = val\r\n      store.__isCreated__ && this.__update({ type: 'attr' })\r\n    }\r\n  }\r\n  addRef(ref, el) {\r\n    this['__store'].__refs[ref] = el\r\n    //在vnode中调用，存储到this.__refs中\r\n  }\r\n  style(type, style) {\r\n    //样式设置，样式用attr逻辑存储，添加@符号\r\n    if (jsType(type) === 'object') {\r\n      //多样式赋值\r\n      for (let key in type) {\r\n        this.style(key, type[key])\r\n      }\r\n    } else if (type !== undefined && style === undefined) {\r\n      //获取样式，统一返回成函数\r\n      const style = this.attr('style@' + type)\r\n      return (...args) => {\r\n        if (jsType(style) === 'function') {\r\n          return style.apply(this, args)\r\n        } else {\r\n          return style\r\n        }\r\n      }\r\n    } else if (type !== undefined && style !== undefined) {\r\n      //赋值\r\n      this.attr('style@' + type, style)\r\n      return this\r\n    } else if (type === undefined && style === undefined) {\r\n      //获取全部样式\r\n      let res = emptyObject()\r\n      let attrs = this['__store'].__attrs\r\n      for (let key in attrs) {\r\n        if (key.indexOf('style@') === 0) {\r\n          let styleKey = key.substr(6)\r\n          res[styleKey] = this.style(styleKey)\r\n        }\r\n      }\r\n      return res\r\n    }\r\n  }\r\n}\r\nexport default Base\r\n","import Base from './Base'\r\nimport theme from '../theme/default'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nexport default class BaseVisual extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.theme = theme.visuals[this.constructor.name]\r\n    //如果当前对象设置了theme，不继承theme\r\n    this.theme.set = obj => {\r\n      if (this.theme === theme.visuals[this.constructor.name]) {\r\n        this.theme = filterClone(this.theme)\r\n      }\r\n      this.theme = deepObjectMerge(this.theme, obj)\r\n    }\r\n  }\r\n}\r\n","// merge style\r\nimport { deepObjectMerge, jsType } from '@qcharts/utils'\r\n/**\r\n * chart:当前的图表\r\n * key:当前的样式名称\r\n * defaultstyle:为数组或者对象，表示默认的样式\r\n * args:调用style方法的时候，style以后的参数\r\n */\r\nexport function getStyle(chart, key, defaultStyle, args) {\r\n  //合并样式\r\n  let oStyle = defaultStyle\r\n  let arrStyle = defaultStyle\r\n  let oArgs = args\r\n  if (jsType(defaultStyle) === 'array') {\r\n    oStyle = deepObjectMerge.apply(this, defaultStyle)\r\n  } else {\r\n    arrStyle = [defaultStyle]\r\n  }\r\n  if (jsType(args) !== 'array') {\r\n    oArgs = [args]\r\n  }\r\n  let cusStyle = chart.style(key)(oStyle, ...oArgs)\r\n  if (cusStyle === false) {\r\n    return false\r\n  } else if (arrStyle.includes(false) && cusStyle === undefined) {\r\n    return false\r\n  } else if (cusStyle !== undefined) {\r\n    //如果返回的cusStyle不是false或者undefined，需要把default样式进行重写叠加\r\n    let curStyle = defaultStyle\r\n    if (jsType(defaultStyle) !== 'array') {\r\n      curStyle = [defaultStyle]\r\n    }\r\n    //获取default样式\r\n    let oDefaultStyle = chart.defaultStyles()[key]\r\n    oStyle = deepObjectMerge({}, oDefaultStyle, curStyle.filter(Boolean), oStyle)\r\n  }\r\n  return deepObjectMerge({}, oStyle, cusStyle)\r\n}\r\n","function scaleLinear() {\r\n  let domain = [0, 1]\r\n  let range = [0, 1]\r\n  function scale(num) {\r\n    let disDomain = domain[1] - domain[0]\r\n    let disRange = range[1] - range[0]\r\n    let per = (num - domain[0]) / disDomain || 0\r\n    return range[0] + disRange * per\r\n  }\r\n  scale.domain = function(arr) {\r\n    domain = arr\r\n    return this\r\n  }\r\n  scale.range = function(arr) {\r\n    range = arr\r\n    return this\r\n  }\r\n  return scale\r\n}\r\n\r\n// const data = [80, 40, 30, 60, 70]\r\n// const s = scaleLinear().domain([0, 100]).range([0, 100])\r\n// console.log(data.map(s))\r\n\r\nexport { scaleLinear }\r\n","//import { Global } from '../core/Global'\r\nexport function axis(attr) {\r\n  // 计算坐标轴刻度\r\n  if (!Array.isArray(attr.dataSet) && !attr.hasOwnProperty(\"section\")) {\r\n    return [];\r\n  }\r\n  if (attr.section !== undefined) {\r\n    return sectionAxis(attr.section);\r\n  }\r\n  const data = dataHandle(attr);\r\n  let upZero = []; // 大于零的数\r\n  let downZero = []; // 小于零的数\r\n  for (const element of data) {\r\n    if (element < 0) {\r\n      downZero.push(Math.abs(element));\r\n    } else {\r\n      upZero.push(element);\r\n    }\r\n  }\r\n  let length = 5; // 刻度数量\r\n  let sortUpZero = upZero.sort((a, b) => {\r\n    return a - b;\r\n  });\r\n  let sortDownZero = downZero.sort((a, b) => {\r\n    return a - b;\r\n  });\r\n  let maxUpZero = sortUpZero.length && Math.ceil(sortUpZero.pop() / 0.95);\r\n  let maxDownZero = sortDownZero.length && Math.ceil(sortDownZero.pop() / 0.95);\r\n  let maxValue = maxUpZero - maxDownZero >= 0 ? maxUpZero : maxDownZero;\r\n  let mixNum = 4;\r\n  let maxNum = 7;\r\n  if (maxDownZero && maxUpZero) {\r\n    mixNum = 3;\r\n    maxNum = 5;\r\n  }\r\n  if (attr.splitNumber) {\r\n    mixNum = attr.splitNumber;\r\n    maxNum = mixNum + 1;\r\n  }\r\n  let getMax = false;\r\n  const len = maxValue.toString().length; // 最大值位数\r\n  let max =\r\n    len < 3\r\n      ? Math.ceil(maxValue / Math.pow(10, len - 1))\r\n      : Math.ceil(maxValue / Math.pow(10, len - 2));\r\n  do {\r\n    for (let i = mixNum; i < maxNum; i++) {\r\n      if (max % i === 0) {\r\n        length = i;\r\n        maxValue =\r\n          len < 3 ? max * Math.pow(10, len - 1) : max * Math.pow(10, len - 2);\r\n        getMax = true;\r\n        break;\r\n      }\r\n    }\r\n    max++;\r\n  } while (!getMax);\r\n\r\n  let axisArray = new Array(length + 1);\r\n  axisArray[0] = 0;\r\n  for (let i = 1; i < length + 1; i++) {\r\n    axisArray[i] =\r\n      maxUpZero >= maxDownZero\r\n        ? Math.round((maxValue / length) * i)\r\n        : -1 * Math.round((maxValue / length) * i);\r\n  }\r\n\r\n  // 处理0-1之间的数据\r\n  if (\r\n    (maxDownZero <= 1 && maxDownZero > 0) ||\r\n    (maxUpZero <= 1 && maxUpZero > 0) ||\r\n    (maxUpZero === 0 && maxDownZero === 0)\r\n  ) {\r\n    axisArray = new Array(6);\r\n    axisArray[0] = 0;\r\n    maxValue = 1;\r\n    for (let i = 1; i < 6; i++) {\r\n      axisArray[i] =\r\n        maxUpZero >= maxDownZero\r\n          ? (2 * maxValue * i) / 10\r\n          : (-2 * maxValue * i) / 10;\r\n    }\r\n  }\r\n\r\n  if (maxUpZero < maxDownZero) {\r\n    axisArray.reverse();\r\n  }\r\n  if (maxDownZero.length === 0 || maxUpZero.length === 0) {\r\n    return axisArray;\r\n  }\r\n  if (maxUpZero >= maxDownZero) {\r\n    const unit = axisArray[1] * 10;\r\n    for (\r\n      let i = 1,\r\n        len = Math.ceil(((axisArray.length - 1) * maxDownZero) / maxUpZero);\r\n      i < len + 1;\r\n      i++\r\n    ) {\r\n      axisArray.unshift((-1 * unit * i) / 10);\r\n    }\r\n  } else {\r\n    const unit = axisArray[axisArray.length - 2] * 10;\r\n    for (\r\n      let i = 1,\r\n        len = Math.ceil(((axisArray.length - 1) * maxUpZero) / maxDownZero);\r\n      i < len + 1;\r\n      i++\r\n    ) {\r\n      axisArray.push((-1 * unit * i) / 10);\r\n    }\r\n  }\r\n  // if (attr.needReverse) {\r\n  //   axisArray = axisArray.map((value) => {\r\n  //     return this.dataset.datasetReverse\r\n  //       ? Math.round(this.dataset.datasetReverse(value))\r\n  //       : value;\r\n  //   });\r\n  // }\r\n  return axisArray;\r\n}\r\n\r\nfunction dataHandle(attr) {\r\n  const stack = attr.stack || false;\r\n  const data = attr.dataSet || [];\r\n  const arr = [];\r\n\r\n  if (stack && data.length !== 0 && data[0].length) {\r\n    for (let i = 0, len = data[0].length; i < len; i++) {\r\n      let sum = 0;\r\n      let sumDown = 0;\r\n      for (let j = 0, leng = data.length; j < leng; j++) {\r\n        let val = data[j][i].layoutScaleValue;\r\n        if (data[j][i].disabled === true || val === undefined) {\r\n          continue;\r\n        }\r\n        if (val < 0) {\r\n          sumDown = sumDown + val;\r\n        } else {\r\n          sum = sum + val;\r\n        }\r\n      }\r\n      sum && arr.push(sum);\r\n      sumDown && arr.push(sumDown);\r\n    }\r\n  } else {\r\n    for (let m = 0; m < data.length; m++) {\r\n      for (let n = 0; n < data[m].length; n++) {\r\n        let val = data[m][n].layoutScaleValue;\r\n        if (data[m][n].disabled === true || val === undefined) {\r\n          continue;\r\n        }\r\n        arr.push(val);\r\n      }\r\n    }\r\n  }\r\n  return arr;\r\n}\r\n\r\nfunction sectionAxis(section) {\r\n  if (section && Array.isArray(section)) {\r\n    const gap = section[1] - section[0];\r\n    const arr = [];\r\n    let divide = 4;\r\n    arr.push(section[0]);\r\n    for (let i = 4; i < 8; i++) {\r\n      if (gap % i === 0) {\r\n        divide = i;\r\n        break;\r\n      }\r\n    }\r\n    for (let j = 1; j <= divide; j++) {\r\n      arr.push((section[0] + (gap * j) / divide).toFixed(2));\r\n    }\r\n    return arr;\r\n  }\r\n  return [];\r\n}\r\n","import { scaleLinear } from \"../../utils/scaleLinear\";\r\nimport { axis } from \"../../utils/axis\";\r\nexport default function layout(arr, attrs) {\r\n  let type = this.type;\r\n  let lines = [];\r\n  const { stack, splitNumber, clientRect, axisGap } = attrs;\r\n  const { width, height } = clientRect;\r\n  let scales = axis.call(this, { dataSet: arr, stack, splitNumber });\r\n  let maxVal = Math.max.apply(this, scales);\r\n  let minVal = Math.min.apply(this, scales);\r\n  let scaleFY = scaleLinear()\r\n    .domain([minVal, maxVal])\r\n    .range([0, height]);\r\n  let prevRow = null;\r\n  arr.forEach((row) => {\r\n    let line = {\r\n      points: [],\r\n      areaPoints: [],\r\n      smoothRange: [],\r\n      state: row.state,\r\n    };\r\n    row.forEach((cell, i) => {\r\n      let val = cell.layoutScaleValue;\r\n      if (cell.value !== undefined) {\r\n        //如果为undefined 不渲染\r\n        let dx = width / (row.length - 1);\r\n        let offsetX = 0;\r\n        if (axisGap) {\r\n          dx = width / row.length;\r\n          offsetX = dx / 2;\r\n        }\r\n        let curPos = [dx * i + offsetX, height - scaleFY(val)];\r\n        if (stack && prevRow) {\r\n          //如果是堆叠并且前一个row存在，则叠加\r\n          curPos = [\r\n            dx * i + offsetX,\r\n            height - scaleFY(val + prevRow[i].layoutScaleValue),\r\n          ];\r\n        }\r\n        line.points.push(curPos);\r\n      }\r\n    });\r\n    line.axisPoints = [\r\n      [line.points[0][0], height - scaleFY(0)],\r\n      [line.points[line.points.length - 1][0], height - scaleFY(0)],\r\n    ];\r\n    if (line.state !== \"disabled\") {\r\n      prevRow = row;\r\n    }\r\n    lines.push(line);\r\n  });\r\n  if (type === \"area\") {\r\n    let curLine = null;\r\n    lines.forEach((line, ind) => {\r\n      let nextPoints = []\r\n        .concat(line.points)\r\n        .reverse()\r\n        .map((point) => [point[0], height]);\r\n      if (curLine && attrs.stack) {\r\n        nextPoints = [].concat(lines[ind - 1].points).reverse();\r\n      }\r\n      let res = transAreaPoint(line.points, nextPoints);\r\n      line.areaPoints = res.areaPoints;\r\n      line.smoothRange = res.smoothRange;\r\n      if (line.state !== \"disabled\") {\r\n        curLine = line;\r\n      }\r\n    });\r\n  }\r\n  return lines;\r\n}\r\nfunction transAreaPoint(startPoints, endPoints) {\r\n  let res = {\r\n    areaPoints: [],\r\n    smoothRange: [],\r\n  };\r\n  res.areaPoints = []\r\n    .concat([startPoints[0]])\r\n    .concat(startPoints)\r\n    .concat([startPoints[startPoints.length - 1]])\r\n    .concat([endPoints[0]])\r\n    .concat(endPoints)\r\n    .concat([endPoints[endPoints.length - 1]]);\r\n  res.smoothRange = [\r\n    1,\r\n    startPoints.length,\r\n    startPoints.length + 3,\r\n    startPoints.length + endPoints.length + 2,\r\n  ];\r\n  return res;\r\n}\r\n","import { Sprite, Path, Ellipse, Rect, Triangle, Parallel, Regular, Star, Group } from 'spritejs'\r\nimport { jsType } from '@qcharts/utils'\r\n\r\nconst allPoint = {\r\n  sprite: Sprite,\r\n  path: Path,\r\n  ellipse: Ellipse,\r\n  rect: Rect,\r\n  triangle: Triangle,\r\n  parallel: Parallel,\r\n  regular: Regular,\r\n  star: Star\r\n}\r\nclass Point extends Group {\r\n  constructor(attrs = {}) {\r\n    super()\r\n    this.pointType = null\r\n    this.$sprite = null\r\n    this.attr({ pointType: 'ellipse', ...attrs })\r\n  }\r\n  attr(name, val) {\r\n    let attrs = name\r\n    if (jsType(name) !== 'object') {\r\n      attrs = {}\r\n      attrs[name] = val\r\n    }\r\n    this.renderSymbol(attrs)\r\n  }\r\n  renderSymbol(attrs) {\r\n    const { pointType, pos, ...renderAttr } = attrs\r\n\r\n    if (pointType && pointType !== this.pointType) {\r\n      if (!Object.keys(allPoint).includes(pointType)) {\r\n        throw new Error(\r\n          `pointType should be one of 'sprite','path','ellipse','rect','triangle','parallel','regular','star' but it is ${pointType}`\r\n        )\r\n      }\r\n      this.$sprite && this.$sprite.remove()\r\n      this.$sprite = new allPoint[pointType](renderAttr)\r\n      this.append(this.$sprite)\r\n    } else {\r\n      this.$sprite.attr(renderAttr)\r\n    }\r\n    if (pos && pos.length) {\r\n      super.attr('pos', pos)\r\n    }\r\n\r\n    this.pointType = pointType\r\n  }\r\n}\r\nexport default Point\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Polyline, Node } from 'spritejs'\r\nimport { getStyle } from '@/utils/getStyle'\r\nimport layout from './layout'\r\nimport Point from '../../utils/Point'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nclass Line extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderLines = []\r\n    this.type = 'line'\r\n    this.hoverIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    let { arrLayout, maxLen } = this.getRenderData()\r\n    let lines = arrLayout.map(item => {\r\n      return {\r\n        smoothRange: item.smoothRange,\r\n        areaFrom: { points: item.areaPoints },\r\n        areaTo: { points: item.areaPoints },\r\n        from: { points: item.points, lineDash: [1, maxLen] },\r\n        to: { points: item.points, lineDash: [maxLen, maxLen] }\r\n      }\r\n    })\r\n    return lines\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    let { arrLayout, maxLen } = this.getRenderData()\r\n    let renderLines = this.renderLines\r\n    let lines = arrLayout.map((item, i) => {\r\n      let from = { points: item.points }\r\n      if (renderLines[i]) {\r\n        from = { points: renderLines[i].to.points }\r\n      }\r\n      if (!renderLines[i] || renderLines[i].state === 'disabled') {\r\n        from.lineDash = [4, maxLen]\r\n      }\r\n      return {\r\n        state: item.state,\r\n        smoothRange: item.smoothRange,\r\n        areaFrom: (renderLines[i] && renderLines[i].areaTo) || item.areaPoints,\r\n        areaTo: {\r\n          points: item.areaPoints\r\n        },\r\n        from,\r\n        to: {\r\n          points: item.points,\r\n          lineDash: [maxLen, maxLen]\r\n        }\r\n      }\r\n    })\r\n    return lines\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    let arrLayout = layout.call(this, renderData, renderAttrs)\r\n    let { height, width } = renderAttrs.clientRect\r\n    //对角线长度的2保证会大于曲线的长度\r\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 5\r\n    return { width, height, arrLayout, maxLen }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      guidePoints: [],\r\n      layer: 'line'\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {\r\n      //smooth: false,\r\n    }\r\n  }\r\n  guidelineleave(event, el) {\r\n    this.attr('guidePoints', [])\r\n    this.dataset.resetState()\r\n  }\r\n  guidelinemove(event, el) {\r\n    if (this.renderLines.length) {\r\n      //获取 x轴坐标的刻度\r\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\r\n      //转换cancas坐标到当前group的相对坐标\r\n      let [x] = el.getOffsetPosition(event.x, event.y)\r\n      let curInd = 0\r\n      //查找当前位置\r\n      for (let i = 0; i < arrX.length; i++) {\r\n        if (x > arrX[i] && x < arrX[i + 1]) {\r\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\r\n          break\r\n        }\r\n      }\r\n      //重置所有的dateset的状态\r\n      if (this.hoverIndex !== curInd) {\r\n        this.dataset.resetState()\r\n        //设置当前列的state为hover\r\n        this.dataset.cols[curInd].state = 'hover'\r\n        let { clientRect } = this.renderAttrs\r\n        let posX = arrX[curInd]\r\n        this.hoverIndex = curInd\r\n        this.attr({\r\n          guidePoints: [\r\n            [posX, 0],\r\n            [posX, clientRect.height]\r\n          ],\r\n          lineState: 'default'\r\n        })\r\n      }\r\n    }\r\n  }\r\n  render(lines) {\r\n    let { clientRect, smooth, guidePoints } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    //当前主体颜色\r\n    let colors = this.theme.colors\r\n    this.renderLines = lines\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} onMouseleave={this.guidelineleave} onMouseenter={this.guidelinemove} onMousemove={this.guidelinemove} size={[clientRect.width, clientRect.height]}>\r\n        <Group class=\"lines-group\">\r\n          {lines.map((line, ind) => {\r\n            let style = getStyle(this, 'line', [{ strokeColor: colors[ind], smooth }, styles.line], [this.dataset.rows[ind], ind])\r\n            return line.state === 'disabled' || style === false ? <Node /> : <Polyline onClick={this.lineClick} {...style} animation={{ from: line.from, to: line.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"areas-group\">\r\n          {this.type !== 'area'\r\n            ? null\r\n            : lines.map((line, ind) => {\r\n                let style = getStyle(this, 'area', [{ fillColor: colors[ind], smooth }, styles.area], [this.dataset.rows[ind], ind])\r\n                return line.state === 'disabled' || style === false ? <Node /> : <Polyline smoothRange={line.smoothRange} {...style} animation={{ from: line.areaFrom, to: line.areaTo }} />\r\n              })}\r\n        </Group>\r\n        <Group class=\"line-points\">\r\n          {lines.map((line, ind) => {\r\n            return line.state === 'disabled' ? (\r\n              <Node />\r\n            ) : (\r\n              <Group>\r\n                {line.to.points.map((p, j) => {\r\n                  const animation = { from: { pos: line.from.points[j] }, to: { pos: p } }\r\n                  let style = getStyle(this, 'point', [{ fillColor: colors[ind] }, styles.point], [this.dataset.rows[ind], ind, j])\r\n                  let styleHover = getStyle(this, 'point:hover', [style, styles['point:hover']], [this.dataset.rows[ind], ind, j])\r\n                  if (this.dataset.rows[ind][j].state === 'hover') {\r\n                    deepObjectMerge(style, styleHover)\r\n                  }\r\n                  return <Point {...style} animation={animation} />\r\n                })}\r\n              </Group>\r\n            )\r\n          })}\r\n        </Group>\r\n        <Group class=\"guide-line-group\">\r\n          {guidePoints.length ? (\r\n            (_ => {\r\n              let style = getStyle(this, 'guideline', styles.guideline)\r\n              return style === false ? <Node /> : <Polyline points={guidePoints} {...style} />\r\n            })()\r\n          ) : (\r\n            <Node />\r\n          )}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Line\r\n","export default function layout(arr, attrs) {\r\n  let rings = []\r\n  let arrVal = arr.map(row => row.reduce((val, item) => (row.state !== 'disabled' ? val + item.value : val), 0))\r\n  //当totalVal为0的时候，会造成分母为0 如果totalVal为0 处理成1\r\n  let totalVal = arrVal.reduce((val, item) => val + item, 0) || 1\r\n  let { startAngle, endAngle, activeOffset } = attrs\r\n  let minAngle = Math.min(startAngle, endAngle)\r\n  let maxAngle = Math.max(startAngle, endAngle)\r\n  if (maxAngle > minAngle + 360) {\r\n    maxAngle = minAngle + 360\r\n  }\r\n  let totalAngle = maxAngle - minAngle\r\n  arrVal.forEach((num, ind) => {\r\n    let curPercent = num / totalVal\r\n    let perAngle = curPercent * totalAngle\r\n    //默认中心坐标偏移量0\r\n    let offsetPos = [0, 0]\r\n\r\n    let curObj = { startAngle: minAngle, endAngle: minAngle + perAngle, offsetPos }\r\n    if (ind !== 0) {\r\n      let prevRing = rings[ind - 1]\r\n      curObj = { startAngle: prevRing.endAngle, endAngle: prevRing.endAngle + perAngle, offsetPos }\r\n    }\r\n    let curAngle = ((curObj.startAngle + curObj.endAngle) / 2) % 360\r\n    curObj.bisectorAngle = curAngle\r\n    curObj.bisectorRadian = transRadius(curAngle)\r\n    if (arr[ind].state === 'hover') {\r\n      //角平分,角度转弧度,默认是顺时针，角度为相反\r\n      curObj.offsetPos = [activeOffset * Math.cos(curObj.bisectorRadian), activeOffset * Math.sin(curObj.bisectorRadian)]\r\n      //选中状态\r\n    }\r\n    rings.push(curObj)\r\n  })\r\n  return rings\r\n}\r\nexport function transRadius(angle) {\r\n  return (angle / 180) * Math.PI\r\n}\r\nexport function computeLinePos(startAngle, endAngle, center, radius, disRadius) {\r\n  let points = []\r\n  let centerAn = ((startAngle + endAngle) / 2) % 360\r\n  let centerAngle = transRadius(centerAn)\r\n  let labelAnchor = [0, 0]\r\n  let startPoint = [radius * Math.cos(centerAngle), radius * Math.sin(centerAngle)]\r\n  let endPoint = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius) * Math.sin(centerAngle)]\r\n  let labelPos = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius + 5) * Math.sin(centerAngle)]\r\n  labelPos = [center[0] + labelPos[0], center[1] + labelPos[1]]\r\n  points.push([center[0] + startPoint[0], center[1] + startPoint[1]])\r\n  points.push([center[0] + endPoint[0], center[1] + endPoint[1]])\r\n  labelAnchor = [Math.sin(centerAngle / 2), 1 - Math.cos(centerAngle / 4)]\r\n  return { points, labelAnchor, labelPos: labelPos }\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Node, Ring, Polyline, Label } from 'spritejs'\r\nimport filterClone from 'filter-clone'\r\nimport layout from './layout'\r\nimport { computeLinePos } from './layout'\r\nimport { getStyle } from '@/utils/getStyle'\r\nclass Pie extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderRings = []\r\n    this.hoverIndex = -1\r\n    this.activeIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let { radius, innerRadius } = attrs\r\n    let { width, height } = attrs.clientRect\r\n    attrs.center = [width / 2, height / 2]\r\n    attrs.radiusPx = (Math.min(width, height) * radius) / 2\r\n    attrs.innerRadiusPx = (Math.min(width, height) * innerRadius) / 2\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    let { rings } = this.getRenderData()\r\n    let { center } = this.renderAttrs\r\n    let arr = rings.map((item, ind) => {\r\n      if (ind === 0) {\r\n        return {\r\n          from: { startAngle: 0, endAngle: 0, pos: center },\r\n          to: { ...item, pos: center }\r\n        }\r\n      }\r\n      let pervAngle = rings[ind - 1].endAngle\r\n      return {\r\n        from: { startAngle: pervAngle, endAngle: pervAngle, pos: center },\r\n        to: { ...item, pos: center }\r\n      }\r\n    })\r\n    this.computeLine(arr)\r\n    return arr\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    let { rings } = this.getRenderData()\r\n    let { center } = this.renderAttrs\r\n    let oldRings = this.renderRings\r\n    let arr = rings.map((item, ind) => {\r\n      let curPos = [center[0] + item.offsetPos[0], center[1] + item.offsetPos[1]]\r\n      let attrs = filterClone(item, ['startAngle', 'endAngle'])\r\n      if (ind === this.hoverIndex) {\r\n        return {\r\n          from: { ...oldRings[ind].to },\r\n          to: { ...attrs, pos: curPos }\r\n        }\r\n      } else {\r\n        return {\r\n          from: { ...oldRings[ind].to },\r\n          to: { ...attrs, pos: curPos }\r\n        }\r\n      }\r\n    })\r\n    this.computeLine(arr)\r\n    return arr\r\n  }\r\n  computeLine(arr) {\r\n    let { radiusPx } = this.renderAttrs\r\n    arr.forEach(item => {\r\n      let { points: fromPoints, labelAnchor: fromAnchor, labelPos: fromPos } = computeLinePos(item.from.startAngle, item.from.endAngle, item.from.pos, radiusPx + 1, 15)\r\n      let { points: toPoints, labelAnchor: toAnchor, labelPos: toPos } = computeLinePos(item.to.startAngle, item.to.endAngle, item.to.pos, radiusPx + 1, 15)\r\n      item.line = {\r\n        from: {\r\n          points: fromPoints\r\n        },\r\n        to: {\r\n          points: toPoints\r\n        }\r\n      }\r\n      item.label = {\r\n        from: {\r\n          pos: fromPos,\r\n          anchor: fromAnchor\r\n        },\r\n        to: {\r\n          pos: toPos,\r\n          anchor: toAnchor\r\n        }\r\n      }\r\n    })\r\n    //计算guideline位置\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    //let { radiusPx, center } = renderAttrs\r\n    let renderData = this.renderData()\r\n    let rings = layout.call(this, renderData, renderAttrs)\r\n    return { rings }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'pie',\r\n      radius: 1,\r\n      innerRadius: 0,\r\n      startAngle: 0,\r\n      endAngle: 360,\r\n      lineWidth: 1,\r\n      //选中偏移量基数\r\n      activeOffset: 10\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {}\r\n  }\r\n  mousemove(event, el) {\r\n    let renderData = this.renderData()\r\n    let ind = el.attr('_index')\r\n    if (ind !== this.hoverIndex) {\r\n      let curData = renderData[ind]\r\n      renderData.forEach(row => {\r\n        if (row.state === 'hover') {\r\n          row.state = 'default'\r\n        }\r\n      })\r\n      curData.state = 'hover'\r\n      this.hoverIndex = ind\r\n    }\r\n  }\r\n  mouseleave() {\r\n    let renderData = this.renderData()\r\n    renderData.forEach(row => {\r\n      if (row.state === 'hover') {\r\n        row.state = 'default'\r\n      }\r\n    })\r\n    this.hoverIndex = -1\r\n  }\r\n  renderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    return this.dataset[renderAttrs.layoutBy]\r\n  }\r\n  render(rings) {\r\n    //console.log(rings)\r\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    //当前主体颜色\r\n    let colors = this.theme.colors\r\n    this.renderRings = rings\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\r\n          {rings.map((ring, ind) => {\r\n            let style = getStyle(this, 'sector', [{ strokeColor: colors[ind], fillColor: colors[ind], innerRadius: innerRadiusPx, outerRadius: radiusPx, _index: ind }, styles.sector], [this.dataset.rows[ind], ind])\r\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMousemove={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"line-group\">\r\n          {rings.map((ring, ind) => {\r\n            let style = getStyle(this, 'guideline', [{ strokeColor: colors[ind] }, styles.guideline], [this.dataset.rows[ind], ind])\r\n            let hide = false\r\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\r\n              hide = true\r\n            }\r\n            return hide || style === false ? <Node /> : <Polyline {...style} animation={{ from: ring.line.from, to: ring.line.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"label-group\">\r\n          {rings.map((ring, ind) => {\r\n            let name = this.dataset.rows[ind].name\r\n            let style = getStyle(this, 'guideText', [{ fillColor: '#666', fontSize: 12 }, styles.guideline], [this.dataset.rows[ind], ind])\r\n            let hide = false\r\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\r\n              hide = true\r\n            }\r\n            return hide || style === false ? <Node /> : <Label text={name} {...style} pos={ring.label.from.pos} animation={{ from: ring.label.from, to: ring.label.to }} />\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Pie\r\n","import Line from '../Line'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nclass Area extends Line {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'area'\r\n  }\r\n  defaultAttrs() {\r\n    return deepObjectMerge({}, super.defaultAttrs(), {\r\n      stack: true,\r\n      animation: {\r\n        duration: 700,\r\n        easing: 'bounceOut'\r\n      },\r\n      layer: 'area'\r\n    })\r\n  }\r\n}\r\nexport default Area\r\n","/**\r\n * 根据给定角度和长度获取极坐标值\r\n * @param {Number} radian 角度\r\n * @param {Number} length 长度\r\n * @returns {Array} [x,y]\r\n */\r\nconst getPointCoordinate = (radian, length) => {\r\n  let x = Math.cos(radian) * length\r\n  let y = Math.sin(radian) * length\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 获取数组中最大数除以层级后的整数\r\n * @param {Array} data\r\n * @param {Number} splitNumber\r\n * @returns {Number}\r\n */\r\nconst getMax = (data, splitNumber) => {\r\n  const indicatorMax = Math.max(...data)\r\n  if (indicatorMax < splitNumber * 10) {\r\n    return Math.ceil(indicatorMax / splitNumber) * splitNumber\r\n  } else {\r\n    return Math.ceil(indicatorMax / 10 / splitNumber) * 10 * splitNumber\r\n  }\r\n}\r\n\r\n/**\r\n * 根据给定的数据，返回绘制雷达图所需要的数据\r\n * @param {Array} dataset 数据集\r\n * @param {Number} radius 雷达图半径\r\n * @param {Number} splitNumber  雷达图背景层级\r\n * @param {Number} startAngle 雷达图起始轴角度\r\n * @param {Number} labelOffset 雷达图文字偏移值\r\n * @param {Array} colors 雷达图主题颜色\r\n * @returns {Object} { sectionAttrs, borderAttrs, axisAttrs, gridAttrs }\r\n */\r\nexport default function layout(data, radius, splitNumber, startAngle, labelOffset, colors) {\r\n  let bgPoints = [] // 最外层背景多边形\r\n  let gridAttrs = [] // 蜘蛛网图背景\r\n  let axisAttrs = [] // 坐标轴\r\n  let sectionAttrs = [] // 多边形数据\r\n\r\n  if (data.some((d) => d.length === 0)) {\r\n    return { sectionAttrs, axisAttrs, gridAttrs }\r\n  }\r\n\r\n  const allDataValue = data.reduce((t, row) => {\r\n    return t.concat(row.map((cell) => cell.value))\r\n  }, [])\r\n\r\n  const max = getMax(allDataValue, splitNumber)\r\n\r\n  // 每个类别的弧度\r\n  const dimension = data[0].length\r\n  const perRadian = (Math.PI * 2) / dimension\r\n  // 起始角度->转弧度\r\n  const startRadian = (Math.PI / 180) * startAngle\r\n  for (let i = 0; i < dimension; i++) {\r\n    // 根据角度和半径，计算对应的坐标\r\n    let currentRadian = i * perRadian + startRadian\r\n    let point = getPointCoordinate(currentRadian, radius)\r\n\r\n    bgPoints.push({\r\n      point,\r\n      radian: currentRadian\r\n    })\r\n\r\n    // 类别指示坐标\r\n    const labelPos = getPointCoordinate(currentRadian, radius + labelOffset)\r\n    const label = data[0][i].text\r\n    // 坐标轴属性\r\n    axisAttrs.push({\r\n      points: [[0, 0], point],\r\n      lineWidth: 1,\r\n      lineDash: [3, 2],\r\n      strokeColor: '#DDE0E5',\r\n      label,\r\n      labelPos,\r\n      radian: currentRadian,\r\n      maxScale: max,\r\n      splitNumber: splitNumber\r\n    })\r\n  }\r\n\r\n  data.forEach((row, index) => {\r\n    const categoryPoints = row.map((d, i) => {\r\n      const value = d.value\r\n      const radian = bgPoints[i].radian\r\n      return getPointCoordinate(radian, (value / max) * radius)\r\n    })\r\n\r\n    sectionAttrs.push({\r\n      index: index,\r\n      name: row.name,\r\n      dataOrigin: row.data,\r\n      lineWidth: 1,\r\n      points: categoryPoints,\r\n      state: row.state,\r\n      close: true,\r\n      strokeColor: colors[index],\r\n      fillColor: colors[index]\r\n    })\r\n  })\r\n\r\n  // 背景网格多边形坐标\r\n  const gridPoints = bgPoints.map((p) => p.point)\r\n  for (let i = 0; i < splitNumber; i++) {\r\n    let scale = 1 - i / splitNumber\r\n    gridAttrs.push({\r\n      scale,\r\n      radius,\r\n      points: gridPoints,\r\n      index: i,\r\n      close: true,\r\n      lineWidth: 1,\r\n      strokeColor: '#DDE0E5',\r\n      anchor: [0.5, 0.5]\r\n    })\r\n  }\r\n\r\n  return { sectionAttrs, axisAttrs, gridAttrs }\r\n}\r\n","import { Group, Polyline, Arc, Label } from 'spritejs'\r\nimport { deepObjectMerge, throttle, jsType } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\nimport layout from './layout'\r\nimport Point from '../../utils/Point'\r\n\r\nclass Radar extends BaseVisual {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'radar'\r\n    this.sectionData = []\r\n    this.scaleEl = []\r\n    this.oldPos = null\r\n  }\r\n\r\n  //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    const { height, width } = attrs.clientRect\r\n    const center = [width / 2, height / 2]\r\n\r\n    const len = Math.min(...center) * attrs.radius\r\n\r\n    return { ...attrs, center, len }\r\n  }\r\n\r\n  // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'radar',\r\n      gridType: 'polygon', // 网格类型,polygon,circle\r\n      splitNumber: 4, // 网格层次\r\n      startAngle: 270, // 起始角度\r\n      radius: 0.6, // 雷达图半径\r\n      labelOffset: 7 // 文字偏移\r\n    }\r\n  }\r\n\r\n  getPolylineAnimation(toPoints, state, index) {\r\n    const zeroPoints = new Array(toPoints.length).fill([0, 0])\r\n    const preData = this.sectionData[index] || { animation: { to: { points: zeroPoints } } }\r\n    const animation = {\r\n      from: { points: preData.animation.to.points },\r\n      to: { points: toPoints }\r\n    }\r\n    // disabled的时候缩回原点并透明\r\n    if (state === 'disabled') {\r\n      animation.to.points = zeroPoints\r\n    }\r\n    return animation\r\n  }\r\n\r\n  getRenderData() {\r\n    const dataSet = this.dataset\r\n    // // FIXME 数据筛选之前先按照label进行排序?是否需要？\r\n    const { len, splitNumber, startAngle, labelOffset } = this.renderAttrs\r\n    const colors = this.theme.colors\r\n\r\n    const { sectionAttrs, axisAttrs, gridAttrs } = layout(\r\n      [...dataSet.rows],\r\n      len,\r\n      splitNumber,\r\n      startAngle,\r\n      labelOffset,\r\n      colors\r\n    )\r\n\r\n    return { sectionAttrs, axisAttrs, gridAttrs }\r\n  }\r\n\r\n  processData() {\r\n    const { sectionAttrs, ...otherData } = this.getRenderData()\r\n    const processSectionAttrs = sectionAttrs.map((attr, i) => {\r\n      const { points, state, ...otherAttrs } = attr\r\n      const { style, hoverStyle } = this.getStyle('section', attr, [...attr.dataOrigin], i)\r\n      let stateStyle = state === 'hover' ? hoverStyle : {}\r\n      const animation = this.getPolylineAnimation(points, state, i)\r\n      return deepObjectMerge(otherAttrs, { state }, { animation }, style, stateStyle)\r\n    })\r\n    return { ...otherData, sectionAttrs: processSectionAttrs }\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const renderData = this.processData()\r\n    this.sectionData = [...renderData.sectionAttrs]\r\n    return renderData\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const updateData = this.processData()\r\n    if (updateData.sectionAttrs) {\r\n      const len = Math.max(this.sectionData.length, updateData.sectionAttrs.length)\r\n      for (let i = 0; i < len; i++) {\r\n        this.sectionData[i] = updateData.sectionAttrs[i]\r\n      }\r\n    }\r\n    this.sectionData = [...updateData.sectionAttrs]\r\n    return updateData\r\n  }\r\n\r\n  rendered() {}\r\n\r\n  getScaleAnimation(toScale) {\r\n    return {\r\n      from: { scale: 0 },\r\n      to: { scale: toScale }\r\n    }\r\n  }\r\n\r\n  getStyle(type, attr, data, index) {\r\n    return {\r\n      style: this.style(type)(attr, data, index) || {},\r\n      hoverStyle: this.style(`${type}:hover`)(attr, data, index) || {}\r\n    }\r\n  }\r\n\r\n  isSamePoints(fromPts, toPts) {\r\n    return fromPts.toString() === toPts.toString()\r\n  }\r\n\r\n  renderGrid(gridAttrs) {\r\n    const { gridType } = this.renderAttrs\r\n    const GridShape = gridType === 'circle' ? Arc : Polyline\r\n    return gridAttrs.map((attr, i) => {\r\n      const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(attr.scale)\r\n      const { style } = this.getStyle('grid', attr, null, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      return <GridShape {...attr} {...style} animation={animation} />\r\n    })\r\n  }\r\n\r\n  renderAxisLabel(attrs, i) {\r\n    const calcAnchor = radian => {\r\n      const x = 0.5 - Math.cos(radian)\r\n      const y = 0.5 - Math.sin(radian)\r\n      return [x, y]\r\n    }\r\n    const { label, labelPos, radian } = attrs\r\n    const anchor = calcAnchor(radian)\r\n    const attr = {\r\n      text: label,\r\n      pos: labelPos,\r\n      color: '#67728C',\r\n      radian,\r\n      anchor,\r\n      fontSize: 12\r\n    }\r\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\r\n    const { style } = this.getStyle('label', attr, { text: attr.label, radian }, i)\r\n    if (style === false) {\r\n      return\r\n    }\r\n    return <Label {...attr} {...style} animation={animation} />\r\n  }\r\n\r\n  renderAxisScale(attrs, index) {\r\n    const getPt = attrs => {\r\n      const { points, splitNumber, maxScale } = attrs\r\n      const [x, y] = points[1]\r\n      const perNum = maxScale / splitNumber\r\n      return [[x / splitNumber, y / splitNumber], perNum]\r\n    }\r\n    const [[perX, perY], perNum] = getPt(attrs)\r\n    let labels = []\r\n    const display = index === 0 ? 'block' : 'none'\r\n    const common = {\r\n      fontSize: 12,\r\n      anchor: [1, 0.5],\r\n      translate: [-5, 0],\r\n      display\r\n    }\r\n    for (let i = 0; i < attrs.splitNumber + 1; i++) {\r\n      let point = [perX * i, perY * i]\r\n      let text = perNum * i\r\n      let attr = {\r\n        text,\r\n        color: '#67728C',\r\n        pos: point,\r\n        ...common\r\n      }\r\n      const { style } = this.getStyle('scale', attr, { text, index }, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      if (attr.display !== 'none') {\r\n        let animation = {}\r\n        const elIndex = index * attrs.splitNumber + i\r\n        const preEl = this.scaleEl[elIndex]\r\n        if (preEl) {\r\n          if (preEl.text !== text) {\r\n            animation = {\r\n              from: { text: preEl.text },\r\n              to: { text },\r\n              formatter: attr => {\r\n                attr.text = attr.text.toFixed(0)\r\n                return attr\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          animation = {\r\n            from: { pos: [0, 0] },\r\n            to: { pos: point }\r\n          }\r\n        }\r\n        this.scaleEl[i] = { text: Number(text.toFixed(0)) }\r\n        labels.push(<Label {...attr} {...style} animation={animation} />)\r\n      }\r\n    }\r\n    return labels\r\n  }\r\n\r\n  renderAxis(axisAttrs) {\r\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\r\n    return axisAttrs.map((attr, i) => {\r\n      const { style } = this.getStyle('axis', attr, { text: attr.label }, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      return (\r\n        <Group>\r\n          <Polyline {...attr} {...style} animation={animation} />\r\n          {this.renderAxisLabel(attr, i)}\r\n          {this.renderAxisScale(attr, i)}\r\n        </Group>\r\n      )\r\n    })\r\n  }\r\n\r\n  renderPoints(sectionAttrs) {\r\n    const allPoints = sectionAttrs.map(attrs => {\r\n      const { animation: secAnimation, dataOrigin, strokeColor, state } = attrs\r\n      const prePoints = secAnimation && secAnimation.from && secAnimation.from.points\r\n      const toPoints = secAnimation && secAnimation.to && secAnimation.to.points\r\n      return toPoints.map((point, i) => {\r\n        const attr = {\r\n          pos: point,\r\n          fillColor: strokeColor,\r\n          radius: 2,\r\n          dataOrigin: dataOrigin[i]\r\n        }\r\n        const { style, hoverStyle } = this.getStyle('point', attr, { ...attr.dataOrigin }, i)\r\n        if (style === false) {\r\n          return\r\n        }\r\n\r\n        let animation = {\r\n          from: { pos: [0, 0], opacity: 1 },\r\n          to: { pos: point, opacity: 1 }\r\n        }\r\n\r\n        if (prePoints && prePoints[i]) {\r\n          if (!this.isSamePoints(prePoints[i], point)) {\r\n            animation.from.pos = prePoints[i]\r\n          } else {\r\n            animation.from.pos = point\r\n          }\r\n        }\r\n        if (state === 'disabled') {\r\n          animation.to.opacity = 0\r\n        }\r\n        const stateStyle = state === 'hover' ? hoverStyle : {}\r\n        return <Point {...attr} {...style} {...stateStyle} animation={animation} zIndex={99} />\r\n      })\r\n    })\r\n\r\n    return allPoints.reduce((pre, cur) => pre.concat(cur), [])\r\n  }\r\n\r\n  renderSection(sectionAttrs) {\r\n    return sectionAttrs.map((attr, i) => {\r\n      const { animation, ...otherAttr } = attr\r\n      return <Polyline zIndex={9 + i} {...otherAttr} animation={animation} onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave} />\r\n    })\r\n  }\r\n\r\n  onMouseenter = throttle(\r\n    (event, el) => {\r\n      this.dataset.resetState()\r\n      const name = el.attributes.name\r\n      this.dataset.rows\r\n        .filter(row => row.state !== 'disabled')\r\n        .forEach(row => {\r\n          row.state = row.name === name ? 'hover' : 'default'\r\n        })\r\n    },\r\n    16,\r\n    true\r\n  )\r\n  onMouseleave() {\r\n    this.dataset.resetState()\r\n    this.dataset.rows.filter(row => row.state !== 'disabled').forEach(row => row.state === 'default')\r\n  }\r\n\r\n  render({ sectionAttrs, axisAttrs, gridAttrs }) {\r\n    const { center, clientRect } = this.renderAttrs\r\n    const gAnimation = {\r\n      from: { pos: this.oldPos ? this.oldPos : center },\r\n      to: { pos: center }\r\n    }\r\n    this.oldPos = center\r\n    return (\r\n      <Group pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Group pos={center} animation={gAnimation}>\r\n          {this.renderGrid(gridAttrs)}\r\n          {this.renderAxis(axisAttrs)}\r\n          {this.renderSection(sectionAttrs)}\r\n          {this.renderPoints(sectionAttrs)}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Radar\r\n","import { axis } from \"../../utils/axis\"\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr\r\n  const { stack, splitNumber, clientRect } = attrs\r\n  const { width, height } = clientRect\r\n  const barSize = [width, height]\r\n  const transpose = attrs.transpose || false\r\n  const groupGap = attrs.groupGap || 0\r\n  const stackGap = attrs.stackGap || 0\r\n  let barWidth = attrs.barWidth || 0\r\n  // 输出\r\n  const barData = []\r\n  const groupData = []\r\n  const textData = []\r\n  const bgPillarAttr = { opacity: 0, bgcolor: \"#000\" }\r\n\r\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber })\r\n  if (!valueAxis || !valueAxis.length) {\r\n    return { barData, groupData, textData }\r\n  }\r\n  const tableSize = transpose\r\n    ? { label: barSize[1], value: barSize[0] }\r\n    : { label: barSize[0], value: barSize[1] }\r\n  const axisValueMax = Math.max.apply(this, valueAxis)\r\n  const axisValueMin = Math.min.apply(this, valueAxis)\r\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\r\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\r\n\r\n  const GROUP_NUM = data[0].length\r\n  let gap = 0\r\n  // 柱子宽度，根据数据绘制类型计算，是否分组，是否旋转\r\n  if (barWidth === 0) {\r\n    barWidth = stack\r\n      ? (tableSize.label * 0.5) / GROUP_NUM\r\n      : (tableSize.label * 0.5) / (GROUP_NUM * GROUP_BAR_NUM)\r\n\r\n    gap = stack ? barWidth : barWidth * GROUP_BAR_NUM\r\n  } else {\r\n    gap = stack\r\n      ? (tableSize.label - barWidth * GROUP_NUM) / GROUP_NUM\r\n      : (tableSize.label -\r\n          barWidth * GROUP_BAR_NUM * GROUP_NUM -\r\n          groupGap * (GROUP_BAR_NUM - 1) * GROUP_NUM) /\r\n        GROUP_NUM\r\n  }\r\n\r\n  const BAR_HEIGHT_FACTOR = tableSize.value / (axisValueMax - axisValueMin)\r\n  if (!stack) {\r\n    // 分组柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\r\n      let value = 0\r\n      let rawValue = 0\r\n      let gpData = { rects: [] }\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        // if (data[j][i].state !== \"disabled\") {\r\n        //   data[j][i].state = \"default\";\r\n        // }\r\n        rawValue = data[j][i].value\r\n        value = data[j][i].layoutScaleValue\r\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\r\n        let rect = {\r\n          anchor: [\r\n            transpose && value < 0 ? 1 : 0,\r\n            transpose || value < 0 ? 0 : 1,\r\n          ],\r\n          size: transpose\r\n            ? [barHeight, barWidth - 1]\r\n            : [barWidth - 1, barHeight],\r\n          pos: transpose\r\n            ? [\r\n                tableSize.value * (1 - POSITIVE_RATIO),\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i,\r\n              ]\r\n            : [\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i,\r\n                tableSize.value * POSITIVE_RATIO,\r\n              ],\r\n        }\r\n        if (data[j][i].state === \"disabled\") {\r\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\r\n          flag++\r\n        } else {\r\n          gpData.rects.push(rect)\r\n        }\r\n        let label = {\r\n          opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\r\n          text: rawValue.toString(),\r\n          anchor: [transpose && value < 0 ? 1 : 0, 0.5],\r\n          pos: transpose\r\n            ? [\r\n                tableSize.value * (1 - POSITIVE_RATIO),\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i +\r\n                  barWidth * 0.5,\r\n              ]\r\n            : [\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i +\r\n                  barWidth * 0.5,\r\n                tableSize.value * POSITIVE_RATIO,\r\n              ],\r\n          rotate: transpose ? 0 : value < 0 ? 90 : 270,\r\n          paddingLeft: 8,\r\n        }\r\n        barData.push(rect)\r\n        textData.push(label)\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        // title: data[0][i]['_x'],\r\n        pos: transpose\r\n          ? [\r\n              0,\r\n              (gap +\r\n                barWidth * GROUP_BAR_NUM +\r\n                groupGap * (GROUP_BAR_NUM - 1)) *\r\n                i,\r\n            ]\r\n          : [\r\n              (gap +\r\n                barWidth * GROUP_BAR_NUM +\r\n                groupGap * (GROUP_BAR_NUM - 1)) *\r\n                i,\r\n              0,\r\n            ],\r\n        size: transpose\r\n          ? [\r\n              tableSize.value,\r\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\r\n            ]\r\n          : [\r\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\r\n              tableSize.value,\r\n            ],\r\n        ...bgPillarAttr,\r\n      })\r\n      groupData.push(gpData)\r\n    }\r\n  } else {\r\n    // 堆叠柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let heightSumUp = 0\r\n      let heightSumDown = 0\r\n      let value = 0\r\n      let gpData = { rects: [] }\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        let stackGapTemp = stackGap\r\n        // if (data[j][i].state !== \"disabled\") {\r\n        //   data[j][i].state = \"default\";\r\n        // }\r\n        value = data[j][i].layoutScaleValue\r\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\r\n        if (barHeight === 0) {\r\n          stackGapTemp = 0\r\n        }\r\n        let posY =\r\n          value < 0\r\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown\r\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\r\n        let posX =\r\n          value < 0\r\n            ? tableSize.value * (1 - POSITIVE_RATIO) - heightSumDown\r\n            : tableSize.value * (1 - POSITIVE_RATIO) + heightSumUp\r\n        let posLabelY =\r\n          value < 0\r\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown + barHeight\r\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\r\n        let rect = {\r\n          anchor: [\r\n            transpose && value < 0 ? 1 : 0,\r\n            transpose || value < 0 ? 0 : 1,\r\n          ],\r\n          size: transpose\r\n            ? [barHeight - stackGapTemp, barWidth]\r\n            : [barWidth, barHeight - stackGapTemp],\r\n          pos: transpose\r\n            ? [posX, gap / 2 + (barWidth + gap) * i]\r\n            : [gap / 2 + (barWidth + gap) * i, posY],\r\n          index: j,\r\n        }\r\n        let paddingAttrs = transpose ? \"paddingLeft\" : \"paddingBottom\"\r\n        let label = {\r\n          opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\r\n          text: value.toString(),\r\n          anchor: transpose ? (value < 0 ? [1, 0.5] : [0, 0.5]) : [0.5, 1],\r\n          pos: transpose\r\n            ? [posX, +(gap + barWidth) / 2 + (barWidth + gap) * i]\r\n            : [(gap + barWidth) / 2 + (barWidth + gap) * i, posLabelY],\r\n        }\r\n        label[paddingAttrs] = 8\r\n        if (data[j][i].state === \"disabled\") {\r\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\r\n        } else {\r\n          value < 0\r\n            ? (heightSumDown = heightSumDown + barHeight)\r\n            : (heightSumUp = heightSumUp + barHeight)\r\n          gpData.rects.push(rect)\r\n        }\r\n        textData.push(label)\r\n        barData.push(rect)\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        pos: transpose ? [0, (gap + barWidth) * i] : [(gap + barWidth) * i, 0],\r\n        size: transpose\r\n          ? [tableSize.value, barWidth + gap]\r\n          : [barWidth + gap, tableSize.value],\r\n        ...bgPillarAttr,\r\n      })\r\n      groupData.push(gpData)\r\n    }\r\n  }\r\n\r\n  return { textData, barData, groupData }\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].state !== \"disabled\") {\r\n      flag++\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    // console.warn('data invalid!')\r\n  }\r\n  return flag || 1\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Sprite, Label } from 'spritejs'\r\nimport { getStyle } from '@/utils/getStyle'\r\nimport { deepObjectMerge, throttle } from '@qcharts/utils'\r\nimport layout from './layout'\r\nimport filterClone from 'filter-clone'\r\nclass Bar extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'bar'\r\n    this.pillars = null\r\n    this.texts = null\r\n    this.groups = null\r\n    this.fromTos = null\r\n    this.hoverIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base---------before\r\n    let { arrLayout } = this.getRenderData()\r\n    let barData = arrLayout.barData.map(item => {\r\n      return {\r\n        attrs: item,\r\n        from: {\r\n          size: this.renderAttrs.transpose ? [0, item.size[1]] : [item.size[0], 0]\r\n        },\r\n        to: {\r\n          size: item.size\r\n        }\r\n      }\r\n    })\r\n    let textData = arrLayout.textData.map(item => {\r\n      return {\r\n        attrs: item,\r\n        from: {\r\n          pos: item.pos\r\n        },\r\n        to: {\r\n          pos: item.pos\r\n        }\r\n      }\r\n    })\r\n    this.pillars = barData\r\n    this.groups = arrLayout.groupData\r\n    this.texts = textData\r\n    return { barData, textData, groupData: arrLayout.groupData }\r\n  }\r\n  beforeUpdate() {\r\n    const pillars = this.pillars\r\n    const texts = this.texts\r\n    let { arrLayout } = this.getRenderData()\r\n    let barData = arrLayout.barData.map((nextPillar, i) => {\r\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1]\r\n      if (!prev) {\r\n        prev = {\r\n          size: [0, 0],\r\n          pos: nextPillar.pos,\r\n          labelAttrs: null\r\n        }\r\n      }\r\n      return {\r\n        attrs: nextPillar,\r\n        from: {\r\n          size: prev.attrs.disable ? (this.attr('transpose') ? [0, prev.attrs.size[1]] : [prev.attrs.size[0], 0]) : prev.attrs.size,\r\n          pos: prev.attrs.pos\r\n        },\r\n        to: {\r\n          size: nextPillar.size,\r\n          pos: nextPillar.pos\r\n        }\r\n      }\r\n    })\r\n    let textData = arrLayout.textData.map((nextText, i) => {\r\n      let prev = texts[i] ? texts[i] : arrLayout.textData[i - 1]\r\n      if (!prev) {\r\n        prev = {\r\n          pos: nextPillar.pos\r\n        }\r\n      }\r\n      return {\r\n        attrs: nextText,\r\n        from: {\r\n          pos: prev.attrs.pos\r\n        },\r\n        to: {\r\n          pos: nextText.pos\r\n        }\r\n      }\r\n    })\r\n    this.pillars = barData\r\n    this.groups = arrLayout.groupData\r\n    this.texts = textData\r\n    return { barData, textData, groupData: arrLayout.groupData }\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    const dataLength = renderData.length > 1 ? renderData.length : renderData[0].length\r\n    let arrLayout = layout.call(this, renderData, renderAttrs)\r\n    let colors = this.theme.colors\r\n    let styles = this.renderStyles\r\n    arrLayout.barData = arrLayout.barData.map((bar, i) => {\r\n      // let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\r\n      // let barStyle = deepObjectMerge(\r\n      //   { bgcolor: bar.bgcolor || colors[i % dataLength] },\r\n      //   styles.bar,\r\n      //   style\r\n      // );\r\n      // bar = deepObjectMerge(bar, barStyle);\r\n      return bar\r\n    })\r\n    return { arrLayout }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    let renderData = this.dataset['rows']\r\n    let stateArray = Array.from({ length: renderData[0].length }, () => 'defalut')\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'bar',\r\n      bgpillarState: stateArray,\r\n      states: {\r\n        bgpillar: {\r\n          animation: { duration: 20 },\r\n          default: { opacity: 0.01 },\r\n          hover: { opacity: 0.1 }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {\r\n      text: { fontSize: 12, fillColor: '#666' }\r\n    }\r\n  }\r\n  onMousemove = throttle(\r\n    (event, el) => {\r\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\r\n        let curInd = 0\r\n        let [x, y] = el.getOffsetPosition(event.x, event.y)\r\n        if (!this.renderAttrs.transpose) {\r\n          //获取 x轴坐标的刻度\r\n          let width = this.groups[0].size[0]\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(x / width)\r\n        } else {\r\n          let width = this.groups[0].size[1]\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(y / width)\r\n        }\r\n        if (curInd < 1) {\r\n          curInd = 0\r\n        } else if (curInd > this.groups.length - 1) {\r\n          curInd = this.groups.length - 1\r\n        }\r\n        if (this.hoverIndex !== curInd) {\r\n          let { bgpillarState } = this.renderAttrs\r\n          bgpillarState[curInd] = 'hover'\r\n          bgpillarState[this.hoverIndex] = 'defualt'\r\n          this.attr('bgpillarState', bgpillarState)\r\n          this.dataset.resetState()\r\n          this.dataset.cols[curInd].state = 'hover'\r\n          this.hoverIndex = curInd\r\n        }\r\n      }\r\n    },\r\n    16,\r\n    true\r\n  )\r\n  onMouseleave(e, el) {\r\n    this.dataset.resetState()\r\n    let { bgpillarState } = this.renderAttrs\r\n    bgpillarState[this.hoverIndex] = 'defualt'\r\n    this.attr('bgpillarState', bgpillarState)\r\n    this.hoverIndex = -1\r\n  }\r\n  myClick = function() {\r\n    console.log('myclick')\r\n  }\r\n\r\n  render(data) {\r\n    let { clientRect, bgpillarState, states } = this.renderAttrs\r\n    const styles = this.renderStyles\r\n    let renderData = this.dataset[this.renderAttrs.layoutBy]\r\n    const dataLength = renderData.length > 1 ? renderData.length : renderData[0].length\r\n    let colors = this.theme.colors\r\n    return (\r\n      <Group\r\n        pos={[clientRect.left, clientRect.top]}\r\n        size={[clientRect.width, clientRect.height]}\r\n        onMouseleave={this.onMouseleave}\r\n        onMouseenter={this.onMousemove}\r\n        onMousemove={this.onMousemove}\r\n        onClick={this.myClick}\r\n        // onMousemove={throttle(this.onMousemove)}\r\n      >\r\n        <Group ref=\"pillars\" class=\"pillars-group\">\r\n          {data.barData.map((pillar, ind) => {\r\n            let cell = this.dataset.rows[ind % renderData.length][Math.floor(ind / renderData.length)]\r\n            const style = getStyle(this, 'pillar', [{ bgcolor: colors[ind % dataLength], ...pillar.attrs }, styles.bar], [cell.data, Math.floor(ind / renderData.length), ind % renderData.length])\r\n            const hoverStyle = getStyle(this, 'pillar:hover', [], [cell.data, Math.floor(ind / renderData.length), ind % renderData.length])\r\n            if (cell.state === 'hover') {\r\n              deepObjectMerge(style, hoverStyle)\r\n            }\r\n            return <Sprite {...pillar.attrs} {...pillar.from} {...style} animation={{ from: pillar.from, to: pillar.to }} />\r\n          })}\r\n          {data.textData.map((text, ind) => {\r\n            let barAttrs = filterClone(data.barData[ind].attrs, ['pos', 'size'])\r\n            let textStyle = getStyle(this, 'text', [{ barAttrs: barAttrs }, styles.text], [this.dataset.rows[ind % renderData.length][Math.floor(ind / renderData.length)].data, Math.floor(ind / renderData.length), ind % renderData.length])\r\n            //console.log('aaa', textStyle, styles.text)\r\n            textStyle = filterClone(textStyle, [], ['barAttrs'])\r\n            if (textStyle.pos) {\r\n              this.texts[ind].attrs.pos = textStyle.pos\r\n              text.to.pos = textStyle.pos\r\n            }\r\n\r\n            return textStyle === false ? null : (\r\n              <Label\r\n                {...text.attrs}\r\n                {...textStyle}\r\n                animation={{\r\n                  from: text.from,\r\n                  to: text.to\r\n                }}\r\n              />\r\n            )\r\n          })}\r\n        </Group>\r\n        <Group ref=\"bgpillar\" class=\"bgpillars-group\">\r\n          {data.groupData.map((pillar, ind) => {\r\n            let style = getStyle(this, 'backgroundpillar', [], [this.dataset.rows[ind % renderData.length], Math.floor(ind / renderData.length)])\r\n            return style === false ? null : <Sprite state={bgpillarState[ind]} states={states.bgpillar} {...pillar} {...style} />\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Bar\r\n","import { axis } from \"../../utils/axis\";\r\n\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr;\r\n  const { stack, splitNumber, clientRect, groupPadAngle, activeOffset } = attrs;\r\n  const { width, height } = clientRect;\r\n  const barSize = [width, height];\r\n  const groupGap = groupPadAngle || 0;\r\n  const stackGap = attrs.stackGap || 0;\r\n\r\n  const radius = attrs.radius || 1;\r\n  const barInnerRadius = attrs.innerRadius || 0;\r\n  const padAngle = attrs.padAngle;\r\n  // 输出\r\n  const barData = [];\r\n\r\n  const bgPillarAttr = { opacity: 0.01, fillColor: \"#FF0000\" };\r\n\r\n  // const valueAxis = getAxis(stack, data)\r\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber });\r\n  if (!valueAxis || !valueAxis.length) {\r\n    return { barData };\r\n  }\r\n\r\n  const tableSize = Math.min(barSize[0], barSize[1]);\r\n  const axisValueMax = Math.max.apply(this, valueAxis);\r\n  const axisValueMin = Math.min.apply(this, valueAxis);\r\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin); // 正负柱子高度比例\r\n  const GROUP_BAR_NUM = computerLegend(data); // 图例显示个数\r\n\r\n  const GROUP_NUM = data[0].length;\r\n  const BAR_MAX_HEIGHT = 0.5 * radius * tableSize;\r\n  const BAR_HEIGHT_FACTOR = BAR_MAX_HEIGHT / (axisValueMax - axisValueMin);\r\n  if (!stack) {\r\n    // 分组柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let flag = 0; // 计算当前柱子前面有几根被隐藏\r\n      let value = 0;\r\n      let gpData = { rects: [] };\r\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        // if (data[j][i].disabled !== true) {\r\n        //   data[j][i].disabled = false;\r\n        // }\r\n        let barAngle = groupAngle / GROUP_BAR_NUM;\r\n        let startAngle =\r\n          (groupAngle + groupGap) * i + barAngle * (j - flag) - Math.PI * 0.5;\r\n        value = data[j][i].layoutScaleValue;\r\n        let barHeight = BAR_HEIGHT_FACTOR * value;\r\n        let innerRadius =\r\n          BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) +\r\n          barInnerRadius * tableSize * 0.5;\r\n        //默认中心坐标偏移量0\r\n        let offsetPos = [0, 0];\r\n        let rect = {\r\n          innerRadius: innerRadius,\r\n          outerRadius: innerRadius + barHeight,\r\n          startAngle: (startAngle * 180) / Math.PI,\r\n          endAngle: ((startAngle + barAngle) * 180) / Math.PI,\r\n          value: data[j][i].value,\r\n          text: data[j][i].text,\r\n          state: data[j][i].state,\r\n          data: data[j][i].data,\r\n          id: i * lenj + j,\r\n          offsetPos: offsetPos,\r\n        };\r\n        if (rect.state === \"hover\") {\r\n          let curAngle = ((rect.startAngle + rect.endAngle) / 2) % 360;\r\n          rect.bisectorRadian = transRadius(curAngle);\r\n          //角平分,角度转弧度,默认是顺时针，角度为相反\r\n          rect.offsetPos = [\r\n            activeOffset * Math.cos(rect.bisectorRadian),\r\n            activeOffset * Math.sin(rect.bisectorRadian),\r\n          ];\r\n          //选中状态\r\n        }\r\n        if (rect.state === \"disabled\") {\r\n          rect.endAngle = rect.startAngle;\r\n          rect.radius = 0;\r\n          rect.opacity = 0;\r\n          flag++;\r\n        } else {\r\n          rect.opacity = 1;\r\n          gpData.rects.push(rect);\r\n        }\r\n        if (GROUP_NUM < 2) {\r\n          delete rect.startAngle;\r\n          delete rect.endAngle;\r\n        }\r\n        barData.push(rect);\r\n      }\r\n    }\r\n  } else {\r\n    // 堆叠柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let heightSumUp = 0;\r\n      let heightSumDown = 0;\r\n      let value = 0;\r\n      let gpData = { rects: [] };\r\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        // if (data[j][i].disabled !== true) {\r\n        //   data[j][i].disabled = false;\r\n        // }\r\n        let startAngle = (groupAngle + groupGap) * i - Math.PI * 0.5;\r\n        value = data[j][i].value;\r\n        let barHeight = BAR_HEIGHT_FACTOR * value;\r\n        let innerRadius =\r\n          value < 0\r\n            ? BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) - heightSumDown\r\n            : BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + heightSumUp;\r\n        innerRadius = innerRadius + barInnerRadius * tableSize * 0.5;\r\n        let offsetPos = [0, 0];\r\n        let rect = {\r\n          innerRadius: innerRadius,\r\n          outerRadius: innerRadius + barHeight - stackGap,\r\n          startAngle: (startAngle * 180) / Math.PI,\r\n          endAngle: ((startAngle + groupAngle) * 180) / Math.PI,\r\n          value: data[j][i].value,\r\n          text: data[j][i].text,\r\n          state: data[j][i].state,\r\n          data: data[j][i].data,\r\n          offsetPos: offsetPos,\r\n        };\r\n\r\n        if (rect.state === \"hover\") {\r\n          rect.strokeColor = \"#F00\";\r\n        } else {\r\n          delete rect.strokeColor;\r\n        }\r\n        if (rect.state === \"disabled\") {\r\n          rect.opacity = 0;\r\n        } else {\r\n          rect.opacity = 1;\r\n          value < 0\r\n            ? (heightSumDown = heightSumDown - barHeight)\r\n            : (heightSumUp = heightSumUp + barHeight);\r\n          gpData.rects.push(rect);\r\n        }\r\n        barData.push(rect);\r\n      }\r\n    }\r\n  }\r\n  // attachPadAngleOfArr(barData, padAngle)\r\n  return { barData };\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0;\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].state !== \"disabled\") {\r\n      flag++;\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    // console.warn('data invalid!')\r\n  }\r\n  return flag || 1;\r\n}\r\nexport function transRadius(angle) {\r\n  return (angle / 180) * Math.PI;\r\n}\r\n","import Base from \"../../base/BaseVisual\";\r\nimport { Group, Ring } from \"spritejs\";\r\nimport { deepObjectMerge } from \"@qcharts/utils\";\r\nimport layout from \"./layout\";\r\nimport { getStyle } from \"@/utils/getStyle\";\r\nimport filterClone from \"filter-clone\";\r\nclass PolarBar extends Base {\r\n  constructor(attrs) {\r\n    super(attrs);\r\n    this.type = \"polarbar\";\r\n    this.pillars = [];\r\n    this.hoverIndex = -1;\r\n    this.timer = null;\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs;\r\n    let { height, width, top, left } = attrs.clientRect;\r\n    attrs.pos = [left + width / 2, top + height / 2];\r\n    return attrs;\r\n  }\r\n\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回rings,继承base\r\n    let { arrLayout } = this.getRenderData();\r\n    this.pillars = arrLayout.barData;\r\n    let barData = arrLayout.barData.map((item) => {\r\n      return {\r\n        from: {\r\n          endAngle: item.startAngle,\r\n        },\r\n        to: item,\r\n      };\r\n    });\r\n    return { barData };\r\n  }\r\n  beforeUpdate() {\r\n    const pillars = this.pillars;\r\n    let { pos } = this.renderAttrs;\r\n    let { arrLayout } = this.getRenderData();\r\n    let barData = arrLayout.barData.map((nextPillar, i) => {\r\n      let curPos = [\r\n        pos[0] + nextPillar.offsetPos[0],\r\n        pos[1] + nextPillar.offsetPos[1],\r\n      ];\r\n      nextPillar.pos = curPos;\r\n      return {\r\n        from: { ...pillars[i] },\r\n        to: { ...nextPillar },\r\n      };\r\n    });\r\n    this.pillars = arrLayout.barData;\r\n    return { barData };\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs;\r\n    let renderData = this.dataset[renderAttrs.layoutBy];\r\n    if (!renderData || renderData.length === 0) {\r\n      return { barData: [] };\r\n    }\r\n    const dataLength =\r\n      renderData.length > 1 ? renderData.length : renderData[0].length;\r\n    this.legendArr = Array.from({ length: renderData.length }, () => {\r\n      return 1;\r\n    });\r\n    let arrLayout = layout.call(this, renderData, renderAttrs);\r\n    let colors = this.theme.colors;\r\n    let styles = this.renderStyles;\r\n\r\n    arrLayout.barData.forEach((bar, i) => {\r\n      let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\r\n      bar.fillColor = bar.fillColor || colors[i % dataLength];\r\n      bar.strokeColor = renderAttrs.strokeColor || \"#FFF\";\r\n      bar.pos = renderAttrs.pos;\r\n      if (\r\n        !bar.hasOwnProperty(\"startAngle\") ||\r\n        !bar.hasOwnProperty(\"endAngle\")\r\n      ) {\r\n        bar.lineWidth = 0;\r\n      } else {\r\n        bar.lineWidth = 1;\r\n      }\r\n      let barStyle = deepObjectMerge(\r\n        { bgcolor: bar.bgcolor || colors[i % dataLength] },\r\n        styles.bar,\r\n        style\r\n      );\r\n      bar = deepObjectMerge(bar, barStyle);\r\n    });\r\n    return { arrLayout };\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: \"bar\",\r\n      //选中偏移量基数\r\n      activeOffset: 10,\r\n    };\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {};\r\n  }\r\n\r\n  mouseleave() {\r\n    this.timer = setTimeout(() => {\r\n      this.dataset.resetState();\r\n      this.hoverIndex = -1;\r\n    }, 100);\r\n  }\r\n\r\n  mousemove(e, el) {\r\n    clearTimeout(this.timer);\r\n    // let fun = throttle(function(e, el) {\r\n    let renderData = this.renderData();\r\n    let ind = el.attr(\"_index\");\r\n    let groupInd = Math.floor(ind / renderData.length);\r\n    if (groupInd !== this.hoverIndex) {\r\n      this.dataset.resetState();\r\n      this.dataset[this.renderAttrs.layoutBy === \"rows\" ? \"cols\" : \"rows\"][\r\n        groupInd\r\n      ].state = \"hover\";\r\n      this.hoverIndex = groupInd;\r\n    }\r\n    // }, 30).bind(this);\r\n    // fun(e, el);\r\n  }\r\n  groupMousemove(e, el) {\r\n    console.log(el);\r\n  }\r\n  renderData() {\r\n    let renderAttrs = this.renderAttrs;\r\n    return this.dataset[renderAttrs.layoutBy];\r\n  }\r\n  render(data) {\r\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs;\r\n    let colors = this.theme.colors;\r\n    let styles = this.renderStyles;\r\n    return (\r\n      <Group class=\"container\" ref=\"wrap\">\r\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\r\n          {data.barData.map((ring, ind) => {\r\n            let style = getStyle(\r\n              this,\r\n              \"sector\",\r\n              [\r\n                {\r\n                  _index: ind,\r\n                },\r\n                styles.sector,\r\n              ],\r\n              [this.dataset.rows[ind], ind]\r\n            );\r\n            return ring.state === \"disabled\" || style === false ? (\r\n              <Node />\r\n            ) : (\r\n              <Ring\r\n                onMousemove={this.mousemove}\r\n                {...style}\r\n                animation={{ from: ring.from, to: ring.to }}\r\n              />\r\n            );\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    );\r\n  }\r\n}\r\nexport default PolarBar;\r\n","import { axis } from \"../../utils/axis\";\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr;\r\n  const { align, pyramid, clientRect } = attrs;\r\n  const { width, height } = clientRect;\r\n  // 输出\r\n  const polygons = [];\r\n\r\n  const max = arr[0][0].value;\r\n  const widthFactory = width / max;\r\n  const POLYGON_NUM = computerLegend(data); // 图例显示个数\r\n  let flag = 0; // 计算当前polygon前面有几个被隐藏\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    let polygon = { colse: true, lineWidth: 3, points: [] };\r\n    const value = data[i][0].value;\r\n    let offset = 0;\r\n    let textAnchor = [0, 0.5];\r\n    if (align === \"center\") {\r\n      textAnchor = [0.5, 0.5];\r\n      offset = 0.5;\r\n    } else if (align === \"right\") {\r\n      offset = 1;\r\n      textAnchor = [1, 0.5];\r\n    }\r\n    polygon.points.push(\r\n      (max - value) * offset * widthFactory,\r\n      (height * (i - flag)) / POLYGON_NUM\r\n    );\r\n    polygon.points.push(\r\n      (max * offset + value * (1 - offset)) * widthFactory,\r\n      (height * (i - flag)) / POLYGON_NUM\r\n    );\r\n    if (i - flag + 1 < POLYGON_NUM) {\r\n      let counter = 1;\r\n\r\n      while (data[i + counter][0].state === \"disabled\") {\r\n        counter++;\r\n      }\r\n      const nextValue = data[i + counter][0].value;\r\n\r\n      polygon.points.push(\r\n        (max * offset + nextValue * (1 - offset)) * widthFactory,\r\n        (height * (i - flag + 1)) / POLYGON_NUM\r\n      );\r\n      polygon.points.push(\r\n        (max - nextValue) * offset * widthFactory,\r\n        (height * (i - flag + 1)) / POLYGON_NUM\r\n      );\r\n    } else {\r\n      if (pyramid) {\r\n        polygon.points.push(offset * width, height);\r\n      } else {\r\n        polygon.points.push(\r\n          (max * offset + value * (1 - offset)) * widthFactory,\r\n          (height * (i - flag + 1)) / POLYGON_NUM\r\n        );\r\n        polygon.points.push(\r\n          (max - value) * offset * widthFactory,\r\n          (height * (i - flag + 1)) / POLYGON_NUM\r\n        );\r\n      }\r\n    }\r\n    polygon.opacity = 1;\r\n    if (data[i][0].state === \"disabled\") {\r\n      polygon.points[6] = polygon.points[0];\r\n      polygon.points[7] = polygon.points[1];\r\n\r\n      polygon.points[4] = polygon.points[2];\r\n      polygon.points[5] = polygon.points[3];\r\n\r\n      polygon.opacity = 0;\r\n      flag++;\r\n    }\r\n    polygon.labelAttrs = {\r\n      opacity: !data[i][0].state === \"disabled\" ? 1 : 0,\r\n      text: Math.round((100 * value) / max) + \"%\",\r\n      anchor: textAnchor,\r\n      pos: [\r\n        width * offset + (0.5 - offset) * 10,\r\n        ((i - flag + 0.5) * height) / POLYGON_NUM,\r\n      ],\r\n      fillColor: \"#FFF\",\r\n      fontSize: \"12px\",\r\n    };\r\n    polygons.push(polygon);\r\n  }\r\n\r\n  return polygons;\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0;\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].state !== \"disabled\") {\r\n      flag++;\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    console.warn(\"data invalid!\");\r\n  }\r\n  return flag || 1;\r\n}\r\n","import Base from \"../../base/BaseVisual\";\r\nimport { Group, Polyline } from \"spritejs\";\r\nimport { deepObjectMerge, throttle } from \"@qcharts/utils\";\r\nimport layout from \"./layout\";\r\nclass Funnel extends Base {\r\n  constructor(attrs) {\r\n    super(attrs);\r\n    this.type = \"funnel\";\r\n    this.polygons = null;\r\n\r\n    this.hoverIndex = -1;\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs;\r\n    return attrs;\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base---------before\r\n    let { polygons } = this.getRenderData();\r\n    polygons = polygons.map((plg) => {\r\n      return {\r\n        from: {\r\n          points:\r\n            plg.points.length === 8\r\n              ? [\r\n                  plg.points[6],\r\n                  plg.points[7],\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                  plg.points[6],\r\n                  plg.points[7],\r\n                ]\r\n              : [\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                ],\r\n        },\r\n        to: {\r\n          pos: [0, 0],\r\n          ...plg,\r\n        },\r\n      };\r\n    });\r\n    this.polygons = polygons;\r\n    return { polygons };\r\n  }\r\n  beforeUpdate() {\r\n    let oldPolygons = this.polygons;\r\n    let { polygons } = this.getRenderData();\r\n    polygons = polygons.map((polygon, i) => {\r\n      return {\r\n        from: {\r\n          points: oldPolygons[i].to.points,\r\n        },\r\n        to: {\r\n          ...polygon,\r\n        },\r\n      };\r\n    });\r\n    this.polygons = polygons;\r\n    return { polygons };\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs;\r\n    let renderData = this.dataset[renderAttrs.layoutBy];\r\n    let polygons = layout(renderData, renderAttrs);\r\n    let colors = this.theme.colors;\r\n    let styles = this.renderStyles;\r\n    polygons = polygons.map((plg, i) => {\r\n      let style = this.style(\"polygon\")(plg.attrs, this.dataset.rows[i], i);\r\n      let plgStyle = deepObjectMerge(\r\n        { fillColor: plg.bgcolor || colors[i] },\r\n        styles.funnel,\r\n        style\r\n      );\r\n      plg = deepObjectMerge(plg, plgStyle);\r\n      return plg;\r\n    });\r\n    return { polygons };\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    let renderData = this.dataset[\"rows\"];\r\n    let stateArray = Array.from(\r\n      { length: renderData[0].length },\r\n      () => \"defalut\"\r\n    );\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: \"bar\",\r\n      bgpillarState: stateArray,\r\n      states: {\r\n        bgpillar: {\r\n          animation: { duration: 20 },\r\n          default: { opacity: 0.01 },\r\n          hover: { opacity: 0.1 },\r\n        },\r\n      },\r\n    };\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {};\r\n  }\r\n  onMousemove = throttle(\r\n    (event, el) => {\r\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\r\n        let curInd = 0;\r\n        let [x, y] = el.getOffsetPosition(event.x, event.y);\r\n        if (!this.renderAttrs.transpose) {\r\n          //获取 x轴坐标的刻度\r\n          let width = this.groups[0].size[0];\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(x / width);\r\n        } else {\r\n          let width = this.groups[0].size[1];\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(y / width);\r\n        }\r\n        if (curInd < 1) {\r\n          curInd = 0;\r\n        } else if (curInd > this.groups.length - 1) {\r\n          curInd = this.groups.length - 1;\r\n        }\r\n        if (this.hoverIndex !== curInd) {\r\n          let { bgpillarState } = this.renderAttrs;\r\n          bgpillarState[curInd] = \"hover\";\r\n          bgpillarState[this.hoverIndex] = \"defualt\";\r\n          this.attr(\"bgpillarState\", bgpillarState);\r\n          this.dataset.resetState();\r\n          this.dataset.cols[curInd].state = \"hover\";\r\n          this.hoverIndex = curInd;\r\n        }\r\n      }\r\n    },\r\n    16,\r\n    true\r\n  );\r\n  onMouseleave(e, el) {\r\n    this.dataset.resetState();\r\n    let { bgpillarState } = this.renderAttrs;\r\n    bgpillarState[this.hoverIndex] = \"defualt\";\r\n    this.attr(\"bgpillarState\", bgpillarState);\r\n    this.hoverIndex = -1;\r\n  }\r\n  myClick = function() {\r\n    console.log(\"myclick\");\r\n  };\r\n\r\n  render(data) {\r\n    let { clientRect, bgpillarState, states } = this.renderAttrs;\r\n\r\n    return (\r\n      <Group\r\n        class=\"container\"\r\n        ref=\"wrap\"\r\n        pos={[clientRect.left, clientRect.top]}\r\n        size={[clientRect.width, clientRect.height]}\r\n      >\r\n        <Group ref=\"pillars\" class=\"pillars-group\" bgcolor={\"#FF0\"}>\r\n          {data.polygons.map((pillar, ind) => {\r\n            return (\r\n              <Polyline\r\n                {...pillar.from}\r\n                animation={{ from: pillar.from, to: pillar.to }}\r\n              />\r\n            );\r\n          })}\r\n        </Group>\r\n        {/* <Group class=\"label-group\">\r\n        </Group>\r\n        <Group class=\"line-group\">\r\n        </Group> */}\r\n      </Group>\r\n    );\r\n  }\r\n}\r\nexport default Funnel;\r\n","import { axis } from '../../utils/axis'\r\nimport { scaleLinear } from '../../utils/scaleLinear'\r\nimport { jsType } from '@qcharts/utils'\r\n\r\nconst getDataRange = (data) => {\r\n  if (data.length === 0) {\r\n    return [0, 1]\r\n  }\r\n  const min = Math.min(...data)\r\n  const max = Math.max(...data)\r\n  return [min, max]\r\n}\r\n\r\nconst getBigRange = (data) => {\r\n  if (data.length === 0) {\r\n    return [0, 1]\r\n  }\r\n  const [min, max] = getDataRange(data)\r\n  const n = Math.round(min / 10) - 1\r\n  const m = Math.round(max / 10) + 1\r\n  return [n * 10, m * 10]\r\n}\r\n\r\nconst updateSectionVal = (section, newSection) => {\r\n  const { min, max } = newSection\r\n  if (jsType(min) === 'number') {\r\n    section[0] = min\r\n  }\r\n  if (jsType(max) === 'number') {\r\n    section[1] = max\r\n  }\r\n}\r\n\r\nexport default function layout(dataSet, size, layoutWay) {\r\n  const [width, height] = size\r\n\r\n  const { text: textField, value: valueField } = dataSet.option\r\n  const allData = [...dataSet]\r\n\r\n  // 如果X轴是文本框，则进行均分\r\n  const maxLen = getDataRange(dataSet.rows.map((d) => d.length))[1]\r\n\r\n  let xDomain = [0, maxLen - 1]\r\n  let xSection = [0, maxLen - 1]\r\n  const xIsTextData = allData.some((d) => jsType(d.text) === 'string')\r\n  if (!xIsTextData) {\r\n    xSection = getBigRange(allData.map((d) => d.text))\r\n    const xScales = axis.call(this, {\r\n      dataSet: data,\r\n      stack: false,\r\n      field: textField,\r\n      section: xSection\r\n    })\r\n    xDomain = getDataRange(xScales)\r\n  }\r\n\r\n  const yIsTextData = allData.some((d) => jsType(d.value) === 'string')\r\n  if (yIsTextData) {\r\n    throw new Error(\"Scatter's value category data should be Number!\")\r\n  }\r\n  let ySection = getBigRange(allData.map((d) => d.layoutScaleValue))\r\n  const yScales = axis.call(this, {\r\n    dataSet: data,\r\n    stack: false,\r\n    field: 'layoutScaleValue',\r\n    section: ySection\r\n  })\r\n  const yDomain = getDataRange(yScales)\r\n\r\n  if (layoutWay) {\r\n    if (layoutWay[textField]) {\r\n      updateSectionVal(xSection, layoutWay[textField])\r\n    }\r\n    if (layoutWay[valueField]) {\r\n      updateSectionVal(ySection, layoutWay[valueField])\r\n    }\r\n  }\r\n\r\n  const newLayoutWay = {}\r\n  newLayoutWay[textField] = { min: xSection[0], max: xSection[1] }\r\n  newLayoutWay[valueField] = { min: ySection[0], max: ySection[1] }\r\n\r\n  const xLinear = scaleLinear()\r\n    .domain(xDomain)\r\n    .range([0, width])\r\n  const yLinear = scaleLinear()\r\n    .domain(yDomain)\r\n    .range([0, height])\r\n\r\n  const resultData = dataSet.rows.map((dArry) => {\r\n    const attrs = dArry.map((d, i) => {\r\n      const x = xIsTextData ? i : d.text\r\n      const y = d.layoutScaleValue\r\n      const pos = [xLinear(x), height - yLinear(y)]\r\n      return {\r\n        pos,\r\n        radius: 5,\r\n        anchor: [1, 1],\r\n        dataOrigin: { ...d.data },\r\n        state: d.state,\r\n        name: dArry.name,\r\n        col: d.col,\r\n        row: d.row\r\n      }\r\n    })\r\n    return {\r\n      name: dArry.name,\r\n      state: dArry.state,\r\n      attrs\r\n    }\r\n  })\r\n  return { data: resultData, layoutWay: newLayoutWay }\r\n}\r\n","import { Group, Polyline, Arc, Label } from \"spritejs\";\r\nimport BaseVisual from \"../../base/BaseVisual\";\r\nimport { scaleLinear } from \"../../utils/scaleLinear\";\r\nimport { hexToRgba } from \"../../utils/color\";\r\nimport { deepObjectMerge } from \"@qcharts/utils\";\r\nimport layout from \"./layout\";\r\n\r\nclass Scatter extends BaseVisual {\r\n  constructor(attrs = {}) {\r\n    super(attrs);\r\n    this.type = \"scatter\";\r\n    this.scatterData = [];\r\n    this.guideLineData = [];\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      layer: \"scatter\",\r\n      labelField: null,\r\n      areaField: null, //气泡大小字段值，不设置此值则为散点图\r\n      areaRange: null, // 面积映射\r\n      showGuideLine: false,\r\n      layoutWay: null,\r\n    };\r\n  }\r\n\r\n  get renderAttrs() {\r\n    return { ...super.renderAttrs }\r\n  }\r\n\r\n  processData() {\r\n    const dataSet = this.dataset;\r\n    const { layoutWay, clientRect } = this.renderAttrs;\r\n    const { data, layoutWay: newLayoutWay } = layout.call(\r\n      this,\r\n      dataSet,\r\n      [clientRect.width, clientRect.height],\r\n      layoutWay\r\n    );\r\n    deepObjectMerge(this.renderAttrs.layoutWay || {}, newLayoutWay);\r\n\r\n    data.forEach((item, i) => {\r\n      const color = this.theme.colors[i];\r\n      const fillColor = hexToRgba(color, 0.3);\r\n      item.attrs.forEach((di) => {\r\n        di.strokeColor = color;\r\n        di.fillColor = fillColor;\r\n      });\r\n    });\r\n    return data;\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate();\r\n    const updateData = this.processData();\r\n    const temp = updateData.map((row) => deepObjectMerge({}, row));\r\n    updateData.forEach((row, ind) => {\r\n      const oldRow = this.scatterData[ind];\r\n      row.attrs.forEach((cell, cInd) => {\r\n        const radius = this.getRealRadius({ ...cell });\r\n        cell.radius = radius;\r\n        if (oldRow && oldRow.attrs[cInd]) {\r\n          const oldCell = oldRow.attrs[cInd];\r\n          const toPos = [...cell.pos];\r\n          const fromPos =\r\n            oldCell.animation.to && oldCell.animation.to.pos\r\n              ? [...oldCell.animation.to.pos]\r\n              : [...oldCell.pos];\r\n          // 位置相同\r\n          if (toPos.toString() === fromPos.toString()) {\r\n            let fromRadius = radius;\r\n            let toRadius = radius;\r\n            //default-> disabled\r\n            if (cell.state === \"disabled\") {\r\n              toRadius = 0;\r\n            }\r\n            // old is disabled\r\n            if (oldCell.animation.to.radius == 0) {\r\n              fromRadius = 0;\r\n            }\r\n            cell.animation = {\r\n              from: { radius: fromRadius },\r\n              to: { radius: toRadius },\r\n            };\r\n          } else {\r\n            cell.animation = {\r\n              from: { pos: fromPos },\r\n              to: { pos: toPos },\r\n            };\r\n          }\r\n        } else {\r\n          cell.animation = {\r\n            from: { radius: 0 },\r\n            to: { radius: radius },\r\n          };\r\n        }\r\n      });\r\n    });\r\n    this.scatterData = temp;\r\n    return updateData;\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender();\r\n    const renderData = this.processData();\r\n    this.scatterData = renderData.map((row) => deepObjectMerge({}, row));\r\n    renderData.forEach((row) => {\r\n      row.attrs.forEach((cell) => {\r\n        const radius = this.getRealRadius({ ...cell });\r\n        cell.animation = {\r\n          from: { radius: 0 },\r\n          to: { radius },\r\n        };\r\n      });\r\n    });\r\n    return renderData;\r\n  }\r\n\r\n  getRealRadius(attr) {\r\n    const { areaRange, areaField } = this.renderAttrs;\r\n    const { radius, dataOrigin } = attr;\r\n    // 面积字段未定义，直接返回半径\r\n    if (!areaField || !dataOrigin.hasOwnProperty(areaField)) {\r\n      return radius;\r\n    }\r\n    // 面积范围未定义，直接返回数据中的面积\r\n    if (!areaRange) {\r\n      return dataOrigin[areaField];\r\n    }\r\n\r\n    const allData = [...this.dataset].map((d) => d.data[areaField]).sort((a, b) => a - b)\r\n    const linear = scaleLinear()\r\n      .domain([allData[0], allData[allData.length - 1]])\r\n      .range(areaRange);\r\n    const realArea = linear(dataOrigin[areaField]);\r\n    return realArea;\r\n  }\r\n\r\n  onMouseenter(event, el) {\r\n\r\n    const arc = el.children[0]\r\n    const { row: rowInd, col: colInd, pos } = arc.attributes\r\n    this.dataset.forEach((cell) => {\r\n      if (cell.row === rowInd && cell.col === colInd) {\r\n        cell.state = \"hover\";\r\n      }\r\n    });\r\n    const { showGuideLine } = this.renderAttrs;\r\n    if (showGuideLine) {\r\n\r\n      const { height, width } = this.renderAttrs.clientRect\r\n      this.guideLineData = [\r\n        [\r\n          [0, pos[1]],\r\n          [width, pos[1]],\r\n        ],\r\n        [\r\n          [pos[0], 0],\r\n          [pos[0], height],\r\n        ],\r\n      ];\r\n    }\r\n  }\r\n  onMouseleave() {\r\n    this.dataset.resetState();\r\n    this.guideLineData = [];\r\n  }\r\n\r\n  renderGuideLine() {\r\n    if (this.guideLineData.length > 0) {\r\n      return this.guideLineData.map((points) => {\r\n        return (\r\n          <Polyline\r\n            points={points}\r\n            strokeColor={\"#ddd\"}\r\n            lineWidth={1}\r\n            translate={[0.5, 0.5]}\r\n          />\r\n        );\r\n      });\r\n    }\r\n    return;\r\n  }\r\n\r\n  renderScatter(data) {\r\n    const { labelField } = this.renderAttrs;\r\n    const scatters = data.map((item, di) => {\r\n      return item.attrs.map((attr, ci) => {\r\n        let style = this.style('point')(attr, { ...attr.dataOrigin }, ci)\r\n        if (style === false) {\r\n          return;\r\n        }\r\n\r\n        let labelAttr = null;\r\n\r\n        if (labelField) {\r\n          const style = this.style('label')(attr, { ...attr.dataOrigin }, ci)\r\n          if (style !== false) {\r\n            if (attr.dataOrigin.hasOwnProperty(labelField)) {\r\n              const { strokeColor, ...other } = attr;\r\n              const text = attr.dataOrigin[labelField];\r\n              labelAttr = deepObjectMerge(\r\n                other,\r\n                {\r\n                  fillColor: strokeColor,\r\n                  text,\r\n                  anchor: [0.5, 0.5],\r\n                  fontSize: '12px',\r\n                  zIndex: 10 + di + ci\r\n\r\n                },\r\n                style\r\n              );\r\n            }\r\n          }\r\n        }\r\n        const hStyle = this.style('point:hover')(attr, attr.dataOrigin, ci) || {}\r\n        const stateStyle = attr.state === 'hover' ? hStyle : {}\r\n\r\n        return (\r\n          <Group onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave}>\r\n            <Arc {...attr} {...style} {...stateStyle} zIndex={9 + di + ci} />\r\n            {labelAttr ? <Label {...labelAttr} /> : null}\r\n          </Group>\r\n        );\r\n      });\r\n    });\r\n    return scatters.reduce((pre, cur) => {\r\n      return pre.concat(cur);\r\n    }, []);\r\n  }\r\n\r\n  render(data) {\r\n    const { height, width, left, top } = this.renderAttrs.clientRect;\r\n    return (\r\n      <Group size={[width, height]} pos={[left, top]} zIndex={10}>\r\n        {this.renderScatter(data)}\r\n        {this.renderGuideLine()}\r\n      </Group>\r\n    );\r\n  }\r\n\r\n  rendered() {}\r\n}\r\n\r\nexport default Scatter;\r\n","export function hexToRgba(hex, opacity) {\r\n  // 16进制颜色转rgba\r\n  if (/^rgba\\(.+\\)$/.test(hex)) {\r\n    return hex;\r\n  }\r\n  var c\r\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n    c = hex.substring(1).split('')\r\n    if (c.length === 3) {\r\n      c = [c[ 0 ], c[ 0 ], c[ 1 ], c[ 1 ], c[ 2 ], c[ 2 ]]\r\n    }\r\n    c = '0x' + c.join('')\r\n    return (\r\n      'rgba(' +\r\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') +\r\n      ',' +\r\n      opacity +\r\n      ')'\r\n    )\r\n  }\r\n  throw new Error('Bad Hex')\r\n}\r\nexport function randomHexColor() {\r\n  // 随机生成十六进制颜色\r\n  let random = Math.floor(Math.random() * 16777216).toString(16) // 生成ffffff以内16进制数\r\n  while (random.length < 6) {\r\n    // while循环判断hex位数，少于6位前面加0凑够6位\r\n    random = `0${random}`\r\n  }\r\n  return `#${random}`\r\n}\r\n","//通过圆生成path\r\nfunction ellipse2path(cx, cy, rx, ry) {\r\n  //非数值单位计算，如当宽度像100%则移除\r\n  if (isNaN(cx - cy + rx - ry)) return\r\n  var path = 'M' + (cx - rx) + ' ' + cy + 'a' + rx + ' ' + ry + ' 0 1 0 ' + 2 * rx + ' 0' + 'a' + rx + ' ' + ry + ' 0 1 0 ' + -2 * rx + ' 0' + 'z'\r\n  return path\r\n}\r\nexport default ellipse2path\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Polyline, Path, requestAnimationFrame, Label, Node } from 'spritejs'\r\nimport ellipse2path from '../../utils/ellipse2path'\r\nimport { getStyle } from '@/utils/getStyle'\r\nclass Wave extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    //波纹振偏移量\r\n    this.offsetR = 50\r\n    this.tickId = ''\r\n    this.oldAttr = {}\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let clientRect = attrs.clientRect\r\n    let width = Math.floor(clientRect.width)\r\n    let height = Math.floor(clientRect.height)\r\n    let radius = attrs.radius\r\n    attrs.pos = [0, 0]\r\n    if (!attrs.shape) {\r\n      attrs.pos = [width / 2 - radius, height / 2 - radius]\r\n      attrs.shape = ellipse2path(radius, radius, attrs.radius, attrs.radius)\r\n    }\r\n    return attrs\r\n  }\r\n  rendered() {\r\n    //path的高宽\r\n    this.wave()\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      amplitude: 8, //振幅\r\n      wavelength: 300, //波长`\r\n      radius: 150,\r\n      percent: 65,\r\n      formatter: per => {\r\n        return per + '%'\r\n      }\r\n    }\r\n  }\r\n  wave() {\r\n    let currentR = 0\r\n    let per = 4\r\n    let clipWave = this.$refs['clipWave']\r\n    let clipPath = this.$refs['clipPath'] || clipWave\r\n    let pathHeight = clipPath.originalContentRect[3]\r\n    let { percent, wavelength, amplitude, clientRect, animation, shape } = this.renderAttrs\r\n    let perR = 24 / animation.duration\r\n    let currentX = 0 - clientRect.left\r\n    //以路径的top为起点，计算百分比\r\n    let startY = pathHeight * (100 - percent) / 100 + clipPath.originalContentRect[1]\r\n    this.tickId = requestAnimationFrame(_ => {\r\n      this.offsetR += perR\r\n      let points = [[currentX, startY + pathHeight]]\r\n      points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\r\n      while (currentX < clientRect.width + clientRect.left + clientRect.right) {\r\n        points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\r\n        currentX += wavelength / (per * 2)\r\n        currentR += Math.PI / per\r\n      }\r\n      let lastY = amplitude * Math.sin(currentR + this.offsetR)\r\n      points.push([currentX, startY + lastY])\r\n      points.push([currentX, startY + lastY])\r\n      points.push([currentX, startY + pathHeight])\r\n      clipWave.attr({ points: points, clipPath: ' ' + shape })\r\n      if (this.offsetR >= 2 * Math.PI) {\r\n        this.offsetR = this.offsetR % (2 * Math.PI)\r\n      }\r\n      this.wave()\r\n    })\r\n  }\r\n  render() {\r\n    let { clientRect, shape, pos, formatter, percent, radius } = this.renderAttrs\r\n\r\n    let renderStyles = this.renderStyles\r\n    let waveStyle = getStyle(this, 'wave', renderStyles.wave)\r\n    let shapeStyle = getStyle(this, 'shape', renderStyles.shape)\r\n    let textStyle = getStyle(this, 'text', renderStyles.text)\r\n    let animation = {\r\n      from: {\r\n        pos: this.oldAttr.pos || pos\r\n      },\r\n      to: {\r\n        pos: pos\r\n      }\r\n    }\r\n    this.oldAttr = { ...this.renderAttrs }\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Group animation={animation}>\r\n          <Path ref=\"clipPath1\" d={shape} fillColor={shapeStyle.fillColor} />\r\n          <Polyline ref=\"clipWave\" {...waveStyle} clipPath={shape} smooth={true} />\r\n          <Path ref=\"clipPath\" d={shape} strokeColor={shapeStyle.strokeColor} lineWidth={shapeStyle.lineWidth} />\r\n          {textStyle === false ? <Node /> : <Label text={formatter(percent)} {...textStyle} pos={[radius, radius]} anchor={[0.5]} />}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Wave\r\n","import { Group, Polyline, Label, Arc, Gradient } from 'spritejs'\r\nimport { jsType } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\n\r\n/**\r\n * 根据给定参数，生成仪表盘刻度的坐标以及刻度文字标注的坐标\r\n * @param {Number} radius 仪表盘半径\r\n * @param {Number} angle 刻度的角度 单位度\r\n * @param {Number} tickLength 刻度的长度\r\n * @param {Number} labelOffset 刻度文字的偏移值\r\n * @param {Boolean} isInner 刻度是否在仪表盘内部\r\n */\r\nfunction tickLine(radius, angle, tickLength, labelOffset, isInner) {\r\n  const radian = (angle * Math.PI) / 180\r\n  const cos = Math.cos(radian)\r\n  const sin = Math.sin(radian)\r\n  // 起点\r\n  const [x, y] = [cos * radius, sin * radius]\r\n  // 中点\r\n  const [cX0, cY0] = isInner\r\n    ? [x - tickLength * cos, y - tickLength * sin]\r\n    : [x + tickLength * cos, y + tickLength * sin]\r\n  const labelPos = isInner\r\n    ? [x - (tickLength + labelOffset) * cos, y - (tickLength + labelOffset) * sin]\r\n    : [x + (tickLength + labelOffset) * cos, y + (tickLength + labelOffset) * sin]\r\n\r\n  let anchorX = isInner ? cos : -cos\r\n  let anchorY = isInner ? sin : -sin\r\n  let anchor = [0.5, 0.5]\r\n\r\n  if (Math.abs(anchorX) > Math.abs(anchorY)) {\r\n    anchor[0] = anchorX < 0 ? 0 : anchorX\r\n  } else {\r\n    anchor[1] = anchorY > 0 ? anchorY : 0\r\n  }\r\n  return {\r\n    points: [\r\n      [x, y],\r\n      [cX0, cY0]\r\n    ],\r\n    labelPos,\r\n    anchor\r\n  }\r\n}\r\n\r\nclass Gauge extends BaseVisual {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.gaugeAnimations = []\r\n    this.type = 'Gauge'\r\n    this.oldPos = null\r\n    this.style('tickText', true)\r\n    this.style('tickLine', true)\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'gauge',\r\n      min: 0, // 刻度最小值\r\n      max: 100, // 刻度最大值\r\n      percent: 50, // 指针值\r\n      lineCap: 'round',\r\n      _useBuiltInColors: false, // 默认颜色不使用渐变色\r\n      lineWidth: 10, // 仪表盘圆弧宽度\r\n      startAngle: 140, // 仪表盘弧度起始角度，arc 角度顺时针增加，0度为屏幕X轴方向\r\n      endAngle: 400, // 仪表盘弧度终止角度\r\n      strokeBgcolor: '#dde3ea', // 仪表盘弧度的背景色\r\n      title: (d) => d,\r\n      tickStep: 10, // tick 步进，生成 tick 的数量为 (max - min) / tickStep\r\n      tickLength: 10, // 刻度长度，为负值时向外绘制\r\n      labelOffset: 5,\r\n      tickFormatter: (d) => d // 刻度文本格式化\r\n    }\r\n  }\r\n\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    // 仪表盘半径\r\n    const { clientRect } = attrs\r\n    const { height, width } = clientRect\r\n    const size = [width, height]\r\n\r\n    const radius = ~~Math.min.apply(\r\n      size,\r\n      size.map((v) => v / 2)\r\n    )\r\n    // 指针宽度\r\n    const pointerWidth = radius / 10\r\n    // 绘图中心\r\n    const center = [width / 2, height / 2]\r\n\r\n    return {\r\n      ...attrs,\r\n      radius,\r\n      pointerWidth,\r\n      center\r\n    }\r\n  }\r\n\r\n  get ticks() {\r\n    let {\r\n      min,\r\n      max,\r\n      radius,\r\n      startAngle,\r\n      endAngle,\r\n      lineWidth,\r\n      tickStep,\r\n      tickLength,\r\n      labelOffset,\r\n      tickFormatter\r\n    } = this.renderAttrs\r\n    const count = Math.abs(max - min) / tickStep\r\n\r\n    let total = endAngle - startAngle\r\n\r\n    const isInner = tickLength > 0\r\n    const perAngle = total / count\r\n    const ticks = []\r\n    let tickRadius = isInner ? radius - lineWidth / 2 : radius + lineWidth / 2\r\n    let angle = 0\r\n    let i = -1\r\n\r\n    while (++i <= count) {\r\n      angle = i * perAngle + startAngle\r\n      const ret = tickLine(tickRadius, angle, Math.abs(tickLength), Math.abs(labelOffset), isInner)\r\n      ticks.push({\r\n        points: ret.points,\r\n        label: {\r\n          text: tickFormatter(i * tickStep + min).toFixed(0),\r\n          pos: ret.labelPos,\r\n          anchor: ret.anchor\r\n        }\r\n      })\r\n    }\r\n\r\n    if ((ticks[0].angle + ticks[ticks.length - 1].angle) % (Math.PI * 2) === 0) {\r\n      ticks.pop()\r\n    }\r\n\r\n    return ticks\r\n  }\r\n\r\n  transform() {\r\n    const { radius, startAngle, endAngle, min, max, percent } = this.renderAttrs\r\n    const total = Math.abs(max - min)\r\n\r\n    return {\r\n      dataOrigin: percent,\r\n      startAngle,\r\n      radius,\r\n      endAngle: ((endAngle - startAngle) * (percent - min)) / total + startAngle,\r\n      strokeColor: this.color(0)\r\n    }\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const arc = this.transform()\r\n    this.gaugeAnimations = {\r\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\r\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\r\n    }\r\n    return arc\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const arc = this.transform()\r\n    const animation = {\r\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\r\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\r\n    }\r\n    if (this.gaugeAnimations) {\r\n      animation.from = { ...this.gaugeAnimations.to }\r\n    }\r\n\r\n    this.gaugeAnimations = { ...animation }\r\n    return arc\r\n  }\r\n\r\n  color(i) {\r\n    return this.theme.colors[i]\r\n  }\r\n\r\n  /**\r\n   * 渲染指针\r\n   * @param {Number} angle 角度\r\n   */\r\n  renderPointer(d, maxTickTextFontSize) {\r\n    const style = this.style('pointer')(d, d.dataOrigin, 0)\r\n    if (style === false) {\r\n      return\r\n    }\r\n    // 动画\r\n    let { from, to } = this.gaugeAnimations\r\n    // rotate角度起始位置为屏幕Y轴方向，arc角度为X轴方向\r\n    const fromRotate = from.endAngle + 90\r\n    const toRotate = to.endAngle + 90\r\n    const pointerAnimation = {\r\n      from: { rotate: fromRotate },\r\n      to: { rotate: toRotate }\r\n    }\r\n    // 半径\r\n    const { radius, pointerWidth, center, tickLength, labelOffset, lineWidth } = this.renderAttrs\r\n    // 指针顶部离仪表盘的距离\r\n    let pointerTopOffset = tickLength + lineWidth + labelOffset + maxTickTextFontSize\r\n    if (tickLength < 0) {\r\n      pointerTopOffset = pointerTopOffset - tickLength - labelOffset\r\n    }\r\n    // 指针长度\r\n    const pointerLen = radius - pointerTopOffset\r\n    // 指针宽度\r\n    let pWidth = radius / 10\r\n\r\n    // 指针颜色\r\n    const color = this.color(0)\r\n\r\n    const [x, y] = center\r\n    const attr = {\r\n      fillColor: color,\r\n      rotate: fromRotate,\r\n      transformOrigin: center,\r\n      zIndex: 11,\r\n      points: [\r\n        [x, y],\r\n        [x - pWidth / 2, y - pointerLen * 0.1],\r\n        [x, y - pointerLen],\r\n        [x + pWidth / 2, y - pointerLen * 0.1],\r\n        [x, y]\r\n      ],\r\n      close: true\r\n    }\r\n    return <Polyline {...attr} {...style} animation={pointerAnimation} />\r\n  }\r\n\r\n  isStyleExist(name) {\r\n    const style = this.style(`${name}`)\r\n    return Boolean(style)\r\n  }\r\n\r\n  render(data = {}) {\r\n    const {\r\n      _useBuiltInColors,\r\n      title,\r\n      percent,\r\n      center,\r\n      radius,\r\n      startAngle,\r\n      endAngle,\r\n      lineWidth,\r\n      lineCap,\r\n      strokeBgcolor,\r\n      clientRect\r\n    } = this.renderAttrs\r\n    const labelCenter = [center[0], center[1] * 1.25]\r\n    const ticks = this.ticks\r\n    const tickLine = this.isStyleExist('tickLine')\r\n    const tickText = this.isStyleExist('tickText')\r\n    const realTitle = title || percent\r\n\r\n    let gradientColor = null // 默认使用内置的渐变配色方案\r\n\r\n    if (_useBuiltInColors !== false) {\r\n      const colors = this.theme.colors.reverse()\r\n      const gradientOpt = {\r\n        vector: [0, 0, center[0] * 2, center[1] * 2],\r\n        colors: [\r\n          { color: colors[0], offset: 0 },\r\n          { color: colors[1], offset: 0.3 },\r\n          { color: colors[2], offset: 1 }\r\n        ]\r\n      }\r\n      gradientColor = new Gradient(gradientOpt)\r\n    }\r\n\r\n    let maxTickTextFontSize = 16\r\n    if (tickText !== false) {\r\n      ticks.map((tick, j) => {\r\n        const style = this.style('tickText')(data, data.dataOrigin, j)\r\n        if (style && style.fontSize) {\r\n          if (jsType(style.fontSize) === 'number' && maxTickTextFontSize < style.fontSize) {\r\n            maxTickTextFontSize = style.fontSize\r\n          }\r\n          if (jsType(style.fontSize) === 'string') {\r\n            const realSize = Number(style.fontSize.replace('px', ''))\r\n            if (jsType(realSize) === 'number' && maxTickTextFontSize < realSize) {\r\n              maxTickTextFontSize = realSize\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n    const gPos = [clientRect.left, clientRect.top]\r\n    const gSize = [clientRect.width, clientRect.height]\r\n\r\n    const gAnimation = {\r\n      from: { pos: this.oldPos ? this.oldPos : gPos },\r\n      to: { pos: gPos }\r\n    }\r\n    this.oldPos = gPos\r\n    return (\r\n      <Group pos={gPos} size={gSize} animation={gAnimation}>\r\n        <Arc\r\n          pos={center}\r\n          lineWidth={lineWidth}\r\n          lineCap={lineCap}\r\n          startAngle={startAngle}\r\n          endAngle={endAngle}\r\n          strokeColor={strokeBgcolor}\r\n          radius={radius}\r\n          zIndex={10}\r\n        />\r\n        <Arc\r\n          pos={center}\r\n          lineCap={lineCap}\r\n          lineWidth={lineWidth}\r\n          {...data}\r\n          animation={this.gaugeAnimations}\r\n          {...(gradientColor ? { strokeColor: gradientColor } : { strokeColor: this.color(0) })}\r\n          {...this.style('arc')(data, data.dataOrigin, 0)}\r\n          zIndex={11}\r\n        />\r\n        {this.renderPointer(data, maxTickTextFontSize)}\r\n        {realTitle ? (\r\n          <Label\r\n            text={jsType(realTitle) === 'function' ? realTitle(data.dataOrigin) : realTitle}\r\n            pos={labelCenter}\r\n            textAlign=\"center\"\r\n            zIndex={10}\r\n            anchor={[0.5, 1]}\r\n            {...this.style('title')(data, data.dataOrigin, 0)}\r\n          />\r\n        ) : null}\r\n        {tickLine !== false || tickText !== false\r\n          ? ticks.map((tick, j) => (\r\n              <Group pos={center} anchor={[0, 0]} zIndex={1010}>\r\n                {tickLine !== false ? (\r\n                  <Polyline\r\n                    points={tick.points}\r\n                    strokeColor={strokeBgcolor}\r\n                    {...this.style('tickLine')(data, data.dataOrigin, j)}\r\n                  />\r\n                ) : null}\r\n                {tickText !== false ? (\r\n                  <Label {...tick.label} {...this.style('tickText')(data, data.dataOrigin, j)} />\r\n                ) : null}\r\n              </Group>\r\n            ))\r\n          : null}\r\n      </Group>\r\n    )\r\n  }\r\n\r\n  rendered() {\r\n    this.on('resize', () => this.forceUpdate())\r\n  }\r\n}\r\n\r\nexport default Gauge\r\n","import { Group, Arc } from 'spritejs'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\n\r\n// 数据拷贝\r\nconst flattern = (arr) => [].concat.apply([], arr)\r\n\r\nclass RadialBar extends BaseVisual {\r\n  constructor(attrs = {}) {\r\n    super(attrs)\r\n    this.type = 'RadialBar'\r\n    this.animators = []\r\n    this.oldPos = null\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'radialBar',\r\n      radius: 0.8,\r\n      innerRadius: 0,\r\n      startAngle: -90,\r\n      endAngle: 270,\r\n      lineWidth: 5,\r\n      strokeBgcolor: '#f5f5f5'\r\n    }\r\n  }\r\n\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    const { clientRect } = attrs\r\n    const size = [clientRect.width, clientRect.height]\r\n    return {\r\n      ...attrs,\r\n      size\r\n    }\r\n  }\r\n\r\n  get maxOuterRadius() {\r\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\r\n    const [width, height] = size\r\n\r\n    if (endAngle - startAngle === 90) {\r\n      return Math.min(width, height) * radius\r\n    } else {\r\n      return (Math.min(width, height) / 2) * radius\r\n    }\r\n  }\r\n\r\n  get center() {\r\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\r\n    const angle = (endAngle + startAngle) / 2\r\n    const [width, height] = size\r\n    const maxRadius = this.maxOuterRadius\r\n    let [x, y] = [width / 2 - maxRadius, height / 2 - maxRadius]\r\n\r\n    if (endAngle - startAngle === 90) {\r\n      // 区分象限\r\n      const cos = Math.cos(angle)\r\n      const sin = Math.sin(angle)\r\n      const maxWidth = radius * width\r\n      const maxHeight = radius * height\r\n      x += cos < 0 ? maxWidth / 2 : -(maxWidth / 2)\r\n      y += sin < 0 ? maxHeight / 2 : -(maxHeight / 2)\r\n    }\r\n\r\n    return [x, y]\r\n  }\r\n\r\n  get innerRadius() {\r\n    let { radius, innerRadius } = this.renderAttrs\r\n    return innerRadius <= 0 ? 0 : (this.maxOuterRadius / radius) * innerRadius\r\n  }\r\n\r\n  transform(data) {\r\n    const { startAngle, endAngle, max, min, lineWidth, colors } = this.renderAttrs\r\n    let total = 0\r\n    if (!isNaN(max) && !isNaN(min)) {\r\n      total = max - min\r\n    } else {\r\n      let cloneData = deepObjectMerge(data)\r\n      cloneData.sort((a, b) => b.value - a.value)\r\n      total = cloneData[0].value * 1.3\r\n    }\r\n    const angle = endAngle - startAngle\r\n    const innerRadius = this.innerRadius\r\n    const outerRadius = this.maxOuterRadius\r\n    const arcOffset = 0.5\r\n    const len = data.length\r\n    const perRadius =\r\n      ((outerRadius - innerRadius) * 2 - lineWidth * (lineWidth >= 5 ? 1 : len - 1)) / ((len * 2 - 1) * (1 + arcOffset))\r\n    let value = null\r\n\r\n    data.forEach((d, i) => {\r\n      value = +d.value\r\n\r\n      d.pos = [outerRadius, outerRadius]\r\n      d.anchor = [0.5, 0.5]\r\n      d.lineWidth = lineWidth\r\n      d.startAngle = startAngle\r\n      d.endAngle = d.state === 'disabled' ? startAngle : startAngle + (angle * value) / total\r\n      d.innerRadius = innerRadius + i * (1 + arcOffset) * perRadius\r\n      d.radius = d.innerRadius + 1 * perRadius\r\n      d.strokeColor = colors[i]\r\n\r\n      const normalStyle = this.style('arc')(d, d.dataOrigin, d.index)\r\n\r\n      Object.assign(d, normalStyle)\r\n    })\r\n    // 半径大的在底，小的在上，这样事件触发才正常\r\n    return data.sort((a, b) => b.radius - a.radius)\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const { startAngle } = this.renderAttrs\r\n    let data = flattern(this.dataset)\r\n    data = this.transform(data)\r\n    this.animators = data.map((d) => ({\r\n      from: {\r\n        startAngle,\r\n        endAngle: startAngle\r\n      },\r\n      to: {\r\n        startAngle,\r\n        endAngle: d.endAngle\r\n      }\r\n    }))\r\n    return data\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const { startAngle } = this.renderAttrs\r\n    let data = flattern(this.dataset)\r\n    data = this.transform(data)\r\n    this.animators = data.map((d, i) => {\r\n      if (d.anticlockwise) {\r\n        return d.disabled ? { from: { opacity: 1 }, to: { opacity: 0 } } : { from: { opacity: 1 }, to: { opacity: 1 } }\r\n      } else {\r\n        let prev = this.animators[i] ? this.animators[i].to : data[i - 1]\r\n\r\n        if (!prev) {\r\n          prev = {\r\n            startAngle: startAngle,\r\n            endAngle: startAngle\r\n          }\r\n        }\r\n\r\n        return {\r\n          from: {\r\n            startAngle: prev.startAngle,\r\n            endAngle: prev.endAngle\r\n          },\r\n          to: {\r\n            startAngle: d.startAngle,\r\n            endAngle: d.endAngle\r\n          }\r\n        }\r\n      }\r\n    })\r\n    return data\r\n  }\r\n\r\n  onMouseenter(event, el) {\r\n    const { col, row } = el.children[1].attributes\r\n    this.dataset.forEach((item) => {\r\n      item.state = item.col === col && item.row === row ? 'hover' : 'default'\r\n    })\r\n  }\r\n\r\n  onMouseleave() {\r\n    this.dataset.resetState()\r\n  }\r\n\r\n  render(data = []) {\r\n    const { strokeBgcolor } = this.renderAttrs\r\n    const gAnimation = {\r\n      from: { pos: this.oldPos ? this.oldPos : this.center },\r\n      to: { pos: this.center }\r\n    }\r\n    this.oldPos = this.center\r\n    return (\r\n      <Group>\r\n        {data\r\n          .map((d, i) => {\r\n            const { col, row, data } = d\r\n            return (\r\n              <Group\r\n                pos={this.center}\r\n                animation={gAnimation}\r\n                onMouseenter={this.onMouseenter}\r\n                onMousemove={this.onMouseenter}\r\n                onMouseleave={this.onMouseleave}\r\n              >\r\n                <Arc {...d} startAngle={0} endAngle={360} strokeColor={strokeBgcolor} />\r\n                <Arc\r\n                  pos={this.center}\r\n                  {...{ ...d, col, row }}\r\n                  animation={this.animators[i]}\r\n                  {...this.style('arc')(d, data, i)}\r\n                />\r\n              </Group>\r\n            )\r\n          })}\r\n      </Group>\r\n    )\r\n  }\r\n\r\n  rendered() {}\r\n}\r\n\r\nexport default RadialBar\r\n","import Base from './Base'\r\nimport theme from '../theme/default'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nexport default class BasePlugin extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.theme = theme.plugins[this.constructor.name]\r\n    //如果当前对象设置了theme，不继承theme\r\n    this.theme.set = obj => {\r\n      if (this.theme === theme.visuals[this.constructor.name]) {\r\n        this.theme = filterClone(this.theme)\r\n      }\r\n      this.theme = deepObjectMerge(this.theme, obj)\r\n    }\r\n  }\r\n}\r\n","import { scaleLinear } from '../../utils/scaleLinear'\r\nimport { axis } from '../../utils/axis'\r\nimport { emptyObject } from '@qcharts/utils'\r\nexport default function layout(arr, attrs) {\r\n  let res = {\r\n    scales: [],\r\n    labels: [],\r\n    grids: [],\r\n    axisPoints: [],\r\n    orient: attrs.orient\r\n  }\r\n  let defaultAttrs = {\r\n    top: {\r\n      label: {\r\n        anchor: [0.5, 1],\r\n        padding: [0, 0, 6, 0],\r\n        textAlign: 'center'\r\n      },\r\n      scale: {\r\n        anchor: [0.5, 1],\r\n        width: 1,\r\n        height: 4\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'category'\r\n    },\r\n    bottom: {\r\n      scale: {\r\n        anchor: [0.5, 0],\r\n        width: 1,\r\n        height: 4\r\n      },\r\n      label: {\r\n        anchor: [0.5, 0],\r\n        padding: [6, 0, 0, 0],\r\n        textAlign: 'center'\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'category'\r\n    },\r\n    left: {\r\n      label: {\r\n        padding: [0, 8, 0, 0],\r\n        anchor: [1, 0.5],\r\n        textAlign: 'right'\r\n      },\r\n      scale: {\r\n        anchor: [1, 0.5],\r\n        width: 4,\r\n        height: 1\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'value'\r\n    },\r\n    right: {\r\n      label: {\r\n        anchor: [0, 0.5],\r\n        padding: [0, 0, 0, 8]\r\n      },\r\n      scale: {\r\n        anchor: [0, 0.5],\r\n        width: 4,\r\n        height: 1\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'value'\r\n    }\r\n  }\r\n  const { stack, splitNumber, clientRect, orient, axisGap, transpose } = attrs\r\n  if (transpose) {\r\n    ;['top', 'bottom', 'right', 'left'].forEach(str => {\r\n      defaultAttrs[str].type = defaultAttrs[str].type === 'value' ? 'category' : 'value'\r\n    })\r\n  }\r\n  const { width, height } = clientRect\r\n  let scales = axis.call(this, {\r\n    dataSet: arr,\r\n    stack,\r\n    splitNumber\r\n    // needReverse: true,\r\n  })\r\n  let maxVal = Math.max.apply(this, scales)\r\n  let minVal = Math.min.apply(this, scales)\r\n  let type = attrs.type || defaultAttrs[orient].type\r\n  let distance = orient === 'left' || orient === 'right' ? height : width\r\n  let datasetReverse = this.dataset.datasetReverse\r\n  if (type === 'value') {\r\n    let scaleFY = scaleLinear()\r\n      .domain([minVal, maxVal])\r\n      .range([0, distance])\r\n    scales.forEach(num => {\r\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(\r\n        defaultAttrs,\r\n        orient,\r\n        {\r\n          text: '' + typeof datasetReverse === 'function' ? datasetReverse(num) : num\r\n        },\r\n        num,\r\n        scaleFY,\r\n        clientRect\r\n      )\r\n      res.scales.push(scaleAttr)\r\n      res.labels.push(labelAttr)\r\n      res.grids.push(gridAttr)\r\n    })\r\n  } else if (type === 'category') {\r\n    let curArr = arr[0]\r\n    let len = axisGap ? curArr.length : curArr.length - 1\r\n    let scaleFY = scaleLinear()\r\n      .domain([0, len])\r\n      .range([0, distance])\r\n    curArr.forEach((cell, ind) => {\r\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, cell, ind, scaleFY, clientRect, axisGap)\r\n      res.scales.push(scaleAttr)\r\n      res.labels.push(labelAttr)\r\n      res.grids.push(gridAttr)\r\n    })\r\n    if (axisGap) {\r\n      // 如果是axisGap为true，需要添加一个点\r\n      let { scaleAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, {}, curArr.length, scaleFY, clientRect, axisGap)\r\n      res.scales.push(scaleAttr)\r\n      res.grids.push(gridAttr)\r\n    }\r\n  }\r\n  if (orient === 'left' || orient === 'right') {\r\n    let dx = orient === 'left' ? 0 : width\r\n    res.axisPoints = [\r\n      [dx, height],\r\n      [dx, 0]\r\n    ]\r\n    res.nameAttr = { pos: [dx, 0], anchor: [0.5, 1], padding: [10] }\r\n  } else if (orient === 'bottom' || orient === 'top') {\r\n    let dy = orient === 'bottom' ? height : 0\r\n    res.axisPoints = [\r\n      [0, dy],\r\n      [width, dy]\r\n    ]\r\n    res.nameAttr = { pos: [width, dy], anchor: [0, 1] }\r\n  }\r\n  return res\r\n}\r\nfunction getItemAttrs(defaultAttrs, orient, cell, value, scaleF, clientRect, axisGap) {\r\n  let res = emptyObject()\r\n  let { width, height, left, top } = clientRect\r\n  let labelPosValue = axisGap ? value + 0.5 : value\r\n  if (orient === 'left' || orient === 'right') {\r\n    let x = orient === 'left' ? 0 : width\r\n    let yv = scaleF(value)\r\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [x, height - yv] }\r\n    res.gridAttr = {\r\n      ...defaultAttrs[orient].grid,\r\n      points: [\r\n        [x, height - yv],\r\n        [width, height - yv]\r\n      ]\r\n    }\r\n    res.labelAttr = {\r\n      ...defaultAttrs[orient].label,\r\n      width: left,\r\n      text: '' + cell.text,\r\n      pos: [x, height - scaleF(labelPosValue)]\r\n    }\r\n  } else if (orient === 'top' || orient === 'bottom') {\r\n    let y = orient === 'top' ? 0 : height\r\n    let xv = scaleF(value)\r\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [xv, y] }\r\n    res.gridAttr = {\r\n      ...defaultAttrs[orient].grid,\r\n      points: [\r\n        [xv, 0],\r\n        [xv, y]\r\n      ]\r\n    }\r\n    res.labelAttr = {\r\n      ...defaultAttrs[orient].label,\r\n      width: left,\r\n      text: '' + cell.text,\r\n      pos: [scaleF(labelPosValue), y]\r\n    }\r\n  }\r\n  return res\r\n}\r\n","import Base from '../../base/BasePlugin'\r\nimport { Group, Label, Polyline, Node } from 'spritejs'\r\nimport { emptyObject } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nimport layout from './layout'\r\nimport { getStyle } from '@/utils/getStyle'\r\nclass Axis extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderAxis = emptyObject()\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    let targetVisual = this.chart.visuals[0]\r\n    if (attrs.axisGap === undefined && targetVisual && targetVisual.constructor.name === 'Bar') {\r\n      //如果axisGap没有赋值\r\n      //如果是柱状图\r\n      attrs.axisGap = true\r\n    }\r\n    if (targetVisual && targetVisual.constructor.name === 'Scatter') {\r\n      attrs.type = 'value'\r\n    }\r\n    if (attrs.transpose === undefined && targetVisual) {\r\n      //坐标轴转换\r\n      attrs.transpose = targetVisual.renderAttrs.transpose\r\n    }\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    let { axis } = this.getRenderData()\r\n    return axis\r\n  }\r\n  beforeUpdate() {\r\n    let { axis } = this.getRenderData()\r\n    return axis\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'axis',\r\n      zIndex: -1,\r\n      formatter: e => e\r\n    }\r\n  }\r\n  //defaultStyles() {}\r\n  getRenderData() {\r\n    //根据axis的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    let axis = layout.call(this, renderData, renderAttrs)\r\n    return { axis }\r\n  }\r\n  render(axis) {\r\n    let oldAxis = this.renderAxis || emptyObject()\r\n    this.renderAxis = axis\r\n    let { clientRect, formatter, orient, name } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    let axisStyle = getStyle(this, 'axis', styles.axis)\r\n    //当前主体颜色\r\n    let arrOrient = this.chart.plugins\r\n      .map(plugin => {\r\n        if (plugin.constructor.name === 'Axis') {\r\n          return plugin.renderAttrs.orient\r\n        }\r\n      })\r\n      .filter(Boolean)\r\n    let nameStyle = getStyle(this, 'name', [styles.name || {}, filterClone(axis.nameAttr, [], ['pos'])])\r\n    let oldPos = (oldAxis.nameAttr && oldAxis.nameAttr.pos) || axis.nameAttr.pos\r\n    let nameAni = { from: { pos: oldPos }, to: { pos: axis.nameAttr.pos } }\r\n    return (\r\n      <Group ref=\"wrap\" pos={[clientRect.left, clientRect.top]}>\r\n        <Polyline\r\n          {...axisStyle}\r\n          animation={{\r\n            from: { points: oldAxis.axisPoints },\r\n            to: { points: axis.axisPoints }\r\n          }}\r\n        ></Polyline>\r\n        <Group>\r\n          {axis.grids.map((grid, ind) => {\r\n            let fromPoints = (oldAxis.grids && oldAxis.grids[ind] && oldAxis.grids[ind].points) || grid.points\r\n            let ani = {\r\n              from: { points: fromPoints },\r\n              to: { points: grid.points }\r\n            }\r\n            let style = getStyle(this, 'grid', styles.grid, [ind])\r\n            if (orient === 'left' || orient === 'right') {\r\n              if ((ind === 0 && arrOrient.includes('bottom')) || (ind === axis.grids.length - 1 && arrOrient.includes('top'))) {\r\n                return <Node />\r\n              }\r\n            } else if (orient === 'top' || orient === 'bottom') {\r\n              if ((ind === 0 && arrOrient.includes('left')) || (ind === axis.grids.length - 1 && arrOrient.includes('right'))) {\r\n                return <Node />\r\n              }\r\n            }\r\n            return style === false ? <Node /> : <Polyline {...style} points={ani.from.points} animation={ani} />\r\n          })}\r\n          {axis.scales.map((scale, ind) => {\r\n            let fromPos = (oldAxis.scales && oldAxis.scales[ind] && oldAxis.scales[ind].pos) || scale.pos\r\n            let ani = { from: { pos: fromPos }, to: { pos: scale.pos } }\r\n            // 排除pos属性，pos属性用来处理动画，其它属性直接赋值\r\n            let style = getStyle(this, 'scale', styles.scale, [scale, ind])\r\n            return style === false ? <Node /> : <Group {...filterClone(scale, [], ['pos'])} {...style} animation={ani}></Group>\r\n          })}\r\n          {axis.labels.map((label, ind) => {\r\n            let fromPos = (oldAxis.labels && oldAxis.labels[ind] && oldAxis.labels[ind].pos) || label.pos\r\n            let style = getStyle(this, 'label', styles.label, [label, ind])\r\n            let ani = { from: { pos: fromPos }, to: { pos: label.pos } }\r\n            return style === false ? <Node /> : <Label {...filterClone(label, [], ['pos', 'text'])} {...style} text={formatter(label.text)} animation={ani}></Label>\r\n          })}\r\n        </Group>\r\n        {nameStyle === false || name === undefined || name.length === 0 ? <Node /> : <Label {...nameStyle} text={name} animation={nameAni} />}\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Axis\r\n","import Base from \"../../base/BasePlugin\"\r\nimport { Group, Path, Label } from \"spritejs\"\r\nimport { getStyle } from \"@/utils/getStyle\"\r\nimport Point from \"../../utils/Point\"\r\nclass Legend extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.arrLayout = null\r\n    this.state = {\r\n      page: 1,\r\n      totalPage: 1,\r\n      perPageWidthOrHeight: 0, // 每页长度（或宽度）\r\n      paginationSize: [0, 0], // 分页控件大小\r\n      groupSize: [0, 0], // legends 容器大小\r\n    }\r\n    this.twiceRender = false\r\n    this.animationSwitch = false\r\n    this.posFrom = [0, 0]\r\n    this.currentPos = [0, 0]\r\n    this.legendStateArray = []\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  defaultAttrs() {\r\n    return {\r\n      orient: \"horizontal\", // 布局方式， vertical | horizontal\r\n      align: [\"center\", \"bottom\"], // 水平方向布局，left | center | right, 垂直方向布局，top | center | bottom\r\n      formatter: (d) => d.value || d,\r\n      iconSize: [12, 12],\r\n      textSize: [40, 12],\r\n      outGap: 10,\r\n      innerGap: 4,\r\n      formatter: (d) => d.text || d,\r\n    }\r\n  }\r\n  get pos() {\r\n    const { clientRect, align } = this.renderAttrs\r\n    let groupSize = this.state.groupSize\r\n    let { width, height, top, left, right, bottom } = clientRect\r\n    let canvasWidth = width + left + right\r\n    let canvasHeight = height + top + bottom\r\n    this.state.paginationSize = this.isVertical ? [30, 60] : [70, 25]\r\n\r\n    const isValidLayout = (value, type) => {\r\n      if (type === \"horizontal\") {\r\n        // 水平布局\r\n        return [\"default\", \"left\", \"center\", \"right\"].indexOf(value) > -1\r\n      } else {\r\n        // 垂直布局\r\n        return [\"default\", \"top\", \"center\", \"bottom\"].indexOf(value) > -1\r\n      }\r\n    }\r\n\r\n    const hLocation = {\r\n      // 水平定位\r\n      default: 0,\r\n      left: 2,\r\n      center: (canvasWidth - groupSize[0]) / 2,\r\n      right: canvasWidth - groupSize[0] - 2,\r\n      numberOrPercent(num) {\r\n        // 输入 数字或百分比\r\n        if (typeof num === \"number\") {\r\n          return num\r\n        } else {\r\n          let val = 0\r\n          try {\r\n            val = parseFloat(num) / 100\r\n          } catch (e) {}\r\n          return (canvasWidth - groupSize[0]) * val\r\n        }\r\n      },\r\n    }\r\n\r\n    const vLocation = {\r\n      // 垂直定位\r\n      default: 0,\r\n      top: 2,\r\n      center: canvasHeight / 2 - groupSize[1] / 2,\r\n      bottom: canvasHeight - groupSize[1] - 2,\r\n      numberOrPercent(num) {\r\n        // 输入 数字或百分比\r\n        if (typeof num === \"number\") {\r\n          return num\r\n        } else {\r\n          let val = 0\r\n\r\n          try {\r\n            val = parseFloat(num) / 100\r\n          } catch (e) {}\r\n          return (canvasHeight - groupSize[1]) * val\r\n        }\r\n      },\r\n    }\r\n    let pos = [\r\n      isValidLayout(align[0], \"horizontal\")\r\n        ? hLocation[align[0]]\r\n        : hLocation.numberOrPercent(align[0]),\r\n      isValidLayout(align[1], \"vertical\")\r\n        ? vLocation[align[1]]\r\n        : vLocation.numberOrPercent(align[1]),\r\n    ]\r\n    let pagePos\r\n    let totalPageX = Math.ceil(this.state.groupSize[0] / canvasWidth)\r\n    let totalPageY = Math.ceil(this.state.groupSize[1] / canvasHeight)\r\n    let paginationSize = this.state.paginationSize\r\n    let pagePrev, pageText, pageNext\r\n    if (totalPageX > 1) {\r\n      this.state.totalPage = totalPageX\r\n      let pagePosY =\r\n        pos[1] + groupSize[1] + paginationSize[1] > canvasHeight\r\n          ? pos[1] - paginationSize[1]\r\n          : pos[1] + groupSize[1]\r\n      pagePos = [canvasWidth - paginationSize[0], pagePosY]\r\n      pagePrev = [0, 0]\r\n      pageText = [15, 0]\r\n      pageNext = [45, 0]\r\n      pos[0] = -(this.state.page - 1) * canvasWidth\r\n    } else if (totalPageY > 1) {\r\n      this.state.totalPage = totalPageY\r\n      let pagePosX =\r\n        pos[0] + groupSize[0] + paginationSize[0] > canvasWidth\r\n          ? pos[0] - paginationSize[0]\r\n          : pos[0] + groupSize[0]\r\n      pagePos = [pagePosX, canvasHeight - paginationSize[1]]\r\n      pagePrev = [5, 0]\r\n      pageText = [0, 20]\r\n      pageNext = [5, 40]\r\n      pos[1] = -(this.state.page - 1) * canvasHeight\r\n    } else {\r\n      this.state.page = 1\r\n      this.state.totalPage = 1\r\n    }\r\n    return {\r\n      pos: pos,\r\n      pagePos: { pos: pagePos, pagePrev, pageText, pageNext },\r\n    }\r\n  }\r\n\r\n  get isVertical() {\r\n    return this.renderAttrs.orient === \"vertical\"\r\n  }\r\n  beforeRender() {\r\n    if (this.twiceRender) {\r\n      this.reset()\r\n    } else {\r\n      this.arrLayout = this.getRenderData().arrLayout\r\n    }\r\n    return this.arrLayout\r\n  }\r\n\r\n  getRenderData() {\r\n    let { layoutBy, innerGap } = this.renderAttrs\r\n    let renderData = this.dataset[layoutBy].map((item, index) => {\r\n      this.legendStateArray.push(item.state)\r\n      return {\r\n        name: item.name,\r\n        state: item.state,\r\n      }\r\n    })\r\n    let arrLayout = renderData.map((item) => {\r\n      return {\r\n        textAttrs: {\r\n          text: item.name,\r\n          paddingLeft: innerGap,\r\n        },\r\n      }\r\n    })\r\n    this.arrLayout = arrLayout\r\n    return { arrLayout }\r\n  }\r\n  itemClick(e, el) {\r\n    const ind = el.attr(\"_index\")\r\n    let state = this.dataset[this.renderAttrs.layoutBy][ind].state\r\n    state = state !== \"disabled\" ? \"disabled\" : \"default\"\r\n    this.dataset[this.renderAttrs.layoutBy][ind].state = state\r\n  }\r\n  itemLeave(e, el) {\r\n    const ind = el.attr(\"_index\")\r\n    this.legendStateArray[ind] = \"default\"\r\n    this.update()\r\n  }\r\n  itemMove(e, el) {\r\n    const ind = el.attr(\"_index\")\r\n    if (this.legendStateArray[ind] === \"default\") {\r\n      this.legendStateArray[ind] = \"hover\"\r\n      this.update()\r\n    }\r\n  }\r\n  beforeUpdate(params) {\r\n    if (params && params.type === \"source\") {\r\n      this.animationSwitch = true\r\n      this.twiceRender = false\r\n      return this.beforeRender()\r\n    } else {\r\n      if (params && params.type === \"resize\") {\r\n        this.animationSwitch = true\r\n      }\r\n      return this.arrLayout\r\n    }\r\n  }\r\n\r\n  rendered() {\r\n    // console.log(\"rendered\");\r\n  }\r\n\r\n  afterrender(e, el) {\r\n    if (this.twiceRender) {\r\n      this.animationSwitch = false\r\n      return\r\n    }\r\n    this.twiceRender = true\r\n    this.reset()\r\n    this.update()\r\n  }\r\n  reset() {\r\n    let legendsSize = [0, 0]\r\n    let { outGap, innerGap, iconSize, textSize } = this.renderAttrs\r\n    let maxTextWidth = 0\r\n    let colors = this.theme.colors\r\n    this.arrLayout = this.arrLayout.map((item, index) => {\r\n      item.iconAttrs = {}\r\n      let iconEl = this.$refs[\"icon\" + index]\r\n      let iconRect = iconEl.getBoundingClientRect()\r\n      let textEl = this.$refs[\"text\" + index]\r\n      let textRect = textEl.getBoundingClientRect()\r\n      let iconAttrs = {\r\n        bgcolor: colors[index],\r\n        size: iconSize,\r\n        pos: this.isVertical\r\n          ? [0, legendsSize[1] + (textRect.height - iconSize[1]) / 2]\r\n          : [legendsSize[0], (textRect.height - iconSize[1]) / 2],\r\n      }\r\n      if (this.dataset[this.renderAttrs.layoutBy][index].state === \"disabled\") {\r\n        iconAttrs.bgcolor = \"#ccc\"\r\n        iconAttrs.fillColor = \"#ccc\"\r\n      }\r\n      let textAttrs = {\r\n        ...item.textAttrs,\r\n        pos: this.isVertical\r\n          ? [iconSize[0], legendsSize[1]]\r\n          : [iconSize[0] + legendsSize[0], 0],\r\n        text: item.textAttrs.text,\r\n      }\r\n      let size = [iconSize[0] + textRect.width, iconSize[1]]\r\n      if (size[0] + outGap > maxTextWidth) {\r\n        maxTextWidth = size[0] + outGap\r\n      }\r\n      legendsSize = this.isVertical\r\n        ? [maxTextWidth, legendsSize[1] + textRect.height + outGap]\r\n        : [legendsSize[0] + size[0] + outGap, textRect.height]\r\n      return { iconAttrs, textAttrs }\r\n    })\r\n    this.state.groupSize = legendsSize\r\n  }\r\n  changePage(e, el) {\r\n    if (el.name === \"prev\" && this.state.page > 1) {\r\n      this.state.page--\r\n      this.animationSwitch = true\r\n      this.update()\r\n    } else if (el.name === \"next\" && this.state.page < this.state.totalPage) {\r\n      this.state.page++\r\n      this.animationSwitch = true\r\n      this.update()\r\n    }\r\n  }\r\n  render(arr) {\r\n    this.posFrom = this.currentPos\r\n    const { pos, pagePos } = this.pos\r\n    this.posFrom = this.twiceRender && this.animationSwitch ? this.posFrom : pos\r\n    const { page, totalPage } = this.state\r\n    this.currentPos = pos\r\n    const styles = this.renderStyles\r\n    const isVertical = this.isVertical\r\n    if (this.twiceRender) {\r\n      pos[0] = pos[0] - 1\r\n    }\r\n    const { formatter } = this.renderAttrs\r\n    if (arr) {\r\n      return (\r\n        <Group size={[1, 1]} onAfterrender={this.afterrender}>\r\n          <Group\r\n            animation={{\r\n              from: { pos: this.posFrom },\r\n              to: { pos: pos },\r\n              duration:\r\n                this.twiceRender && this.animationSwitch\r\n                  ? this.renderAttrs.animation.duration\r\n                  : 0,\r\n            }}\r\n            // pos={pos}\r\n          >\r\n            {arr.map((attrs, ind) => {\r\n              let cell = this.dataset[this.renderAttrs.layoutBy][ind]\r\n              let hover = this.legendStateArray[ind] === \"hover\"\r\n              let disabled = cell.state === \"disabled\"\r\n              let style = getStyle(\r\n                this,\r\n                \"point\",\r\n                [{}, styles.point],\r\n                [cell, ind]\r\n              )\r\n\r\n              let hoverStyle = hover\r\n                ? getStyle(this, \"point:hover\", [{}], [cell, ind])\r\n                : {}\r\n\r\n              if (disabled && attrs.iconAttrs.bgcolor) {\r\n                hoverStyle.bgcolor = \"#ccc\"\r\n                hoverStyle.fillColor = \"#ccc\"\r\n              }\r\n              let textStyle = getStyle(\r\n                this,\r\n                \"text\",\r\n                [{}, styles.text],\r\n                [cell, ind]\r\n              )\r\n              let textHoverStyle = hover\r\n                ? getStyle(this, \"text:hover\", [{}], [cell, ind])\r\n                : {}\r\n\r\n              attrs.textAttrs.text = formatter(cell.name, cell.data, ind)\r\n              return (\r\n                <Group\r\n                  onClick={this.itemClick}\r\n                  onMouseleave={this.itemLeave}\r\n                  onMouseenter={this.itemMove}\r\n                  onMousemove={this.itemMove}\r\n                  {...{ _index: ind }}\r\n                >\r\n                  <Point\r\n                    {...{ ref: \"icon\" + ind }}\r\n                    {...attrs.iconAttrs}\r\n                    {...style}\r\n                    {...hoverStyle}\r\n                  />\r\n                  <Label\r\n                    {...{ ref: \"text\" + ind }}\r\n                    {...attrs.textAttrs}\r\n                    {...textStyle}\r\n                    {...textHoverStyle}\r\n                  />\r\n                </Group>\r\n              )\r\n            })}\r\n          </Group>\r\n\r\n          {totalPage <= 1 ? null : (\r\n            <Group pos={pagePos.pos}>\r\n              <Path\r\n                pos={pagePos.pagePrev}\r\n                {...(isVertical ? { marginLeft: 5 } : {})}\r\n                name={\"prev\"}\r\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\r\n                d={\r\n                  isVertical\r\n                    ? \"M 0 15 L 15 15 L7.5 0 Z\"\r\n                    : \"M 0 7.5 L 13 0 L13 15 Z\"\r\n                }\r\n                fillColor={page <= 1 ? \"#ccc\" : \"#324556\"}\r\n                onClick={this.changePage}\r\n              />\r\n              <Label\r\n                pos={pagePos.pageText}\r\n                ref=\"paginationText\"\r\n                fontSize=\"14px\"\r\n                text={page + \"/\" + totalPage + \"\"}\r\n                lineBreak=\"normal\"\r\n                padding={isVertical ? [0, 2] : [0, 2]}\r\n              />\r\n\r\n              <Path\r\n                pos={pagePos.pageNext}\r\n                {...(isVertical ? { marginLeft: 5 } : {})}\r\n                name={\"next\"}\r\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\r\n                d={\r\n                  isVertical\r\n                    ? \"M 0 0 L 15 0 L7.5 13 Z\"\r\n                    : \"M 13 7.5 L 0 0 L0 15 Z\"\r\n                }\r\n                fillColor={page >= totalPage ? \"#ccc\" : \"#324556\"}\r\n                onClick={this.changePage}\r\n              />\r\n            </Group>\r\n          )}\r\n        </Group>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default Legend\r\n","import Base from '../../base/BasePlugin'\r\nimport { throttle } from '@qcharts/utils'\r\nclass Tooltip extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.$el = null\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {}\r\n  beforeUpdate() {}\r\n  tipMousemove = throttle(\r\n    e => {\r\n      let maxLeft = window.innerWidth - this.$el.getBoundingClientRect().width - 5\r\n      let maxTop = window.innerHeight - this.$el.getBoundingClientRect().height - 5\r\n      let tarTop = e.y > maxTop ? maxTop : e.y\r\n      let tarLeft = e.x > maxLeft ? maxLeft : e.x\r\n      this.$el.style.left = tarLeft + 'px'\r\n      this.$el.style.top = tarTop + 'px'\r\n    },\r\n    100,\r\n    1\r\n  )\r\n  rendered() {\r\n    let { colors, sort, formatter } = this.renderAttrs\r\n    this.chart.dataset.on('change', data => {\r\n      let { option } = data\r\n      this.$el.innerHTML = ''\r\n      // let reverse = param => {\r\n      //   return typeof this.dataset.datasetReverse === 'function' ? this.dataset.datasetReverse(param) : param\r\n      // }\r\n      if (option.value === 'hover') {\r\n        let arr = [].concat(this.chart.dataset).filter(item => item.state === 'hover')\r\n        if (sort) {\r\n          arr.sort(sort)\r\n        }\r\n        if (arr.length) {\r\n          let innerHtml = ''\r\n          let $div = document.createElement('div')\r\n          $div.style.cssText = 'white-space:nowrap;padding:6px 10px;background-color:rgba(0,0,0,0.5);color:#fff;'\r\n          arr.forEach((item, ind) => {\r\n            let text = `${item.text}：${item.value}`\r\n            if (formatter) {\r\n              text = formatter(item.data) || text\r\n            }\r\n            let html = `<div class=\"tooltip-item\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${colors[ind]}\"></span><span class=\"text\">${text}</span></div>`\r\n            innerHtml += html\r\n          })\r\n          $div.innerHTML = innerHtml\r\n          this.$el.appendChild($div)\r\n        }\r\n      } else if (option.name === 'reset') {\r\n        this.$el.innerHTML = ''\r\n      }\r\n    })\r\n    document.body.addEventListener('mousemove', this.tipMousemove)\r\n  }\r\n  render() {\r\n    if (!this.$el) {\r\n      this.$el = document.createElement('div')\r\n      this.$el.className = 'qcharts-tooltip'\r\n      this.$el.style.cssText = 'transition:top 300ms ease-out,left 300ms ease-out;position:absolute;pointEvents:none;pointer-events:none;font-size:14px;'\r\n    }\r\n    document.body.appendChild(this.$el)\r\n  }\r\n}\r\nexport default Tooltip\r\n","import Base from './base/Base'\r\nimport { jsType, emptyObject, throttle } from '@qcharts/utils'\r\nimport { getGlobal, isWeiXin } from './base/platform'\r\nimport BaseVisual from './base/BaseVisual'\r\nimport BasePlugin from './base/BasePlugin'\r\nimport { Scene } from 'spritejs'\r\nimport { Wave, Gauge } from './index'\r\nclass Chart extends Base {\r\n  constructor(attr) {\r\n    super()\r\n    let { container } = attr\r\n    if (jsType(container) === 'string') {\r\n      container = document.querySelector(container)\r\n    }\r\n    this.$el = container\r\n    this.visuals = []\r\n    this.plugins = []\r\n    this.children = []\r\n    if (isWeiXin()) {\r\n      const { pixelUnit='rpx', size, contextType } = attr\r\n      let displayRatio = 1\r\n      if (pixelUnit === 'rpx') {\r\n        const { windowWidth } = wx.getSystemInfoSync()\r\n        displayRatio = windowWidth / 750\r\n      }\r\n      this.scene = new Scene({\r\n        width: size[0] / displayRatio,\r\n        height: size[1] / displayRatio,\r\n        extra: this,\r\n        contextType,\r\n        displayRatio\r\n      })\r\n    } else {\r\n      this.scene = new Scene({ container, displayRatio: getGlobal().devicePixelRatio })\r\n    }\r\n    this.scene.addEventListener('resize', (_) => {\r\n      //舞台变化的时候\r\n      this.checkUpdate({ type: 'resize' })\r\n    })\r\n    this.checkUpdate = throttle((args) => {\r\n      this.children.forEach((node) => {\r\n        node.update(args)\r\n      })\r\n    }, 300)\r\n    this.checkRender = throttle((_) => {\r\n      this.children.forEach((child) => {\r\n        child.created()\r\n        this.dataset.addDep(child)\r\n      })\r\n      this.__store.__isCreated__ = true\r\n      this.dispatchEvent('updated', emptyObject())\r\n    })\r\n  }\r\n  update(args) {\r\n    //图表发生更新，触发图表内组件更新\r\n    this.checkUpdate(args)\r\n  }\r\n  append(node) {\r\n    const notNeedDataSetList = [Wave, Gauge]\r\n    if (notNeedDataSetList.some((Target) => node instanceof Target)) {\r\n      //补齐dataset，wave中不用dataset\r\n      this.source([], {})\r\n    } else if (!this.dataset) {\r\n      console.error('Chart should set data before append some graphs')\r\n      return\r\n    }\r\n    if (jsType(node) === 'array') {\r\n      node.forEach((item) => {\r\n        this.append(item)\r\n      })\r\n      return\r\n    } else if (node instanceof BaseVisual) {\r\n      this.visuals.push(node)\r\n    } else if (node instanceof BasePlugin) {\r\n      this.plugins.push(node)\r\n    }\r\n    this.children.push(node)\r\n    node.chart = this\r\n    node.scene = this.scene\r\n    this.checkRender()\r\n  }\r\n  getDataURL() {\r\n    return this.scene.snapshot().toDataURL()\r\n  }\r\n}\r\n\r\nexport default Chart\r\n","import { h, easing } from '@qcharts/vnode'\r\nimport Dataset from '@qcharts/dataset'\r\nimport Line from './visuals/Line/index'\r\nimport Pie from './visuals/Pie/index'\r\nimport Area from './visuals/Area/index'\r\nimport Radar from './visuals/Radar/index'\r\nimport Bar from './visuals/Bar/index'\r\nimport PolarBar from './visuals/PolarBar/index'\r\nimport Funnel from './visuals/Funnel/index'\r\nimport Scatter from './visuals/Scatter/index'\r\nimport Wave from './visuals/Wave/index'\r\nimport Gauge from './visuals/Gauge'\r\nimport RadialBar from './visuals/RadialBar'\r\nimport Axis from './plugins/Axis/index'\r\nimport Legend from './plugins/Legend/index'\r\nimport Tooltip from './plugins/Tooltip/index'\r\nimport {getGlobal} from './base/platform'\r\nimport Chart from './Chart'\r\nimport theme from './theme/default'\r\nconst qcharts = {\r\n  version: '1.0.0',\r\n  Line,\r\n  Pie,\r\n  Area,\r\n  Radar,\r\n  Bar,\r\n  PolarBar,\r\n  Funnel,\r\n  Scatter,\r\n  Gauge,\r\n  RadialBar,\r\n  Legend,\r\n  Axis,\r\n  Wave,\r\n  Tooltip,\r\n  h,\r\n  theme,\r\n  Chart,\r\n  easing\r\n}\r\n\r\nconst global = getGlobal()\r\nglobal.qcharts = qcharts\r\n\r\nexport { Dataset, Line, Pie, Area, Wave, Radar, Tooltip, Bar, PolarBar, Funnel, Scatter, Gauge, RadialBar, Axis, Legend, Chart, h, theme, easing }\r\n\r\nexport default qcharts\r\n"],"sourceRoot":""}