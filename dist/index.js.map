<<<<<<< HEAD
{"version":3,"sources":["webpack://qcharts/webpack/universalModuleDefinition","webpack://qcharts/webpack/bootstrap","webpack://qcharts/external {\"root\":\"spritejs\",\"commonjs2\":\"spritejs/dist/spritejs.min.js\",\"commonjs\":\"spritejs/dist/spritejs.min.js\",\"amd\":\"spritejs\",\"umd\":\"spritejs\"}","webpack://qcharts/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/extends.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/inherits.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/createClass.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/get.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://qcharts/./node_modules/filter-clone/lib/index.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://qcharts/./node_modules/@qcharts/vnode/node_modules/@qcharts/utils/lib/index.js","webpack://qcharts/./src/base/platform.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/typeof.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/construct.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://qcharts/(webpack)/buildin/global.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/h.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/consts.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/diff.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/render.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/easing.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/interpolate.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/index.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/tween.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/patch.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/nodeHelper.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/state.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/event.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Cell.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Row.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Dataset.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/index.js","webpack://qcharts/./src/base/mixin.js","webpack://qcharts/./node_modules/@qcharts/utils/src/index.js","webpack://qcharts/./src/theme/default.js","webpack://qcharts/./src/base/Base.js","webpack://qcharts/./src/base/BaseVisual.js","webpack://qcharts/./src/utils/getStyle.js","webpack://qcharts/./src/utils/scaleLinear.js","webpack://qcharts/./src/utils/axis.js","webpack://qcharts/./src/visuals/Line/layout.js","webpack://qcharts/./src/utils/Point.js","webpack://qcharts/./src/visuals/Line/index.js","webpack://qcharts/./src/visuals/Pie/layout.js","webpack://qcharts/./src/visuals/Pie/index.js","webpack://qcharts/./src/visuals/Area/index.js","webpack://qcharts/./src/visuals/Radar/layout.js","webpack://qcharts/./src/visuals/Radar/index.js","webpack://qcharts/./src/visuals/Bar/layout.js","webpack://qcharts/./src/visuals/Bar/index.js","webpack://qcharts/./src/visuals/PolarBar/layout.js","webpack://qcharts/./src/visuals/PolarBar/index.js","webpack://qcharts/./src/visuals/Funnel/layout.js","webpack://qcharts/./src/visuals/Funnel/index.js","webpack://qcharts/./src/visuals/Scatter/layout.js","webpack://qcharts/./src/visuals/Scatter/index.js","webpack://qcharts/./src/utils/color.js","webpack://qcharts/./src/utils/ellipse2path.js","webpack://qcharts/./src/visuals/Wave/index.js","webpack://qcharts/./src/visuals/Gauge/index.js","webpack://qcharts/./src/visuals/RadialBar/index.js","webpack://qcharts/./src/base/BasePlugin.js","webpack://qcharts/./src/plugins/Axis/layout.js","webpack://qcharts/./src/plugins/Axis/index.js","webpack://qcharts/./src/plugins/Legend/index.js","webpack://qcharts/./src/plugins/Tooltip/index.js","webpack://qcharts/./src/Chart.js","webpack://qcharts/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_extends","assign","target","arguments","length","source","apply","this","instance","Constructor","TypeError","_typeof","assertThisInitialized","self","subClass","superClass","constructor","writable","configurable","_defineProperties","props","descriptor","protoProps","staticProps","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","obj","ReferenceError","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","iterator","_default","filterClone","include","exclude","res","getType","len","push","j","indexOf","test","str","toString","slice","toLowerCase","arrayWithHoles","iterableToArrayLimit","nonIterableRest","e","default","u","setTimeout","clearTimeout","match","Number","substring","isWeiXin","wx","getSystemInfoSync","getGlobal","getApp","global","Error","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Map","undefined","has","set","Wrapper","_setPrototypeOf","fn","Function","isNativeReflectConstruct","sham","Proxy","Date","_construct","Parent","args","a","Array","isArray","_arr","_n","_d","_e","_s","_i","next","done","err","g","arr2","iter","from","sourceKeys","keys","VNode","h","tagName","attrs","children","node","concat","filter","Boolean","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","type","isDiffrentVNode","createElement","vnode","TagName","el","patchAttrs","appendChild","map","forEach","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","number","b","array","bl","al","min","x","interpolate","now","performance","requestAnimationFrame","cancelAnimationFrame","startTime","id","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","time","_onComplete","callback","elapseTime","animateTime","timer","delayTime","Promise","resolve","step","start","cancel","then","graph","patche","ref","addRef","console","error","split","cb","removeAllListeners","addEventListener","evt","addEvent","states","state","oldState","attr","oldstates","oldAttrs","newAttrs","duration","renderAttrs","animation","transition","addAttrs","middle","use","to","delay","useTween","easing","formatter","ani","onUpdate","animate","fill","finished","offset","setAnimation","addAnimate","patch","$el","isRoot","newEl","parent","replaceChild","remove","child","ind","_ind","curNode","curVnode","hide","hover","active","disabled","mixed","mixinEvent","__store","events","on","off","curEvent","splice","once","dispatchEvent","option","item","Cell","data","dataset","row","col","datasets","_layoutScaleFunc","layoutScaleFunc","num","List","__name","__option","cell","sta","dispatchOption","Row","Col","Dataset","handleLayoutScale","layoutScale","store","__deps","__rows","sort","resArr","list","curRow","getArrData","rowKey","dep","method","replace","NUM","warn","datasetReverse","cols","colLen","lifeCycle","deepObjectMerge","objectMerge","FirstOBJ","SecondOBJ","jsType","emptyObject","throttle","interval","immediately","firstTime","getDistancePx","distance","Base","component","removeEventListener","listener","__attrs","__vnode__","__isCreated__","__refs","layerSetting","layer","__update","update","options","opts","_","render","beforeRender","rendered","params","beforeUpdate","updated","event","clientRect","left","top","right","bottom","width","height","opacity","layoutBy","style","styleKey","substr","baseAttrs","defaultAttrs","theme","layerName","zIndex","scene","defaultStyles","styles","rect","canvas","getBoundingClientRect","colors","chart","Node","random","visuals","Line","line","lineWidth","guideline","strokeColor","point","pointType","radiusX","radiusY","borderWidth","statck","Pie","sector","guideText","Area","area","Radar","Bar","bar","textureRepeat","close","groupBar","bgcolor","fillColor","text","PolarBar","Funnel","polygon","Scatter","showGuideLine","Wave","wave","fontSize","shape","Gauge","RadialBar","plugins","Tooltip","Legend","iconSize","borderRadius","Axis","axis","scale","label","grid","lineDash","orient","BaseVisual","getStyle","defaultStyle","oStyle","arrStyle","oArgs","cusStyle","includes","curStyle","scaleLinear","domain","range","disDomain","disRange","per","dataSet","section","gap","divide","toFixed","sectionAxis","stack","sum","sumDown","leng","layoutScaleValue","dataHandle","upZero","downZero","element","abs","sortUpZero","sortDownZero","maxUpZero","ceil","pop","maxDownZero","maxValue","mixNum","maxNum","splitNumber","getMax","axisArray","round","reverse","unit","unshift","layout","lines","axisGap","scales","maxVal","minVal","scaleFY","prevScaleValues","points","areaPoints","smoothRange","dx","offsetX","curPos","axisPoints","curLine","nextPoints","prevLine","startPoints","endPoints","transAreaPoint","allPoint","sprite","Sprite","path","Path","ellipse","Ellipse","Rect","triangle","Triangle","parallel","Parallel","regular","Regular","star","Star","Point","$sprite","renderSymbol","pos","renderAttr","append","Group","renderLines","hoverIndex","getRenderData","arrLayout","maxLen","areaFrom","areaTo","renderData","guidePoints","resetState","arrX","getOffsetPosition","y","curInd","posX","lineState","smooth","renderStyles","class","size","onMouseleave","guidelineleave","onMouseenter","guidelinemove","onMousemove","rows","onClick","lineClick","styleHover","rings","arrVal","reduce","totalVal","startAngle","endAngle","activeOffset","minAngle","maxAngle","totalAngle","perAngle","offsetPos","curObj","prevRing","curAngle","bisectorAngle","bisectorRadian","transRadius","angle","computeLinePos","center","radius","disRadius","centerAngle","startPoint","endPoint","labelPos","labelAnchor","renderRings","activeIndex","pervAngle","computeLine","oldRings","radiusPx","fromPoints","fromAnchor","fromPos","toPoints","toAnchor","toPos","anchor","innerRadius","curData","innerRadiusPx","mouseleave","ring","outerRadius","_index","mousemove","getPointCoordinate","radian","labelOffset","bgPoints","gridAttrs","axisAttrs","sectionAttrs","some","indicatorMax","dimension","perRadian","startRadian","currentRadian","maxScale","index","categoryPoints","dataOrigin","gridPoints","attributes","sectionData","scaleEl","oldPos","gridType","zeroPoints","otherAttrs","hoverStyle","stateStyle","getPolylineAnimation","processData","updateData","toScale","fromPts","toPts","GridShape","Arc","Polyline","getScaleAnimation","color","calcAnchor","getPt","perX","perY","perNum","labels","common","translate","display","elIndex","preEl","renderAxisLabel","renderAxisScale","secAnimation","prePoints","isSamePoints","pre","cur","otherAttr","gAnimation","renderGrid","renderAxis","renderSection","renderPoints","barSize","transpose","groupGap","stackGap","barWidth","barData","groupData","textData","bgPillarAttr","valueAxis","tableSize","axisValueMax","axisValueMin","POSITIVE_RATIO","GROUP_BAR_NUM","flag","computerLegend","GROUP_NUM","BAR_HEIGHT_FACTOR","heightSumUp","heightSumDown","gpData","rects","lenj","stackGapTemp","barHeight","posLabelY","getPoints","paddingAttrs","getDisabledPoints","groupPos","groupSize","rawValue","rotate","paddingLeft","stillSprite","groups","isNaN","floor","bgpillarState","log","pillars","texts","fromTos","parseFloat","nextPillar","prev","labelAttrs","nextText","bgpillar","myClick","pillar","barAttrs","textStyle","flat","groupPadAngle","barInnerRadius","padAngle","BAR_MAX_HEIGHT","groupAngle","barAngle","dataLength","legendArr","barStyle","groupInd","align","pyramid","polygons","guideLines","guideTexts","widthFactory","POLYGON_NUM","colse","textAnchor","counter","nextValue","guideLine","getLinePoints","plg","oldPolygons","oldLabels","oldTexts","oldLines","lineStyle","getDataRange","getBigRange","updateSectionVal","newSection","layoutWay","textField","valueField","allData","xDomain","xSection","xIsTextData","xScales","field","ySection","yScales","yDomain","newLayoutWay","xLinear","yLinear","dArry","scatterData","guideLineData","labelField","areaField","areaRange","hex","join","hexToRgba","di","temp","oldRow","cInd","getRealRadius","oldCell","fromRadius","toRadius","rowInd","colInd","ci","labelAttr","hStyle","renderScatter","renderGuideLine","ellipse2path","cx","cy","rx","ry","offsetR","tickId","oldAttr","amplitude","wavelength","percent","currentR","clipWave","$refs","clipPath","pathHeight","originalContentRect","perR","currentX","startY","lastY","waveStyle","shapeStyle","tickLine","tickLength","isInner","cX0","cY0","anchorX","anchorY","gaugeAnimations","lineCap","_useBuiltInColors","strokeBgcolor","title","tickStep","tickFormatter","attrEndAngle","arc","transform","maxTickTextFontSize","fromRotate","pointerAnimation","pointerWidth","pointerTopOffset","pointerLen","pWidth","transformOrigin","labelCenter","ticks","isStyleExist","tickText","realTitle","gradientColor","gradientOpt","vector","Gradient","tick","realSize","gPos","gSize","renderPointer","textAlign","forceUpdate","v","count","tickRadius","ret","flattern","animators","total","cloneData","maxOuterRadius","perRadius","normalStyle","anticlockwise","maxRadius","maxWidth","maxHeight","BasePlugin","grids","padding","getItemAttrs","scaleAttr","gridAttr","curArr","nameAttr","dy","scaleF","labelPosValue","yv","xv","oldAxis","axisStyle","arrOrient","plugin","nameStyle","nameAni","targetVisual","page","totalPage","perPageWidthOrHeight","paginationSize","twiceRender","animationSwitch","posFrom","currentPos","legendStateArray","lineCounter","textSize","scroll","outGap","innerGap","lineGap","reset","textAttrs","legendsSize","isVertical","maxTextWidth","canvasWidth","canvasHeight","iconAttrs","iconEl","textRect","heightSize","iconPos","groupAttrs","pagePos","onAfterrender","afterrender","textHoverStyle","itemClick","itemLeave","itemMove","pagePrev","pageText","pageNext","isValidLayout","hLocation","numberOrPercent","vLocation","totalPageX","totalPageY","pagePosY","maxLeft","innerWidth","maxTop","innerHeight","tarTop","tarLeft","innerHTML","$div","document","cssText","styleText","$html","className","$icon","querySelector","$text","formatterData","$title","styleTitle","prepend","body","tipMousemove","Chart","container","pixelUnit","contextType","displayRatio","windowWidth","Scene","extra","devicePixelRatio","checkUpdate","checkRender","created","addDep","Target","snapshot","toDataURL","qcharts","version"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"spritejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qcharts\"] = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse\n\t\troot[\"qcharts\"] = factory(root[\"spritejs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.utils=e():t.utils=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(...t){let e=t[0];if(t.length>1)for(let r=1;r<t.length;r++)n(e,t[r]);return e;function n(t,e){for(var n in e)t[n]=t[n]&&\"[object Object]\"===t[n].toString()?r(t[n],e[n]):t[n]=e[n];return t}}function o(){return Object.create(null)}function u(t){const e=typeof t;return\"object\"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}function i(t,e=16,n=!1){let r=null,o=n;return function(...n){if(o)return t.apply(this,n),o=!1;r||(r=setTimeout(()=>{clearTimeout(r),r=null,t.apply(this,n)},e))}}function c(t,e){return\"string\"===u(t)&&t.match(/%$/)?Number(t.substring(0,t.indexOf(\"%\")))/100*e:t}n.r(e),n.d(e,\"deepObjectMerge\",(function(){return r})),n.d(e,\"emptyObject\",(function(){return o})),n.d(e,\"jsType\",(function(){return u})),n.d(e,\"throttle\",(function(){return i})),n.d(e,\"getDistancePx\",(function(){return c}))}])}));\n//# sourceMappingURL=index.js.map","export const isWeiXin = () => {\n  return typeof wx !== 'undefined' && typeof wx.getSystemInfoSync === 'function'\n}\n\nexport const getGlobal = () => {\n  if (isWeiXin()) return getApp()\n  if (typeof self !== 'undefined') return self\n  if (typeof window !== 'undefined') return window\n  if (typeof global !== 'undefined') return global\n  throw new Error(`unable to locate global object`)\n}\n\nexport const platform = getGlobal()\n","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  const el = new TagName(attrs)\n  //渲染的spritejs对象放到 visual或者plugin上\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children.map(createElement.bind(this)).filter(Boolean).forEach(el.appendChild.bind(el))\n  }\n  return el\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","import interpolate from './interpolate'\nimport invariant from './invariant'\n\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame, cancelAnimationFrame\nif (typeof window !== 'undefined' && typeof window.requestAnimationFrame === 'function') {\n  requestAnimationFrame = window.requestAnimationFrame\n  cancelAnimationFrame = window.cancelAnimationFrame\n} else {\n  const startTime = now()\n  requestAnimationFrame = (fn) => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = (id) => {\n    return clearTimeout(id)\n  }\n}\nconst delay = (time) =>\n  new Promise((resolve) =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addAttrs, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs(graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addEvent(graph, el, patche)\n  addAttrs(graph, el, patche)\n  //el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} $el 当前的真实spritejs 节点\n * @param {*} patches 虚拟节点\n * @param {*} isRoot 是否是初节点，用于绑定$el与visual或者plugin\n */\nexport default function patch($el, patche, isRoot = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let graph = this //graph为当前的qcharts对象 visula或者plugin\n  if (!$el && !patche) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      if (newEl) {\n        if (isRoot) {\n          //创建的时候，visual与plugin绑定对应的sprite元素\n          graph.$el = newEl\n        }\n        $el.appendChild(newEl)\n      }\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      $el.parent.replaceChild(newEl, $el)\n      break\n    }\n    case REMOVE: {\n      $el.remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      patchAttrs(graph, $el, attrs)\n      if ($el.children && children.length) {\n        $el.children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        let len = children.length > $el.children.length ? children.length : $el.children.length\n        for (let j = 0; j < len; j++) {\n          let curNode = $el.children.filter(child => child._ind === j)[0]\n          let curVnode = children.filter(child => child._ind === j)[0]\n          if (curVnode && curVnode.type === 'CREATE') {\n            //如果是create需要传父级$el\n            patch.bind(graph)($el, curVnode)\n          } else {\n            patch.bind(graph)(curNode, curVnode)\n          }\n        }\n      }\n      break\n    }\n  }\n}\n","import { Tween } from '../tween'\nimport { deepObjectMerge, emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n\n  const { from, middle, use, to, delay, duration, useTween, easing, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n  if (from) {\n    //如果存在from，一开始就设置，防止出现抖动\n    el.attr(from)\n  }\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween(easing)\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAttrs(graph, el, attrs = {}) {\n  let states = attrs['states']\n  let state = attrs['state']\n  if (states && state) {\n    let oldState = el.attr('state')\n    if (state !== oldState) {\n      //不相当就处理，相当上一次已经处理完毕\n      let oldstates = el.attr('states') || emptyObject()\n      let oldAttrs = deepObjectMerge(emptyObject(), attrs, oldstates[oldState])\n      let newAttrs = deepObjectMerge(emptyObject(), attrs, states[state])\n      el.attr(oldAttrs)\n      let { duration } = deepObjectMerge(emptyObject(), graph.renderAttrs.animation, states.animation)\n      el.transition(duration / 1000).attr(newAttrs)\n    }\n  } else {\n    el.attr(attrs)\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(graph, el, attrs = {}) {\n  //缓存方法，修改方法指针this\n  Object.keys(attrs).forEach(key => {\n    if (!/^on/.test(key)) {\n      return\n    }\n    const type = key.split('on')[1].toLowerCase()\n    const cb = attrs[key] || (() => {})\n    let newF = evt => cb.call(graph, evt, el)\n    el.removeAllListeners(type)\n    el.addEventListener(type, newF)\n    delete attrs[key]\n  })\n}\n","export default {\n  default: 'default', //默认\n  hide: 'hide', //数据隐藏\n  hover: 'hover', //次激活模式，类似css中的hover\n  active: 'active', //激活模式，如选中等场景\n  disabled: 'disabled', //禁用模式\n  mixed: 'mixed' //混合模式,比如一个row或者col里面有多种状态\n}\n","function mixinEvent(target) {\n  if (target.__store) {\n    target.__store.events = []\n    let events = target.__store.events\n    target.on = function(type, cb) {\n      events.push({ type, cb })\n      return target\n    }\n    target.off = function(type, cb) {\n      for (let i = 0; i < events.length; i++) {\n        if (cb === undefined) {\n          events = []\n        } else {\n          let curEvent = events[i]\n          if (curEvent.type === type && curEvent.cb === cb) {\n            events.splice(i, 1)\n            i--\n          }\n        }\n      }\n      return target\n    }\n    target.once = function(type, cb) {\n      const listener = function(...args) {\n        fn.apply(target, args)\n        self.off(type, cb)\n      }\n      return target.on(type, listener)\n    }\n    target.dispatchEvent = function(type, option) {\n      events.forEach(item => {\n        if (item.type === type) {\n          item.cb.call(target, { type, option })\n        }\n      })\n      return target\n    }\n  }\n}\nexport { mixinEvent }\n","import state from \"./state\";\nimport { mixinEvent } from \"./event\";\nclass Cell extends Object {\n  constructor(data, option, dataset) {\n    super();\n    this.__store = Object.create(null);\n    this.__store.state = state[\"default\"];\n    this.__store.row = undefined;\n    this.__store.col = undefined;\n    this.__store.option = option;\n    this.__store.data = data;\n    this.__store.datasets = [dataset];\n    this._layoutScaleFunc = dataset.layoutScaleFunc;\n    mixinEvent(this);\n  }\n  get datasets() {\n    return this.__store.datasets;\n  }\n  get data() {\n    return this, this.__store.data;\n  }\n  get value() {\n    return this.__store.data[this.__store.option[\"value\"]];\n  }\n  get layoutScaleValue() {\n    return typeof this._layoutScaleFunc === \"function\"\n      ? this._layoutScaleFunc(this.__store.data[this.__store.option[\"value\"]])\n      : this.__store.data[this.__store.option[\"value\"]];\n  }\n  get text() {\n    return this.__store.data[this.__store.option[\"text\"]];\n  }\n  set row(num) {\n    if (this.__store.row === undefined) {\n      this.__store.row = num;\n    }\n  }\n  get row() {\n    return this.__store.row;\n  }\n  set col(num) {\n    if (this.__store.col === undefined) {\n      this.__store.col = num;\n    }\n  }\n  get col() {\n    return this.__store.col;\n  }\n  get option() {\n    return this.__store.option;\n  }\n  get state() {\n    return this.__store.state;\n  }\n  set state(name) {\n    if (state[name] && this.__store.state !== state[name]) {\n      this.__store.state = state[name];\n      this.dispatchEvent(\"change\", {\n        name: \"cell\",\n        value: state[name],\n        data: this,\n      });\n      this.datasets.forEach((dataset) => {\n        dataset.dispatchEvent(\"change\", {\n          name: \"cell\",\n          value: state[name],\n          data: this,\n        });\n      });\n    }\n  }\n}\nexport default Cell;\n","import { mixinEvent } from './event'\nimport state from './state'\nclass List extends Array {\n  constructor(name, option) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.__name = name\n    this.__store.__option = option\n    this.__store.dataset = null\n    mixinEvent(this)\n  }\n  get data() {\n    let arr = []\n    this.forEach(cell => {\n      arr.push(cell.data)\n    })\n    return arr\n  }\n  set dataset(arr) {\n    this.__store.dataset = arr\n  }\n  get dataset() {\n    return this.__store.dataset\n  }\n  get name() {\n    return this.__store.__name\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get state() {\n    //遍历子项，查看状态是否统一\n    let sta = this[0].state\n    for (let i = 1; i < this.length; i++) {\n      if (this[i].state !== sta) {\n        sta = 'mixed'\n        break\n      }\n    }\n    return sta\n  }\n  set state(name) {\n    if (state[name] && this.state !== state[name]) {\n      //给所有子项设置state\n      this.forEach(cell => {\n        //如果disabled的状态，必须先设置位default,disabled的state不能直接修改位其它状态\n        if (cell.state === 'disabled' && name !== 'default') {\n          return\n        }\n        cell.state = state[name]\n      })\n      let dispatchOption = null\n      if (this instanceof Row) {\n        dispatchOption = { name: 'row', value: state[name], data: this }\n      } else if (this instanceof Col) {\n        dispatchOption = { name: 'col', value: state[name], data: this }\n      }\n      this.dispatchEvent('change', dispatchOption)\n      this.dataset && this.dataset.dispatchEvent('change', dispatchOption)\n    }\n  }\n}\nclass Row extends List {}\nclass Col extends List {}\nexport { Row, Col }\n","import Cell from './Cell'\nimport { Row, Col } from './Row'\nimport { mixinEvent } from './event'\nclass Dataset extends Array {\n  constructor(data, option) {\n    super()\n    this.layoutScaleFunc = this.handleLayoutScale(option.layoutScale)\n    data.forEach((item, i) => {\n      let cell = item\n      if (!(item instanceof Cell)) {\n        cell = new Cell(item, option, this)\n      } else {\n        cell.datasets.push(this)\n      }\n      this[i] = cell\n    })\n    this.__store = Object.create(null)\n    let store = this.__store\n    store.__option = option\n    store.__deps = []\n    store.__rows = []\n    store.__rows = getArrData(this, option)\n    mixinEvent(this)\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get cols() {\n    let cols = []\n    let colLen = 0\n    this.__store.__rows.forEach(row => {\n      if (row.length > colLen) {\n        colLen = row.length\n      }\n    })\n    for (let i = 0; i < colLen; i++) {\n      let arr = new Col()\n      arr.dataset = this\n      this.__store.__rows.forEach(item => {\n        arr.push(item[i])\n      })\n      cols.push(arr)\n    }\n    return cols\n  }\n  get rows() {\n    return this.__store.__rows\n  }\n  resetState(state = 'default') {\n    let res = []\n    this.forEach(cell => {\n      //reset的时候不处理disabled\n      if (cell.state !== state && cell.state !== 'disabled') {\n        res.push(cell)\n        cell.state = state\n      }\n    })\n    this.dispatchEvent('change', { name: 'reset', data: res })\n  }\n  selectRows(name) {\n    let rowKey = this.option.row\n    let arr = []\n    this.forEach(item => {\n      if (name.indexOf(item.data[rowKey]) !== -1) {\n        arr.push(item)\n      }\n    })\n    return new Dataset(arr, this.option)\n  }\n  addDep(dep) {\n    this.__store.__deps.push(dep)\n  }\n  handleLayoutScale(layoutScale) {\n    if (typeof layoutScale === 'string') {\n      let method = layoutScale.replace(/\\d+$/, '')\n      let NUM = 2\n      if (method !== 'sqrt' && method !== 'pow' && method !== 'log') {\n        console.warn('layoutScale type error')\n        return function (value) {\n          return value\n        }\n      }\n\n      let number = layoutScale.replace(/^[a-z]+/, '')\n      if (number) {\n        let isNumber = /^[-+]?\\d*$/.test(number)\n        if (!isNumber) {\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n        } else {\n          NUM = Number(number)\n        }\n      }\n\n      switch (method) {\n        case 'sqrt':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, NUM)\n          }\n          return function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n        case 'pow':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n          return function (value) {\n            return Math.pow(value, NUM)\n          }\n        case 'log':\n          if (NUM !== 2 && NUM !== 10) {\n            console.warn('layoutScale type error')\n            return function (value) {\n              return value\n            }\n          }\n          this.datasetReverse = function (value) {\n            return Math.pow(NUM, value)\n          }\n          return function (value) {\n            return Math['log' + NUM](value)\n          }\n        default:\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n      }\n    }\n    return layoutScale\n  }\n}\nfunction getArrData(data = [], option) {\n  let { row: key, sort } = option\n  let resArr = []\n  if (key === '*') {\n    let list = new Row('*', option)\n    data.forEach(item => {\n      list.push(item)\n    })\n    if (sort) {\n      list.sort((a, b) => sort(a.data, b.data))\n    }\n    resArr.push(list)\n  } else {\n    let keys = Object.create(null)\n    data.forEach(item => {\n      let data = item.__store.data\n      if (!keys[data[key]]) {\n        keys[data[key]] = new Row(data[key], option)\n      }\n      keys[data[key]].push(item)\n    })\n    for (let key in keys) {\n      let curRow = keys[key]\n      if (sort) {\n        curRow.sort((a, b) => sort(a.data, b.data))\n      }\n      resArr.push(curRow)\n    }\n  }\n  resArr.forEach((list, m) => {\n    list.dataset = data\n    list.forEach((cell, n) => {\n      cell.row = m\n      cell.col = n\n    })\n  })\n  return resArr\n}\n\nexport default Dataset\n","import Dataset from './Dataset'\nexport default Dataset\n","const lifeCycle = {\n  beforeCreate: 'beforeCreate', //创建前\n  created: 'created', // 图表创建\n  beforeRender: 'beforeRender', //图表渲染前\n  rendered: 'rendered', // 图表渲染结束\n  beforeUpdate: 'beforeUpdate', // 图表更新前\n  updated: 'updated', // 图表更新\n  beforeDestroy: 'beforeDestroy', // 图表卸载前\n  destroyed: 'destroyed' // 图表卸载\n}\nfunction mixin(component) {\n  component.on = component.addEventListener\n  component.off = component.removeEventListener\n  component.once = function(type, fn) {\n    const listener = (...args) => {\n      fn.apply(this, args)\n      this.off(type, listener)\n    }\n    return this.on(type, listener)\n  }\n}\n\nexport { lifeCycle, mixin }\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'object' && jsType(SecondOBJ[key]) === 'object') {\n        //对象处理\n        deepObjectMerge(FirstOBJ[key], SecondOBJ[key])\n      } else if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'array' && jsType(SecondOBJ[key]) === 'array') {\n        //数组处理\n        FirstOBJ[key].splice(0, FirstOBJ[key].length, ...SecondOBJ[key])\n      } else {\n        FirstOBJ[key] = SecondOBJ[key]\n      }\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase()\n  }\n  return str\n}\n\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function (...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction debounce(fn, delay = 16, immediately = false) {\n  let timer = null\n  return function () {\n    let args = arguments\n    let context = this\n    if (timer) {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    } else {\n      if (immediately) {\n        fn.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    }\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, debounce, getDistancePx }\n","import { deepObjectMerge } from \"@qcharts/utils\"\nconst colors = [\n  \"#47A1FF\",\n  \"#59CB74\",\n  \"#FFB952\",\n  \"#FC6980\",\n  \"#6367EC\",\n  \"#DA65CC\",\n  \"#FBD54A\",\n  \"#ADDF84\",\n  \"#6CD3FF\",\n  \"#659AEC\",\n  \"#9F8CF1\",\n  \"#ED8CCE\",\n  \"#A2E5FF\",\n  \"#4DCCCB\",\n  \"#F79452\",\n  \"#84E0BE\",\n  \"#5982F6\",\n  \"#E37474\",\n  \"#3FDDC7\",\n  \"#9861E5\",\n]\nfor (let i = 0; i < 1004; i++) {\n  //生成1024种颜色\n  colors.push(\n    \"#\" + (\"00000\" + ((Math.random() * 0x1000000) << 0).toString(16)).substr(-6)\n  )\n}\nconst theme = {\n  colors,\n}\ntheme.visuals = {\n  Line: {\n    colors: theme.colors,\n    styles: {\n      line: { lineWidth: 1 },\n      guideline: { strokeColor: \"#ddd\" },\n      point: {\n        pointType: \"ellipse\",\n        radiusX: 4,\n        radiusY: 4,\n        strokeColor: \"#fff\",\n        borderWidth: 1,\n      },\n    },\n    attrs: {\n      statck: false,\n    },\n  },\n  Pie: {\n    colors: theme.colors,\n    styles: {\n      sector: { lineWidth: 1, strokeColor: \"#fff\" },\n      guideText: {},\n      guideline: {},\n    },\n    attrs: {},\n  },\n  Area: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 },\n      guideline: { strokeColor: \"#ddd\" },\n      point: {\n        pointType: \"ellipse\",\n        radiusX: 4,\n        radiusY: 4,\n        strokeColor: \"#fff\",\n        borderWidth: 1,\n      },\n    },\n    attrs: {},\n  },\n  Radar: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 },\n    },\n    attrs: {},\n  },\n  Bar: {\n    colors: theme.colors,\n    styles: {\n      bar: { textureRepeat: true, close: true },\n      groupBar: { bgcolor: \"#000\", fillColor: \"#000\" },\n      text: false,\n    },\n    attrs: {\n      statck: false,\n    },\n  },\n  PolarBar: {\n    colors: theme.colors,\n    styles: {\n      bar: {},\n    },\n    attrs: {\n      statck: false,\n    },\n  },\n  Funnel: {\n    colors: theme.colors,\n    styles: {\n      polygon: {},\n    },\n    attrs: {\n      statck: false,\n    },\n  },\n  Scatter: {\n    colors: theme.colors,\n    styles: {\n      point: {},\n    },\n    attrs: {\n      showGuideLine: false,\n    },\n  },\n  Wave: {\n    colors: theme.colors,\n    styles: {\n      wave: { fillColor: \"#37c\", strokeColor: \"#37c\", lineWidth: 0 },\n      text: { fillColor: \"#333\", fontSize: 24 },\n      shape: { fillColor: \"#e6f3ff\", lineWidth: 3, strokeColor: \"#156cbd\" },\n    },\n    attrs: {},\n  },\n  Gauge: {\n    colors: theme.colors,\n    attrs: {},\n  },\n  RadialBar: {\n    colors: theme.colors,\n    attrs: {},\n  },\n}\ntheme.plugins = {\n  Tooltip: {\n    colors: theme.colors,\n    styles: {},\n    attrs: {},\n  },\n  Legend: {\n    colors: theme.colors,\n    styles: {\n      point: {\n        pointType: \"sprite\",\n        iconSize: [12, 12],\n        borderRadius: 12,\n      },\n      text: {\n        fontSize: \"12px\",\n        fillColor: \"#666\",\n      },\n    },\n    attrs: {},\n  },\n  Axis: {\n    colors: theme.colors,\n    styles: {\n      axis: {\n        strokeColor: \"#ccc\",\n        lineWidth: 1,\n      },\n      scale: {\n        bgcolor: \"#ccc\",\n      },\n      label: {\n        fontSize: 12,\n        fillColor: \"#666\",\n      },\n      grid: {\n        strokeColor: \"#ddd\",\n        lineDash: [3, 3],\n      },\n      name: {\n        fontSize: 12,\n        fillColor: \"#666\",\n      },\n    },\n    attrs: {\n      orient: \"bottom\",\n    },\n  },\n}\ntheme.set = function(obj) {\n  //合并样式\n  deepObjectMerge(theme, obj)\n}\nexport default theme\n","import { Node } from 'spritejs'\nimport { lifeCycle, mixin } from './mixin'\nimport { emptyObject, deepObjectMerge, jsType, getDistancePx, throttle } from '@qcharts/utils'\nimport { patch, diff } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nimport { isWeiXin } from './platform'\nclass Base extends Node {\n  constructor(attrs) {\n    super()\n    this.dispatchEvent(lifeCycle.beforeCreate)\n    mixin(this)\n    this['__store'] = emptyObject()\n    let store = this['__store']\n    store.__attrs = emptyObject()\n    store.__vnode__ = null\n    store.__isCreated__ = false\n    store.__refs = emptyObject()\n    store.dataset = null\n    // 微信中不支持多图层\n    const layerSetting = isWeiXin() ? { layer: 'default' } : {}\n    this.attr({ ...attrs, ...layerSetting })\n    this.__update = throttle((args) => {\n      if (store.__isCreated__) {\n        this.update(args)\n      }\n    })\n  }\n  get store() {\n    return this['__store']\n  }\n  get layer() {\n    let { layer: layerName, zIndex = 0 } = deepObjectMerge(\n      {},\n      this.baseAttrs(),\n      this.defaultAttrs(),\n      this.theme.attrs,\n      this.attr()\n    )\n    if (isWeiXin()) {\n      return this.scene.layer(layerName)\n    }\n    return this.scene.layer(layerName).attr({ zIndex })\n  }\n  get $refs() {\n    return this['__store'].__refs\n  }\n  get renderStyles() {\n    let styles = deepObjectMerge({}, this.defaultStyles(), this.theme.styles)\n    return styles\n  }\n  get renderAttrs() {\n    //attrs转换\n    let attrs = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\n    let { animation, clientRect } = attrs\n    //动画数据转换\n    if (jsType(animation) === 'boolean') {\n      animation = { use: animation ? true : false }\n    }\n    //处理layer支持多layer\n    const rect = isWeiXin() ? this.layer.canvas : this.layer.canvas.getBoundingClientRect()\n    const { width, height } = rect\n\n    //计算布局数据\n    for (let key in clientRect) {\n      if (['left', 'right', 'width'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], width)\n      } else if (['top', 'bottom', 'height'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], height)\n      }\n    }\n    if (clientRect.width === undefined) {\n      clientRect.width = width - clientRect.left - clientRect.right\n    } else {\n      clientRect.right = width - clientRect.left - clientRect.width\n    }\n    if (clientRect.height === undefined) {\n      clientRect.height = height - clientRect.top - clientRect.bottom\n    } else {\n      clientRect.bottom = height - clientRect.top - clientRect.height\n    }\n    attrs.colors = this.theme.colors\n    return attrs\n  }\n  get dataset() {\n    return this['__store'].dataset || (this.chart && this.chart.dataset)\n  }\n  source(data, options) {\n    let store = this['__store']\n    if (!(data instanceof Dataset)) {\n      let opts = options\n      if (store.dataset) {\n        opts = deepObjectMerge({}, store.dataset.option, options)\n      }\n      store.dataset = new Dataset(data, opts)\n    } else {\n      store.dataset = data\n    }\n    if (store.dataset && store.__isCreated__) {\n      store.dataset.on('change', (_) => {\n        this.__update({ type: 'state' })\n      })\n      //如果以前存在，则更新\n      this.__update({ type: 'source' })\n    }\n    return this\n  }\n  created() {\n    //初始化创建的时候执行\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.created)\n    store.__vnode__ = this.render(this.beforeRender({ type: 'create' }))\n    const patches = diff(null, store.__vnode__)\n    this.dispatchEvent(lifeCycle.beforeRender)\n    patch.bind(this)(this.$el || this.layer, patches, 1)\n    this.dispatchEvent(lifeCycle.rendered)\n    this.rendered()\n    store.__isCreated__ = true\n    this.dataset.on('change', (_) => {\n      this.__update({ type: 'state' })\n    })\n  }\n  beforeRender() {\n    //图表初始化准备数据\n    return this.renderAttrs\n  }\n  render() {\n    console.warn('this function must be rewrited')\n  }\n  beforeUpdate() {\n    return this.renderAttrs\n  }\n  update(params) {\n    //图表更新准备数据\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.beforeUpdate)\n    let vnode = this.render(this.beforeUpdate(params))\n    const patches = diff(store.__vnode__, vnode)\n    patch.bind(this)(this.$el || this.layer, patches)\n    store.__vnode__ = vnode\n    this.dispatchEvent(lifeCycle.updated)\n    this.updated()\n  }\n  updated() {}\n  dispatchEvent(event, obj = emptyObject()) {\n    super.dispatchEvent(event, obj)\n  }\n  defaultAttrs() {\n    return emptyObject()\n  }\n  defaultStyles() {\n    return emptyObject()\n  }\n  baseAttrs() {\n    let attrs = {\n      //动画类型\n      animation: {\n        use: true,\n        duration: 700,\n        useTween: true,\n        easing: 'bounceOut'\n      },\n      //位置布局信息\n      clientRect: {\n        left: '10%',\n        top: '10%',\n        right: '10%',\n        bottom: '10%',\n        width: undefined,\n        height: undefined\n      },\n      //透明度\n      opacity: 1,\n      layer: 'default',\n      layoutBy: 'rows' //按照哪个数据布局 ['rows','cols']\n    }\n    return attrs\n  }\n  attr(name, val) {\n    //属性设置\n    let store = this['__store']\n    if (jsType(name) === 'object') {\n      for (let key in name) {\n        this.attr(key, name[key])\n      }\n    } else if (name === undefined) {\n      let res = emptyObject()\n      for (let key in store.__attrs) {\n        //过滤style属性\n        if (key.indexOf('style@') !== 0) {\n          res[key] = store.__attrs[key]\n        }\n      }\n      return res\n    } else if (val === undefined) {\n      //获取属性\n      return store.__attrs[name]\n    } else if (name !== undefined) {\n      store.__attrs[name] = val\n      store.__isCreated__ && this.__update({ type: 'attr' })\n    }\n  }\n  addRef(ref, el) {\n    this['__store'].__refs[ref] = el\n    //在vnode中调用，存储到this.__refs中\n  }\n  style(type, style) {\n    //样式设置，样式用attr逻辑存储，添加@符号\n    if (jsType(type) === 'object') {\n      //多样式赋值\n      for (let key in type) {\n        this.style(key, type[key])\n      }\n    } else if (type !== undefined && style === undefined) {\n      //获取样式，统一返回成函数\n      const style = this.attr('style@' + type)\n      return (...args) => {\n        if (jsType(style) === 'function') {\n          return style.apply(this, args)\n        } else {\n          return style\n        }\n      }\n    } else if (type !== undefined && style !== undefined) {\n      //赋值\n      this.attr('style@' + type, style)\n      return this\n    } else if (type === undefined && style === undefined) {\n      //获取全部样式\n      let res = emptyObject()\n      let attrs = this['__store'].__attrs\n      for (let key in attrs) {\n        if (key.indexOf('style@') === 0) {\n          let styleKey = key.substr(6)\n          res[styleKey] = this.style(styleKey)\n        }\n      }\n      return res\n    }\n  }\n}\nexport default Base\n","import Base from './Base'\nimport theme from '../theme/default'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nexport default class BaseVisual extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.visuals[this.constructor.name]\n    //如果当前对象设置了theme，不继承theme\n    this.theme.set = obj => {\n      if (this.theme === theme.visuals[this.constructor.name]) {\n        this.theme = filterClone(this.theme)\n      }\n      this.theme = deepObjectMerge(this.theme, obj)\n    }\n  }\n}\n","// merge style\nimport { deepObjectMerge, jsType } from '@qcharts/utils'\n/**\n * chart:当前的图表\n * key:当前的样式名称\n * defaultstyle:为数组或者对象，表示默认的样式\n * args:调用style方法的时候，style以后的参数\n */\nexport function getStyle(chart, key, defaultStyle, args) {\n  //合并样式\n  let oStyle = defaultStyle\n  let arrStyle = defaultStyle\n  let oArgs = args\n  if (jsType(defaultStyle) === 'array') {\n    //oStyle = deepObjectMerge.apply(this, defaultStyle)\n    oStyle = deepObjectMerge.call(this, {}, ...defaultStyle)\n  } else {\n    arrStyle = [defaultStyle]\n  }\n  if (jsType(args) !== 'array') {\n    oArgs = [args]\n  }\n  let cusStyle = chart.style(key)(oStyle, ...oArgs)\n  if (cusStyle === false) {\n    return false\n  } else if (arrStyle.includes(false) && cusStyle === undefined) {\n    return false\n  } else if (cusStyle !== undefined) {\n    //如果返回的cusStyle不是false或者undefined，需要把default样式进行重写叠加\n    let curStyle = defaultStyle\n    if (jsType(defaultStyle) !== 'array') {\n      curStyle = [defaultStyle]\n    }\n    //获取default样式\n    let oDefaultStyle = chart.defaultStyles()[key]\n    oStyle = deepObjectMerge({}, oDefaultStyle, curStyle.filter(Boolean)[0], oStyle)\n  }\n  let resStyle = deepObjectMerge({}, oStyle, cusStyle)\n  return resStyle\n}\n","function scaleLinear() {\n  let domain = [0, 1]\n  let range = [0, 1]\n  function scale(num) {\n    let disDomain = domain[1] - domain[0]\n    let disRange = range[1] - range[0]\n    let per = (num - domain[0]) / disDomain || 0\n    return range[0] + disRange * per\n  }\n  scale.domain = function(arr) {\n    domain = arr\n    return this\n  }\n  scale.range = function(arr) {\n    range = arr\n    return this\n  }\n  return scale\n}\n\n// const data = [80, 40, 30, 60, 70]\n// const s = scaleLinear().domain([0, 100]).range([0, 100])\n// console.log(data.map(s))\n\nexport { scaleLinear }\n","//import { Global } from '../core/Global'\nexport function axis(attr) {\n  // 计算坐标轴刻度\n  if (!Array.isArray(attr.dataSet) && !attr.hasOwnProperty(\"section\")) {\n    return [];\n  }\n  if (attr.section !== undefined) {\n    return sectionAxis(attr.section);\n  }\n  const data = dataHandle(attr);\n  let upZero = []; // 大于零的数\n  let downZero = []; // 小于零的数\n  for (const element of data) {\n    if (element < 0) {\n      downZero.push(Math.abs(element));\n    } else {\n      upZero.push(element);\n    }\n  }\n  let length = 5; // 刻度数量\n  let sortUpZero = upZero.sort((a, b) => {\n    return a - b;\n  });\n  let sortDownZero = downZero.sort((a, b) => {\n    return a - b;\n  });\n  let maxUpZero = sortUpZero.length && Math.ceil(sortUpZero.pop() / 0.95);\n  let maxDownZero = sortDownZero.length && Math.ceil(sortDownZero.pop() / 0.95);\n  let maxValue = maxUpZero - maxDownZero >= 0 ? maxUpZero : maxDownZero;\n  let mixNum = 4;\n  let maxNum = 7;\n  if (maxDownZero && maxUpZero) {\n    mixNum = 3;\n    maxNum = 5;\n  }\n  if (attr.splitNumber) {\n    mixNum = attr.splitNumber;\n    maxNum = mixNum + 1;\n  }\n  let getMax = false;\n  const len = maxValue.toString().length; // 最大值位数\n  let max =\n    len < 3\n      ? Math.ceil(maxValue / Math.pow(10, len - 1))\n      : Math.ceil(maxValue / Math.pow(10, len - 2));\n  do {\n    for (let i = mixNum; i < maxNum; i++) {\n      if (max % i === 0) {\n        length = i;\n        maxValue =\n          len < 3 ? max * Math.pow(10, len - 1) : max * Math.pow(10, len - 2);\n        getMax = true;\n        break;\n      }\n    }\n    max++;\n  } while (!getMax);\n\n  let axisArray = new Array(length + 1);\n  axisArray[0] = 0;\n  for (let i = 1; i < length + 1; i++) {\n    axisArray[i] =\n      maxUpZero >= maxDownZero\n        ? Math.round((maxValue / length) * i)\n        : -1 * Math.round((maxValue / length) * i);\n  }\n\n  // 处理0-1之间的数据\n  if (\n    (maxDownZero <= 1 && maxDownZero > 0) ||\n    (maxUpZero <= 1 && maxUpZero > 0) ||\n    (maxUpZero === 0 && maxDownZero === 0)\n  ) {\n    axisArray = new Array(6);\n    axisArray[0] = 0;\n    maxValue = 1;\n    for (let i = 1; i < 6; i++) {\n      axisArray[i] =\n        maxUpZero >= maxDownZero\n          ? (2 * maxValue * i) / 10\n          : (-2 * maxValue * i) / 10;\n    }\n  }\n\n  if (maxUpZero < maxDownZero) {\n    axisArray.reverse();\n  }\n  if (maxDownZero.length === 0 || maxUpZero.length === 0) {\n    return axisArray;\n  }\n  if (maxUpZero >= maxDownZero) {\n    const unit = axisArray[1] * 10;\n    for (\n      let i = 1,\n        len = Math.ceil(((axisArray.length - 1) * maxDownZero) / maxUpZero);\n      i < len + 1;\n      i++\n    ) {\n      axisArray.unshift((-1 * unit * i) / 10);\n    }\n  } else {\n    const unit = axisArray[axisArray.length - 2] * 10;\n    for (\n      let i = 1,\n        len = Math.ceil(((axisArray.length - 1) * maxUpZero) / maxDownZero);\n      i < len + 1;\n      i++\n    ) {\n      axisArray.push((-1 * unit * i) / 10);\n    }\n  }\n  // if (attr.needReverse) {\n  //   axisArray = axisArray.map((value) => {\n  //     return this.dataset.datasetReverse\n  //       ? Math.round(this.dataset.datasetReverse(value))\n  //       : value;\n  //   });\n  // }\n  return axisArray;\n}\n\nfunction dataHandle(attr) {\n  const stack = attr.stack || false;\n  const data = attr.dataSet || [];\n  const arr = [];\n\n  if (stack && data.length !== 0 && data[0].length) {\n    for (let i = 0, len = data[0].length; i < len; i++) {\n      let sum = 0;\n      let sumDown = 0;\n      for (let j = 0, leng = data.length; j < leng; j++) {\n        let val = data[j][i].layoutScaleValue;\n        if (data[j][i].disabled === true || val === undefined) {\n          continue;\n        }\n        if (val < 0) {\n          sumDown = sumDown + val;\n        } else {\n          sum = sum + val;\n        }\n      }\n      sum && arr.push(sum);\n      sumDown && arr.push(sumDown);\n    }\n  } else {\n    for (let m = 0; m < data.length; m++) {\n      for (let n = 0; n < data[m].length; n++) {\n        let val = data[m][n].layoutScaleValue;\n        if (data[m][n].disabled === true || val === undefined) {\n          continue;\n        }\n        arr.push(val);\n      }\n    }\n  }\n  return arr;\n}\n\nfunction sectionAxis(section) {\n  if (section && Array.isArray(section)) {\n    const gap = section[1] - section[0];\n    const arr = [];\n    let divide = 4;\n    arr.push(section[0]);\n    for (let i = 4; i < 8; i++) {\n      if (gap % i === 0) {\n        divide = i;\n        break;\n      }\n    }\n    for (let j = 1; j <= divide; j++) {\n      arr.push((section[0] + (gap * j) / divide).toFixed(2));\n    }\n    return arr;\n  }\n  return [];\n}\n","import { scaleLinear } from '../../utils/scaleLinear'\nimport { axis } from '../../utils/axis'\nexport default function layout(arr, attrs) {\n  let type = this.type\n  let lines = []\n  const { stack, splitNumber, clientRect, axisGap } = attrs\n  const { width, height } = clientRect\n  let scales = axis.call(this, { dataSet: arr, stack, splitNumber })\n  let maxVal = Math.max.apply(this, scales)\n  let minVal = Math.min.apply(this, scales)\n  let scaleFY = scaleLinear()\n    .domain([minVal, maxVal])\n    .range([0, height])\n  //存储stack数据\n  let prevScaleValues = []\n  arr.forEach(row => {\n    let line = {\n      points: [],\n      areaPoints: [],\n      smoothRange: [],\n      state: row.state\n    }\n    row.forEach((cell, i) => {\n      let val = cell.layoutScaleValue\n      if (cell.value !== undefined) {\n        //如果为undefined 不渲染\n        let dx = width / (row.length - 1)\n        let offsetX = 0\n        if (axisGap) {\n          dx = width / row.length\n          offsetX = dx / 2\n        }\n        let curPos = [dx * i + offsetX, height - scaleFY(val)]\n        if (stack && prevScaleValues.length) {\n          //如果是堆叠并且前一个row存在，则叠加\n          curPos = [dx * i + offsetX, height - scaleFY(val + prevScaleValues[i])]\n        }\n        line.points.push(curPos)\n      }\n    })\n    line.axisPoints = [\n      [line.points[0][0], height - scaleFY(0)],\n      [line.points[line.points.length - 1][0], height - scaleFY(0)]\n    ]\n    if (stack && row.state !== 'disabled') {\n      if (!prevScaleValues.length) {\n        prevScaleValues = row.map(cell => cell.layoutScaleValue)\n      } else {\n        prevScaleValues = row.map((cell, ind) => cell.layoutScaleValue + prevScaleValues[ind])\n      }\n    }\n    lines.push(line)\n  })\n  if (type === 'area') {\n    let curLine = null\n    lines.forEach((line, ind) => {\n      let nextPoints = []\n        .concat(line.points)\n        .reverse()\n        .map(point => [point[0], height])\n      if (curLine && attrs.stack) {\n        let prevLine = curLine\n        for (let i = ind - 1; i >= 0; i--) {\n          if (lines[i].state !== 'disabled') {\n            prevLine = lines[i]\n            break\n          }\n        }\n        nextPoints = [].concat(prevLine.points).reverse()\n      }\n      let res = transAreaPoint(line.points, nextPoints)\n      line.areaPoints = res.areaPoints\n      line.smoothRange = res.smoothRange\n      if (line.state !== 'disabled') {\n        curLine = line\n      }\n    })\n  }\n  return lines\n}\nfunction transAreaPoint(startPoints, endPoints) {\n  let res = {\n    areaPoints: [],\n    smoothRange: []\n  }\n  res.areaPoints = []\n    .concat([startPoints[0]])\n    .concat(startPoints)\n    .concat([startPoints[startPoints.length - 1]])\n    .concat([endPoints[0]])\n    .concat(endPoints)\n    .concat([endPoints[endPoints.length - 1]])\n  res.smoothRange = [1, startPoints.length, startPoints.length + 3, startPoints.length + endPoints.length + 2]\n  return res\n}\n","import { Sprite, Path, Ellipse, Rect, Triangle, Parallel, Regular, Star, Group } from 'spritejs'\nimport { jsType } from '@qcharts/utils'\n\nconst allPoint = {\n  sprite: Sprite,\n  path: Path,\n  ellipse: Ellipse,\n  rect: Rect,\n  triangle: Triangle,\n  parallel: Parallel,\n  regular: Regular,\n  star: Star\n}\nclass Point extends Group {\n  constructor(attrs = {}) {\n    super()\n    this.pointType = null\n    this.$sprite = null\n    this.attr({ pointType: 'ellipse', ...attrs })\n  }\n  attr(name, val) {\n    let attrs = name\n    if (jsType(name) !== 'object') {\n      attrs = {}\n      attrs[name] = val\n    }\n    this.renderSymbol(attrs)\n  }\n  renderSymbol(attrs) {\n    const { pointType, pos, ...renderAttr } = attrs\n\n    if (pointType && pointType !== this.pointType) {\n      if (!Object.keys(allPoint).includes(pointType)) {\n        throw new Error(\n          `pointType should be one of 'sprite','path','ellipse','rect','triangle','parallel','regular','star' but it is ${pointType}`\n        )\n      }\n      this.$sprite && this.$sprite.remove()\n      this.$sprite = new allPoint[pointType](renderAttr)\n      this.append(this.$sprite)\n    } else {\n      this.$sprite.attr(renderAttr)\n    }\n    if (pos && pos.length) {\n      super.attr('pos', pos)\n    }\n\n    this.pointType = pointType\n  }\n}\nexport default Point\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Node } from 'spritejs'\nimport { getStyle } from '../../utils/getStyle'\nimport layout from './layout'\nimport Point from '../../utils/Point'\nimport { deepObjectMerge } from '@qcharts/utils'\nclass Line extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderLines = []\n    this.type = 'line'\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let lines = arrLayout.map(item => {\n      return {\n        smoothRange: item.smoothRange,\n        areaFrom: { points: item.areaPoints },\n        areaTo: { points: item.areaPoints },\n        from: { points: item.points, lineDash: [1, maxLen] },\n        to: { points: item.points, lineDash: [maxLen, maxLen] }\n      }\n    })\n    return lines\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let renderLines = this.renderLines\n    let lines = arrLayout.map((item, i) => {\n      let from = { points: item.points }\n      if (renderLines[i]) {\n        from = { points: renderLines[i].to.points }\n      }\n      if (!renderLines[i] || renderLines[i].state === 'disabled') {\n        from.lineDash = [4, maxLen]\n      }\n      return {\n        state: item.state,\n        smoothRange: item.smoothRange,\n        areaFrom: (renderLines[i] && renderLines[i].areaTo) || item.areaPoints,\n        areaTo: {\n          points: item.areaPoints\n        },\n        from,\n        to: {\n          points: item.points,\n          lineDash: [maxLen, maxLen]\n        }\n      }\n    })\n    return lines\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let { height, width } = renderAttrs.clientRect\n    //对角线长度的2保证会大于曲线的长度\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 5\n    return { width, height, arrLayout, maxLen }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      guidePoints: [],\n      layer: 'line'\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {\n      //smooth: false,\n    }\n  }\n  guidelineleave(event, el) {\n    this.attr('guidePoints', [])\n    this.dataset.resetState()\n  }\n  guidelinemove(event, el) {\n    if (this.renderLines.length) {\n      //获取 x轴坐标的刻度\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\n      //转换cancas坐标到当前group的相对坐标\n      let [x] = el.getOffsetPosition(event.x, event.y)\n      let curInd = 0\n      //查找当前位置\n      for (let i = 0; i < arrX.length; i++) {\n        if (x > arrX[i] && x < arrX[i + 1]) {\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\n          break\n        }\n      }\n      //重置所有的dateset的状态\n      if (this.hoverIndex !== curInd) {\n        this.dataset.resetState()\n        //设置当前列的state为hover\n        this.dataset.cols[curInd].state = 'hover'\n        let { clientRect } = this.renderAttrs\n        let posX = arrX[curInd]\n        this.hoverIndex = curInd\n        this.attr({\n          guidePoints: [\n            [posX, 0],\n            [posX, clientRect.height]\n          ],\n          lineState: 'default'\n        })\n      }\n    }\n  }\n  render(lines) {\n    let { clientRect, smooth, guidePoints } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderLines = lines\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]} onMouseleave={this.guidelineleave} onMouseenter={this.guidelinemove} onMousemove={this.guidelinemove}>\n        <Group class=\"lines-group\">\n          {lines.map((line, ind) => {\n            let style = getStyle(this, 'line', [{ strokeColor: colors[ind], smooth }, styles.line], [this.dataset.rows[ind], ind])\n            return line.state === 'disabled' || style === false ? <Node /> : <Polyline onClick={this.lineClick} {...style} animation={{ from: line.from, to: line.to }} />\n          })}\n        </Group>\n        <Group class=\"areas-group\">\n          {this.type !== 'area'\n            ? null\n            : lines.map((line, ind) => {\n                let style = getStyle(this, 'area', [{ fillColor: colors[ind], smooth }, styles.area], [this.dataset.rows[ind], ind])\n                return line.state === 'disabled' || style === false ? <Node /> : <Polyline smoothRange={line.smoothRange} {...style} animation={{ from: line.areaFrom, to: line.areaTo }} />\n              })}\n        </Group>\n        <Group class=\"line-points\">\n          {lines.map((line, ind) => {\n            return line.state === 'disabled' ? (\n              <Node />\n            ) : (\n              <Group>\n                {line.to.points.map((p, j) => {\n                  const animation = {\n                    from: { pos: line.from.points[j] },\n                    to: { pos: p }\n                  }\n                  let style = getStyle(this, 'point', [{ fillColor: colors[ind] }, styles.point], [this.dataset.rows[ind], ind, j])\n                  let styleHover = getStyle(this, 'point:hover', [style, styles['point:hover']], [this.dataset.rows[ind], ind, j])\n                  if (this.dataset.rows[ind][j].state === 'hover') {\n                    deepObjectMerge(style, styleHover)\n                  }\n                  return <Point {...style} animation={animation} />\n                })}\n              </Group>\n            )\n          })}\n        </Group>\n        <Group class=\"guide-line-group\">\n          {guidePoints.length ? (\n            (_ => {\n              let style = getStyle(this, 'guideline', styles.guideline)\n              return style === false ? <Node /> : <Polyline points={guidePoints} {...style} />\n            })()\n          ) : (\n            <Node />\n          )}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Line\n","export default function layout(arr, attrs) {\n  let rings = []\n  let arrVal = arr.map(row => row.reduce((val, item) => (row.state !== 'disabled' ? val + item.value : val), 0))\n  //当totalVal为0的时候，会造成分母为0 如果totalVal为0 处理成1\n  let totalVal = arrVal.reduce((val, item) => val + item, 0) || 1\n  let { startAngle, endAngle, activeOffset } = attrs\n  let minAngle = Math.min(startAngle, endAngle)\n  let maxAngle = Math.max(startAngle, endAngle)\n  if (maxAngle > minAngle + 360) {\n    maxAngle = minAngle + 360\n  }\n  let totalAngle = maxAngle - minAngle\n  arrVal.forEach((num, ind) => {\n    let curPercent = num / totalVal\n    let perAngle = curPercent * totalAngle\n    //默认中心坐标偏移量0\n    let offsetPos = [0, 0]\n\n    let curObj = { startAngle: minAngle, endAngle: minAngle + perAngle, offsetPos }\n    if (ind !== 0) {\n      let prevRing = rings[ind - 1]\n      curObj = { startAngle: prevRing.endAngle, endAngle: prevRing.endAngle + perAngle, offsetPos }\n    }\n    let curAngle = ((curObj.startAngle + curObj.endAngle) / 2) % 360\n    curObj.bisectorAngle = curAngle\n    curObj.bisectorRadian = transRadius(curAngle)\n    if (arr[ind].state === 'hover') {\n      //角平分,角度转弧度,默认是顺时针，角度为相反\n      curObj.offsetPos = [activeOffset * Math.cos(curObj.bisectorRadian), activeOffset * Math.sin(curObj.bisectorRadian)]\n      //选中状态\n    }\n    rings.push(curObj)\n  })\n  return rings\n}\nexport function transRadius(angle) {\n  return (angle / 180) * Math.PI\n}\nexport function computeLinePos(startAngle, endAngle, center, radius, disRadius) {\n  let points = []\n  let centerAn = ((startAngle + endAngle) / 2) % 360\n  let centerAngle = transRadius(centerAn)\n  let labelAnchor = [0, 0]\n  let startPoint = [radius * Math.cos(centerAngle), radius * Math.sin(centerAngle)]\n  let endPoint = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius) * Math.sin(centerAngle)]\n  let labelPos = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius + 5) * Math.sin(centerAngle)]\n  labelPos = [center[0] + labelPos[0], center[1] + labelPos[1]]\n  points.push([center[0] + startPoint[0], center[1] + startPoint[1]])\n  points.push([center[0] + endPoint[0], center[1] + endPoint[1]])\n  labelAnchor = [Math.sin(centerAngle / 2), 1 - Math.cos(centerAngle / 4)]\n  return { points, labelAnchor, labelPos: labelPos }\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Node, Ring, Polyline, Label } from 'spritejs'\nimport filterClone from 'filter-clone'\nimport layout from './layout'\nimport { computeLinePos } from './layout'\nimport { getStyle } from '../../utils/getStyle'\nclass Pie extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderRings = []\n    this.hoverIndex = -1\n    this.activeIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let { radius, innerRadius } = attrs\n    let { width, height } = attrs.clientRect\n    attrs.center = [width / 2, height / 2]\n    attrs.radiusPx = (Math.min(width, height) * radius) / 2\n    attrs.innerRadiusPx = (Math.min(width, height) * innerRadius) / 2\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { rings } = this.getRenderData()\n    let { center } = this.renderAttrs\n    let arr = rings.map((item, ind) => {\n      if (ind === 0) {\n        return {\n          from: { startAngle: 0, endAngle: 0, pos: center },\n          to: { ...item, pos: center }\n        }\n      }\n      let pervAngle = rings[ind - 1].endAngle\n      return {\n        from: { startAngle: pervAngle, endAngle: pervAngle, pos: center },\n        to: { ...item, pos: center }\n      }\n    })\n    this.computeLine(arr)\n    return arr\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    let { rings } = this.getRenderData()\n    let { center } = this.renderAttrs\n    let oldRings = this.renderRings\n    let arr = rings.map((item, ind) => {\n      let curPos = [center[0] + item.offsetPos[0], center[1] + item.offsetPos[1]]\n      let attrs = filterClone(item, ['startAngle', 'endAngle'])\n      if (ind === this.hoverIndex) {\n        return {\n          from: { ...oldRings[ind].to },\n          to: { ...attrs, pos: curPos }\n        }\n      } else {\n        return {\n          from: { ...oldRings[ind].to },\n          to: { ...attrs, pos: curPos }\n        }\n      }\n    })\n    this.computeLine(arr)\n    return arr\n  }\n  computeLine(arr) {\n    let { radiusPx } = this.renderAttrs\n    arr.forEach(item => {\n      let { points: fromPoints, labelAnchor: fromAnchor, labelPos: fromPos } = computeLinePos(item.from.startAngle, item.from.endAngle, item.from.pos, radiusPx + 1, 15)\n      let { points: toPoints, labelAnchor: toAnchor, labelPos: toPos } = computeLinePos(item.to.startAngle, item.to.endAngle, item.to.pos, radiusPx + 1, 15)\n      item.line = {\n        from: {\n          points: fromPoints\n        },\n        to: {\n          points: toPoints\n        }\n      }\n      item.label = {\n        from: {\n          pos: fromPos,\n          anchor: fromAnchor\n        },\n        to: {\n          pos: toPos,\n          anchor: toAnchor\n        }\n      }\n    })\n    //计算guideline位置\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    //let { radiusPx, center } = renderAttrs\n    let renderData = this.renderData()\n    let rings = layout.call(this, renderData, renderAttrs)\n    return { rings }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'pie',\n      radius: 1,\n      innerRadius: 0,\n      startAngle: 0,\n      endAngle: 360,\n      lineWidth: 1,\n      //选中偏移量基数\n      activeOffset: 10\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n  mousemove(event, el) {\n    let renderData = this.renderData()\n    let ind = el.attr('_index')\n    if (ind !== this.hoverIndex) {\n      let curData = renderData[ind]\n      renderData.forEach(row => {\n        if (row.state === 'hover') {\n          row.state = 'default'\n        }\n      })\n      curData.state = 'hover'\n      this.hoverIndex = ind\n    }\n  }\n  mouseleave() {\n    let renderData = this.renderData()\n    renderData.forEach(row => {\n      if (row.state === 'hover') {\n        row.state = 'default'\n      }\n    })\n    this.hoverIndex = -1\n  }\n  renderData() {\n    let renderAttrs = this.renderAttrs\n    return this.dataset[renderAttrs.layoutBy]\n  }\n  render(rings) {\n    //console.log(rings)\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderRings = rings\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]}>\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\n          {rings.map((ring, ind) => {\n            let style = getStyle(this, 'sector', [{ strokeColor: colors[ind], fillColor: colors[ind], innerRadius: innerRadiusPx, outerRadius: radiusPx, _index: ind }, styles.sector], [this.dataset.rows[ind], ind])\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMousemove={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\n          })}\n        </Group>\n        <Group class=\"line-group\">\n          {rings.map((ring, ind) => {\n            let style = getStyle(this, 'guideline', [{ strokeColor: colors[ind] }, styles.guideline], [this.dataset.rows[ind], ind])\n            let hide = false\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\n              hide = true\n            }\n            return hide || style === false ? <Node /> : <Polyline {...style} animation={{ from: ring.line.from, to: ring.line.to }} />\n          })}\n        </Group>\n        <Group class=\"label-group\">\n          {rings.map((ring, ind) => {\n            let name = this.dataset.rows[ind].name\n            let style = getStyle(this, 'guideText', [{ fillColor: '#666', fontSize: 12 }, styles.guideText], [this.dataset.rows[ind], ind])\n            let hide = false\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\n              hide = true\n            }\n            return hide || style === false ? <Node /> : <Label text={name} {...style} pos={ring.label.from.pos} animation={{ from: ring.label.from, to: ring.label.to }} />\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\n\nexport default Pie\n","import Line from '../Line'\nimport { deepObjectMerge } from '@qcharts/utils'\nclass Area extends Line {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'area'\n  }\n  defaultAttrs() {\n    return deepObjectMerge({}, super.defaultAttrs(), {\n      stack: true,\n      animation: {\n        duration: 700,\n        easing: 'bounceOut'\n      },\n      layer: 'area'\n    })\n  }\n}\nexport default Area\n","/**\n * 根据给定角度和长度获取极坐标值\n * @param {Number} radian 角度\n * @param {Number} length 长度\n * @returns {Array} [x,y]\n */\nconst getPointCoordinate = (radian, length) => {\n  let x = Math.cos(radian) * length\n  let y = Math.sin(radian) * length\n  return [x, y]\n}\n\n/**\n * 获取数组中最大数除以层级后的整数\n * @param {Array} data\n * @param {Number} splitNumber\n * @returns {Number}\n */\nconst getMax = (data, splitNumber) => {\n  const indicatorMax = Math.max(...data)\n  if (indicatorMax < splitNumber * 10) {\n    return Math.ceil(indicatorMax / splitNumber) * splitNumber\n  } else {\n    return Math.ceil(indicatorMax / 10 / splitNumber) * 10 * splitNumber\n  }\n}\n\n/**\n * 根据给定的数据，返回绘制雷达图所需要的数据\n * @param {Array} dataset 数据集\n * @param {Number} radius 雷达图半径\n * @param {Number} splitNumber  雷达图背景层级\n * @param {Number} startAngle 雷达图起始轴角度\n * @param {Number} labelOffset 雷达图文字偏移值\n * @param {Array} colors 雷达图主题颜色\n * @returns {Object} { sectionAttrs, borderAttrs, axisAttrs, gridAttrs }\n */\nexport default function layout(data, radius, splitNumber, startAngle, labelOffset, colors) {\n  let bgPoints = [] // 最外层背景多边形\n  let gridAttrs = [] // 蜘蛛网图背景\n  let axisAttrs = [] // 坐标轴\n  let sectionAttrs = [] // 多边形数据\n\n  if (data.some((d) => d.length === 0)) {\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  const allDataValue = data.reduce((t, row) => {\n    return t.concat(row.map((cell) => cell.value))\n  }, [])\n\n  const max = getMax(allDataValue, splitNumber)\n\n  // 每个类别的弧度\n  const dimension = data[0].length\n  const perRadian = (Math.PI * 2) / dimension\n  // 起始角度->转弧度\n  const startRadian = (Math.PI / 180) * startAngle\n  for (let i = 0; i < dimension; i++) {\n    // 根据角度和半径，计算对应的坐标\n    let currentRadian = i * perRadian + startRadian\n    let point = getPointCoordinate(currentRadian, radius)\n\n    bgPoints.push({\n      point,\n      radian: currentRadian\n    })\n\n    // 类别指示坐标\n    const labelPos = getPointCoordinate(currentRadian, radius + labelOffset)\n    const label = data[0][i].text\n    // 坐标轴属性\n    axisAttrs.push({\n      points: [[0, 0], point],\n      lineWidth: 1,\n      lineDash: [3, 2],\n      strokeColor: '#DDE0E5',\n      label,\n      labelPos,\n      radian: currentRadian,\n      maxScale: max,\n      splitNumber: splitNumber\n    })\n  }\n\n  data.forEach((row, index) => {\n    const categoryPoints = row.map((d, i) => {\n      const value = d.value\n      const radian = bgPoints[i].radian\n      return getPointCoordinate(radian, (value / max) * radius)\n    })\n\n    sectionAttrs.push({\n      index: index,\n      name: row.name,\n      dataOrigin: row.data,\n      lineWidth: 1,\n      points: categoryPoints,\n      state: row.state,\n      close: true,\n      strokeColor: colors[index],\n      fillColor: colors[index]\n    })\n  })\n\n  // 背景网格多边形坐标\n  const gridPoints = bgPoints.map((p) => p.point)\n  for (let i = 0; i < splitNumber; i++) {\n    let scale = 1 - i / splitNumber\n    gridAttrs.push({\n      scale,\n      radius,\n      points: gridPoints,\n      index: i,\n      close: true,\n      lineWidth: 1,\n      strokeColor: '#DDE0E5',\n      anchor: [0.5, 0.5]\n    })\n  }\n\n  return { sectionAttrs, axisAttrs, gridAttrs }\n}\n","import { Group, Polyline, Arc, Label } from 'spritejs'\nimport { deepObjectMerge, throttle, jsType } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\nimport layout from './layout'\nimport Point from '../../utils/Point'\n\nclass Radar extends BaseVisual {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'radar'\n    this.sectionData = []\n    this.scaleEl = []\n    this.oldPos = null\n  }\n\n  //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    const { height, width } = attrs.clientRect\n    const center = [width / 2, height / 2]\n\n    const len = Math.min(...center) * attrs.radius\n\n    return { ...attrs, center, len }\n  }\n\n  // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n  defaultAttrs() {\n    return {\n      layer: 'radar',\n      gridType: 'polygon', // 网格类型,polygon,circle\n      splitNumber: 4, // 网格层次\n      startAngle: 270, // 起始角度\n      radius: 0.6, // 雷达图半径\n      labelOffset: 7 // 文字偏移\n    }\n  }\n\n  getPolylineAnimation(toPoints, state, index) {\n    const zeroPoints = new Array(toPoints.length).fill([0, 0])\n    const preData = this.sectionData[index] || { animation: { to: { points: zeroPoints } } }\n    const animation = {\n      from: { points: preData.animation.to.points },\n      to: { points: toPoints }\n    }\n    // disabled的时候缩回原点并透明\n    if (state === 'disabled') {\n      animation.to.points = zeroPoints\n    }\n    return animation\n  }\n\n  getRenderData() {\n    const dataSet = this.dataset\n    // // FIXME 数据筛选之前先按照label进行排序?是否需要？\n    const { len, splitNumber, startAngle, labelOffset } = this.renderAttrs\n    const colors = this.theme.colors\n\n    const { sectionAttrs, axisAttrs, gridAttrs } = layout(\n      [...dataSet.rows],\n      len,\n      splitNumber,\n      startAngle,\n      labelOffset,\n      colors\n    )\n\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  processData() {\n    const { sectionAttrs, ...otherData } = this.getRenderData()\n    const processSectionAttrs = sectionAttrs.map((attr, i) => {\n      const { points, state, ...otherAttrs } = attr\n      const { style, hoverStyle } = this.getStyle('section', attr, [...attr.dataOrigin], i)\n      let stateStyle = state === 'hover' ? hoverStyle : {}\n      const animation = this.getPolylineAnimation(points, state, i)\n      return deepObjectMerge(otherAttrs, { state }, { animation }, style, stateStyle)\n    })\n    return { ...otherData, sectionAttrs: processSectionAttrs }\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const renderData = this.processData()\n    this.sectionData = [...renderData.sectionAttrs]\n    return renderData\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const updateData = this.processData()\n    if (updateData.sectionAttrs) {\n      const len = Math.max(this.sectionData.length, updateData.sectionAttrs.length)\n      for (let i = 0; i < len; i++) {\n        this.sectionData[i] = updateData.sectionAttrs[i]\n      }\n    }\n    this.sectionData = [...updateData.sectionAttrs]\n    return updateData\n  }\n\n  rendered() {}\n\n  getScaleAnimation(toScale) {\n    return {\n      from: { scale: 0 },\n      to: { scale: toScale }\n    }\n  }\n\n  getStyle(type, attr, data, index) {\n    return {\n      style: this.style(type)(attr, data, index) || {},\n      hoverStyle: this.style(`${type}:hover`)(attr, data, index) || {}\n    }\n  }\n\n  isSamePoints(fromPts, toPts) {\n    return fromPts.toString() === toPts.toString()\n  }\n\n  renderGrid(gridAttrs) {\n    const { gridType } = this.renderAttrs\n    const GridShape = gridType === 'circle' ? Arc : Polyline\n    return gridAttrs.map((attr, i) => {\n      const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(attr.scale)\n      const { style } = this.getStyle('grid', attr, null, i)\n      if (style === false) {\n        return\n      }\n      return <GridShape {...attr} {...style} animation={animation} />\n    })\n  }\n\n  renderAxisLabel(attrs, i) {\n    const calcAnchor = radian => {\n      const x = 0.5 - Math.cos(radian)\n      const y = 0.5 - Math.sin(radian)\n      return [x, y]\n    }\n    const { label, labelPos, radian } = attrs\n    const anchor = calcAnchor(radian)\n    const attr = {\n      text: label,\n      pos: labelPos,\n      color: '#67728C',\n      radian,\n      anchor,\n      fontSize: 12\n    }\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\n    const { style } = this.getStyle('label', attr, { text: attr.label, radian }, i)\n    if (style === false) {\n      return\n    }\n    return <Label {...attr} {...style} animation={animation} />\n  }\n\n  renderAxisScale(attrs, index) {\n    const getPt = attrs => {\n      const { points, splitNumber, maxScale } = attrs\n      const [x, y] = points[1]\n      const perNum = maxScale / splitNumber\n      return [[x / splitNumber, y / splitNumber], perNum]\n    }\n    const [[perX, perY], perNum] = getPt(attrs)\n    let labels = []\n    const display = index === 0 ? 'block' : 'none'\n    const common = {\n      fontSize: 12,\n      anchor: [1, 0.5],\n      translate: [-5, 0],\n      display\n    }\n    for (let i = 0; i < attrs.splitNumber + 1; i++) {\n      let point = [perX * i, perY * i]\n      let text = perNum * i\n      let attr = {\n        text,\n        color: '#67728C',\n        pos: point,\n        ...common\n      }\n      const { style } = this.getStyle('scale', attr, { text, index }, i)\n      if (style === false) {\n        return\n      }\n      if (attr.display !== 'none') {\n        let animation = {}\n        const elIndex = index * attrs.splitNumber + i\n        const preEl = this.scaleEl[elIndex]\n        if (preEl) {\n          if (preEl.text !== text) {\n            animation = {\n              from: { text: preEl.text },\n              to: { text },\n              formatter: attr => {\n                attr.text = attr.text.toFixed(0)\n                return attr\n              }\n            }\n          }\n        } else {\n          animation = {\n            from: { pos: [0, 0] },\n            to: { pos: point }\n          }\n        }\n        this.scaleEl[i] = { text: Number(text.toFixed(0)) }\n        labels.push(<Label {...attr} {...style} animation={animation} />)\n      }\n    }\n    return labels\n  }\n\n  renderAxis(axisAttrs) {\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\n    return axisAttrs.map((attr, i) => {\n      const { style } = this.getStyle('axis', attr, { text: attr.label }, i)\n      if (style === false) {\n        return\n      }\n      return (\n        <Group>\n          <Polyline {...attr} {...style} animation={animation} />\n          {this.renderAxisLabel(attr, i)}\n          {this.renderAxisScale(attr, i)}\n        </Group>\n      )\n    })\n  }\n\n  renderPoints(sectionAttrs) {\n    const allPoints = sectionAttrs.map(attrs => {\n      const { animation: secAnimation, dataOrigin, strokeColor, state } = attrs\n      const prePoints = secAnimation && secAnimation.from && secAnimation.from.points\n      const toPoints = secAnimation && secAnimation.to && secAnimation.to.points\n      return toPoints.map((point, i) => {\n        const attr = {\n          pos: point,\n          fillColor: strokeColor,\n          radius: 2,\n          dataOrigin: dataOrigin[i]\n        }\n        const { style, hoverStyle } = this.getStyle('point', attr, { ...attr.dataOrigin }, i)\n        if (style === false) {\n          return\n        }\n\n        let animation = {\n          from: { pos: [0, 0], opacity: 1 },\n          to: { pos: point, opacity: 1 }\n        }\n\n        if (prePoints && prePoints[i]) {\n          if (!this.isSamePoints(prePoints[i], point)) {\n            animation.from.pos = prePoints[i]\n          } else {\n            animation.from.pos = point\n          }\n        }\n        if (state === 'disabled') {\n          animation.to.opacity = 0\n        }\n        const stateStyle = state === 'hover' ? hoverStyle : {}\n        return <Point {...attr} {...style} {...stateStyle} animation={animation} zIndex={99} />\n      })\n    })\n\n    return allPoints.reduce((pre, cur) => pre.concat(cur), [])\n  }\n\n  renderSection(sectionAttrs) {\n    return sectionAttrs.map((attr, i) => {\n      const { animation, ...otherAttr } = attr\n      return <Polyline zIndex={9 + i} {...otherAttr} animation={animation} onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave} />\n    })\n  }\n\n  onMouseenter = throttle(\n    (event, el) => {\n      this.dataset.resetState()\n      const name = el.attributes.name\n      this.dataset.rows\n        .filter(row => row.state !== 'disabled')\n        .forEach(row => {\n          row.state = row.name === name ? 'hover' : 'default'\n        })\n    },\n    16,\n    true\n  )\n  onMouseleave() {\n    this.dataset.resetState()\n    this.dataset.rows.filter(row => row.state !== 'disabled').forEach(row => row.state === 'default')\n  }\n\n  render({ sectionAttrs, axisAttrs, gridAttrs }) {\n    const { center, clientRect } = this.renderAttrs\n    const gAnimation = {\n      from: { pos: this.oldPos ? this.oldPos : center },\n      to: { pos: center }\n    }\n    this.oldPos = center\n    return (\n      <Group pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group pos={center} animation={gAnimation}>\n          {this.renderGrid(gridAttrs)}\n          {this.renderAxis(axisAttrs)}\n          {this.renderSection(sectionAttrs)}\n          {this.renderPoints(sectionAttrs)}\n        </Group>\n      </Group>\n    )\n  }\n}\n\nexport default Radar\n","import { axis } from \"../../utils/axis\"\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr\n  const { stack, splitNumber, clientRect } = attrs\n  const { width, height } = clientRect\n  const barSize = [width, height]\n  const transpose = attrs.transpose || false\n  const groupGap = attrs.groupGap || 0\n  const stackGap = attrs.stackGap || 0\n  let barWidth = attrs.barWidth || 0\n\n  // 输出\n  const barData = []\n  const groupData = []\n  const textData = []\n  const bgPillarAttr = { opacity: 0.01, bgcolor: \"#000\" }\n\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber })\n  if (!valueAxis || !valueAxis.length) {\n    return { barData, groupData, textData }\n  }\n  const tableSize = transpose\n    ? { label: barSize[1], value: barSize[0] }\n    : { label: barSize[0], value: barSize[1] }\n  const axisValueMax = Math.max.apply(this, valueAxis)\n  const axisValueMin = Math.min.apply(this, valueAxis)\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\n\n  const GROUP_NUM = data[0].length\n  let gap = 0\n  // 柱子宽度，根据数据绘制类型计算，是否分组，是否旋转\n  if (barWidth === 0) {\n    barWidth = stack\n      ? (tableSize.label * 0.5) / GROUP_NUM\n      : (tableSize.label * 0.5) / (GROUP_NUM * GROUP_BAR_NUM)\n\n    gap = stack ? barWidth : barWidth * GROUP_BAR_NUM\n  } else {\n    gap = stack\n      ? (tableSize.label - barWidth * GROUP_NUM) / GROUP_NUM\n      : (tableSize.label -\n          barWidth * GROUP_BAR_NUM * GROUP_NUM -\n          groupGap * (GROUP_BAR_NUM - 1) * GROUP_NUM) /\n        GROUP_NUM\n  }\n\n  const BAR_HEIGHT_FACTOR = tableSize.value / (axisValueMax - axisValueMin)\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\n      let value = 0\n      let rawValue = 0\n      let gpData = { rects: [] }\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].state !== \"disabled\") {\n        //   data[j][i].state = \"default\";\n        // }\n        rawValue = data[j][i].value\n        value = data[j][i].layoutScaleValue\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\n        const pos = transpose\n          ? [\n              tableSize.value * (1 - POSITIVE_RATIO),\n              gap / 2 +\n                (barWidth + groupGap) * (j - flag) +\n                (barWidth * GROUP_BAR_NUM +\n                  groupGap * (GROUP_BAR_NUM - 1) +\n                  gap) *\n                  i,\n            ]\n          : [\n              gap / 2 +\n                (barWidth + groupGap) * (j - flag) +\n                (barWidth * GROUP_BAR_NUM +\n                  groupGap * (GROUP_BAR_NUM - 1) +\n                  gap) *\n                  i,\n              tableSize.value * POSITIVE_RATIO,\n            ]\n        const size = transpose\n          ? [barHeight, barWidth - 1]\n          : [barWidth - 1, barHeight]\n        const anchor = [\n          transpose && value < 0 ? 1 : 0,\n          transpose || value < 0 ? 0 : 1,\n        ]\n        // const point1 = [gap / 2 + barWidth]\n        const rect = {\n          anchor: anchor,\n          size: size,\n          pos: pos,\n        }\n\n        rect.points = getPoints({\n          pos,\n          size,\n          anchor,\n          transpose,\n        })\n        delete rect.pos\n        if (data[j][i].state === \"disabled\") {\n          getDisabledPoints({ value, points: rect.points, transpose })\n          flag++\n        } else {\n          gpData.rects.push(rect)\n        }\n        let label = {\n          opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\n          text: rawValue.toString(),\n          anchor: [transpose && value < 0 ? 1 : 0, 0.5],\n          pos: transpose\n            ? [\n                tableSize.value * (1 - POSITIVE_RATIO),\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i +\n                  barWidth * 0.5,\n              ]\n            : [\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i +\n                  barWidth * 0.5,\n                tableSize.value * POSITIVE_RATIO,\n              ],\n          rotate: transpose ? 0 : value < 0 ? 90 : 270,\n          paddingLeft: 8,\n        }\n        barData.push(rect)\n        textData.push(label)\n      }\n      const groupPos = transpose\n        ? [\n            0,\n            (gap + barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1)) *\n              i,\n          ]\n        : [\n            (gap + barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1)) *\n              i,\n            0,\n          ]\n      const groupSize = transpose\n        ? [\n            tableSize.value,\n            barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\n          ]\n        : [\n            barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\n            tableSize.value,\n          ]\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        // title: data[0][i]['_x'],\n        pos: groupPos,\n        size: groupSize,\n        ...bgPillarAttr,\n      })\n\n      gpData.points = getPoints({\n        pos: groupPos,\n        size: groupSize,\n        anchor: [0, 0],\n        transpose,\n        value,\n        stillSprite: true,\n      })\n      delete gpData.pos\n\n      groupData.push(gpData)\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0\n      let heightSumDown = 0\n      let value = 0\n      let gpData = { rects: [] }\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        let stackGapTemp = stackGap\n        // if (data[j][i].state !== \"disabled\") {\n        //   data[j][i].state = \"default\";\n        // }\n        value = data[j][i].layoutScaleValue\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\n        if (barHeight === 0) {\n          stackGapTemp = 0\n        }\n        let posY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\n        let posX =\n          value < 0\n            ? tableSize.value * (1 - POSITIVE_RATIO) - heightSumDown\n            : tableSize.value * (1 - POSITIVE_RATIO) + heightSumUp\n        let posLabelY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown + barHeight\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\n        const pos = transpose\n          ? [posX, gap / 2 + (barWidth + gap) * i]\n          : [gap / 2 + (barWidth + gap) * i, posY]\n        const size = transpose\n          ? [barHeight - stackGapTemp, barWidth]\n          : [barWidth, barHeight - stackGapTemp]\n        const anchor = [\n          transpose && value < 0 ? 1 : 0,\n          transpose || value < 0 ? 0 : 1,\n        ]\n        let rect = {\n          anchor: anchor,\n          size: size,\n          pos: pos,\n          index: j,\n        }\n\n        rect.points = getPoints({\n          pos,\n          size,\n          anchor,\n          transpose,\n        })\n        delete rect.pos\n        let paddingAttrs = transpose ? \"paddingLeft\" : \"paddingBottom\"\n        let label = {\n          opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\n          text: value.toString(),\n          anchor: transpose ? (value < 0 ? [1, 0.5] : [0, 0.5]) : [0.5, 1],\n          pos: transpose\n            ? [posX, +(gap + barWidth) / 2 + (barWidth + gap) * i]\n            : [(gap + barWidth) / 2 + (barWidth + gap) * i, posLabelY],\n        }\n        label[paddingAttrs] = 8\n        if (data[j][i].state === \"disabled\") {\n          getDisabledPoints({ value, points: rect.points, transpose })\n        } else {\n          value < 0\n            ? (heightSumDown = heightSumDown + barHeight)\n            : (heightSumUp = heightSumUp + barHeight)\n          gpData.rects.push(rect)\n        }\n        textData.push(label)\n        barData.push(rect)\n      }\n      const groupPos = transpose\n        ? [0, (gap + barWidth) * i]\n        : [(gap + barWidth) * i, 0]\n      const groupSize = transpose\n        ? [tableSize.value, barWidth + gap]\n        : [barWidth + gap, tableSize.value]\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        pos: groupPos,\n        size: groupSize,\n        ...bgPillarAttr,\n      })\n\n      gpData.points = getPoints({\n        pos: groupPos,\n        size: groupSize,\n        anchor: [0, 0],\n        transpose,\n      })\n      delete gpData.pos\n\n      groupData.push(gpData)\n    }\n  }\n\n  return { textData, barData, groupData }\n}\n\nfunction computerLegend(data) {\n  let flag = 0\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1\n}\n\nfunction getPoints(params) {\n  let { pos, size, anchor, transpose } = params\n  return transpose\n    ? [\n        [pos[0] - anchor[0] * size[0], pos[1] - anchor[1] * size[1]],\n        [pos[0] + size[0] - anchor[0] * size[0], pos[1] - anchor[1] * size[1]],\n        [\n          pos[0] + size[0] - anchor[0] * size[0],\n          pos[1] + size[1] - anchor[1] * size[1],\n        ],\n        [pos[0] - anchor[0] * size[0], pos[1] + size[1] - anchor[1] * size[1]],\n      ]\n    : [\n        [pos[0] - anchor[0] * size[0], pos[1] - anchor[1] * size[1]],\n        [pos[0] + size[0] - anchor[0] * size[0], pos[1] - anchor[1] * size[1]],\n        [\n          pos[0] + size[0] - anchor[0] * size[0],\n          pos[1] + size[1] - anchor[1] * size[1],\n        ],\n        [pos[0] - anchor[0] * size[0], pos[1] + size[1] - anchor[1] * size[1]],\n      ]\n}\nfunction getDisabledPoints(params) {\n  let { points, value, transpose } = params\n  if (transpose) {\n    if (value < 0) {\n      points[0][0] = points[1][0]\n      points[3][0] = points[2][0]\n    } else {\n      points[1][0] = points[0][0]\n      points[2][0] = points[3][0]\n    }\n  } else {\n    if (value < 0) {\n      points[2][1] = points[1][1]\n      points[3][1] = points[0][1]\n    } else {\n      points[1][1] = points[2][1]\n      points[0][1] = points[3][1]\n    }\n  }\n  return points\n}\n","import Base from \"../../base/BaseVisual\"\nimport { Group, Sprite, Label, Polyline } from \"spritejs\"\nimport { getStyle } from \"../../utils/getStyle\"\nimport { deepObjectMerge, throttle } from \"@qcharts/utils\"\nimport layout from \"./layout\"\nimport filterClone from \"filter-clone\"\nclass Bar extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.type = \"bar\"\n    this.pillars = null\n    this.texts = null\n    this.groups = null\n    this.fromTos = null\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base---------before\n    let { transpose } = this.renderAttrs\n    let { arrLayout } = this.getRenderData()\n    let textData = arrLayout.textData.map((item) => {\n      return {\n        attrs: item,\n        from: {\n          pos: item.pos,\n        },\n        to: {\n          pos: item.pos,\n        },\n      }\n    })\n    let barData = arrLayout.barData.map((item, ind) => {\n      let fromPoints = null\n      let value = parseFloat(textData[ind].attrs.text)\n\n      fromPoints = filterClone(item.points)\n      if (transpose) {\n        if (value < 0) {\n          fromPoints[0][0] = fromPoints[1][0]\n          fromPoints[3][0] = fromPoints[2][0]\n        } else {\n          fromPoints[1][0] = fromPoints[0][0]\n          fromPoints[2][0] = fromPoints[3][0]\n        }\n      } else {\n        if (value < 0) {\n          fromPoints[3][1] = fromPoints[0][1]\n          fromPoints[2][1] = fromPoints[1][1]\n        } else {\n          fromPoints[0][1] = fromPoints[3][1]\n          fromPoints[1][1] = fromPoints[2][1]\n        }\n      }\n\n      return {\n        attrs: item,\n        from: {\n          points: fromPoints,\n        },\n\n        to: { points: item.points },\n      }\n    })\n\n    this.pillars = barData\n    this.groups = arrLayout.groupData\n    this.texts = textData\n    return { barData, textData, groupData: arrLayout.groupData }\n  }\n  beforeUpdate() {\n    const pillars = this.pillars\n    const texts = this.texts\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1]\n      if (!prev) {\n        prev = {\n          size: [0, 0],\n          pos: nextPillar.pos,\n          labelAttrs: null,\n        }\n      }\n      return {\n        attrs: nextPillar,\n        from: {\n          points: prev.attrs.points,\n        },\n        to: {\n          points: nextPillar.points,\n        },\n      }\n    })\n    let textData = arrLayout.textData.map((nextText, i) => {\n      let prev = texts[i] ? texts[i] : arrLayout.textData[i - 1]\n      if (!prev) {\n        prev = {\n          pos: nextPillar.pos,\n        }\n      }\n      return {\n        attrs: nextText,\n        from: {\n          pos: prev.attrs.pos,\n        },\n        to: {\n          pos: nextText.pos,\n        },\n      }\n    })\n    this.pillars = barData\n    this.groups = arrLayout.groupData\n    this.texts = textData\n    return { barData, textData, groupData: arrLayout.groupData }\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    const dataLength =\n      renderData.length > 1 ? renderData.length : renderData[0].length\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n    arrLayout.barData = arrLayout.barData.map((bar, i) => {\n      // let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\n      // let barStyle = deepObjectMerge(\n      //   { bgcolor: bar.bgcolor || colors[i % dataLength] },\n      //   styles.bar,\n      //   style\n      // );\n      // bar = deepObjectMerge(bar, barStyle);\n      return bar\n    })\n    return { arrLayout }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    let renderData = this.dataset[\"rows\"]\n    let stateArray = Array.from(\n      { length: renderData[0].length },\n      () => \"defalut\"\n    )\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: \"bar\",\n      bgpillarState: stateArray,\n      states: {\n        bgpillar: {\n          animation: { duration: 20 },\n          default: { opacity: 0.01 },\n          hover: { opacity: 0.1 },\n        },\n      },\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {\n      text: { fontSize: 12, fillColor: \"#666\" },\n    }\n  }\n  onMousemove = throttle(\n    (event, el) => {\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\n        let curInd = 0\n        let [x, y] = el.getOffsetPosition(event.x, event.y)\n        if (!this.renderAttrs.transpose) {\n          //获取 x轴坐标的刻度\n          let width = this.groups[0].size[0]\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(x / width)\n        } else {\n          let width = this.groups[0].size[1]\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(y / width)\n        }\n        if (curInd < 1) {\n          curInd = 0\n        } else if (curInd > this.groups.length - 1) {\n          curInd = this.groups.length - 1\n        }\n        if (this.hoverIndex !== curInd) {\n          let { bgpillarState } = this.renderAttrs\n          bgpillarState[curInd] = \"hover\"\n          bgpillarState[this.hoverIndex] = \"defualt\"\n          this.attr(\"bgpillarState\", bgpillarState)\n          this.dataset.resetState()\n          this.dataset.cols[curInd].state = \"hover\"\n          this.hoverIndex = curInd\n        }\n      }\n    },\n    16,\n    true\n  )\n  onMouseleave(e, el) {\n    this.dataset.resetState()\n    let { bgpillarState } = this.renderAttrs\n    bgpillarState[this.hoverIndex] = \"defualt\"\n    this.attr(\"bgpillarState\", bgpillarState)\n    this.hoverIndex = -1\n  }\n  myClick = function() {\n    console.log(\"myclick\")\n  }\n\n  render(data) {\n    let { clientRect, bgpillarState, states, layoutBy } = this.renderAttrs\n    const styles = this.renderStyles\n    let renderData = this.dataset[layoutBy]\n    const dataLength =\n      renderData.length > 1 ? renderData.length : renderData[0].length\n    let colors = this.theme.colors\n    return (\n      <Group\n        pos={[clientRect.left, clientRect.top]}\n        size={[clientRect.width, clientRect.height]}\n        onMouseleave={this.onMouseleave}\n        onMouseenter={this.onMousemove}\n        onMousemove={this.onMousemove}\n        onClick={this.myClick}\n        // onMousemove={throttle(this.onMousemove)}\n      >\n        <Group ref=\"pillars\" class=\"pillars-group\">\n          {data.barData.map((pillar, ind) => {\n            let cell = this.dataset[layoutBy][ind % renderData.length][\n              Math.floor(ind / renderData.length)\n            ]\n            const style = getStyle(\n              this,\n              \"pillar\",\n              [\n                {\n                  fillColor: colors[cell.row],\n                  bgcolor: colors[cell.row],\n                  ...pillar.attrs,\n                },\n                styles.bar,\n              ],\n              [\n                cell.data,\n                Math.floor(ind / renderData.length),\n                ind % renderData.length,\n              ]\n            )\n            const hoverStyle = getStyle(\n              this,\n              \"pillar:hover\",\n              [],\n              [\n                cell.data,\n                Math.floor(ind / renderData.length),\n                ind % renderData.length,\n              ]\n            )\n            if (cell.state === \"hover\") {\n              deepObjectMerge(style, hoverStyle)\n            }\n            return (\n              <Polyline\n                {...pillar.attrs}\n                {...pillar.from}\n                {...style}\n                animation={{ from: pillar.from, to: pillar.to }}\n              />\n            )\n          })}\n          {data.textData.map((text, ind) => {\n            let barAttrs = filterClone(data.barData[ind].attrs, [\n              \"anchor\",\n              \"points\",\n              \"size\",\n              \"pos\",\n            ])\n            let textStyle = getStyle(\n              this,\n              \"text\",\n              [{ barAttrs: barAttrs }, styles.text],\n              [\n                this.dataset.rows[ind % renderData.length][\n                  Math.floor(ind / renderData.length)\n                ].data,\n                Math.floor(ind / renderData.length),\n                ind % renderData.length,\n              ]\n            )\n            //console.log('aaa', textStyle, styles.text)\n            textStyle = filterClone(textStyle, [], [\"barAttrs\"])\n            if (textStyle.pos) {\n              this.texts[ind].attrs.pos = textStyle.pos\n              text.to.pos = textStyle.pos\n            }\n\n            return textStyle === false ? null : (\n              <Label\n                {...text.attrs}\n                {...textStyle}\n                animation={{\n                  from: text.from,\n                  to: text.to,\n                }}\n              />\n            )\n          })}\n        </Group>\n        <Group ref=\"bgpillar\">\n          {data.groupData.map((pillar, ind) => {\n            let style = getStyle(\n              this,\n              \"backgroundpillar\",\n              [{ ...pillar }, styles.groupBar],\n              [\n                this.dataset.rows[ind % renderData.length],\n                Math.floor(ind / renderData.length),\n              ]\n            )\n            style.points = style.points.flat()\n            return style === false ? null : (\n              <Polyline\n                state={bgpillarState[ind]}\n                states={states.bgpillar}\n                {...pillar}\n                {...style}\n                animation={{\n                  from: { points: style.points },\n                  to: { points: style.points },\n                  duration: 0,\n                }}\n              />\n            )\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Bar\n","import { axis } from \"../../utils/axis\"\n\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr\n  const { stack, splitNumber, clientRect, groupPadAngle, activeOffset } = attrs\n  const { width, height } = clientRect\n  const barSize = [width, height]\n  const groupGap = groupPadAngle || 0\n  const stackGap = attrs.stackGap || 0\n\n  const radius = attrs.radius || 1\n  const barInnerRadius = attrs.innerRadius || 0\n  const padAngle = attrs.padAngle\n  // 输出\n  const barData = []\n\n  const bgPillarAttr = { opacity: 0.01, fillColor: \"#FF0000\" }\n\n  // const valueAxis = getAxis(stack, data)\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber })\n  if (!valueAxis || !valueAxis.length) {\n    return { barData }\n  }\n\n  const tableSize = Math.min(barSize[0], barSize[1])\n  const axisValueMax = Math.max.apply(this, valueAxis)\n  const axisValueMin = Math.min.apply(this, valueAxis)\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\n\n  const GROUP_NUM = data[0].length\n  const BAR_MAX_HEIGHT = 0.5 * radius * tableSize\n  const BAR_HEIGHT_FACTOR = BAR_MAX_HEIGHT / (axisValueMax - axisValueMin)\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\n      let value = 0\n      let gpData = { rects: [] }\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].disabled !== true) {\n        //   data[j][i].disabled = false;\n        // }\n        let barAngle = groupAngle / GROUP_BAR_NUM\n        let startAngle =\n          (groupAngle + groupGap) * i + barAngle * (j - flag) - Math.PI * 0.5\n        value = data[j][i].layoutScaleValue\n        let barHeight = BAR_HEIGHT_FACTOR * value\n        let innerRadius =\n          BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) +\n          barInnerRadius * tableSize * 0.5\n        //默认中心坐标偏移量0\n        let offsetPos = [0, 0]\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: innerRadius + barHeight,\n          startAngle: (startAngle * 180) / Math.PI,\n          endAngle: ((startAngle + barAngle) * 180) / Math.PI,\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n          id: i * lenj + j,\n          offsetPos: offsetPos,\n        }\n        if (rect.state === \"hover\") {\n          let curAngle = ((rect.startAngle + rect.endAngle) / 2) % 360\n          rect.bisectorRadian = transRadius(curAngle)\n          //角平分,角度转弧度,默认是顺时针，角度为相反\n          rect.offsetPos = [\n            activeOffset * Math.cos(rect.bisectorRadian),\n            activeOffset * Math.sin(rect.bisectorRadian),\n          ]\n          //选中状态\n        }\n        if (rect.state === \"disabled\") {\n          rect.endAngle = rect.startAngle\n          rect.radius = 0\n          rect.opacity = 0\n          flag++\n        } else {\n          rect.opacity = 1\n          gpData.rects.push(rect)\n        }\n        if (GROUP_NUM < 2) {\n          delete rect.startAngle\n          delete rect.endAngle\n        }\n        barData.push(rect)\n      }\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0\n      let heightSumDown = 0\n      let value = 0\n      let gpData = { rects: [] }\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].disabled !== true) {\n        //   data[j][i].disabled = false;\n        // }\n        let startAngle = (groupAngle + groupGap) * i - Math.PI * 0.5\n        value = data[j][i].value\n        let barHeight = BAR_HEIGHT_FACTOR * value\n        let innerRadius =\n          value < 0\n            ? BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) - heightSumDown\n            : BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + heightSumUp\n        innerRadius = innerRadius + barInnerRadius * tableSize * 0.5\n        let offsetPos = [0, 0]\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: innerRadius + barHeight - stackGap,\n          startAngle: (startAngle * 180) / Math.PI,\n          endAngle: ((startAngle + groupAngle) * 180) / Math.PI,\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n          offsetPos: offsetPos,\n        }\n\n        if (rect.state === \"hover\") {\n          rect.strokeColor = \"#F00\"\n        } else {\n          delete rect.strokeColor\n        }\n        if (rect.state === \"disabled\") {\n          rect.opacity = 0\n        } else {\n          rect.opacity = 1\n          value < 0\n            ? (heightSumDown = heightSumDown - barHeight)\n            : (heightSumUp = heightSumUp + barHeight)\n          gpData.rects.push(rect)\n        }\n        barData.push(rect)\n      }\n    }\n  }\n  // attachPadAngleOfArr(barData, padAngle)\n  return { barData }\n}\n\nfunction computerLegend(data) {\n  let flag = 0\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1\n}\nexport function transRadius(angle) {\n  return (angle / 180) * Math.PI\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Ring } from 'spritejs'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport layout from './layout'\nimport { getStyle } from '../../utils/getStyle'\nimport filterClone from 'filter-clone'\nclass PolarBar extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'polarbar'\n    this.pillars = []\n    this.hoverIndex = -1\n    this.timer = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let { height, width, top, left } = attrs.clientRect\n    attrs.pos = [left + width / 2, top + height / 2]\n    return attrs\n  }\n\n  beforeRender() {\n    //渲染前的处理函数，返回rings,继承base\n    let { arrLayout } = this.getRenderData()\n    this.pillars = arrLayout.barData\n    let barData = arrLayout.barData.map(item => {\n      return {\n        from: {\n          endAngle: item.startAngle\n        },\n        to: item\n      }\n    })\n    return { barData }\n  }\n  beforeUpdate() {\n    const pillars = this.pillars\n    let { pos } = this.renderAttrs\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let curPos = [pos[0] + nextPillar.offsetPos[0], pos[1] + nextPillar.offsetPos[1]]\n      nextPillar.pos = curPos\n      return {\n        from: { ...pillars[i] },\n        to: { ...nextPillar }\n      }\n    })\n    this.pillars = arrLayout.barData\n    return { barData }\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset['rows']\n    if (!renderData || renderData.length === 0) {\n      return { barData: [] }\n    }\n    const dataLength = renderData.length\n    this.legendArr = Array.from({ length: renderData.length }, () => {\n      return 1\n    })\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n\n    arrLayout.barData.forEach((bar, i) => {\n      let cell = renderData[i % dataLength][Math.floor(i / dataLength)]\n      let style = this.style('pillar')(bar, cell.data, i)\n      bar.fillColor = bar.fillColor || colors[cell.row]\n      bar.strokeColor = renderAttrs.strokeColor || '#FFF'\n      bar.pos = renderAttrs.pos\n      if (!bar.hasOwnProperty('startAngle') || !bar.hasOwnProperty('endAngle')) {\n        bar.lineWidth = 0\n      } else {\n        bar.lineWidth = 1\n      }\n      let barStyle = deepObjectMerge({}, styles.bar, style)\n      bar = deepObjectMerge(bar, barStyle)\n    })\n    return { arrLayout }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'bar',\n      //选中偏移量基数\n      activeOffset: 10\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n\n  mouseleave() {\n    this.timer = setTimeout(() => {\n      this.dataset.resetState()\n      this.hoverIndex = -1\n    }, 100)\n  }\n\n  mousemove(e, el) {\n    clearTimeout(this.timer)\n    // let fun = throttle(function(e, el) {\n    let renderData = this.renderData()\n    let ind = el.attr('_index')\n    let groupInd = Math.floor(ind / renderData.length)\n    if (groupInd !== this.hoverIndex) {\n      this.dataset.resetState()\n      this.dataset[this.renderAttrs.layoutBy === 'rows' ? 'cols' : 'rows'][groupInd].state = 'hover'\n      this.hoverIndex = groupInd\n    }\n    // }, 30).bind(this);\n    // fun(e, el);\n  }\n  groupMousemove(e, el) {\n    console.log(el)\n  }\n  renderData() {\n    let renderAttrs = this.renderAttrs\n    return this.dataset[renderAttrs.layoutBy]\n  }\n  render(data) {\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n    return (\n      <Group class=\"container\" ref=\"wrap\">\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\n          {data.barData.map((ring, ind) => {\n            let style = getStyle(\n              this,\n              'sector',\n              [\n                {\n                  _index: ind\n                },\n                styles.sector\n              ],\n              [this.dataset.rows[ind], ind]\n            )\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMousemove={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default PolarBar\n","import { axis } from \"../../utils/axis\"\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr\n  const { align, pyramid, clientRect, formatter } = attrs\n  const { width, height } = clientRect\n  // 输出\n  const polygons = []\n  const labels = []\n  const guideLines = []\n  const guideTexts = []\n  const max = arr[0][0].value\n  const widthFactory = width / max\n  const POLYGON_NUM = computerLegend(data) // 图例显示个数\n  let flag = 0 // 计算当前polygon前面有几个被隐藏\n  const right = align !== \"right\"\n  for (let i = 0, len = data.length; i < len; i++) {\n    let polygon = { colse: true, lineWidth: 3, points: [] }\n    const cell = data[i][0]\n    const value = cell.value\n    let offset = 0\n    let textAnchor = [0, 0.5]\n    if (align === \"center\") {\n      textAnchor = [0.5, 0.5]\n      offset = 0.5\n    } else if (!right) {\n      offset = 1\n      textAnchor = [1, 0.5]\n    }\n    polygon.points.push(\n      (max - value) * offset * widthFactory,\n      (height * (i - flag)) / POLYGON_NUM\n    )\n    polygon.points.push(\n      (max * offset + value * (1 - offset)) * widthFactory,\n      (height * (i - flag)) / POLYGON_NUM\n    )\n    if (i - flag + 1 < POLYGON_NUM) {\n      let counter = 1\n\n      while (data[i + counter][0].state === \"disabled\") {\n        counter++\n      }\n      const nextValue = data[i + counter][0].value\n\n      polygon.points.push(\n        (max * offset + nextValue * (1 - offset)) * widthFactory,\n        (height * (i - flag + 1)) / POLYGON_NUM\n      )\n      polygon.points.push(\n        (max - nextValue) * offset * widthFactory,\n        (height * (i - flag + 1)) / POLYGON_NUM\n      )\n    } else {\n      if (pyramid) {\n        polygon.points.push(offset * width, height)\n      } else {\n        polygon.points.push(\n          (max * offset + value * (1 - offset)) * widthFactory,\n          (height * (i - flag + 1)) / POLYGON_NUM\n        )\n        polygon.points.push(\n          (max - value) * offset * widthFactory,\n          (height * (i - flag + 1)) / POLYGON_NUM\n        )\n      }\n    }\n    polygon.opacity = 1\n    if (cell.state === \"disabled\") {\n      polygon.points[6] = polygon.points[0]\n      polygon.points[7] = polygon.points[1]\n      polygon.points[4] = polygon.points[2]\n      polygon.points[5] = polygon.points[3]\n      polygon.opacity = 0\n      flag++\n    }\n    const labelAttrs = {\n      opacity: cell.state === \"disabled\" ? 0 : 1,\n      text: Math.round((100 * value) / max) + \"%\",\n      anchor: textAnchor,\n      pos: [\n        width * offset + (0.5 - offset) * 10,\n        ((i - flag + 0.5) * height) / POLYGON_NUM,\n      ],\n      fillColor: \"#FFF\",\n      fontSize: \"12px\",\n    }\n    let linePoints = getLinePoints(polygon.points, right)\n    const guideLine = {\n      points: linePoints.points,\n      strokeColor: \"#000\",\n    }\n    const guideText = {\n      fillColor: \"#000\",\n      fontSize: \"12px\",\n      text: formatter(cell.data) || cell.text + cell.value,\n      pos: [guideLine.points[2] + (right ? 10 : -10), guideLine.points[3]],\n      anchor: [right ? 0 : 1, 0.5],\n    }\n    guideLines.push(guideLine)\n    guideTexts.push(guideText)\n    polygons.push(polygon)\n    labels.push(labelAttrs)\n  }\n\n  return { polygons, labels, guideLines, guideTexts }\n}\n\nfunction computerLegend(data) {\n  let flag = 0\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++\n    }\n  }\n  if (flag === 0) {\n    console.warn(\"data invalid!\")\n  }\n  return flag || 1\n}\n\nfunction getLinePoints(points, right, length) {\n  // const { points } = attrs\n  // 起点\n  let x, y\n  if (right) {\n    ;[x, y] = [(points[2] + points[4]) / 2 + 10, (points[3] + points[5]) / 2]\n  } else {\n    ;[x, y] = [\n      (points[0] + (points.length === 6 ? points[4] : points[6])) / 2 - 10,\n      (points[1] + (points.length === 6 ? points[5] : points[7])) / 2,\n    ]\n  }\n  // 终点\n  const [cX, cY] = [right ? x + (length || 40) : x - (length || 40), y]\n  return {\n    points: [x, y, cX, cY],\n  }\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Label } from 'spritejs'\nimport { deepObjectMerge, throttle } from '@qcharts/utils'\nimport layout from './layout'\nimport { getStyle } from '../../utils/getStyle'\nclass Funnel extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'funnel'\n    this.polygons = null\n    this.labels = null\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base---------before\n    let { polygons, labels, guideLines, guideTexts } = this.getRenderData()\n    polygons = polygons.map(plg => {\n      return {\n        attrs: { ...plg },\n        from: {\n          points: plg.points.length === 8 ? [plg.points[6], plg.points[7], plg.points[4], plg.points[5], plg.points[4], plg.points[5], plg.points[6], plg.points[7]] : [plg.points[4], plg.points[5], plg.points[4], plg.points[5], plg.points[4], plg.points[5]]\n        },\n        to: {\n          // pos: [0, 0],\n          points: plg.points\n        }\n      }\n    })\n    labels = labels.map(item => {\n      return {\n        attrs: { ...item }\n      }\n    })\n    guideLines = guideLines.map(item => {\n      return {\n        attrs: { ...item }\n      }\n    })\n    guideTexts = guideTexts.map(item => {\n      return {\n        attrs: { ...item }\n      }\n    })\n    this.polygons = polygons\n    this.labels = labels\n    this.guideLines = guideLines\n    this.guideTexts = guideTexts\n    return { polygons, labels, guideTexts, guideLines }\n  }\n  beforeUpdate() {\n    let oldPolygons = this.polygons\n    let oldLabels = this.labels\n    let oldTexts = this.guideTexts\n    let oldLines = this.guideLines\n    let { polygons, labels, guideLines, guideTexts } = this.getRenderData()\n    polygons = polygons.map((polygon, i) => {\n      return {\n        attrs: { ...polygon },\n        from: {\n          points: oldPolygons[i].to.points\n        },\n        to: {\n          points: polygon.points\n        }\n      }\n    })\n    labels = labels.map((label, i) => {\n      return {\n        attrs: { ...label },\n        from: {\n          pos: oldLabels[i].attrs.pos\n        },\n        to: {\n          pos: label.pos\n        }\n      }\n    })\n    guideTexts = guideTexts.map((item, i) => {\n      return {\n        attrs: { ...item },\n        from: {\n          pos: oldTexts[i].attrs.pos\n        },\n        to: {\n          pos: item.pos\n        }\n      }\n    })\n    guideLines = guideLines.map((item, i) => {\n      return {\n        attrs: { ...item },\n        from: {\n          points: oldLines[i].attrs.points\n        },\n        to: {\n          points: item.points\n        }\n      }\n    })\n    this.polygons = polygons\n    this.labels = labels\n    this.guideLines = guideLines\n    this.guideTexts = guideTexts\n    return { polygons, labels, guideTexts, guideLines }\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let { polygons, labels, guideLines, guideTexts } = layout(renderData, renderAttrs)\n    return { polygons, labels, guideLines, guideTexts }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'funnel',\n      formatter: d => (d.value ? d.value : d)\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n  onMousemove(event, el) {\n    let ind = el.attr('_ind')\n    this.dataset.resetState()\n    this.dataset[this.renderAttrs.layoutBy][ind][0].state = 'hover'\n  }\n\n  onMouseleave(e, el) {\n    this.dataset.resetState()\n  }\n  myClick = function() {\n    console.log('myclick')\n  }\n\n  withText(attrs, cell) {\n    let { labelAttrs } = attrs\n    if (cell.state === 'disabled') {\n      return\n    }\n    const textStyle = getStyle(this, 'text', [{}], [cell.data, cell.row])\n    if (textStyle === false) {\n      return\n    }\n    // let { textFrom, textTo } = this.fromTos[index]\n    return <Label {...labelAttrs} {...textStyle} />\n  }\n\n  render(data) {\n    let { clientRect, bgpillarState, states } = this.renderAttrs\n    let { polygons, labels, guideLines, guideTexts } = data\n    const styles = this.renderStyles\n    const colors = this.theme.colors\n    return (\n      <Group class=\"container\" ref=\"wrap\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group ref=\"pillars\" class=\"pillars-group\">\n          {polygons.map((pillar, ind) => {\n            const cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\n            let style = getStyle(this, 'polygon', [{ _ind: ind, fillColor: colors[ind] }, styles.polygon], [cell, ind])\n            let styleHover = getStyle(this, 'polygon:hover', [{ _ind: ind, opacity: 0.8 }, styles.polygon], [cell, ind])\n            if (cell.state === 'hover') {\n              deepObjectMerge(style, styleHover)\n            }\n            return (\n              <Group>\n                <Polyline onMousemove={this.onMousemove} onMouseleave={this.onMouseleave} {...pillar.attrs} {...pillar.from} {...style} animation={{ from: pillar.from, to: pillar.to }} />\n                {/* {withGuide(\n                  this,\n                  pillar.attrs,\n                  this.dataset[this.renderAttrs.layoutBy][ind][0],\n                  this.renderAttrs.formatter\n                )} */}\n              </Group>\n            )\n          })}\n        </Group>\n        <Group ref=\"guideLine\">\n          {guideLines.map((item, ind) => {\n            let cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\n            if (cell.state === 'disabled') {\n              return\n            }\n            const lineStyle = getStyle(this, 'guideline', [{}], [cell.data, cell.row])\n            if (lineStyle === false) {\n              return\n            }\n            return <Polyline {...item.attrs} {...item.from} {...lineStyle} animation={{ from: item.from, to: item.to }} />\n          })}\n        </Group>\n        <Group ref=\"guideText\">\n          {guideTexts.map((item, ind) => {\n            let cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\n            if (cell.state === 'disabled') {\n              return\n            }\n            const textStyle = getStyle(this, 'guideText', [{}], [cell.data, cell.row])\n            if (textStyle === false) {\n              return\n            }\n            return <Label {...item.attrs} {...item.from} {...textStyle} animation={{ from: item.from, to: item.to }} />\n          })}\n        </Group>\n        <Group ref=\"label\">\n          {labels.map((item, ind) => {\n            let cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\n            if (cell.state === 'disabled') {\n              return\n            }\n            const textStyle = getStyle(this, 'text', [{}], [cell.data, cell.row])\n            if (textStyle === false) {\n              return\n            }\n            return <Label {...item.attrs} {...item.from} {...textStyle} animation={{ from: item.from, to: item.to }} />\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Funnel\n","import { axis } from '../../utils/axis'\nimport { scaleLinear } from '../../utils/scaleLinear'\nimport { jsType } from '@qcharts/utils'\n\nconst getDataRange = (data) => {\n  if (data.length === 0) {\n    return [0, 1]\n  }\n  const min = Math.min(...data)\n  const max = Math.max(...data)\n  return [min, max]\n}\n\nconst getBigRange = (data) => {\n  if (data.length === 0) {\n    return [0, 1]\n  }\n  const [min, max] = getDataRange(data)\n  const n = Math.round(min / 10) - 1\n  const m = Math.round(max / 10) + 1\n  return [n * 10, m * 10]\n}\n\nconst updateSectionVal = (section, newSection) => {\n  const { min, max } = newSection\n  if (jsType(min) === 'number') {\n    section[0] = min\n  }\n  if (jsType(max) === 'number') {\n    section[1] = max\n  }\n}\n\nexport default function layout(dataSet, size, layoutWay) {\n  const [width, height] = size\n\n  const { text: textField, value: valueField } = dataSet.option\n  const allData = [...dataSet]\n\n  // 如果X轴是文本框，则进行均分\n  const maxLen = getDataRange(dataSet.rows.map((d) => d.length))[1]\n\n  let xDomain = [0, maxLen - 1]\n  let xSection = [0, maxLen - 1]\n  const xIsTextData = allData.some((d) => jsType(d.text) === 'string')\n  if (!xIsTextData) {\n    xSection = getBigRange(allData.map((d) => d.text))\n    const xScales = axis.call(this, {\n      dataSet: allData,\n      stack: false,\n      field: textField,\n      section: xSection\n    })\n    xDomain = getDataRange(xScales)\n  }\n\n  const yIsTextData = allData.some((d) => jsType(d.value) === 'string')\n  if (yIsTextData) {\n    throw new Error(\"Scatter's value category data should be Number!\")\n  }\n  let ySection = getBigRange(allData.map((d) => d.layoutScaleValue))\n  const yScales = axis.call(this, {\n    dataSet: allData,\n    stack: false,\n    field: 'layoutScaleValue',\n    section: ySection\n  })\n  const yDomain = getDataRange(yScales)\n\n  if (layoutWay) {\n    if (layoutWay[textField]) {\n      updateSectionVal(xSection, layoutWay[textField])\n    }\n    if (layoutWay[valueField]) {\n      updateSectionVal(ySection, layoutWay[valueField])\n    }\n  }\n\n  const newLayoutWay = {}\n  newLayoutWay[textField] = { min: xSection[0], max: xSection[1] }\n  newLayoutWay[valueField] = { min: ySection[0], max: ySection[1] }\n\n  const xLinear = scaleLinear()\n    .domain(xDomain)\n    .range([0, width])\n  const yLinear = scaleLinear()\n    .domain(yDomain)\n    .range([0, height])\n\n  const resultData = dataSet.rows.map((dArry) => {\n    const attrs = dArry.map((d, i) => {\n      const x = xIsTextData ? i : d.text\n      const y = d.layoutScaleValue\n      const pos = [xLinear(x), height - yLinear(y)]\n      return {\n        pos,\n        radius: 5,\n        anchor: [1, 1],\n        dataOrigin: { ...d.data },\n        state: d.state,\n        name: dArry.name,\n        col: d.col,\n        row: d.row\n      }\n    })\n    return {\n      name: dArry.name,\n      state: dArry.state,\n      attrs\n    }\n  })\n  return { data: resultData, layoutWay: newLayoutWay }\n}\n","import { Group, Polyline, Arc, Label } from 'spritejs'\nimport BaseVisual from '../../base/BaseVisual'\nimport { scaleLinear } from '../../utils/scaleLinear'\nimport { hexToRgba } from '../../utils/color'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport layout from './layout'\n\nclass Scatter extends BaseVisual {\n  constructor(attrs = {}) {\n    super(attrs)\n    this.type = 'scatter'\n    this.scatterData = []\n    this.guideLineData = []\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'scatter',\n      labelField: null,\n      areaField: null, //气泡大小字段值，不设置此值则为散点图\n      areaRange: null, // 面积映射\n      showGuideLine: false,\n      layoutWay: null\n    }\n  }\n\n  get renderAttrs() {\n    return { ...super.renderAttrs }\n  }\n\n  processData() {\n    const dataSet = this.dataset\n    const { layoutWay, clientRect } = this.renderAttrs\n    const { data, layoutWay: newLayoutWay } = layout.call(\n      this,\n      dataSet,\n      [clientRect.width, clientRect.height],\n      layoutWay\n    )\n    deepObjectMerge(this.renderAttrs.layoutWay || {}, newLayoutWay)\n\n    data.forEach((item, i) => {\n      const color = this.theme.colors[i]\n      const fillColor = hexToRgba(color, 0.3)\n      item.attrs.forEach((di) => {\n        di.strokeColor = color\n        di.fillColor = fillColor\n      })\n    })\n    return data\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const updateData = this.processData()\n    const temp = updateData.map((row) => deepObjectMerge({}, row))\n    updateData.forEach((row, ind) => {\n      const oldRow = this.scatterData[ind]\n      row.attrs.forEach((cell, cInd) => {\n        const radius = this.getRealRadius({ ...cell })\n        cell.radius = radius\n        if (oldRow && oldRow.attrs[cInd]) {\n          const oldCell = oldRow.attrs[cInd]\n          const toPos = [...cell.pos]\n          const fromPos =\n            oldCell.animation.to && oldCell.animation.to.pos ? [...oldCell.animation.to.pos] : [...oldCell.pos]\n          // 位置相同\n          if (toPos.toString() === fromPos.toString()) {\n            let fromRadius = radius\n            let toRadius = radius\n            //default-> disabled\n            if (cell.state === 'disabled') {\n              toRadius = 0\n            }\n            // old is disabled\n            if (oldCell.animation.to.radius == 0) {\n              fromRadius = 0\n            }\n            cell.animation = {\n              from: { radius: fromRadius },\n              to: { radius: toRadius }\n            }\n          } else {\n            cell.animation = {\n              from: { pos: fromPos },\n              to: { pos: toPos }\n            }\n          }\n        } else {\n          cell.animation = {\n            from: { radius: 0 },\n            to: { radius: radius }\n          }\n        }\n      })\n    })\n    this.scatterData = temp\n    return updateData\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const renderData = this.processData()\n    this.scatterData = renderData.map((row) => deepObjectMerge({}, row))\n    renderData.forEach((row) => {\n      row.attrs.forEach((cell) => {\n        const radius = this.getRealRadius({ ...cell })\n        cell.animation = {\n          from: { radius: 0 },\n          to: { radius }\n        }\n      })\n    })\n    return renderData\n  }\n\n  getRealRadius(attr) {\n    const { areaRange, areaField } = this.renderAttrs\n    const { radius, dataOrigin } = attr\n    // 面积字段未定义，直接返回半径\n    if (!areaField || !dataOrigin.hasOwnProperty(areaField)) {\n      return radius\n    }\n    // 面积范围未定义，直接返回数据中的面积\n    if (!areaRange) {\n      return dataOrigin[areaField]\n    }\n\n    const allData = [...this.dataset].map((d) => d.data[areaField]).sort((a, b) => a - b)\n    const linear = scaleLinear()\n      .domain([allData[0], allData[allData.length - 1]])\n      .range(areaRange)\n    const realArea = linear(dataOrigin[areaField])\n    return realArea\n  }\n\n  onMouseenter(event, el) {\n    const arc = el.children[0]\n    const { row: rowInd, col: colInd, pos } = arc.attributes\n    this.dataset.forEach((cell) => {\n      if (cell.row === rowInd && cell.col === colInd) {\n        cell.state = 'hover'\n      }\n    })\n    const { showGuideLine } = this.renderAttrs\n    if (showGuideLine) {\n      const { height, width } = this.renderAttrs.clientRect\n      this.guideLineData = [\n        [\n          [0, pos[1]],\n          [width, pos[1]]\n        ],\n        [\n          [pos[0], 0],\n          [pos[0], height]\n        ]\n      ]\n    }\n  }\n  onMouseleave(event, el) {\n    const arc = el.children[0]\n    this.dataset.resetState()\n    this.guideLineData = []\n  }\n\n  renderGuideLine() {\n    if (this.guideLineData.length > 0) {\n      return this.guideLineData.map((points) => {\n        return <Polyline points={points} strokeColor={'#ddd'} lineWidth={1} translate={[0.5, 0.5]} />\n      })\n    }\n    return\n  }\n\n  renderScatter(data) {\n    const { labelField } = this.renderAttrs\n    const scatters = data.map((item, di) => {\n      return item.attrs.map((attr, ci) => {\n        let style = this.style('point')(attr, { ...attr.dataOrigin }, ci)\n        if (style === false) {\n          return\n        }\n\n        let labelAttr = null\n\n        if (labelField) {\n          const style = this.style('label')(attr, { ...attr.dataOrigin }, ci)\n          if (style !== false) {\n            if (attr.dataOrigin.hasOwnProperty(labelField)) {\n              const { strokeColor, ...other } = attr\n              const text = attr.dataOrigin[labelField]\n              labelAttr = deepObjectMerge(\n                other,\n                {\n                  fillColor: strokeColor,\n                  text,\n                  anchor: [0.5, 0.5],\n                  fontSize: '12px',\n                  zIndex: 10 + di + ci\n                },\n                style\n              )\n            }\n          }\n        }\n        const hStyle = this.style('point:hover')(attr, attr.dataOrigin, ci) || {}\n        const stateStyle = attr.state === 'hover' ? hStyle : {}\n\n        return (\n          <Group onMousemove={this.onMouseenter} onMouseleave={this.onMouseleave}>\n            <Arc {...attr} {...style} {...stateStyle} zIndex={9 + di + ci} />\n            {labelAttr ? <Label {...labelAttr} /> : null}\n          </Group>\n        )\n      })\n    })\n    return scatters.reduce((pre, cur) => {\n      return pre.concat(cur)\n    }, [])\n  }\n\n  render(data) {\n    const { height, width, left, top } = this.renderAttrs.clientRect\n    return (\n      <Group size={[width, height]} pos={[left, top]} zIndex={10}>\n        {this.renderScatter(data)}\n        {this.renderGuideLine()}\n      </Group>\n    )\n  }\n\n  rendered() {}\n}\n\nexport default Scatter\n","export function hexToRgba(hex, opacity) {\n  // 16进制颜色转rgba\n  if (/^rgba\\(.+\\)$/.test(hex)) {\n    return hex;\n  }\n  var c\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\n    c = hex.substring(1).split('')\n    if (c.length === 3) {\n      c = [c[ 0 ], c[ 0 ], c[ 1 ], c[ 1 ], c[ 2 ], c[ 2 ]]\n    }\n    c = '0x' + c.join('')\n    return (\n      'rgba(' +\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') +\n      ',' +\n      opacity +\n      ')'\n    )\n  }\n  throw new Error('Bad Hex')\n}\nexport function randomHexColor() {\n  // 随机生成十六进制颜色\n  let random = Math.floor(Math.random() * 16777216).toString(16) // 生成ffffff以内16进制数\n  while (random.length < 6) {\n    // while循环判断hex位数，少于6位前面加0凑够6位\n    random = `0${random}`\n  }\n  return `#${random}`\n}\n","//通过圆生成path\nfunction ellipse2path(cx, cy, rx, ry) {\n  //非数值单位计算，如当宽度像100%则移除\n  if (isNaN(cx - cy + rx - ry)) return\n  var path = 'M' + (cx - rx) + ' ' + cy + 'a' + rx + ' ' + ry + ' 0 1 0 ' + 2 * rx + ' 0' + 'a' + rx + ' ' + ry + ' 0 1 0 ' + -2 * rx + ' 0' + 'z'\n  return path\n}\nexport default ellipse2path\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Path, requestAnimationFrame, Label, Node } from 'spritejs'\nimport ellipse2path from '../../utils/ellipse2path'\nimport { getStyle } from '../../utils/getStyle'\nclass Wave extends Base {\n  constructor(attrs) {\n    super(attrs)\n    //波纹振偏移量\n    this.offsetR = 50\n    this.tickId = ''\n    this.oldAttr = {}\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let clientRect = attrs.clientRect\n    let width = Math.floor(clientRect.width)\n    let height = Math.floor(clientRect.height)\n    let radius = attrs.radius\n    attrs.pos = [0, 0]\n    if (!attrs.shape) {\n      attrs.pos = [width / 2 - radius, height / 2 - radius]\n      attrs.shape = ellipse2path(radius, radius, attrs.radius, attrs.radius)\n    }\n    return attrs\n  }\n  rendered() {\n    //path的高宽\n    this.wave()\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      amplitude: 8, //振幅\n      wavelength: 300, //波长`\n      radius: 150,\n      percent: 65,\n      formatter: per => {\n        return per + '%'\n      }\n    }\n  }\n  wave() {\n    let currentR = 0\n    let per = 4\n    let clipWave = this.$refs['clipWave']\n    let clipPath = this.$refs['clipPath'] || clipWave\n    let pathHeight = clipPath.originalContentRect[3]\n    let { percent, wavelength, amplitude, clientRect, animation, shape } = this.renderAttrs\n    let perR = 24 / animation.duration\n    let currentX = 0 - clientRect.left\n    //以路径的top为起点，计算百分比\n    let startY = (pathHeight * (100 - percent)) / 100 + clipPath.originalContentRect[1]\n    this.tickId = requestAnimationFrame(_ => {\n      this.offsetR += perR\n      let points = [[currentX, startY + pathHeight]]\n      points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\n      while (currentX < clientRect.width + clientRect.left + clientRect.right) {\n        points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\n        currentX += wavelength / (per * 2)\n        currentR += Math.PI / per\n      }\n      let lastY = amplitude * Math.sin(currentR + this.offsetR)\n      points.push([currentX, startY + lastY])\n      points.push([currentX, startY + lastY])\n      points.push([currentX, startY + pathHeight])\n      clipWave.attr({ points: points, clipPath: ' ' + shape })\n      if (this.offsetR >= 2 * Math.PI) {\n        this.offsetR = this.offsetR % (2 * Math.PI)\n      }\n      this.wave()\n    })\n  }\n  render() {\n    let { clientRect, shape, pos, formatter, percent, radius } = this.renderAttrs\n    let renderStyles = this.renderStyles\n    let waveStyle = getStyle(this, 'wave', renderStyles.wave)\n    let shapeStyle = getStyle(this, 'shape', renderStyles.shape)\n    let textStyle = getStyle(this, 'text', [{ pos: [radius, radius], anchor: [0.5, 0.5] }, renderStyles.text])\n    let animation = {\n      from: {\n        pos: this.oldAttr.pos || pos\n      },\n      to: {\n        pos: pos\n      }\n    }\n    this.oldAttr = { ...this.renderAttrs }\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]}>\n        <Group animation={animation}>\n          <Path ref=\"clipPath1\" d={shape} fillColor={shapeStyle.fillColor} />\n          <Polyline ref=\"clipWave\" {...waveStyle} clipPath={shape} smooth={true} />\n          <Path ref=\"clipPath\" d={shape} strokeColor={shapeStyle.strokeColor} lineWidth={shapeStyle.lineWidth} />\n          {textStyle === false ? <Node /> : <Label text={formatter(percent)} {...textStyle} />}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Wave\n","import { Group, Polyline, Label, Arc, Gradient } from 'spritejs'\nimport { jsType } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\n\n/**\n * 根据给定参数，生成仪表盘刻度的坐标以及刻度文字标注的坐标\n * @param {Number} radius 仪表盘半径\n * @param {Number} angle 刻度的角度 单位度\n * @param {Number} tickLength 刻度的长度\n * @param {Number} labelOffset 刻度文字的偏移值\n * @param {Boolean} isInner 刻度是否在仪表盘内部\n */\nfunction tickLine(radius, angle, tickLength, labelOffset, isInner) {\n  const radian = (angle * Math.PI) / 180\n  const cos = Math.cos(radian)\n  const sin = Math.sin(radian)\n  // 起点\n  const [x, y] = [cos * radius, sin * radius]\n  // 中点\n  const [cX0, cY0] = isInner\n    ? [x - tickLength * cos, y - tickLength * sin]\n    : [x + tickLength * cos, y + tickLength * sin]\n  const labelPos = isInner\n    ? [x - (tickLength + labelOffset) * cos, y - (tickLength + labelOffset) * sin]\n    : [x + (tickLength + labelOffset) * cos, y + (tickLength + labelOffset) * sin]\n\n  let anchorX = isInner ? cos : -cos\n  let anchorY = isInner ? sin : -sin\n  let anchor = [0.5, 0.5]\n\n  if (Math.abs(anchorX) > Math.abs(anchorY)) {\n    anchor[0] = anchorX < 0 ? 0 : anchorX\n  } else {\n    anchor[1] = anchorY > 0 ? anchorY : 0\n  }\n  return {\n    points: [\n      [x, y],\n      [cX0, cY0]\n    ],\n    labelPos,\n    anchor\n  }\n}\n\nclass Gauge extends BaseVisual {\n  constructor(attrs) {\n    super(attrs)\n    this.gaugeAnimations = []\n    this.type = 'Gauge'\n    this.oldPos = null\n    this.style('tickText', true)\n    this.style('tickLine', true)\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'gauge',\n      min: 0, // 刻度最小值\n      max: 100, // 刻度最大值\n      percent: 50, // 指针值\n      lineCap: 'round',\n      _useBuiltInColors: false, // 默认颜色不使用渐变色\n      lineWidth: 10, // 仪表盘圆弧宽度\n      startAngle: 140, // 仪表盘弧度起始角度，arc 角度顺时针增加，0度为屏幕X轴方向\n      endAngle: 400, // 仪表盘弧度终止角度\n      strokeBgcolor: '#dde3ea', // 仪表盘弧度的背景色\n      title: (d) => d,\n      tickStep: 10, // tick 步进，生成 tick 的数量为 (max - min) / tickStep\n      tickLength: 10, // 刻度长度，为负值时向外绘制\n      labelOffset: 5,\n      tickFormatter: (d) => d // 刻度文本格式化\n    }\n  }\n\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    // 仪表盘半径\n    const { clientRect } = attrs\n    const { height, width } = clientRect\n    const size = [width, height]\n\n    const radius = ~~Math.min.apply(\n      size,\n      size.map((v) => v / 2)\n    )\n    // 指针宽度\n    const pointerWidth = radius / 10\n    // 绘图中心\n    const center = [width / 2, height / 2]\n    // Fixed: spriteJS bug, 起始角度差为360的时候位置会发生偏差\n    if (attrs.endAngle - attrs.startAngle > 359.9) {\n      attrs.endAngle = attrs.startAngle + 359.9\n    }\n\n    return {\n      ...attrs,\n      radius,\n      pointerWidth,\n      center\n    }\n  }\n\n  get ticks() {\n    let {\n      min,\n      max,\n      radius,\n      startAngle,\n      endAngle,\n      lineWidth,\n      tickStep,\n      tickLength,\n      labelOffset,\n      tickFormatter\n    } = this.renderAttrs\n    const count = Math.abs(max - min) / tickStep\n\n    let total = endAngle - startAngle\n\n    const isInner = tickLength > 0\n    const perAngle = total / count\n    const ticks = []\n    let tickRadius = isInner ? radius - lineWidth / 2 : radius + lineWidth / 2\n    let angle = 0\n    let i = -1\n\n    while (++i <= count) {\n      angle = i * perAngle + startAngle\n      const ret = tickLine(tickRadius, angle, Math.abs(tickLength), Math.abs(labelOffset), isInner)\n      ticks.push({\n        points: ret.points,\n        label: {\n          text: tickFormatter(i * tickStep + min).toFixed(0),\n          pos: ret.labelPos,\n          anchor: ret.anchor\n        }\n      })\n    }\n\n    if ((ticks[0].angle + ticks[ticks.length - 1].angle) % (Math.PI * 2) === 0) {\n      ticks.pop()\n    }\n\n    return ticks\n  }\n\n  transform() {\n    const { radius, startAngle, endAngle, min, max, percent } = this.renderAttrs\n    const total = Math.abs(max - min)\n\n    let attrEndAngle = ((endAngle - startAngle) * (percent - min)) / total + startAngle\n    // 最大不可超过endAngle\n    if (attrEndAngle > endAngle) {\n      attrEndAngle = endAngle\n    }\n\n    return {\n      dataOrigin: percent,\n      startAngle,\n      radius,\n      endAngle: attrEndAngle,\n      strokeColor: this.color(0)\n    }\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const arc = this.transform()\n    this.gaugeAnimations = {\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\n    }\n    return arc\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const arc = this.transform()\n    const animation = {\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\n    }\n    if (this.gaugeAnimations) {\n      animation.from = { ...this.gaugeAnimations.to }\n    }\n\n    this.gaugeAnimations = { ...animation }\n    return arc\n  }\n\n  color(i) {\n    return this.theme.colors[i]\n  }\n\n  /**\n   * 渲染指针\n   * @param {Number} angle 角度\n   */\n  renderPointer(d, maxTickTextFontSize) {\n    const style = this.style('pointer')(d, d.dataOrigin, 0)\n    if (style === false) {\n      return\n    }\n    // 动画\n    let { from, to } = this.gaugeAnimations\n    // rotate角度起始位置为屏幕Y轴方向，arc角度为X轴方向\n    const fromRotate = from.endAngle + 90\n    const toRotate = to.endAngle + 90\n    const pointerAnimation = {\n      from: { rotate: fromRotate },\n      to: { rotate: toRotate }\n    }\n    // 半径\n    const { radius, pointerWidth, center, tickLength, labelOffset, lineWidth } = this.renderAttrs\n    // 指针顶部离仪表盘的距离\n    let pointerTopOffset = tickLength + lineWidth + labelOffset + maxTickTextFontSize\n    if (tickLength < 0) {\n      pointerTopOffset = pointerTopOffset - tickLength - labelOffset\n    }\n    // 指针长度\n    const pointerLen = radius - pointerTopOffset\n    // 指针宽度\n    let pWidth = radius / 10\n\n    // 指针颜色\n    const color = this.color(0)\n\n    const [x, y] = center\n    const attr = {\n      fillColor: color,\n      rotate: fromRotate,\n      transformOrigin: center,\n      zIndex: 11,\n      points: [\n        [x, y],\n        [x - pWidth / 2, y - pointerLen * 0.1],\n        [x, y - pointerLen],\n        [x + pWidth / 2, y - pointerLen * 0.1],\n        [x, y]\n      ],\n      close: true\n    }\n    return <Polyline {...attr} {...style} animation={pointerAnimation} />\n  }\n\n  isStyleExist(name) {\n    const style = this.style(`${name}`)\n    return Boolean(style)\n  }\n\n  render(data = {}) {\n    const {\n      _useBuiltInColors,\n      title,\n      percent,\n      center,\n      radius,\n      startAngle,\n      endAngle,\n      lineWidth,\n      lineCap,\n      strokeBgcolor,\n      clientRect\n    } = this.renderAttrs\n    const labelCenter = [center[0], center[1] * 1.25]\n    const ticks = this.ticks\n    const tickLine = this.isStyleExist('tickLine')\n    const tickText = this.isStyleExist('tickText')\n    const realTitle = title || percent\n\n    let gradientColor = null // 默认使用内置的渐变配色方案\n\n    if (_useBuiltInColors !== false) {\n      const colors = this.theme.colors.reverse()\n      const gradientOpt = {\n        vector: [0, 0, center[0] * 2, center[1] * 2],\n        colors: [\n          { color: colors[0], offset: 0 },\n          { color: colors[1], offset: 0.3 },\n          { color: colors[2], offset: 1 }\n        ]\n      }\n      gradientColor = new Gradient(gradientOpt)\n    }\n\n    let maxTickTextFontSize = 16\n    if (tickText !== false) {\n      ticks.map((tick, j) => {\n        const style = this.style('tickText')(data, data.dataOrigin, j)\n        if (style && style.fontSize) {\n          if (jsType(style.fontSize) === 'number' && maxTickTextFontSize < style.fontSize) {\n            maxTickTextFontSize = style.fontSize\n          }\n          if (jsType(style.fontSize) === 'string') {\n            const realSize = Number(style.fontSize.replace('px', ''))\n            if (jsType(realSize) === 'number' && maxTickTextFontSize < realSize) {\n              maxTickTextFontSize = realSize\n            }\n          }\n        }\n      })\n    }\n    const gPos = [clientRect.left, clientRect.top]\n    const gSize = [clientRect.width, clientRect.height]\n\n    const gAnimation = {\n      from: { pos: this.oldPos ? this.oldPos : gPos },\n      to: { pos: gPos }\n    }\n    this.oldPos = gPos\n    return (\n      <Group pos={gPos} size={gSize} animation={gAnimation}>\n        <Arc\n          pos={center}\n          lineWidth={lineWidth}\n          lineCap={lineCap}\n          startAngle={startAngle}\n          endAngle={endAngle}\n          strokeColor={strokeBgcolor}\n          radius={radius}\n          zIndex={10}\n        />\n        <Arc\n          pos={center}\n          lineCap={lineCap}\n          lineWidth={lineWidth}\n          {...data}\n          animation={this.gaugeAnimations}\n          {...(gradientColor ? { strokeColor: gradientColor } : { strokeColor: this.color(0) })}\n          {...this.style('arc')(data, data.dataOrigin, 0)}\n          zIndex={11}\n        />\n        {this.renderPointer(data, maxTickTextFontSize)}\n        {realTitle ? (\n          <Label\n            text={jsType(realTitle) === 'function' ? realTitle(data.dataOrigin) : realTitle}\n            pos={labelCenter}\n            textAlign=\"center\"\n            zIndex={10}\n            anchor={[0.5, 1]}\n            {...this.style('title')(data, data.dataOrigin, 0)}\n          />\n        ) : null}\n        {tickLine !== false || tickText !== false\n          ? ticks.map((tick, j) => (\n              <Group pos={center} anchor={[0, 0]} zIndex={1010}>\n                {tickLine !== false ? (\n                  <Polyline\n                    points={tick.points}\n                    strokeColor={strokeBgcolor}\n                    {...this.style('tickLine')(data, data.dataOrigin, j)}\n                  />\n                ) : null}\n                {tickText !== false ? (\n                  <Label {...tick.label} {...this.style('tickText')(data, data.dataOrigin, j)} />\n                ) : null}\n              </Group>\n            ))\n          : null}\n      </Group>\n    )\n  }\n\n  rendered() {\n    this.on('resize', () => this.forceUpdate())\n  }\n}\n\nexport default Gauge\n","import { Group, Arc } from 'spritejs'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\n\n// 数据拷贝\nconst flattern = (arr) => [].concat.apply([], arr)\n\nclass RadialBar extends BaseVisual {\n  constructor(attrs = {}) {\n    super(attrs)\n    this.type = 'RadialBar'\n    this.animators = []\n    this.oldPos = null\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'radialBar',\n      radius: 0.8,\n      innerRadius: 0,\n      startAngle: -90,\n      endAngle: 270,\n      lineWidth: 5,\n      strokeBgcolor: '#f5f5f5'\n    }\n  }\n\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    const { clientRect } = attrs\n    const size = [clientRect.width, clientRect.height]\n    return {\n      ...attrs,\n      size\n    }\n  }\n\n  get maxOuterRadius() {\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\n    const [width, height] = size\n\n    if (endAngle - startAngle === 90) {\n      return Math.min(width, height) * radius\n    } else {\n      return (Math.min(width, height) / 2) * radius\n    }\n  }\n\n  get center() {\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\n    const angle = (endAngle + startAngle) / 2\n    const [width, height] = size\n    const maxRadius = this.maxOuterRadius\n    let [x, y] = [width / 2 - maxRadius, height / 2 - maxRadius]\n\n    if (endAngle - startAngle === 90) {\n      // 区分象限\n      const cos = Math.cos(angle)\n      const sin = Math.sin(angle)\n      const maxWidth = radius * width\n      const maxHeight = radius * height\n      x += cos < 0 ? maxWidth / 2 : -(maxWidth / 2)\n      y += sin < 0 ? maxHeight / 2 : -(maxHeight / 2)\n    }\n\n    return [x, y]\n  }\n\n  get innerRadius() {\n    let { radius, innerRadius } = this.renderAttrs\n    return innerRadius <= 0 ? 0 : (this.maxOuterRadius / radius) * innerRadius\n  }\n\n  transform(data) {\n    const { startAngle, endAngle, max, min, lineWidth, colors } = this.renderAttrs\n    let total = 0\n    if (!isNaN(max) && !isNaN(min)) {\n      total = max - min\n    } else {\n      let cloneData = deepObjectMerge(data)\n      cloneData.sort((a, b) => b.value - a.value)\n      total = cloneData[0].value * 1.3\n    }\n    const angle = endAngle - startAngle\n    const innerRadius = this.innerRadius\n    const outerRadius = this.maxOuterRadius\n    const arcOffset = 0.5\n    const len = data.length\n    const perRadius =\n      ((outerRadius - innerRadius) * 2 - lineWidth * (lineWidth >= 5 ? 1 : len - 1)) / ((len * 2 - 1) * (1 + arcOffset))\n    let value = null\n\n    data.forEach((d, i) => {\n      value = +d.value\n\n      let endAngle = startAngle\n      if (d.state !== 'disabled') {\n        endAngle = startAngle + (angle * value) / total\n      }\n      // spriteJS bug, 起始角度差为360的时候位置会发生偏差\n      if (endAngle - startAngle > 359.9) {\n        endAngle = 359.9 + startAngle\n      }\n\n      d.pos = [outerRadius, outerRadius]\n      d.anchor = [0.5, 0.5]\n      d.lineWidth = lineWidth\n      d.startAngle = startAngle\n      d.endAngle = endAngle\n      d.innerRadius = innerRadius + i * (1 + arcOffset) * perRadius\n      d.radius = d.innerRadius + 1 * perRadius\n      d.strokeColor = colors[i]\n\n      const normalStyle = this.style('arc')(d, d.dataOrigin, d.index)\n\n      Object.assign(d, normalStyle)\n    })\n    // 半径大的在底，小的在上，这样事件触发才正常\n    return data.sort((a, b) => b.radius - a.radius)\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const { startAngle } = this.renderAttrs\n    let data = flattern(this.dataset)\n    data = this.transform(data)\n    this.animators = data.map((d) => ({\n      from: {\n        startAngle,\n        endAngle: startAngle\n      },\n      to: {\n        startAngle,\n        endAngle: d.endAngle\n      }\n    }))\n    return data\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const { startAngle } = this.renderAttrs\n    let data = flattern(this.dataset)\n    data = this.transform(data)\n    this.animators = data.map((d, i) => {\n      if (d.anticlockwise) {\n        return d.disabled ? { from: { opacity: 1 }, to: { opacity: 0 } } : { from: { opacity: 1 }, to: { opacity: 1 } }\n      } else {\n        let prev = this.animators[i] ? this.animators[i].to : data[i - 1]\n\n        if (!prev) {\n          prev = {\n            startAngle: startAngle,\n            endAngle: startAngle\n          }\n        }\n\n        return {\n          from: {\n            startAngle: prev.startAngle,\n            endAngle: prev.endAngle\n          },\n          to: {\n            startAngle: d.startAngle,\n            endAngle: d.endAngle\n          }\n        }\n      }\n    })\n    return data\n  }\n\n  onMouseenter(event, el) {\n    const { col, row } = el.children[1].attributes\n    this.dataset.forEach((item) => {\n      item.state = item.col === col && item.row === row ? 'hover' : 'default'\n    })\n  }\n\n  onMouseleave() {\n    this.dataset.resetState()\n  }\n\n  render(data = []) {\n    const { strokeBgcolor } = this.renderAttrs\n    const gAnimation = {\n      from: { pos: this.oldPos ? this.oldPos : this.center },\n      to: { pos: this.center }\n    }\n    this.oldPos = this.center\n    return (\n      <Group>\n        {data.map((d, i) => {\n          const { col, row, data } = d\n          return (\n            <Group\n              pos={this.center}\n              animation={gAnimation}\n              onMouseenter={this.onMouseenter}\n              onMousemove={this.onMouseenter}\n              onMouseleave={this.onMouseleave}\n            >\n              <Arc {...d} startAngle={0} endAngle={360} strokeColor={strokeBgcolor} />\n              <Arc\n                pos={this.center}\n                {...{ ...d, col, row }}\n                animation={this.animators[i]}\n                {...this.style('arc')(d, data, i)}\n              />\n            </Group>\n          )\n        })}\n      </Group>\n    )\n  }\n\n  rendered() {}\n}\n\nexport default RadialBar\n","import Base from './Base'\nimport theme from '../theme/default'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nexport default class BasePlugin extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.plugins[this.constructor.name]\n    //如果当前对象设置了theme，不继承theme\n    this.theme.set = obj => {\n      if (this.theme === theme.visuals[this.constructor.name]) {\n        this.theme = filterClone(this.theme)\n      }\n      this.theme = deepObjectMerge(this.theme, obj)\n    }\n  }\n}\n","import { scaleLinear } from '../../utils/scaleLinear'\nimport { axis } from '../../utils/axis'\nimport { emptyObject } from '@qcharts/utils'\nexport default function layout(arr, attrs) {\n  let res = {\n    scales: [],\n    labels: [],\n    grids: [],\n    axisPoints: [],\n    orient: attrs.orient\n  }\n  let defaultAttrs = {\n    top: {\n      label: {\n        anchor: [0.5, 1],\n        padding: [0, 0, 6, 0],\n        textAlign: 'center'\n      },\n      scale: {\n        anchor: [0.5, 1],\n        width: 1,\n        height: 4\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'category'\n    },\n    bottom: {\n      scale: {\n        anchor: [0.5, 0],\n        width: 1,\n        height: 4\n      },\n      label: {\n        anchor: [0.5, 0],\n        padding: [6, 0, 0, 0],\n        textAlign: 'center'\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'category'\n    },\n    left: {\n      label: {\n        padding: [0, 8, 0, 0],\n        anchor: [1, 0.5],\n        textAlign: 'right'\n      },\n      scale: {\n        anchor: [1, 0.5],\n        width: 4,\n        height: 1\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'value'\n    },\n    right: {\n      label: {\n        anchor: [0, 0.5],\n        padding: [0, 0, 0, 8]\n      },\n      scale: {\n        anchor: [0, 0.5],\n        width: 4,\n        height: 1\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'value'\n    }\n  }\n  const { stack, splitNumber, clientRect, orient, axisGap, transpose } = attrs\n  if (transpose) {\n    ;['top', 'bottom', 'right', 'left'].forEach(str => {\n      defaultAttrs[str].type = defaultAttrs[str].type === 'value' ? 'category' : 'value'\n    })\n  }\n  const { width, height } = clientRect\n  let scales = axis.call(this, {\n    dataSet: arr,\n    stack,\n    splitNumber\n    // needReverse: true,\n  })\n  let maxVal = Math.max.apply(this, scales)\n  let minVal = Math.min.apply(this, scales)\n  let type = attrs.type || defaultAttrs[orient].type\n  let distance = orient === 'left' || orient === 'right' ? height : width\n  let datasetReverse = this.dataset.datasetReverse\n  if (type === 'value') {\n    let scaleFY = scaleLinear()\n      .domain([minVal, maxVal])\n      .range([0, distance])\n    scales.forEach(num => {\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(\n        defaultAttrs,\n        orient,\n        {\n          text: '' + typeof datasetReverse === 'function' ? datasetReverse(num) : num\n        },\n        num,\n        scaleFY,\n        clientRect\n      )\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n      res.grids.push(gridAttr)\n    })\n  } else if (type === 'category') {\n    let curArr = arr[0]\n    let len = axisGap ? curArr.length : curArr.length - 1\n    let scaleFY = scaleLinear()\n      .domain([0, len])\n      .range([0, distance])\n    curArr.forEach((cell, ind) => {\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, cell, ind, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n      res.grids.push(gridAttr)\n    })\n    if (axisGap) {\n      // 如果是axisGap为true，需要添加一个点\n      let { scaleAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, {}, curArr.length, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n      res.grids.push(gridAttr)\n    }\n  }\n  if (orient === 'left' || orient === 'right') {\n    let dx = orient === 'left' ? 0 : width\n    res.axisPoints = [\n      [dx, height],\n      [dx, 0]\n    ]\n    res.nameAttr = { pos: [dx, 0], anchor: [0.5, 1], padding: [10] }\n  } else if (orient === 'bottom' || orient === 'top') {\n    let dy = orient === 'bottom' ? height : 0\n    res.axisPoints = [\n      [0, dy],\n      [width, dy]\n    ]\n    res.nameAttr = { pos: [width, dy], anchor: [0, 1] }\n  }\n  return res\n}\nfunction getItemAttrs(defaultAttrs, orient, cell, value, scaleF, clientRect, axisGap) {\n  let res = emptyObject()\n  let { width, height, left, top } = clientRect\n  let labelPosValue = axisGap ? value + 0.5 : value\n  if (orient === 'left' || orient === 'right') {\n    let x = orient === 'left' ? 0 : width\n    let yv = scaleF(value)\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [x, height - yv] }\n    res.gridAttr = {\n      ...defaultAttrs[orient].grid,\n      points: [\n        [x, height - yv],\n        [width, height - yv]\n      ]\n    }\n    res.labelAttr = {\n      ...defaultAttrs[orient].label,\n      width: left,\n      text: '' + cell.text,\n      pos: [x, height - scaleF(labelPosValue)]\n    }\n  } else if (orient === 'top' || orient === 'bottom') {\n    let y = orient === 'top' ? 0 : height\n    let xv = scaleF(value)\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [xv, y] }\n    res.gridAttr = {\n      ...defaultAttrs[orient].grid,\n      points: [\n        [xv, 0],\n        [xv, y]\n      ]\n    }\n    res.labelAttr = {\n      ...defaultAttrs[orient].label,\n      width: left,\n      text: '' + cell.text,\n      pos: [scaleF(labelPosValue), y]\n    }\n  }\n  return res\n}\n","import Base from '../../base/BasePlugin'\nimport { Group, Label, Polyline, Node } from 'spritejs'\nimport { emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nimport layout from './layout'\nimport { getStyle } from '../../utils/getStyle'\nclass Axis extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderAxis = emptyObject()\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    let targetVisual = this.chart.visuals[0]\n    if (attrs.axisGap === undefined && targetVisual && targetVisual.constructor.name === 'Bar') {\n      //如果axisGap没有赋值\n      //如果是柱状图\n      attrs.axisGap = true\n    }\n    if (targetVisual && targetVisual.constructor.name === 'Scatter') {\n      attrs.type = 'value'\n    }\n    if (attrs.transpose === undefined && targetVisual) {\n      //坐标轴转换\n      attrs.transpose = targetVisual.renderAttrs.transpose\n    }\n    return attrs\n  }\n  beforeRender() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  beforeUpdate() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    return {\n      layer: 'axis',\n      zIndex: -1,\n      formatter: e => e\n    }\n  }\n  //defaultStyles() {}\n  getRenderData() {\n    //根据axis的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let axis = layout.call(this, renderData, renderAttrs)\n    return { axis }\n  }\n  render(axis) {\n    let oldAxis = this.renderAxis || emptyObject()\n    this.renderAxis = axis\n    let { clientRect, formatter, orient, name } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    let axisStyle = getStyle(this, 'axis', styles.axis)\n    //当前主体颜色\n    let arrOrient = this.chart.plugins\n      .map(plugin => {\n        if (plugin.constructor.name === 'Axis') {\n          return plugin.renderAttrs.orient\n        }\n      })\n      .filter(Boolean)\n    let nameStyle = getStyle(this, 'name', [styles.name || {}, filterClone(axis.nameAttr, [], ['pos'])])\n    let oldPos = (oldAxis.nameAttr && oldAxis.nameAttr.pos) || axis.nameAttr.pos\n    let nameAni = { from: { pos: oldPos }, to: { pos: axis.nameAttr.pos } }\n    return (\n      <Group ref=\"wrap\" pos={[clientRect.left, clientRect.top]}>\n        <Polyline\n          {...axisStyle}\n          animation={{\n            from: { points: oldAxis.axisPoints },\n            to: { points: axis.axisPoints }\n          }}\n        ></Polyline>\n        <Group>\n          {axis.grids.map((grid, ind) => {\n            let fromPoints = (oldAxis.grids && oldAxis.grids[ind] && oldAxis.grids[ind].points) || grid.points\n            let ani = {\n              from: { points: fromPoints },\n              to: { points: grid.points }\n            }\n            let style = getStyle(this, 'grid', styles.grid, [ind])\n            if (orient === 'left' || orient === 'right') {\n              if ((ind === 0 && arrOrient.includes('bottom')) || (ind === axis.grids.length - 1 && arrOrient.includes('top'))) {\n                return <Node />\n              }\n            } else if (orient === 'top' || orient === 'bottom') {\n              if ((ind === 0 && arrOrient.includes('left')) || (ind === axis.grids.length - 1 && arrOrient.includes('right'))) {\n                return <Node />\n              }\n            }\n            return style === false ? <Node /> : <Polyline {...style} points={ani.from.points} animation={ani} />\n          })}\n          {axis.scales.map((scale, ind) => {\n            let fromPos = (oldAxis.scales && oldAxis.scales[ind] && oldAxis.scales[ind].pos) || scale.pos\n            let ani = { from: { pos: fromPos }, to: { pos: scale.pos } }\n            // 排除pos属性，pos属性用来处理动画，其它属性直接赋值\n            let style = getStyle(this, 'scale', styles.scale, [scale, ind])\n            return style === false ? <Node /> : <Group {...filterClone(scale, [], ['pos'])} {...style} animation={ani}></Group>\n          })}\n          {axis.labels.map((label, ind) => {\n            let fromPos = (oldAxis.labels && oldAxis.labels[ind] && oldAxis.labels[ind].pos) || label.pos\n            let style = getStyle(this, 'label', styles.label, [label, ind])\n            let ani = { from: { pos: fromPos }, to: { pos: label.pos } }\n            return style === false ? <Node /> : <Label {...filterClone(label, [], ['pos', 'text'])} {...style} text={formatter(label.text)} animation={ani}></Label>\n          })}\n        </Group>\n        {nameStyle === false || name === undefined || name.length === 0 ? <Node /> : <Label {...nameStyle} text={name} animation={nameAni} />}\n      </Group>\n    )\n  }\n}\nexport default Axis\n","import Base from '../../base/BasePlugin'\nimport { Group, Path, Label } from 'spritejs'\nimport { getStyle } from '../../utils/getStyle'\nimport Point from '../../utils/Point'\nclass Legend extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.arrLayout = null\n    this.state = {\n      page: 1,\n      totalPage: 1,\n      perPageWidthOrHeight: 0, // 每页长度（或宽度）\n      paginationSize: [0, 0], // 分页控件大小\n      groupSize: [0, 0] // legends 容器大小\n    }\n    this.twiceRender = false\n    this.animationSwitch = false\n    this.posFrom = [0, 0]\n    this.currentPos = [0, 0]\n    this.legendStateArray = []\n    this.lineCounter = 0 //在scroll属性为false的情况下计算legend的行数(或列数)\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  defaultAttrs() {\n    return {\n      orient: 'horizontal', // 布局方式， vertical | horizontal\n      align: ['center', 'bottom'], // 水平方向布局，left | center | right, 垂直方向布局，top | center | bottom\n      formatter: d => d.value || d,\n      iconSize: [12, 12],\n      textSize: [40, 12],\n      scroll: true,\n      outGap: 10,\n      innerGap: 4,\n      lineGap: 5,\n      formatter: d => d.text || d,\n      padding: 2\n    }\n  }\n  get pos() {\n    const { clientRect, align, padding } = this.renderAttrs\n    let groupSize = this.state.groupSize\n    let { width, height, top, left, right, bottom } = clientRect\n    let canvasWidth = width + left + right\n    let canvasHeight = height + top + bottom\n    this.state.paginationSize = this.isVertical ? [30, 60] : [70, 25]\n\n    const isValidLayout = (value, type) => {\n      if (type === 'horizontal') {\n        // 水平布局\n        return ['default', 'left', 'center', 'right'].indexOf(value) > -1\n      } else {\n        // 垂直布局\n        return ['default', 'top', 'center', 'bottom'].indexOf(value) > -1\n      }\n    }\n\n    const hLocation = {\n      // 水平定位\n      default: 0,\n      left: padding,\n      center: (canvasWidth - groupSize[0]) / 2,\n      right: canvasWidth - groupSize[0] - padding,\n      numberOrPercent(num) {\n        // 输入 数字或百分比\n        if (typeof num === 'number') {\n          return num\n        } else {\n          let val = 0\n          try {\n            val = parseFloat(num) / 100\n          } catch (e) {}\n          return (canvasWidth - groupSize[0]) * val\n        }\n      }\n    }\n\n    const vLocation = {\n      // 垂直定位\n      default: 0,\n      top: padding,\n      center: canvasHeight / 2 - groupSize[1] / 2,\n      bottom: canvasHeight - groupSize[1] - padding,\n      numberOrPercent(num) {\n        // 输入 数字或百分比\n        if (typeof num === 'number') {\n          return num\n        } else {\n          let val = 0\n\n          try {\n            val = parseFloat(num) / 100\n          } catch (e) {}\n          return (canvasHeight - groupSize[1]) * val\n        }\n      }\n    }\n    let pos = [isValidLayout(align[0], 'horizontal') ? hLocation[align[0]] : hLocation.numberOrPercent(align[0]), isValidLayout(align[1], 'vertical') ? vLocation[align[1]] : vLocation.numberOrPercent(align[1])]\n    let pagePos\n    let totalPageX = Math.ceil(this.state.groupSize[0] / canvasWidth)\n    let totalPageY = Math.ceil(this.state.groupSize[1] / canvasHeight)\n    let paginationSize = this.state.paginationSize\n    let pagePrev, pageText, pageNext\n    if (totalPageX > 1) {\n      this.state.totalPage = totalPageX\n      let pagePosY = pos[1] + groupSize[1] + paginationSize[1] > canvasHeight ? pos[1] - paginationSize[1] : pos[1] + groupSize[1]\n      pagePos = [canvasWidth - paginationSize[0], pagePosY]\n      pagePrev = [0, 0]\n      pageText = [15, 0]\n      pageNext = [45, 0]\n      pos[0] = -(this.state.page - 1) * canvasWidth\n    } else if (totalPageY > 1) {\n      this.state.totalPage = totalPageY\n      let pagePosX = pos[0] + groupSize[0] + paginationSize[0] > canvasWidth ? pos[0] - paginationSize[0] : pos[0] + groupSize[0]\n      pagePos = [pagePosX, canvasHeight - paginationSize[1]]\n      pagePrev = [5, 0]\n      pageText = [0, 20]\n      pageNext = [5, 40]\n      pos[1] = -(this.state.page - 1) * canvasHeight\n    } else {\n      this.state.page = 1\n      this.state.totalPage = 1\n    }\n    return {\n      pos: pos,\n      pagePos: { pos: pagePos, pagePrev, pageText, pageNext }\n    }\n  }\n\n  get isVertical() {\n    return this.renderAttrs.orient === 'vertical'\n  }\n  beforeRender() {\n    if (this.twiceRender) {\n      this.reset()\n    } else {\n      this.arrLayout = this.getRenderData().arrLayout\n    }\n    return this.arrLayout\n  }\n\n  getRenderData() {\n    let { layoutBy, innerGap } = this.renderAttrs\n    let renderData = this.dataset[layoutBy].map((item, index) => {\n      this.legendStateArray.push(item.state)\n      return {\n        name: item.name,\n        state: item.state\n      }\n    })\n    let arrLayout = renderData.map(item => {\n      return {\n        textAttrs: {\n          text: item.name,\n          paddingLeft: innerGap\n        }\n      }\n    })\n    this.arrLayout = arrLayout\n    return { arrLayout }\n  }\n  itemClick(e, el) {\n    const ind = el.attr('_index')\n    let state = this.dataset[this.renderAttrs.layoutBy][ind].state\n    state = state !== 'disabled' ? 'disabled' : 'default'\n    this.dataset[this.renderAttrs.layoutBy][ind].state = state\n  }\n  itemLeave(e, el) {\n    const ind = el.attr('_index')\n    this.legendStateArray[ind] = 'default'\n    this.update()\n  }\n  itemMove(e, el) {\n    const ind = el.attr('_index')\n    if (this.legendStateArray[ind] === 'default') {\n      this.legendStateArray[ind] = 'hover'\n      this.update()\n    }\n  }\n  beforeUpdate(params) {\n    if (params && params.type === 'source') {\n      this.animationSwitch = true\n      this.twiceRender = false\n      return this.beforeRender()\n    } else {\n      if (params && params.type === 'resize') {\n        this.animationSwitch = true\n      }\n      return this.arrLayout\n    }\n  }\n\n  rendered() {\n    // console.log(\"rendered\");\n  }\n\n  afterrender(e, el) {\n    if (this.twiceRender) {\n      this.animationSwitch = false\n      return\n    }\n    this.twiceRender = true\n    this.reset()\n    this.update()\n  }\n  reset() {\n    let { outGap, innerGap, iconSize, textSize, clientRect, lineGap, padding } = this.renderAttrs\n    let legendsSize = this.isVertical ? [[0, padding]] : [[padding, 0]]\n    let maxTextWidth = 0\n    let colors = this.theme.colors\n    let { width, height, top, left, right, bottom } = clientRect\n    let canvasWidth = width + left + right\n    let canvasHeight = height + top + bottom\n    this.lineCounter = 0\n    this.arrLayout = this.arrLayout.map((item, index) => {\n      item.iconAttrs = {}\n      let iconEl = this.$refs['icon' + index].$sprite\n      let iconRect = iconEl.getBoundingClientRect()\n      iconSize = [iconEl.width ? iconEl.width : iconSize[0], iconEl.height ? iconEl.height : iconSize[1]]\n      let textEl = this.$refs['text' + index]\n      let textRect = textEl.getBoundingClientRect()\n      let heightSize = iconSize[1] > textRect.height ? iconSize[1] : textRect.height\n      // 垂直布局下，已有的列数的width和\n      let lineWidth =\n        legendsSize.reduce((i, j) => {\n          return i + j[0]\n        }, 0) - legendsSize[this.lineCounter][0]\n      // 单个legend的左上角坐标\n      let iconPos = this.isVertical ? [lineWidth, legendsSize[this.lineCounter][1] + (textRect.height - iconSize[1]) / 2] : [legendsSize[this.lineCounter][0], (textRect.height - iconSize[1]) / 2 + this.lineCounter * (heightSize + lineGap)]\n      // 超过单行长度后换行\n      if (this.isVertical && iconPos[1] + textRect.height > canvasHeight) {\n        this.lineCounter++\n        iconPos = [iconPos[0] + legendsSize[this.lineCounter - 1][0], padding]\n        maxTextWidth = 0 // 换行后重置最宽legend\n        legendsSize.push([0, 0])\n      } else if (!this.isVertical && iconPos[0] + iconSize[0] + textRect.width + outGap > canvasWidth) {\n        this.lineCounter++\n        iconPos = [padding, this.lineCounter * (heightSize + lineGap)]\n        legendsSize.push([0, 0])\n      }\n      let iconAttrs = {\n        bgcolor: colors[index],\n        size: iconSize,\n        pos: [0, 0]\n      }\n      if (this.dataset[this.renderAttrs.layoutBy][index].state === 'disabled') {\n        iconAttrs.bgcolor = '#ccc'\n        iconAttrs.fillColor = '#ccc'\n      }\n      let textAttrs = {\n        ...item.textAttrs,\n        pos: this.isVertical ? [iconSize[0], 0] : [iconSize[0], 0],\n        text: item.textAttrs.text\n      }\n      // 单个legend的宽高\n      let size = [iconSize[0] + textRect.width, heightSize]\n      if (size[0] + outGap > maxTextWidth) {\n        maxTextWidth = size[0] + outGap\n      }\n      // 每个legend宽高累加\n      legendsSize[this.lineCounter] = this.isVertical ? [maxTextWidth, legendsSize[this.lineCounter][1] + size[1] + outGap] : [legendsSize[this.lineCounter][0] + size[0] + outGap, size[1] + lineGap]\n      return {\n        iconAttrs,\n        textAttrs,\n        groupAttrs: {\n          size: size,\n          pos: iconPos\n        }\n      }\n    })\n    this.state.groupSize = this.isVertical\n      ? [\n          legendsSize.reduce((i, j) => {\n            return i + j[0]\n          }, 0),\n          this.lineCounter === 0 ? legendsSize[0][1] : canvasHeight\n        ]\n      : [this.lineCounter === 0 ? legendsSize[0][0] : canvasWidth, (this.lineCounter + 1) * legendsSize[0][1]]\n  }\n  // changePage(e, el) {\n  //   if (el.name === \"prev\" && this.state.page > 1) {\n  //     this.state.page--\n  //     this.animationSwitch = true\n  //     this.update()\n  //   } else if (el.name === \"next\" && this.state.page < this.state.totalPage) {\n  //     this.state.page++\n  //     this.animationSwitch = true\n  //     this.update()\n  //   }\n  // }\n  render(arr) {\n    this.posFrom = this.currentPos\n    const { pos, pagePos } = this.pos\n    this.posFrom = this.twiceRender && this.animationSwitch ? this.posFrom : pos\n    const { page, totalPage } = this.state\n    this.currentPos = pos\n    const styles = this.renderStyles\n    const isVertical = this.isVertical\n    if (this.twiceRender) {\n      pos[0] = pos[0] - 1\n    }\n    const { formatter } = this.renderAttrs\n    if (arr) {\n      return (\n        <Group size={[1, 1]} onAfterrender={this.afterrender}>\n          <Group\n            animation={{\n              from: { pos: this.posFrom },\n              to: { pos: pos },\n              duration: this.twiceRender && this.animationSwitch ? this.renderAttrs.animation.duration : 0\n            }}\n            // pos={pos}\n          >\n            {arr.map((attrs, ind) => {\n              let cell = this.dataset[this.renderAttrs.layoutBy][ind]\n              let hover = this.legendStateArray[ind] === 'hover'\n              let disabled = cell.state === 'disabled'\n              let style = getStyle(this, 'point', [{}, styles.point], [cell, ind])\n\n              let hoverStyle = hover ? getStyle(this, 'point:hover', [{}], [cell, ind]) : {}\n\n              if (disabled && attrs.iconAttrs && attrs.iconAttrs.bgcolor) {\n                hoverStyle.bgcolor = '#ccc'\n                hoverStyle.fillColor = '#ccc'\n              }\n              let textStyle = getStyle(this, 'text', [{}, styles.text], [cell, ind])\n              let textHoverStyle = hover ? getStyle(this, 'text:hover', [{}], [cell, ind]) : {}\n\n              attrs.textAttrs.text = formatter(cell.name || '', cell.data, ind)\n              return (\n                <Group onClick={this.itemClick} onMouseleave={this.itemLeave} onMouseenter={this.itemMove} onMousemove={this.itemMove} {...{ _index: ind }} {...attrs.groupAttrs}>\n                  <Point {...{ ref: 'icon' + ind }} {...attrs.iconAttrs} {...style} {...hoverStyle} />\n                  <Label {...{ ref: 'text' + ind }} {...attrs.textAttrs} {...textStyle} {...textHoverStyle} />\n                </Group>\n              )\n            })}\n          </Group>\n\n          {/* {totalPage<=1 ? null : (\n            <Group pos={pagePos.pos}>\n              <Path\n                pos={pagePos.pagePrev}\n                {...(isVertical ? { marginLeft: 5 } : {})}\n                name={\"prev\"}\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\n                d={\n                  isVertical\n                    ? \"M 0 15 L 15 15 L7.5 0 Z\"\n                    : \"M 0 7.5 L 13 0 L13 15 Z\"\n                }\n                fillColor={page <= 1 ? \"#ccc\" : \"#324556\"}\n                onClick={this.changePage}\n              />\n              <Label\n                pos={pagePos.pageText}\n                ref=\"paginationText\"\n                fontSize=\"14px\"\n                text={page + \"/\" + totalPage + \"\"}\n                lineBreak=\"normal\"\n                padding={isVertical ? [0, 2] : [0, 2]}\n              />\n\n              <Path\n                pos={pagePos.pageNext}\n                {...(isVertical ? { marginLeft: 5 } : {})}\n                name={\"next\"}\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\n                d={\n                  isVertical\n                    ? \"M 0 0 L 15 0 L7.5 13 Z\"\n                    : \"M 13 7.5 L 0 0 L0 15 Z\"\n                }\n                fillColor={page >= totalPage ? \"#ccc\" : \"#324556\"}\n                onClick={this.changePage}\n              />\n            </Group>\n          )} */}\n        </Group>\n      )\n    }\n  }\n}\n\nexport default Legend\n\n// reset() {\n//   let legendsSize = [0, 0]\n//   let { outGap, innerGap, iconSize, textSize } = this.renderAttrs\n//   let maxTextWidth = 0\n//   let colors = this.theme.colors\n//   this.arrLayout = this.arrLayout.map((item, index) => {\n//     item.iconAttrs = {}\n//     let iconEl = this.$refs[\"icon\" + index]\n//     let iconRect = iconEl.getBoundingClientRect()\n//     let textEl = this.$refs[\"text\" + index]\n//     let textRect = textEl.getBoundingClientRect()\n//     let iconAttrs = {\n//       bgcolor: colors[index],\n//       size: iconSize,\n//       pos: this.isVertical\n//         ? [0, legendsSize[1] + (textRect.height - iconSize[1]) / 2]\n//         : [legendsSize[0], (textRect.height - iconSize[1]) / 2],\n//     }\n//     if (this.dataset[this.renderAttrs.layoutBy][index].state === \"disabled\") {\n//       iconAttrs.bgcolor = \"#ccc\"\n//       iconAttrs.fillColor = \"#ccc\"\n//     }\n//     let textAttrs = {\n//       ...item.textAttrs,\n//       pos: this.isVertical\n//         ? [iconSize[0], legendsSize[1]]\n//         : [iconSize[0] + legendsSize[0], 0],\n//       text: item.textAttrs.text,\n//     }\n//     let size = [iconSize[0] + textRect.width, iconSize[1]]\n//     if (size[0] + outGap > maxTextWidth) {\n//       maxTextWidth = size[0] + outGap\n//     }\n//     legendsSize = this.isVertical\n//       ? [maxTextWidth, legendsSize[1] + textRect.height + outGap]\n//       : [legendsSize[0] + size[0] + outGap, textRect.height]\n//     return { iconAttrs, textAttrs }\n//   })\n//   this.state.groupSize = legendsSize\n// }\n","import Base from '../../base/BasePlugin'\nimport { throttle } from '@qcharts/utils'\nimport { getStyle } from '../../utils/getStyle'\nclass Tooltip extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.$el = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {}\n  beforeUpdate() {}\n  tipMousemove = throttle(\n    e => {\n      let maxLeft = window.innerWidth - this.$el.getBoundingClientRect().width - 5\n      let maxTop = window.innerHeight - this.$el.getBoundingClientRect().height - 5\n      let tarTop = e.y > maxTop ? maxTop : e.y\n      let tarLeft = e.x > maxLeft ? maxLeft : e.x\n      this.$el.style.left = tarLeft + 'px'\n      this.$el.style.top = tarTop + 'px'\n    },\n    100,\n    1\n  )\n  rendered() {\n    let { colors, sort, formatter, title } = this.renderAttrs\n    let styles = this.renderStyles\n    this.chart.dataset.on('change', data => {\n      let { option } = data\n      this.$el.innerHTML = ''\n      if (option.value === 'hover') {\n        let arr = [].concat(this.chart.dataset).filter(item => item.state === 'hover')\n        if (sort) {\n          arr.sort(sort)\n        }\n        if (arr.length) {\n          let $div = document.createElement('div')\n          $div.style.cssText = 'white-space:nowrap;padding:6px 10px;background-color:rgba(0,0,0,0.5);color:#fff;'\n          arr.forEach((item, ind) => {\n            let text = `${item.text}：${item.value}`\n            if (formatter) {\n              text = formatter(item.data) || text\n            }\n            let style = getStyle(this, 'point', [{ 'background-color': colors[item.row] }, styles.point], [arr.map(item => item.data), ind])\n            let styleText = getStyle(this, 'text', [styles.text], [arr.map(item => item.data), ind])\n            let $html = document.createElement('div')\n            $html.className = 'tooltip-item'\n            $html.innerHTML = `<span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${colors[item.row]}\"></span><span class=\"text\">${text}</span>`\n            $div.append($html)\n            let $icon = $html.querySelector('.icon')\n            let $text = $html.querySelector('.text')\n            Object.assign($icon.style, style)\n            Object.assign($text.style, styleText)\n          })\n          if (title) {\n            let str = title\n            if (typeof title === 'function') {\n              let formatterData = arr.map(cell => cell.data)\n              str = title(formatterData)\n            }\n            let $title = document.createElement('div')\n            $title.className = 'tooltip-title'\n            $title.innerHTML = str || ''\n            let styleTitle = getStyle(this, 'title', [styles.title], [arr.data])\n            Object.assign($title.style, styleTitle)\n            $div.prepend($title)\n          }\n          this.$el.appendChild($div)\n        }\n      } else if (option.name === 'reset') {\n        this.$el.innerHTML = ''\n      }\n    })\n    document.body.addEventListener('mousemove', this.tipMousemove)\n  }\n  render() {\n    if (!this.$el) {\n      this.$el = document.createElement('div')\n      this.$el.className = 'qcharts-tooltip'\n      this.$el.style.cssText = 'transition:top 300ms ease-out,left 300ms ease-out;position:absolute;pointEvents:none;pointer-events:none;font-size:14px;'\n    }\n    document.body.appendChild(this.$el)\n  }\n}\nexport default Tooltip\n","import Base from './base/Base'\nimport { jsType, emptyObject, throttle } from '@qcharts/utils'\nimport { getGlobal, isWeiXin } from './base/platform'\nimport BaseVisual from './base/BaseVisual'\nimport BasePlugin from './base/BasePlugin'\nimport { Scene } from 'spritejs'\nimport { Wave, Gauge } from './index'\nclass Chart extends Base {\n  constructor(attr) {\n    super()\n    let { container } = attr\n    if (jsType(container) === 'string') {\n      container = document.querySelector(container)\n    }\n    this.$el = container\n    this.visuals = []\n    this.plugins = []\n    this.children = []\n    if (isWeiXin()) {\n      const { pixelUnit='rpx', size, contextType } = attr\n      let displayRatio = 1\n      if (pixelUnit === 'rpx') {\n        const { windowWidth } = wx.getSystemInfoSync()\n        displayRatio = windowWidth / 750\n      }\n      this.scene = new Scene({\n        width: size[0] / displayRatio,\n        height: size[1] / displayRatio,\n        extra: this,\n        contextType,\n        displayRatio\n      })\n    } else {\n      this.scene = new Scene({ container, displayRatio: getGlobal().devicePixelRatio })\n    }\n    this.scene.addEventListener('resize', (_) => {\n      //舞台变化的时候\n      this.checkUpdate({ type: 'resize' })\n    })\n    this.checkUpdate = throttle((args) => {\n      this.children.forEach((node) => {\n        node.update(args)\n      })\n    }, 300)\n    this.checkRender = throttle((_) => {\n      this.children.forEach((child) => {\n        child.created()\n        this.dataset.addDep(child)\n      })\n      this.__store.__isCreated__ = true\n      this.dispatchEvent('updated', emptyObject())\n    })\n  }\n  update(args) {\n    //图表发生更新，触发图表内组件更新\n    this.checkUpdate(args)\n  }\n  append(node) {\n    const notNeedDataSetList = [Wave, Gauge]\n    if (notNeedDataSetList.some((Target) => node instanceof Target)) {\n      //补齐dataset，wave中不用dataset\n      this.source([], {})\n    } else if (!this.dataset) {\n      console.error('Chart should set data before append some graphs')\n      return\n    }\n    if (jsType(node) === 'array') {\n      node.forEach((item) => {\n        this.append(item)\n      })\n      return\n    } else if (node instanceof BaseVisual) {\n      this.visuals.push(node)\n    } else if (node instanceof BasePlugin) {\n      this.plugins.push(node)\n    }\n    this.children.push(node)\n    node.chart = this\n    node.scene = this.scene\n    this.checkRender()\n  }\n  getDataURL() {\n    return this.scene.snapshot().toDataURL()\n  }\n}\n\nexport default Chart\n","import { h, easing } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nimport Line from './visuals/Line/index'\nimport Pie from './visuals/Pie/index'\nimport Area from './visuals/Area/index'\nimport Radar from './visuals/Radar/index'\nimport Bar from './visuals/Bar/index'\nimport PolarBar from './visuals/PolarBar/index'\nimport Funnel from './visuals/Funnel/index'\nimport Scatter from './visuals/Scatter/index'\nimport Wave from './visuals/Wave/index'\nimport Gauge from './visuals/Gauge'\nimport RadialBar from './visuals/RadialBar'\nimport Axis from './plugins/Axis/index'\nimport Legend from './plugins/Legend/index'\nimport Tooltip from './plugins/Tooltip/index'\nimport { getGlobal } from './base/platform'\nimport Chart from './Chart'\nimport theme from './theme/default'\nconst qcharts = {\n  version: '1.0.7',\n  Line,\n  Pie,\n  Area,\n  Radar,\n  Bar,\n  PolarBar,\n  Funnel,\n  Scatter,\n  Gauge,\n  RadialBar,\n  Legend,\n  Axis,\n  Wave,\n  Tooltip,\n  h,\n  theme,\n  Chart,\n  easing\n}\n\nconst global = getGlobal()\nglobal.qcharts = qcharts\n\nexport { Dataset, Line, Pie, Area, Wave, Radar, Tooltip, Bar, PolarBar, Funnel, Scatter, Gauge, RadialBar, Axis, Legend, Chart, h, theme, easing }\n\nexport default qcharts\n"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack://qcharts/webpack/universalModuleDefinition","webpack://qcharts/webpack/bootstrap","webpack://qcharts/external {\"root\":\"spritejs\",\"commonjs2\":\"spritejs/dist/spritejs.min.js\",\"commonjs\":\"spritejs/dist/spritejs.min.js\",\"amd\":\"spritejs\",\"umd\":\"spritejs\"}","webpack://qcharts/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/extends.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/inherits.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/createClass.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/get.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://qcharts/./node_modules/filter-clone/lib/index.js","webpack://qcharts/./node_modules/@qcharts/vnode/node_modules/@qcharts/utils/lib/index.js","webpack://qcharts/./src/base/platform.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/typeof.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/construct.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://qcharts/(webpack)/buildin/global.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/h.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/consts.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/diff.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/render.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/easing.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/interpolate.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/index.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/tween.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/patch.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/nodeHelper.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/state.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/event.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Cell.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Row.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Dataset.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/index.js","webpack://qcharts/./src/base/mixin.js","webpack://qcharts/./node_modules/@qcharts/utils/src/index.js","webpack://qcharts/./src/theme/default.js","webpack://qcharts/./src/base/Base.js","webpack://qcharts/./src/base/BaseVisual.js","webpack://qcharts/./src/utils/getStyle.js","webpack://qcharts/./src/utils/scaleLinear.js","webpack://qcharts/./src/utils/axis.js","webpack://qcharts/./src/visuals/Line/layout.js","webpack://qcharts/./src/utils/Point.js","webpack://qcharts/./src/visuals/Line/index.js","webpack://qcharts/./src/visuals/Pie/layout.js","webpack://qcharts/./src/visuals/Pie/index.js","webpack://qcharts/./src/visuals/Area/index.js","webpack://qcharts/./src/visuals/Radar/layout.js","webpack://qcharts/./src/visuals/Radar/index.js","webpack://qcharts/./src/visuals/Bar/layout.js","webpack://qcharts/./src/visuals/Bar/index.js","webpack://qcharts/./src/visuals/PolarBar/layout.js","webpack://qcharts/./src/visuals/PolarBar/index.js","webpack://qcharts/./src/visuals/Funnel/layout.js","webpack://qcharts/./src/visuals/Funnel/index.js","webpack://qcharts/./src/visuals/Scatter/layout.js","webpack://qcharts/./src/visuals/Scatter/index.js","webpack://qcharts/./src/utils/color.js","webpack://qcharts/./src/utils/ellipse2path.js","webpack://qcharts/./src/visuals/Wave/index.js","webpack://qcharts/./src/visuals/Gauge/index.js","webpack://qcharts/./src/visuals/RadialBar/index.js","webpack://qcharts/./src/base/BasePlugin.js","webpack://qcharts/./src/plugins/Axis/layout.js","webpack://qcharts/./src/plugins/Axis/index.js","webpack://qcharts/./src/plugins/Legend/index.js","webpack://qcharts/./src/plugins/Tooltip/index.js","webpack://qcharts/./src/Chart.js","webpack://qcharts/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_extends","assign","target","arguments","length","source","apply","this","instance","Constructor","TypeError","_typeof","assertThisInitialized","self","subClass","superClass","constructor","writable","configurable","_defineProperties","props","descriptor","protoProps","staticProps","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","obj","ReferenceError","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","arrayWithHoles","iterableToArrayLimit","nonIterableRest","iterator","_default","filterClone","include","exclude","res","getType","len","push","j","indexOf","test","str","toString","slice","toLowerCase","e","default","u","setTimeout","clearTimeout","match","Number","substring","isWeiXin","wx","getSystemInfoSync","getGlobal","getApp","global","Error","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Map","undefined","has","set","Wrapper","_setPrototypeOf","fn","Function","isNativeReflectConstruct","sham","Proxy","Date","_construct","Parent","args","a","Array","isArray","_arr","_n","_d","_e","_s","_i","next","done","err","arr2","iter","from","sourceKeys","keys","g","VNode","h","tagName","attrs","children","node","concat","filter","Boolean","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","type","isDiffrentVNode","createElement","vnode","TagName","el","patchAttrs","appendChild","map","forEach","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","number","b","array","bl","al","min","x","interpolate","now","performance","requestAnimationFrame","cancelAnimationFrame","startTime","id","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","time","_onComplete","callback","elapseTime","animateTime","timer","delayTime","Promise","resolve","step","start","cancel","then","graph","patche","ref","addRef","console","error","split","cb","removeAllListeners","addEventListener","evt","addEvent","states","state","oldState","attr","oldstates","oldAttrs","newAttrs","duration","renderAttrs","animation","transition","addAttrs","middle","use","to","delay","useTween","easing","formatter","ani","onUpdate","animate","fill","finished","offset","setAnimation","addAnimate","patch","$el","isRoot","newEl","parent","replaceChild","remove","child","ind","_ind","curNode","curVnode","hide","hover","active","disabled","mixed","mixinEvent","__store","events","on","off","curEvent","splice","once","dispatchEvent","option","item","Cell","data","dataset","row","col","datasets","_layoutScaleFunc","layoutScaleFunc","num","List","__name","__option","cell","sta","dispatchOption","Row","Col","Dataset","handleLayoutScale","layoutScale","store","__deps","__rows","sort","resArr","list","curRow","getArrData","rowKey","dep","method","replace","NUM","warn","datasetReverse","cols","colLen","lifeCycle","deepObjectMerge","objectMerge","FirstOBJ","SecondOBJ","jsType","emptyObject","throttle","interval","immediately","firstTime","getDistancePx","distance","Base","component","removeEventListener","listener","__attrs","__vnode__","__isCreated__","__refs","layerSetting","layer","__update","update","options","opts","_","render","beforeRender","rendered","params","beforeUpdate","updated","event","clientRect","left","top","right","bottom","width","height","opacity","layoutBy","style","styleKey","substr","baseAttrs","defaultAttrs","theme","layerName","zIndex","scene","defaultStyles","styles","rect","canvas","getBoundingClientRect","colors","chart","Node","random","visuals","Line","line","lineWidth","guideline","strokeColor","point","pointType","radiusX","radiusY","borderWidth","statck","Pie","sector","guideText","Area","area","Radar","Bar","bar","textureRepeat","groupBar","text","PolarBar","Funnel","polygon","Scatter","showGuideLine","Wave","wave","fillColor","fontSize","shape","Gauge","RadialBar","plugins","Tooltip","Legend","iconSize","borderRadius","Axis","axis","scale","bgcolor","label","grid","lineDash","orient","BaseVisual","getStyle","defaultStyle","oStyle","arrStyle","oArgs","cusStyle","includes","curStyle","scaleLinear","domain","range","disDomain","disRange","per","dataSet","section","gap","divide","toFixed","sectionAxis","stack","sum","sumDown","leng","layoutScaleValue","dataHandle","upZero","downZero","element","abs","sortUpZero","sortDownZero","maxUpZero","ceil","pop","maxDownZero","maxValue","mixNum","maxNum","splitNumber","getMax","axisArray","round","reverse","unit","unshift","layout","lines","axisGap","scales","maxVal","minVal","scaleFY","prevScaleValues","points","areaPoints","smoothRange","dx","offsetX","curPos","axisPoints","curLine","nextPoints","prevLine","startPoints","endPoints","transAreaPoint","allPoint","sprite","Sprite","path","Path","ellipse","Ellipse","Rect","triangle","Triangle","parallel","Parallel","regular","Regular","star","Star","Point","$sprite","renderSymbol","pos","renderAttr","append","Group","renderLines","hoverIndex","getRenderData","arrLayout","maxLen","areaFrom","areaTo","renderData","guidePoints","resetState","arrX","getOffsetPosition","y","curInd","posX","lineState","smooth","renderStyles","class","size","onMouseleave","guidelineleave","onMouseenter","guidelinemove","onMousemove","rows","onClick","lineClick","styleHover","rings","arrVal","reduce","totalVal","startAngle","endAngle","activeOffset","minAngle","maxAngle","totalAngle","perAngle","offsetPos","curObj","prevRing","curAngle","bisectorAngle","bisectorRadian","transRadius","angle","computeLinePos","center","radius","disRadius","centerAngle","startPoint","endPoint","labelPos","labelAnchor","renderRings","activeIndex","pervAngle","computeLine","oldRings","radiusPx","fromPoints","fromAnchor","fromPos","toPoints","toAnchor","toPos","anchor","innerRadius","curData","innerRadiusPx","mouseleave","ring","outerRadius","_index","mousemove","getPointCoordinate","radian","labelOffset","bgPoints","gridAttrs","axisAttrs","sectionAttrs","some","indicatorMax","dimension","perRadian","startRadian","currentRadian","maxScale","index","categoryPoints","dataOrigin","close","gridPoints","attributes","sectionData","scaleEl","oldPos","gridType","zeroPoints","otherData","processSectionAttrs","otherAttrs","hoverStyle","stateStyle","getPolylineAnimation","processData","updateData","toScale","fromPts","toPts","GridShape","Arc","Polyline","getScaleAnimation","color","calcAnchor","getPt","perX","perY","perNum","labels","common","translate","display","elIndex","preEl","renderAxisLabel","renderAxisScale","secAnimation","prePoints","isSamePoints","pre","cur","otherAttr","gAnimation","renderGrid","renderAxis","renderSection","renderPoints","barSize","transpose","groupGap","stackGap","barWidth","barData","groupData","textData","bgPillarAttr","valueAxis","tableSize","axisValueMax","axisValueMin","POSITIVE_RATIO","GROUP_BAR_NUM","flag","computerLegend","GROUP_NUM","BAR_HEIGHT_FACTOR","heightSumUp","heightSumDown","gpData","rects","lenj","stackGapTemp","barHeight","posLabelY","paddingAttrs","rawValue","rotate","paddingLeft","groups","isNaN","floor","bgpillarState","log","pillars","texts","fromTos","nextPillar","prev","labelAttrs","disable","nextText","bgpillar","myClick","pillar","barAttrs","textStyle","groupPadAngle","barInnerRadius","padAngle","BAR_MAX_HEIGHT","groupAngle","barAngle","dataLength","legendArr","barStyle","groupInd","align","pyramid","polygons","guideLines","guideTexts","widthFactory","POLYGON_NUM","colse","textAnchor","counter","nextValue","guideLine","getLinePoints","plg","oldPolygons","oldLabels","oldTexts","oldLines","lineStyle","getDataRange","getBigRange","updateSectionVal","newSection","layoutWay","textField","valueField","allData","xDomain","xSection","xIsTextData","xScales","field","ySection","yScales","yDomain","newLayoutWay","xLinear","yLinear","dArry","scatterData","guideLineData","labelField","areaField","areaRange","hex","join","hexToRgba","di","temp","oldRow","cInd","getRealRadius","oldCell","fromRadius","toRadius","rowInd","colInd","ci","labelAttr","hStyle","renderScatter","renderGuideLine","ellipse2path","cx","cy","rx","ry","offsetR","tickId","oldAttr","amplitude","wavelength","percent","currentR","clipWave","$refs","clipPath","pathHeight","originalContentRect","perR","currentX","startY","lastY","waveStyle","shapeStyle","tickLine","tickLength","isInner","cX0","cY0","anchorX","anchorY","gaugeAnimations","lineCap","_useBuiltInColors","strokeBgcolor","title","tickStep","tickFormatter","attrEndAngle","arc","transform","maxTickTextFontSize","fromRotate","pointerAnimation","pointerWidth","pointerTopOffset","pointerLen","pWidth","transformOrigin","labelCenter","ticks","isStyleExist","tickText","realTitle","gradientColor","gradientOpt","vector","Gradient","tick","realSize","gPos","gSize","renderPointer","textAlign","forceUpdate","v","count","tickRadius","ret","flattern","animators","total","cloneData","maxOuterRadius","perRadius","normalStyle","anticlockwise","maxRadius","maxWidth","maxHeight","BasePlugin","grids","padding","getItemAttrs","scaleAttr","gridAttr","curArr","nameAttr","dy","scaleF","labelPosValue","yv","xv","oldAxis","axisStyle","arrOrient","plugin","nameStyle","nameAni","targetVisual","page","totalPage","perPageWidthOrHeight","paginationSize","groupSize","twiceRender","animationSwitch","posFrom","currentPos","legendStateArray","lineCounter","textSize","scroll","outGap","innerGap","lineGap","reset","textAttrs","legendsSize","isVertical","maxTextWidth","canvasWidth","canvasHeight","iconAttrs","iconEl","textRect","heightSize","iconPos","groupAttrs","pagePos","onAfterrender","afterrender","textHoverStyle","itemClick","itemLeave","itemMove","pagePrev","pageText","pageNext","isValidLayout","hLocation","numberOrPercent","parseFloat","vLocation","totalPageX","totalPageY","pagePosY","maxLeft","innerWidth","maxTop","innerHeight","tarTop","tarLeft","innerHTML","$div","document","cssText","styleText","$html","className","$icon","querySelector","$text","formatterData","$title","styleTitle","prepend","body","tipMousemove","Chart","container","pixelUnit","contextType","displayRatio","windowWidth","Scene","extra","devicePixelRatio","checkUpdate","checkRender","created","addDep","Target","snapshot","toDataURL","qcharts","version"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,kCACR,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,YAAaJ,GACK,iBAAZC,QACdA,QAAiB,QAAID,EAAQG,QAAQ,kCAErCJ,EAAc,QAAIC,EAAQD,EAAe,UAR3C,CASGO,QAAQ,SAASC,GACpB,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,oBAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUT,QAGnC,IAAIC,EAASM,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHX,QAAS,IAUV,OANAY,EAAQH,GAAUI,KAAKZ,EAAOD,QAASC,EAAQA,EAAOD,QAASQ,qBAG/DP,EAAOU,GAAI,EAGJV,EAAOD,QA0Df,OArDAQ,oBAAoBM,EAAIF,EAGxBJ,oBAAoBO,EAAIR,EAGxBC,oBAAoBQ,EAAI,SAAShB,EAASiB,EAAMC,GAC3CV,oBAAoBW,EAAEnB,EAASiB,IAClCG,OAAOC,eAAerB,EAASiB,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,oBAAoBgB,EAAI,SAASxB,GACX,oBAAXyB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAerB,EAASyB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,KAQvDnB,oBAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,oBAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,oBAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,oBAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,oBAAoB2B,EAAI,SAASlC,GAChC,IAAIiB,EAASjB,GAAUA,EAAO6B,WAC7B,WAAwB,OAAO7B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAO,oBAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,oBAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,oBAAoBgC,EAAI,GAIjBhC,oBAAoBA,oBAAoBiC,EAAI,I,gBClFrDxC,EAAOD,QAAUM,G,cCAjB,SAASoC,gBAAgBvB,GAIvB,OAHAlB,EAAOD,QAAU0C,gBAAkBtB,OAAOuB,eAAiBvB,OAAOwB,eAAiB,SAAyBzB,GAC1G,OAAOA,EAAE0B,WAAazB,OAAOwB,eAAezB,IAEvCuB,gBAAgBvB,GAGzBlB,EAAOD,QAAU0C,iB,cCPjB,SAASI,WAeP,OAdA7C,EAAOD,QAAU8C,SAAW1B,OAAO2B,QAAU,SAAUC,GACrD,IAAK,IAAItC,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAAK,CACzC,IAAIyC,EAASF,UAAUvC,GAEvB,IAAK,IAAIuB,KAAOkB,EACV/B,OAAOkB,UAAUC,eAAe1B,KAAKsC,EAAQlB,KAC/Ce,EAAOf,GAAOkB,EAAOlB,IAK3B,OAAOe,GAGFF,SAASM,MAAMC,KAAMJ,WAG9BhD,EAAOD,QAAU8C,U,cCZjB7C,EAAOD,QANP,SAAyBsD,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,uC,gBCFxB,IAAIC,EAAU,EAAQ,IAElBC,EAAwB,EAAQ,GAUpCzD,EAAOD,QARP,SAAoC2D,EAAM9C,GACxC,OAAIA,GAA2B,WAAlB4C,EAAQ5C,IAAsC,mBAATA,EAI3C6C,EAAsBC,GAHpB9C,I,gBCNX,IAAI8B,EAAiB,EAAQ,IAiB7B1C,EAAOD,QAfP,SAAmB4D,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIL,UAAU,sDAGtBI,EAAStB,UAAYlB,OAAOY,OAAO6B,GAAcA,EAAWvB,UAAW,CACrEwB,YAAa,CACXnC,MAAOiC,EACPG,UAAU,EACVC,cAAc,KAGdH,GAAYlB,EAAeiB,EAAUC,K,cCd3C,SAASI,kBAAkBjB,EAAQkB,GACjC,IAAK,IAAIxD,EAAI,EAAGA,EAAIwD,EAAMhB,OAAQxC,IAAK,CACrC,IAAIyD,EAAaD,EAAMxD,GACvByD,EAAW7C,WAAa6C,EAAW7C,aAAc,EACjD6C,EAAWH,cAAe,EACtB,UAAWG,IAAYA,EAAWJ,UAAW,GACjD3C,OAAOC,eAAe2B,EAAQmB,EAAWlC,IAAKkC,IAUlDlE,EAAOD,QANP,SAAsBuD,EAAaa,EAAYC,GAG7C,OAFID,GAAYH,kBAAkBV,EAAYjB,UAAW8B,GACrDC,GAAaJ,kBAAkBV,EAAac,GACzCd,I,gBCbT,IAAIe,EAAgB,EAAQ,IAE5B,SAASC,KAAKvB,EAAQX,EAAUmC,GAiB9B,MAhBuB,oBAAZC,SAA2BA,QAAQlD,IAC5CtB,EAAOD,QAAUuE,KAAOE,QAAQlD,IAEhCtB,EAAOD,QAAUuE,KAAO,SAAcvB,EAAQX,EAAUmC,GACtD,IAAIE,EAAOJ,EAActB,EAAQX,GACjC,GAAKqC,EAAL,CACA,IAAIC,EAAOvD,OAAOwD,yBAAyBF,EAAMrC,GAEjD,OAAIsC,EAAKpD,IACAoD,EAAKpD,IAAIV,KAAK2D,GAGhBG,EAAKhD,QAIT4C,KAAKvB,EAAQX,EAAUmC,GAAYxB,GAG5C/C,EAAOD,QAAUuE,M,cCPjBtE,EAAOD,QAfP,SAAyB6E,EAAK5C,EAAKN,GAYjC,OAXIM,KAAO4C,EACTzD,OAAOC,eAAewD,EAAK5C,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZ0C,cAAc,EACdD,UAAU,IAGZc,EAAI5C,GAAON,EAGNkD,I,cCJT5E,EAAOD,QARP,SAAgC2D,GAC9B,QAAa,IAATA,EACF,MAAM,IAAImB,eAAe,6DAG3B,OAAOnB,I,gBCLT,IAAIoB,EAAoB,EAAQ,IAE5BC,EAAkB,EAAQ,IAE1BC,EAAoB,EAAQ,IAMhChF,EAAOD,QAJP,SAA4BkF,GAC1B,OAAOH,EAAkBG,IAAQF,EAAgBE,IAAQD,M,gBCP3D,IAAIE,EAAiB,EAAQ,IAEzBC,EAAuB,EAAQ,IAE/BC,EAAkB,EAAQ,IAM9BpF,EAAOD,QAJP,SAAwBkF,EAAKxE,GAC3B,OAAOyE,EAAeD,IAAQE,EAAqBF,EAAKxE,IAAM2E,M,6BCAhE,SAAS5B,QAAQoB,GAAwT,OAAtOpB,QAArD,mBAAXhC,QAAoD,iBAApBA,OAAO6D,SAAmC,SAAiBT,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXpD,QAAyBoD,EAAIf,cAAgBrC,QAAUoD,IAAQpD,OAAOa,UAAY,gBAAkBuC,IAAyBA,GALxVzD,OAAOC,eAAerB,EAAS,aAAc,CAC3C2B,OAAO,IAET3B,EAAiB,aAAI,EA8DrB,IAAIuF,EA1DJ,SAASC,YAAYX,EAAKY,EAASC,GACjC,IAAIC,EAAMd,EAEV,GAAoB,UAAhBpB,QAAQoB,GACV,GAAqB,UAAjBe,QAAQf,GAAkB,CAC5Bc,EAAM,GAEN,IAAK,IAAIjF,EAAI,EAAGmF,EAAMhB,EAAI3B,OAAQxC,EAAImF,EAAKnF,IACzCiF,EAAIG,KAAKN,YAAYX,EAAInE,GAAI+E,EAASC,SAEnC,GAAY,OAARb,EAGT,IAAK,IAAIkB,KAFTJ,EAAMvE,OAAOY,OAAO,MAEN6C,EACRY,GAAgC,UAArBG,QAAQH,IAAwBA,EAAQvC,QAC1B,GAAvBuC,EAAQO,QAAQD,KAClBJ,EAAII,GAAKP,YAAYX,EAAIkB,GAAIN,EAASC,IAE/BD,GAAgC,WAArBG,QAAQH,GACxBA,EAAQQ,KAAKF,KACfJ,EAAII,GAAKP,YAAYX,EAAIkB,GAAIN,EAASC,IAE/BD,GAAgC,aAArBG,QAAQH,GACxBA,EAAQM,EAAGlB,EAAIkB,MACjBJ,EAAII,GAAKP,YAAYX,EAAIkB,GAAIN,EAASC,IAE/BA,GAAgC,UAArBE,QAAQF,IAAwBA,EAAQxC,QAChC,IAAxBwC,EAAQM,QAAQD,KAClBJ,EAAII,GAAKP,YAAYX,EAAIkB,GAAIN,EAASC,IAE/BA,GAAgC,WAArBE,QAAQF,GACvBA,EAAQO,KAAKF,KAChBJ,EAAII,GAAKP,YAAYX,EAAIkB,GAAIN,EAASC,IAE/BA,GAAgC,aAArBE,QAAQF,IACvBA,EAAQK,EAAGlB,EAAIkB,MAIpBJ,EAAII,GAAKP,YAAYX,EAAIkB,GAAIN,EAASC,IAM9C,OAAOC,EAEP,SAASC,QAAQjE,GACf,IAAIuE,EAAMzC,QAAQ9B,GAElB,MAAY,WAARuE,EACe,OAAVvE,EAAiB,KAAOP,OAAOkB,UAAU6D,SAAStF,KAAKc,GAAOyE,MAAM,GAAI,GAAGC,cAG7EH,IAKXlG,EAAiB,QAAIuF,G,gBCpE0KlF,OAA9HJ,EAAOD,QAAiJ,SAAS4B,GAAG,IAAI0E,EAAE,GAAG,SAASnE,EAAEX,GAAG,GAAG8E,EAAE9E,GAAG,OAAO8E,EAAE9E,GAAGxB,QAAQ,IAAImB,EAAEmF,EAAE9E,GAAG,CAACd,EAAEc,EAAEb,GAAE,EAAGX,QAAQ,IAAI,OAAO4B,EAAEJ,GAAGX,KAAKM,EAAEnB,QAAQmB,EAAEA,EAAEnB,QAAQmC,GAAGhB,EAAER,GAAE,EAAGQ,EAAEnB,QAAQ,OAAOmC,EAAErB,EAAEc,EAAEO,EAAEpB,EAAEuF,EAAEnE,EAAEnB,EAAE,SAASY,EAAE0E,EAAE9E,GAAGW,EAAEhB,EAAES,EAAE0E,IAAIlF,OAAOC,eAAeO,EAAE0E,EAAE,CAAChF,YAAW,EAAGC,IAAIC,KAAKW,EAAEX,EAAE,SAASI,GAAG,oBAAoBH,QAAQA,OAAOC,aAAaN,OAAOC,eAAeO,EAAEH,OAAOC,YAAY,CAACC,MAAM,WAAWP,OAAOC,eAAeO,EAAE,aAAa,CAACD,OAAM,KAAMQ,EAAEP,EAAE,SAASA,EAAE0E,GAAG,GAAG,EAAEA,IAAI1E,EAAEO,EAAEP,IAAI,EAAE0E,EAAE,OAAO1E,EAAE,GAAG,EAAE0E,GAAG,iBAAiB1E,GAAGA,GAAGA,EAAEE,WAAW,OAAOF,EAAE,IAAIJ,EAAEJ,OAAOY,OAAO,MAAM,GAAGG,EAAEX,EAAEA,GAAGJ,OAAOC,eAAeG,EAAE,UAAU,CAACF,YAAW,EAAGK,MAAMC,IAAI,EAAE0E,GAAG,iBAAiB1E,EAAE,IAAI,IAAIT,KAAKS,EAAEO,EAAEnB,EAAEQ,EAAEL,EAAE,SAASmF,GAAG,OAAO1E,EAAE0E,IAAIpE,KAAK,KAAKf,IAAI,OAAOK,GAAGW,EAAEA,EAAE,SAASP,GAAG,IAAI0E,EAAE1E,GAAGA,EAAEE,WAAW,WAAW,OAAOF,EAAE2E,SAAS,WAAW,OAAO3E,GAAG,OAAOO,EAAEnB,EAAEsF,EAAE,IAAIA,GAAGA,GAAGnE,EAAEhB,EAAE,SAASS,EAAE0E,GAAG,OAAOlF,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAE0E,IAAInE,EAAEK,EAAE,GAAGL,EAAEA,EAAEM,EAAE,GAAj5B,CAAq5B,CAAC,SAASb,EAAE0E,EAAEnE,GAAG,aAAa,SAASX,KAAKI,GAAG,IAAI0E,EAAE1E,EAAE,GAAG,GAAGA,EAAEsB,OAAO,EAAE,IAAI,IAAI1B,EAAE,EAAEA,EAAEI,EAAEsB,OAAO1B,IAAIW,EAAEmE,EAAE1E,EAAEJ,IAAI,OAAO8E,EAAE,SAASnE,EAAEP,EAAE0E,GAAG,IAAI,IAAInE,KAAKmE,EAAE1E,EAAEO,GAAGP,EAAEO,IAAI,oBAAoBP,EAAEO,GAAGgE,WAAW3E,EAAEI,EAAEO,GAAGmE,EAAEnE,IAAIP,EAAEO,GAAGmE,EAAEnE,GAAG,OAAOP,GAAG,SAAST,IAAI,OAAOC,OAAOY,OAAO,MAAM,SAASwE,EAAE5E,GAAG,MAAM0E,SAAS1E,EAAE,MAAM,WAAW0E,EAAE,OAAO1E,EAAE,KAAKR,OAAOkB,UAAU6D,SAAStF,KAAKe,GAAGwE,MAAM,GAAG,GAAGC,cAAcC,EAAE,SAAS5F,EAAEkB,EAAE0E,EAAE,GAAGnE,GAAE,GAAI,IAAIX,EAAE,KAAKL,EAAEgB,EAAE,OAAO,YAAYA,GAAG,GAAGhB,EAAE,OAAOS,EAAEwB,MAAMC,KAAKlB,GAAGhB,GAAE,EAAGK,IAAIA,EAAEiF,WAAW,KAAKC,aAAalF,GAAGA,EAAE,KAAKI,EAAEwB,MAAMC,KAAKlB,IAAImE,KAAK,SAASvF,EAAEa,EAAE0E,GAAG,MAAM,WAAWE,EAAE5E,IAAIA,EAAE+E,MAAM,MAAMC,OAAOhF,EAAEiF,UAAU,EAAEjF,EAAEoE,QAAQ,OAAO,IAAIM,EAAE1E,EAAEO,EAAEX,EAAE8E,GAAGnE,EAAEnB,EAAEsF,EAAE,mBAAkB,WAAY,OAAO9E,KAAKW,EAAEnB,EAAEsF,EAAE,eAAc,WAAY,OAAOnF,KAAKgB,EAAEnB,EAAEsF,EAAE,UAAS,WAAY,OAAOE,KAAKrE,EAAEnB,EAAEsF,EAAE,YAAW,WAAY,OAAO5F,KAAKyB,EAAEnB,EAAEsF,EAAE,iBAAgB,WAAY,OAAOvF,S,8BCAz9D,+FAAO,IAAM+F,SAAW,WACtB,MAAqB,oBAAPC,IAAsD,mBAAzBA,GAAGC,mBAGnCC,UAAY,WACvB,GAAIH,WAAY,OAAOI,SACvB,GAAoB,oBAATvD,KAAsB,OAAOA,KACxC,GAAsB,oBAAXtD,OAAwB,OAAOA,OAC1C,QAAsB,IAAX8G,EAAwB,OAAOA,EAC1C,MAAM,IAAIC,MAAJ,mCAGgBH,c,kCCZxB,IAAII,EAA+B,EAAQ,IAqB3CpH,EAAOD,QAnBP,SAAkCmD,EAAQmE,GACxC,GAAc,MAAVnE,EAAgB,MAAO,GAC3B,IACIlB,EAAKvB,EADLsC,EAASqE,EAA6BlE,EAAQmE,GAGlD,GAAIlG,OAAOmG,sBAAuB,CAChC,IAAIC,EAAmBpG,OAAOmG,sBAAsBpE,GAEpD,IAAKzC,EAAI,EAAGA,EAAI8G,EAAiBtE,OAAQxC,IACvCuB,EAAMuF,EAAiB9G,GACnB4G,EAAStB,QAAQ/D,IAAQ,GACxBb,OAAOkB,UAAUmF,qBAAqB5G,KAAKsC,EAAQlB,KACxDe,EAAOf,GAAOkB,EAAOlB,IAIzB,OAAOe,I,gBClBT,IAAIJ,EAAiB,EAAQ,GAEzBD,EAAiB,EAAQ,IAEzB+E,EAAmB,EAAQ,IAE3BC,EAAY,EAAQ,IAExB,SAASC,iBAAiBC,GACxB,IAAIC,EAAwB,mBAARC,IAAqB,IAAIA,SAAQC,EA8BrD,OA5BA/H,EAAOD,QAAU4H,iBAAmB,SAA0BC,GAC5D,GAAc,OAAVA,IAAmBH,EAAiBG,GAAQ,OAAOA,EAEvD,GAAqB,mBAAVA,EACT,MAAM,IAAIrE,UAAU,sDAGtB,QAAsB,IAAXsE,EAAwB,CACjC,GAAIA,EAAOG,IAAIJ,GAAQ,OAAOC,EAAOvG,IAAIsG,GAEzCC,EAAOI,IAAIL,EAAOM,SAGpB,SAASA,UACP,OAAOR,EAAUE,EAAO5E,UAAWL,EAAeS,MAAMS,aAW1D,OARAqE,QAAQ7F,UAAYlB,OAAOY,OAAO6F,EAAMvF,UAAW,CACjDwB,YAAa,CACXnC,MAAOwG,QACP7G,YAAY,EACZyC,UAAU,EACVC,cAAc,KAGXrB,EAAewF,QAASN,IAG1BD,iBAAiBC,GAG1B5H,EAAOD,QAAU4H,kB,cC1CjB,SAASQ,gBAAgBjH,EAAGqB,GAM1B,OALAvC,EAAOD,QAAUoI,gBAAkBhH,OAAOuB,gBAAkB,SAAyBxB,EAAGqB,GAEtF,OADArB,EAAE0B,UAAYL,EACPrB,GAGFiH,gBAAgBjH,EAAGqB,GAG5BvC,EAAOD,QAAUoI,iB,cCTjB,SAAS3E,QAAQoB,GAaf,MAVsB,mBAAXpD,QAAoD,iBAApBA,OAAO6D,SAChDrF,EAAOD,QAAUyD,QAAU,SAAiBoB,GAC1C,cAAcA,GAGhB5E,EAAOD,QAAUyD,QAAU,SAAiBoB,GAC1C,OAAOA,GAAyB,mBAAXpD,QAAyBoD,EAAIf,cAAgBrC,QAAUoD,IAAQpD,OAAOa,UAAY,gBAAkBuC,GAItHpB,QAAQoB,GAGjB5E,EAAOD,QAAUyD,S,cCZjBxD,EAAOD,QAJP,SAA2BqI,GACzB,OAAgE,IAAzDC,SAASnC,SAAStF,KAAKwH,GAAIrC,QAAQ,mB,gBCD5C,IAAIrD,EAAiB,EAAQ,IAE7B,SAAS4F,2BACP,GAAuB,oBAAZ9D,UAA4BA,QAAQkD,UAAW,OAAO,EACjE,GAAIlD,QAAQkD,UAAUa,KAAM,OAAO,EACnC,GAAqB,mBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKpG,UAAU6D,SAAStF,KAAK4D,QAAQkD,UAAUe,KAAM,IAAI,iBAClD,EACP,MAAOpC,GACP,OAAO,GAIX,SAASqC,WAAWC,EAAQC,EAAMhB,GAchC,OAbIU,2BACFtI,EAAOD,QAAU2I,WAAalE,QAAQkD,UAEtC1H,EAAOD,QAAU2I,WAAa,SAAoBC,EAAQC,EAAMhB,GAC9D,IAAIiB,EAAI,CAAC,MACTA,EAAEhD,KAAK1C,MAAM0F,EAAGD,GAChB,IACIvF,EAAW,IADGgF,SAASpG,KAAKkB,MAAMwF,EAAQE,IAG9C,OADIjB,GAAOlF,EAAeW,EAAUuE,EAAMvF,WACnCgB,GAIJqF,WAAWvF,MAAM,KAAMH,WAGhChD,EAAOD,QAAU2I,Y,cC5BjB1I,EAAOD,QAJP,SAAyBkF,GACvB,GAAI6D,MAAMC,QAAQ9D,GAAM,OAAOA,I,cC6BjCjF,EAAOD,QA9BP,SAA+BkF,EAAKxE,GAClC,GAAMe,OAAO6D,YAAYlE,OAAO8D,IAAgD,uBAAxC9D,OAAOkB,UAAU6D,SAAStF,KAAKqE,GAAvE,CAIA,IAAI+D,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKpB,EAET,IACE,IAAK,IAAiCqB,EAA7BC,EAAKpE,EAAIzD,OAAO6D,cAAmB4D,GAAMG,EAAKC,EAAGC,QAAQC,QAChEP,EAAKnD,KAAKuD,EAAG1H,QAETjB,GAAKuI,EAAK/F,SAAWxC,GAH8CwI,GAAK,IAK9E,MAAOO,GACPN,GAAK,EACLC,EAAKK,EACL,QACA,IACOP,GAAsB,MAAhBI,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIH,EAAI,MAAMC,GAIlB,OAAOH,K,cCvBThJ,EAAOD,QAJP,WACE,MAAM,IAAIwD,UAAU,0D,gBCDtB,IAAIZ,EAAiB,EAAQ,GAW7B3C,EAAOD,QATP,SAAwBoC,EAAQC,GAC9B,MAAQjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAEpC,QADfD,EAASQ,EAAeR,MAI1B,OAAOA,I,cCETnC,EAAOD,QAVP,SAA4BkF,GAC1B,GAAI6D,MAAMC,QAAQ9D,GAAM,CACtB,IAAK,IAAIxE,EAAI,EAAGgJ,EAAO,IAAIX,MAAM7D,EAAIhC,QAASxC,EAAIwE,EAAIhC,OAAQxC,IAC5DgJ,EAAKhJ,GAAKwE,EAAIxE,GAGhB,OAAOgJ,K,cCFXzJ,EAAOD,QAJP,SAA0B2J,GACxB,GAAIlI,OAAO6D,YAAYlE,OAAOuI,IAAkD,uBAAzCvI,OAAOkB,UAAU6D,SAAStF,KAAK8I,GAAgC,OAAOZ,MAAMa,KAAKD,K,cCG1H1J,EAAOD,QAJP,WACE,MAAM,IAAIwD,UAAU,qD,cCctBvD,EAAOD,QAfP,SAAuCmD,EAAQmE,GAC7C,GAAc,MAAVnE,EAAgB,MAAO,GAC3B,IAEIlB,EAAKvB,EAFLsC,EAAS,GACT6G,EAAazI,OAAO0I,KAAK3G,GAG7B,IAAKzC,EAAI,EAAGA,EAAImJ,EAAW3G,OAAQxC,IACjCuB,EAAM4H,EAAWnJ,GACb4G,EAAStB,QAAQ/D,IAAQ,IAC7Be,EAAOf,GAAOkB,EAAOlB,IAGvB,OAAOe,I,cCZT,IAAI+G,EAGJA,EAAI,WACH,OAAO1G,KADJ,GAIJ,IAEC0G,EAAIA,GAAK,IAAIzB,SAAS,cAAb,GACR,MAAOhC,GAEc,iBAAXjG,SAAqB0J,EAAI1J,QAOrCJ,EAAOD,QAAU+J,G,0wBCnBjB,MAAMC,MAAQ,aAGC,SAASC,EAAEC,EAASC,KAAUC,GAC3C,MAAMC,EAAO,IAAIL,MAHF9E,MAOf,OAHAmF,EAAKH,QAAUA,EACfG,EAAKF,MAAQA,GAAS,GACtBE,EAAKD,UANUlF,EAMUkF,EANH,GAAGE,OAAOlH,MAAM,GAAI8B,IAMPqF,OAAOC,SACnCH,ECRF,MCEDI,OAAS5F,GAAOA,QAEhB6F,kBAAoB,CAACC,EAAUC,KACnC,MAAMC,EAAU,GAEVhF,EAAMiF,KAAKC,IAAIJ,EAASP,SAASlH,OAAQ0H,EAASR,SAASlH,QACjE,IAAK,IAAIxC,EAAI,EAAGA,EAAImF,EAAKnF,IAEvBmK,EAAQnK,GAAKsK,KAAKL,EAASP,SAAS1J,GAAIkK,EAASR,SAAS1J,IAE5D,OAAOmK,GAWHI,eAAiB,CAACN,EAAUC,KAChC,IAAIC,EAAU,GACd,MAAMK,EAAgBP,EAASR,MACzBgB,EAAgBP,EAAST,MAK/B,OAFAU,EAFczJ,OAAO2B,OAAO,GAAImI,EAAeC,GAIxCN,GAwBM,SAASG,KAAKL,EAAUC,GACrC,OAAIH,OAAOE,GACF,CAAES,KDzDS,SCyDKR,YAErBH,OAAOG,GACF,CAAEQ,KDzDS,UCuCE,EAACT,EAAUC,IACL,iBAAbD,GAAyBA,IAAaC,GAAkC,iBAAbA,GAAyBD,IAAaC,GAAaD,EAAST,UAAYU,EAASV,QAmBvJmB,CAAgBV,EAAUC,GACrB,CAAEQ,KD9DU,UC8DKR,YAEtBA,EAASV,QACJ,CACLkB,KDjEgB,SCkEhBhB,SAAUM,kBAAkBC,EAAUC,GACtCT,MAAOc,eAAeN,EAAUC,SAJpC,EChEK,SAASU,cAAcC,GAC5B,IAAKA,EACH,OAGF,IACMrB,QAASsB,EAAO,MAAErB,EAAK,SAAEC,GAAamB,EAC5C,MAAME,EAAK,IAAID,EAAQrB,GAMvB,OAJAuB,WAJYrI,KAIMoI,EAAItB,GAClBsB,EAAGE,aACLvB,EAASwB,IAAIN,cAAcpJ,KAAKmB,OAAOkH,OAAOC,SAASqB,QAAQJ,EAAGE,YAAYzJ,KAAKuJ,IAE9EA,ECVT,MAAM,EAAS,CAKbK,OAAQ,SAASC,GACf,OAAOA,GAGTC,OAAOD,GACEA,EAAIA,EAGbE,QAAQF,GACCA,GAAK,EAAIA,GAGlBG,UAAUH,KACCA,GAAK,IAAM,EAAIA,EAAIA,IAAMA,GAAK,EAAIA,GAAK,GAAK,EAQvDI,QAAS,SAASJ,GAChB,OAAOA,EAAIA,EAAIA,GAMjBK,SAAU,SAASL,GACjB,QAASA,EAAIA,EAAIA,EAAI,GAMvBM,WAAY,SAASN,GACnB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,EAAIA,EAEhB,KAAQA,GAAK,GAAKA,EAAIA,EAAI,IAQnCO,UAAW,SAASP,GAClB,OAAOA,EAAIA,EAAIA,EAAIA,GAMrBQ,WAAY,SAASR,GACnB,OAAO,KAAMA,EAAIA,EAAIA,EAAIA,GAM3BS,aAAc,SAAST,GACrB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,EAAIA,EAAIA,GAEnB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAI,IAQxCU,UAAW,SAASV,GAClB,OAAOA,EAAIA,EAAIA,EAAIA,EAAIA,GAMzBW,WAAY,SAASX,GACnB,QAASA,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,GAM/BY,aAAc,SAASZ,GACrB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,EAAIA,EAAIA,EAAIA,EAExB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,IAQ3Ca,aAAc,SAASb,GACrB,OAAO,EAAIjB,KAAK+B,IAAKd,EAAIjB,KAAKgC,GAAM,IAMtCC,cAAe,SAAShB,GACtB,OAAOjB,KAAKkC,IAAKjB,EAAIjB,KAAKgC,GAAM,IAMlCG,gBAAiB,SAASlB,GACxB,MAAO,IAAO,EAAIjB,KAAK+B,IAAI/B,KAAKgC,GAAKf,KAQvCmB,cAAe,SAASnB,GACtB,OAAa,IAANA,EAAU,EAAIjB,KAAKqC,IAAI,KAAMpB,EAAI,IAM1CqB,eAAgB,SAASrB,GACvB,OAAa,IAANA,EAAU,EAAI,EAAIjB,KAAKqC,IAAI,GAAI,GAAKpB,IAM7CsB,iBAAkB,SAAStB,GACzB,OAAU,IAANA,EACK,EAEC,IAANA,EACK,GAEJA,GAAK,GAAK,EACN,GAAMjB,KAAKqC,IAAI,KAAMpB,EAAI,GAE3B,IAAqC,EAA7BjB,KAAKqC,IAAI,GAAI,IAAMpB,EAAI,MAQxCuB,WAAY,SAASvB,GACnB,OAAO,EAAIjB,KAAKyC,KAAK,EAAIxB,EAAIA,IAM/ByB,YAAa,SAASzB,GACpB,OAAOjB,KAAKyC,KAAK,KAAMxB,EAAIA,IAM7B0B,cAAe,SAAS1B,GACtB,OAAKA,GAAK,GAAK,GACL,IAAOjB,KAAKyC,KAAK,EAAIxB,EAAIA,GAAK,GAEjC,IAAOjB,KAAKyC,KAAK,GAAKxB,GAAK,GAAKA,GAAK,IAQ9C2B,UAAW,SAAS3B,GAClB,IAAItJ,EACAqG,EAAI,GAER,OAAU,IAANiD,EACK,EAEC,IAANA,EACK,IAEJjD,GAAKA,EAAI,GACZA,EAAI,EACJrG,EAAID,IAEJC,EAXM,GAWGqI,KAAK6C,KAAK,EAAI7E,IAAO,EAAIgC,KAAKgC,KAGvChE,EACAgC,KAAKqC,IAAI,EAAG,IAAMpB,GAAK,IACvBjB,KAAKkC,KAAMjB,EAAItJ,IAAM,EAAIqI,KAAKgC,IAhBxB,MAuBVc,WAAY,SAAS7B,GACnB,IAAItJ,EACAqG,EAAI,GAER,OAAU,IAANiD,EACK,EAEC,IAANA,EACK,IAEJjD,GAAKA,EAAI,GACZA,EAAI,EACJrG,EAAID,IAEJC,EAXM,GAWGqI,KAAK6C,KAAK,EAAI7E,IAAO,EAAIgC,KAAKgC,IAGvChE,EAAIgC,KAAKqC,IAAI,GAAI,GAAKpB,GAAKjB,KAAKkC,KAAMjB,EAAItJ,IAAM,EAAIqI,KAAKgC,IAdnD,IAc+D,IAOzEe,aAAc,SAAS9B,GACrB,IAAItJ,EACAqG,EAAI,GAER,OAAU,IAANiD,EACK,EAEC,IAANA,EACK,IAEJjD,GAAKA,EAAI,GACZA,EAAI,EACJrG,EAAID,IAEJC,EAXM,GAWGqI,KAAK6C,KAAK,EAAI7E,IAAO,EAAIgC,KAAKgC,KAEpCf,GAAK,GAAK,EAGVjD,EACCgC,KAAKqC,IAAI,EAAG,IAAMpB,GAAK,IACvBjB,KAAKkC,KAAMjB,EAAItJ,IAAM,EAAIqI,KAAKgC,IAlB5B,KAeH,GAOHhE,EACEgC,KAAKqC,IAAI,GAAI,IAAMpB,GAAK,IACxBjB,KAAKkC,KAAMjB,EAAItJ,IAAM,EAAIqI,KAAKgC,IAxB1B,IAyBJ,GACF,IASJgB,OAAQ,SAAS/B,GACf,IAAItJ,EAAI,QACR,OAAOsJ,EAAIA,IAAMtJ,EAAI,GAAKsJ,EAAItJ,IAMhCsL,QAAS,SAAShC,GAChB,IAAItJ,EAAI,QACR,QAASsJ,EAAIA,IAAMtJ,EAAI,GAAKsJ,EAAItJ,GAAK,GAMvCuL,UAAW,SAASjC,GAClB,IAAItJ,EAAI,UACR,OAAKsJ,GAAK,GAAK,EACCA,EAAIA,IAAMtJ,EAAI,GAAKsJ,EAAItJ,GAA9B,GAEF,KAAQsJ,GAAK,GAAKA,IAAMtJ,EAAI,GAAKsJ,EAAItJ,GAAK,IAQnDwL,SAAU,SAASlC,GACjB,OAAO,EAAI,EAAOmC,UAAU,EAAInC,IAMlCmC,UAAW,SAASnC,GAClB,OAAIA,EAAI,EAAI,KACH,OAASA,EAAIA,EACXA,EAAI,EAAI,KACV,QAAUA,GAAK,IAAM,MAAQA,EAAI,IAC/BA,EAAI,IAAM,KACZ,QAAUA,GAAK,KAAO,MAAQA,EAAI,MAElC,QAAUA,GAAK,MAAQ,MAAQA,EAAI,SAO9CoC,YAAa,SAASpC,GACpB,OAAIA,EAAI,GAC0B,GAAzB,EAAOkC,SAAa,EAAJlC,GAEY,GAA9B,EAAOmC,UAAc,EAAJnC,EAAQ,GAAW,KAIhC,Q,QC9Uf,MACMqC,OAAS,CAACtF,EAAGuF,IAAMzM,GAAKkH,GAAKuF,EAAIvF,GAAKlH,EACtC0M,MAAQ,CAACxF,EAAGuF,KAChB,MAAME,EAAKF,EAAIA,EAAEnL,OAAS,EACpBsL,EAAK1F,EAAIgC,KAAK2D,IAAIF,EAAIzF,EAAE5F,QAAU,EAClCwL,EAAI,IAAI3F,MAAMyF,GACdzN,EAAI,IAAIgI,MAAMwF,GACpB,IAAI7N,EAEJ,IAAKA,EAAI,EAAGA,EAAI8N,IAAM9N,EACpBgO,EAAEhO,GAAKiO,YAAY7F,EAAEpI,GAAI2N,EAAE3N,IAG7B,KAAOA,EAAI6N,IAAM7N,EACfK,EAAEL,GAAK2N,EAAE3N,GAGX,OAAOkB,IACL,IAAKlB,EAAI,EAAGA,EAAI8N,IAAM9N,EACpBK,EAAEL,GAAKgO,EAAEhO,GAAGkB,GAGd,OAAOb,IAGLqB,OAAS,CAAC0G,EAAGuF,KACjB,IAEItC,EAFArL,EAAI,GACJK,EAAI,GAWR,IAAKgL,KARAjD,GAAoB,YAAd,iBAAOA,KAChBA,EAAI,IAGDuF,GAAoB,YAAd,iBAAOA,KAChBA,EAAI,IAGIA,EACJtC,KAAKjD,EACPpI,EAAEqL,GAAK4C,YAAY7F,EAAEiD,GAAIsC,EAAEtC,IAE3BhL,EAAEgL,GAAKsC,EAAEtC,GAIb,OAAOnK,IACL,IAAKmK,KAAKrL,EACRK,EAAEgL,GAAKrL,EAAEqL,GAAGnK,GAGd,OAAOb,IAII,SAAS4N,YAAY7F,EAAGuF,GACrC,IAAIjD,SAAciD,EAClB,OAAa,OAANA,GAAuB,WAATjD,GAA8B,YAATA,GAzD3BsD,EAyDyDL,EAzDpD,IAAMK,IAyD6D,WAATtD,EAAoBgD,OAAuB,UAAd,iBAAOC,GAAiBC,MAAQlM,QAAQ0G,EAAGuF,GAzDvIK,MCCjB,SAASE,MACP,MAA8B,oBAAhBC,YAA8BA,YAAYD,MAAQlG,KAAKkG,MAGvE,IAAIE,EAAuBC,EAC3B,GAAsB,oBAAX1O,QAAkE,mBAAjCA,OAAOyO,sBACjDA,EAAwBzO,OAAOyO,sBAC/BC,EAAuB1O,OAAO0O,yBACzB,CACL,MAAMC,EAAYJ,MAClBE,EAAyBzG,GAChB5B,WAAW,KAChB4B,EAAGuG,MAAQI,IACV,IAELD,EAAwBE,GACfvI,aAAauI,GCjBxB,SAASC,MAAMjO,EAAO,UAYpB,OAXAoC,KAAK8L,OAAS,KACd9L,KAAK+L,KAAO,KACZ/L,KAAKgM,OAAS,EAEdhM,KAAKiM,WAAY,EACjBjM,KAAKkM,UAAY,EACjBlM,KAAKmM,QAAU,EAAOvO,GAAQ,EAAOA,GAAQ,EAAO6K,OAEpDzI,KAAKoM,UAAY,OACjBpM,KAAKqM,SAAW,OAETrM,KAGT6L,MAAM5M,UAAY,CAChB,KAAKqN,GAEH,OADAtM,KAAK8L,OAASQ,EACPtM,MAGT,GAAGsM,GAED,OADAtM,KAAK+L,KAAOO,EACLtM,MAGT,SAASuM,GACP,GAAoB,iBAATA,EACT,MAAM,IAAIxI,MAAM,kCAGlB,OADA/D,KAAKkM,UAAYK,EACVvM,MAGT,MAAMuM,GAEJ,OADAvM,KAAKgM,OAASO,EACPvM,MAGT,OAAOgF,GACL,GAAkB,mBAAPA,EACT,MAAM,IAAIjB,MAAM,sCAGlB,OADA/D,KAAKmM,QAAUnH,EACRhF,MAGT,QAAQgF,GACN,GAAkB,mBAAPA,EACT,MAAM,IAAIjB,MAAM,qCAGlB,OADA/D,KAAKqM,SAAWrH,EACThF,MAGT,SAASgF,GACP,GAAkB,mBAAPA,EACT,MAAM,IAAIjB,MAAM,sCAGlB,OADA/D,KAAKoM,UAAYpH,EACVhF,MAGT,WAAWgF,GACT,GAAkB,mBAAPA,EACT,MAAM,IAAIjB,MAAM,wCAGlB,OADA/D,KAAKwM,YAAcxH,EACZhF,MAET,QAEE,MAAMiD,EAAIjD,KAAKmM,QACT9O,EAAIiO,YAAYtL,KAAK8L,OAAQ9L,KAAK+L,MAClCU,EAAWzM,KAAKoM,UACtB,IAAIM,EAAa,EACbC,EAAc3M,KAAKkM,UACnBU,EAAQ,KACRC,EAAY7M,KAAKgM,OACjBL,EAAY,EAEhB,OAAO,IAAImB,QAAQC,IACjB,MAAMC,KAAO,KACXN,EAAanB,MAAQI,EACrB,MAAMpN,EAAI0E,EAAEwE,KAAK2D,IAAI,EAAKsB,EAAaC,IACnCD,GAAcC,GAChBF,EAASpP,EAAE,IACX0P,EAAQ/M,MACR0L,EAAqBkB,KAErBH,EAASpP,EAAEkB,IACXqO,EAAQnB,EAAsBuB,QAI5BC,MAAQ,KACZtB,EAAYJ,MACZvL,KAAKqM,SAASrM,KAAK8L,OAAQ9L,KAAK+L,MAChCa,EAAQnB,EAAsBuB,OD9ExB,IAACT,ECiFTvM,KAAKkN,OAAS,KACZxB,EAAqBkB,IAGnBC,GAAaA,EAAY,GDrFpBN,ECsFDM,EDrFZ,IAAIC,QAASC,GACX3J,WAAW,KACT2J,KACCR,KCkFkBY,KAAKF,OAEtBA,YAMO,Y,iBChHR,SAAS5E,WAAW+E,EAAOhF,EAAIiF,GAC/BjF,GAGArK,OAAO0I,KAAK4G,GAAQxN,SCqDpB,SAAgBuN,EAAOhF,EAAItB,GAChC,MAAMwG,EAAMxG,EAAMwG,IAElB,UADOxG,EAAMwG,IACTA,GAAOlF,EACT,IACEgF,EAAMG,OAAOD,EAAKlF,GAClB,MAAOnF,GACPuK,QAAQC,MAAMxK,IDzDlBsK,CAAOH,EAAOhF,EAAIiF,GCyFb,SAAkBD,EAAOhF,EAAItB,EAAQ,IAE1C/I,OAAO0I,KAAKK,GAAO0B,QAAQ5J,IACzB,IAAK,MAAMgE,KAAKhE,GACd,OAEF,MAAMmJ,EAAOnJ,EAAI8O,MAAM,MAAM,GAAG1K,cAC1B2K,EAAK7G,EAAMlI,IAAQ,SAEzBwJ,EAAGwF,mBAAmB7F,GACtBK,EAAGyF,iBAAiB9F,EAFT+F,GAAOH,EAAGnQ,KAAK4P,EAAOU,EAAK1F,WAG/BtB,EAAMlI,KDnGfmP,CAASX,EAAOhF,EAAIiF,GCiEf,SAAkBD,EAAOhF,EAAItB,EAAQ,IAC1C,IAAIkH,EAASlH,EAAc,OACvBmH,EAAQnH,EAAa,MACzB,GAAIkH,GAAUC,EAAO,CACnB,IAAIC,EAAW9F,EAAG+F,KAAK,SACvB,GAAIF,IAAUC,EAAU,CAEtB,IAAIE,EAAYhG,EAAG+F,KAAK,WAAa,wBACjCE,EAAW,0BAAgB,wBAAevH,EAAOsH,EAAUF,IAC3DI,EAAW,0BAAgB,wBAAexH,EAAOkH,EAAOC,IAC5D7F,EAAG+F,KAAKE,GACR,IAAI,SAAEE,GAAa,0BAAgB,wBAAenB,EAAMoB,YAAYC,UAAWT,EAAOS,WACtFrG,EAAGsG,WAAWH,EAAW,KAAMJ,KAAKG,SAGtClG,EAAG+F,KAAKrH,GD/EV6H,CAASvB,EAAOhF,EAAIiF,GCJf,SAAoBD,EAAOhF,EAAItB,GACpC,IAAKsB,IAAOtB,EAAM2H,UAChB,OAEF,MAAMA,EAAY,0BAAgBrB,EAAMoB,YAAYC,UAAW3H,EAAM2H,YAE/D,KAAElI,EAAI,OAAEqI,EAAM,IAAEC,EAAG,GAAEC,EAAE,MAAEC,EAAK,SAAER,EAAQ,SAAES,EAAQ,OAAEC,EAAM,UAAEC,EAAYvR,IAAKA,IAAM8Q,EAEzF,IAAKlI,IAASuI,IAAOD,EACnB,OAEEtI,GAEF6B,EAAG+F,KAAK5H,GAEV,IAAI4I,EAAM,IAAYV,EAAW,KAAM,CAAC,OAAQ,KAAM,YAAa,QAE9C,MACnB,GAAKO,EAeH,IAAI,EAAMC,GACP1I,KAAKA,GACLuI,GAAGA,GACHC,MAAMA,GACNR,SAASA,GACTa,SAASjB,IACR/F,EAAG+F,KAAKe,EAAUf,MAEnBlB,YAvBU,CACb,IAAIxG,EAAO,KAETA,EADEmI,EACK,CAACrI,EAAMqI,EAAQE,GAEf,CAACvI,EAAMuI,GAEhB1G,EAAGiH,QAAQ5I,EAAM,CACf6I,KAAM,UACHH,IACFI,SAASpC,KAAK,YACR2B,EAAGU,OACVpH,EAAG+F,KAAKW,OAcdW,GDtCAC,CAAWtC,EAAOhF,EAAIiF,IAQT,SAASsC,MAAMC,EAAKvC,EAAQwC,EAAS,GAElD,IAAIzC,EAAQpN,KACZ,GAAK4P,GAAQvC,EAGb,OAAQA,EAAOtF,MACb,IP9BkB,SO8BL,CACX,MAAM,SAAER,GAAa8F,EACfyC,EAAQ7H,cAAcpJ,KAAKuO,EAAnBnF,CAA0BV,GACpCuI,IACED,IAEFzC,EAAMwC,IAAME,GAEdF,EAAItH,YAAYwH,IAElB,MAEF,IPzCmB,UOyCL,CACZ,MAAM,SAAEvI,GAAa8F,EACfyC,EAAQ7H,cAAcpJ,KAAKuO,EAAnBnF,CAA0BV,GACxCqI,EAAIG,OAAOC,aAAaF,EAAOF,GAC/B,MAEF,IP7CkB,SO8ChBA,EAAIK,SACJ,MAEF,IPlDkB,SOkDL,CACX,MAAM,MAAEnJ,EAAK,SAAEC,GAAasG,EAG5B,GADAhF,WAAW+E,EAAOwC,EAAK9I,GACnB8I,EAAI7I,UAAYA,EAASlH,OAAQ,CACnC+P,EAAI7I,SAASyB,QAAQ,CAAC0H,EAAOC,KAC3BD,EAAME,KAAOD,IAEfpJ,EAASyB,QAAQ,CAAC0H,EAAOC,KACvBD,EAAME,KAAOD,IAEf,IAAI3N,EAAMuE,EAASlH,OAAS+P,EAAI7I,SAASlH,OAASkH,EAASlH,OAAS+P,EAAI7I,SAASlH,OACjF,IAAK,IAAI6C,EAAI,EAAGA,EAAIF,EAAKE,IAAK,CAC5B,IAAI2N,EAAUT,EAAI7I,SAASG,OAAOgJ,GAASA,EAAME,OAAS1N,GAAG,GACzD4N,EAAWvJ,EAASG,OAAOgJ,GAASA,EAAME,OAAS1N,GAAG,GACtD4N,GAA8B,WAAlBA,EAASvI,KAEvB4H,MAAM9Q,KAAKuO,EAAXuC,CAAkBC,EAAKU,GAEvBX,MAAM9Q,KAAKuO,EAAXuC,CAAkBU,EAASC,IAIjC,Q,qHE3ES,GACbpN,QAAS,UACTqN,KAAM,OACNC,MAAO,QACPC,OAAQ,SACRC,SAAU,WACVC,MAAO,SCNT,SAASC,WAAWjR,GAClB,GAAIA,EAAOkR,QAAS,CAClBlR,EAAOkR,QAAQC,OAAS,GACxB,IAAIA,EAASnR,EAAOkR,QAAQC,OAC5BnR,EAAOoR,GAAK,SAAShJ,EAAM4F,GAEzB,OADAmD,EAAOrO,KAAK,CAAEsF,OAAM4F,OACbhO,GAETA,EAAOqR,IAAM,SAASjJ,EAAM4F,GAC1B,IAAK,IAAItQ,EAAI,EAAGA,EAAIyT,EAAOjR,OAAQxC,IACjC,QAAWsH,IAAPgJ,EACFmD,EAAS,OACJ,CACL,IAAIG,EAAWH,EAAOzT,GAClB4T,EAASlJ,OAASA,GAAQkJ,EAAStD,KAAOA,IAC5CmD,EAAOI,OAAO7T,EAAG,GACjBA,KAIN,OAAOsC,GAETA,EAAOwR,KAAO,SAASpJ,EAAM4F,GAK3B,OAAOhO,EAAOoR,GAAGhJ,GAJA,WAAkB,2BAANvC,EAAM,yBAANA,EAAM,gBACjCR,GAAGjF,MAAMJ,EAAQ6F,GACjBlF,KAAK0Q,IAAIjJ,EAAM4F,OAInBhO,EAAOyR,cAAgB,SAASrJ,EAAMsJ,GAMpC,OALAP,EAAOtI,SAAQ,SAAA8I,GACTA,EAAKvJ,OAASA,GAChBuJ,EAAK3D,GAAGnQ,KAAKmC,EAAQ,CAAEoI,OAAMsJ,cAG1B1R,I,ICqCE4R,E,YArEb,cAAYC,EAAMH,EAAQI,GAAS,6BACjC,kCACKZ,QAAU9S,OAAOY,OAAO,MAC7B,EAAKkS,QAAQ5C,MAAQA,EAAK,QAC1B,EAAK4C,QAAQa,SAAM/M,EACnB,EAAKkM,QAAQc,SAAMhN,EACnB,EAAKkM,QAAQQ,OAASA,EACtB,EAAKR,QAAQW,KAAOA,EACpB,EAAKX,QAAQe,SAAW,CAACH,GACzB,EAAKI,iBAAmBJ,EAAQK,gBAChClB,WAAW,QAVsB,E,4DAajC,OAAO5Q,KAAK6Q,QAAQe,W,2BAGpB,OAAa5R,KAAK6Q,QAAQW,O,4BAG1B,OAAOxR,KAAK6Q,QAAQW,KAAKxR,KAAK6Q,QAAQQ,OAAb,S,uCAGzB,MAAwC,mBAA1BrR,KAAK6R,iBACf7R,KAAK6R,iBAAiB7R,KAAK6Q,QAAQW,KAAKxR,KAAK6Q,QAAQQ,OAAb,QACxCrR,KAAK6Q,QAAQW,KAAKxR,KAAK6Q,QAAQQ,OAAb,S,2BAGtB,OAAOrR,KAAK6Q,QAAQW,KAAKxR,KAAK6Q,QAAQQ,OAAb,Q,wBAEnBU,QACmBpN,IAArB3E,KAAK6Q,QAAQa,MACf1R,KAAK6Q,QAAQa,IAAMK,I,eAIrB,OAAO/R,KAAK6Q,QAAQa,M,wBAEdK,QACmBpN,IAArB3E,KAAK6Q,QAAQc,MACf3R,KAAK6Q,QAAQc,IAAMI,I,eAIrB,OAAO/R,KAAK6Q,QAAQc,M,6BAGpB,OAAO3R,KAAK6Q,QAAQQ,S,4BAGpB,OAAOrR,KAAK6Q,QAAQ5C,O,aAEZrQ,GAAM,WACVqQ,EAAMrQ,IAASoC,KAAK6Q,QAAQ5C,QAAUA,EAAMrQ,KAC9CoC,KAAK6Q,QAAQ5C,MAAQA,EAAMrQ,GAC3BoC,KAAKoR,cAAc,SAAU,CAC3BxT,KAAM,OACNU,MAAO2P,EAAMrQ,GACb4T,KAAMxR,OAERA,KAAK4R,SAASpJ,SAAQ,SAACiJ,GACrBA,EAAQL,cAAc,SAAU,CAC9BxT,KAAM,OACNU,MAAO2P,EAAMrQ,GACb4T,KAAM,Y,UAhEGzT,SCAbiU,E,YACJ,cAAYpU,EAAMyT,GAAQ,6BACxB,kCACKR,QAAU9S,OAAOY,OAAO,MAC7B,EAAKkS,QAAQoB,OAASrU,EACtB,EAAKiT,QAAQqB,SAAWb,EACxB,EAAKR,QAAQY,QAAU,KACvBb,WAAW,QANa,E,wDASxB,IAAI/O,EAAM,GAIV,OAHA7B,KAAKwI,SAAQ,SAAA2J,GACXtQ,EAAIY,KAAK0P,EAAKX,SAET3P,I,4BAEGA,GACV7B,KAAK6Q,QAAQY,QAAU5P,G,eAGvB,OAAO7B,KAAK6Q,QAAQY,U,2BAGpB,OAAOzR,KAAK6Q,QAAQoB,S,6BAGpB,OAAOjS,KAAK6Q,QAAQqB,W,4BAKpB,IADA,IAAIE,EAAMpS,KAAK,GAAGiO,MACT5Q,EAAI,EAAGA,EAAI2C,KAAKH,OAAQxC,IAC/B,GAAI2C,KAAK3C,GAAG4Q,QAAUmE,EAAK,CACzBA,EAAM,QACN,MAGJ,OAAOA,G,aAECxU,GACR,GAAIqQ,EAAMrQ,IAASoC,KAAKiO,QAAUA,EAAMrQ,GAAO,CAE7CoC,KAAKwI,SAAQ,SAAA2J,GAEQ,aAAfA,EAAKlE,OAAiC,YAATrQ,IAGjCuU,EAAKlE,MAAQA,EAAMrQ,OAErB,IAAIyU,EAAiB,KACjBrS,gBAAgBsS,EAClBD,EAAiB,CAAEzU,KAAM,MAAOU,MAAO2P,EAAMrQ,GAAO4T,KAAMxR,MACjDA,gBAAgBuS,IACzBF,EAAiB,CAAEzU,KAAM,MAAOU,MAAO2P,EAAMrQ,GAAO4T,KAAMxR,OAE5DA,KAAKoR,cAAc,SAAUiB,GAC7BrS,KAAKyR,SAAWzR,KAAKyR,QAAQL,cAAc,SAAUiB,Q,UAxDxC3M,QA4Db4M,E,gHAAYN,GACZO,E,gHAAYP,GC8GHQ,IC5KAA,E,YDGb,iBAAYhB,EAAMH,GAAQ,yBACxB,qCACKS,gBAAkB,EAAKW,kBAAkBpB,EAAOqB,aACrDlB,EAAKhJ,SAAQ,SAAC8I,EAAMjU,GAClB,IAAI8U,EAAOb,EACLA,aAAgBC,EAGpBY,EAAKP,SAASnP,KAAd,QAFA0P,EAAO,IAAIZ,EAAKD,EAAMD,EAAf,QAIT,EAAKhU,GAAK8U,KAEZ,EAAKtB,QAAU9S,OAAOY,OAAO,MAC7B,IAAIgU,EAAQ,EAAK9B,QAbO,OAcxB8B,EAAMT,SAAWb,EACjBsB,EAAMC,OAAS,GACfD,EAAME,OAAS,GACfF,EAAME,OAiHV,WAAuC,IAAnBrB,EAAmB,uDAAZ,GAAIH,EAAQ,uCAC1BzS,EAAcyS,EAAnBK,IAAUoB,EAASzB,EAATyB,KACZC,EAAS,GACb,GAAY,MAARnU,EAAa,CACf,IAAIoU,EAAO,IAAIV,EAAI,IAAKjB,GACxBG,EAAKhJ,SAAQ,SAAA8I,GACX0B,EAAKvQ,KAAK6O,MAERwB,GACFE,EAAKF,MAAK,SAACrN,EAAGuF,GAAJ,OAAU8H,EAAKrN,EAAE+L,KAAMxG,EAAEwG,SAErCuB,EAAOtQ,KAAKuQ,OACP,CACL,IAAIvM,EAAO1I,OAAOY,OAAO,MAQzB,IAAK,IAAIC,KAPT4S,EAAKhJ,SAAQ,SAAA8I,GACX,IAAIE,EAAOF,EAAKT,QAAQW,KACnB/K,EAAK+K,EAAK5S,MACb6H,EAAK+K,EAAK5S,IAAQ,IAAI0T,EAAId,EAAK5S,GAAMyS,IAEvC5K,EAAK+K,EAAK5S,IAAM6D,KAAK6O,MAEP7K,EAAM,CACpB,IAAIwM,EAASxM,EAAK7H,GACdkU,GACFG,EAAOH,MAAK,SAACrN,EAAGuF,GAAJ,OAAU8H,EAAKrN,EAAE+L,KAAMxG,EAAEwG,SAEvCuB,EAAOtQ,KAAKwQ,IAUhB,OAPAF,EAAOvK,SAAQ,SAACwK,EAAMvV,GACpBuV,EAAKvB,QAAUD,EACfwB,EAAKxK,SAAQ,SAAC2J,EAAMrT,GAClBqT,EAAKT,IAAMjU,EACX0U,EAAKR,IAAM7S,QAGRiU,EArJUG,CAAW,OAAM7B,GAChCT,WAAW,QAlBa,E,sEA4CI,IAAnB3C,EAAmB,uDAAX,UACb3L,EAAM,GACVtC,KAAKwI,SAAQ,SAAA2J,GAEPA,EAAKlE,QAAUA,GAAwB,aAAfkE,EAAKlE,QAC/B3L,EAAIG,KAAK0P,GACTA,EAAKlE,MAAQA,MAGjBjO,KAAKoR,cAAc,SAAU,CAAExT,KAAM,QAAS4T,KAAMlP,M,iCAE3C1E,GACT,IAAIuV,EAASnT,KAAKqR,OAAOK,IACrB7P,EAAM,GAMV,OALA7B,KAAKwI,SAAQ,SAAA8I,IAC8B,IAArC1T,EAAK+E,QAAQ2O,EAAKE,KAAK2B,KACzBtR,EAAIY,KAAK6O,MAGN,IAAIkB,QAAQ3Q,EAAK7B,KAAKqR,U,6BAExB+B,GACLpT,KAAK6Q,QAAQ+B,OAAOnQ,KAAK2Q,K,wCAETV,GAChB,GAA2B,iBAAhBA,EAA0B,CACnC,IAAIW,EAASX,EAAYY,QAAQ,OAAQ,IACrCC,EAAM,EACV,GAAe,SAAXF,GAAgC,QAAXA,GAA+B,QAAXA,EAE3C,OADA7F,QAAQgG,KAAK,0BACN,SAAUlV,GACf,OAAOA,GAIX,IAAIyM,EAAS2H,EAAYY,QAAQ,UAAW,IAC5C,GAAIvI,EAAQ,CAEV,IADe,aAAanI,KAAKmI,GAG/B,OADAyC,QAAQgG,KAAK,0BACN,SAAUlV,GACf,OAAOA,GAGTiV,EAAMhQ,OAAOwH,GAIjB,OAAQsI,GACN,IAAK,OAIH,OAHArT,KAAKyT,eAAiB,SAAUnV,GAC9B,OAAOmJ,KAAKqC,IAAIxL,EAAOiV,IAElB,SAAUjV,GACf,OAAOmJ,KAAKqC,IAAIxL,EAAO,EAAIiV,IAE/B,IAAK,MAIH,OAHAvT,KAAKyT,eAAiB,SAAUnV,GAC9B,OAAOmJ,KAAKqC,IAAIxL,EAAO,EAAIiV,IAEtB,SAAUjV,GACf,OAAOmJ,KAAKqC,IAAIxL,EAAOiV,IAE3B,IAAK,MACH,OAAY,IAARA,GAAqB,KAARA,GACf/F,QAAQgG,KAAK,0BACN,SAAUlV,GACf,OAAOA,KAGX0B,KAAKyT,eAAiB,SAAUnV,GAC9B,OAAOmJ,KAAKqC,IAAIyJ,EAAKjV,IAEhB,SAAUA,GACf,OAAOmJ,KAAK,MAAQ8L,GAAKjV,KAE7B,QAEE,OADAkP,QAAQgG,KAAK,0BACN,SAAUlV,GACf,OAAOA,IAIf,OAAOoU,I,6BA1GP,OAAO1S,KAAK6Q,QAAQqB,W,2BAEX,WACLwB,EAAO,GACPC,EAAS,EACb3T,KAAK6Q,QAAQgC,OAAOrK,SAAQ,SAAAkJ,GACtBA,EAAI7R,OAAS8T,IACfA,EAASjC,EAAI7R,WAGjB,IARS,mBAQAxC,GACP,IAAIwE,EAAM,IAAI0Q,EACd1Q,EAAI4P,QAAU,EACd,EAAKZ,QAAQgC,OAAOrK,SAAQ,SAAA8I,GAC1BzP,EAAIY,KAAK6O,EAAKjU,OAEhBqW,EAAKjR,KAAKZ,IANHxE,EAAI,EAAGA,EAAIsW,EAAQtW,IAAK,MAAxBA,GAQT,OAAOqW,I,2BAGP,OAAO1T,KAAK6Q,QAAQgC,W,aA3CFnN,Q,wEEHhBkO,EACU,eADVA,EAEK,UAFLA,EAGU,eAHVA,EAIM,WAJNA,EAKU,eALVA,EAMK,UCNX,SAASC,mBAAmBrO,GAE1B,IAAIlD,EAAMkD,EAAK,GACf,GAAIA,EAAK3F,OAAS,EAChB,IAAK,IAAIxC,EAAI,EAAGA,EAAImI,EAAK3F,OAAQxC,IAC/ByW,YAAYxR,EAAKkD,EAAKnI,IAG1B,OAAOiF,EACP,SAASwR,YAAYC,EAAUC,GAC7B,IAAK,IAAIpV,KAAOoV,EACVD,EAASnV,IAAkC,WAA1BqV,OAAOF,EAASnV,KAAiD,WAA3BqV,OAAOD,EAAUpV,IAE1EiV,gBAAgBE,EAASnV,GAAMoV,EAAUpV,IAChCmV,EAASnV,IAAkC,UAA1BqV,OAAOF,EAASnV,KAAgD,UAA3BqV,OAAOD,EAAUpV,IAEhFmV,EAASnV,GAAKsS,OAAO,EAAG6C,EAASnV,GAAKiB,UAAWmU,EAAUpV,IAE3DmV,EAASnV,GAAOoV,EAAUpV,GAG9B,OAAOmV,GAIX,SAASG,cAEP,OAAOnW,OAAOY,OAAO,MAGvB,SAASsV,OAAO3V,GAEd,MAAMuE,SAAavE,EACnB,MAAY,WAARuE,EACe,OAAVvE,EAAiB,KAAOP,OAAOkB,UAAU6D,SAAStF,KAAKc,GAAOyE,MAAM,GAAI,GAAGC,cAE7EH,EAGT,SAASsR,SAASnP,EAAIoP,EAAW,GAAIC,GAAc,GAEjD,IAAIzH,EAAQ,KACR0H,EAAYD,EAChB,OAAO,YAAa7O,GAClB,GAAI8O,EAGF,OADAtP,EAAGjF,MAAMC,KAAMwF,GACP8O,GAAY,EAElB1H,IAIJA,EAAQxJ,WAAW,KACjBC,aAAauJ,GACbA,EAAQ,KACR5H,EAAGjF,MAAMC,KAAMwF,IACd4O,KAuBP,SAASG,cAAcxC,EAAKyC,GAC1B,MAAoB,WAAhBP,OAAOlC,IAAqBA,EAAIzO,MAAM,MAChCC,OAAOwO,EAAIvO,UAAU,EAAGuO,EAAIpP,QAAQ,OAAS,IAAO6R,EAEvDzC,E,2mBClFT,I,IC8Oe0C,G,YAzOb,cAAY3N,GAAO,MHGN4N,EGHM,gBACjB,kCACKtD,cAAcwC,IHCRc,EGAL,QHCE3D,GAAK2D,EAAU7G,iBACzB6G,EAAU1D,IAAM0D,EAAUC,oBAC1BD,EAAUvD,KAAO,SAASpJ,EAAM/C,GAAI,WAKlC,OAAOhF,KAAK+Q,GAAGhJ,GAJE,SAAX6M,WAAwB,2BAATpP,EAAS,yBAATA,EAAS,gBAC5BR,EAAGjF,MAAM,EAAMyF,GACf,EAAKwL,IAAIjJ,EAAM6M,cGLjB,UAAkBV,cAClB,IAAIvB,EAAQ,UACZA,EAAMkC,QAAUX,cAChBvB,EAAMmC,UAAY,KAClBnC,EAAMoC,eAAgB,EACtBpC,EAAMqC,OAASd,cACfvB,EAAMlB,QAAU,KAEhB,IAAMwD,EAAexR,cAAa,CAAEyR,MAAO,WAAc,GAZxC,OAajB,EAAK/G,KAAL,+BAAerH,GAAUmO,IACzB,EAAKE,SAAWhB,UAAS,SAAC3O,GACpBmN,EAAMoC,eACR,EAAKK,OAAO5P,MAhBC,E,0DA+EZgM,EAAM6D,GAAS,WAChB1C,EAAQ3S,KAAA,QACZ,GAAMwR,aAAgBgB,EAOpBG,EAAMlB,QAAUD,MAPc,CAC9B,IAAI8D,EAAOD,EACP1C,EAAMlB,UACR6D,EAAOzB,gBAAgB,GAAIlB,EAAMlB,QAAQJ,OAAQgE,IAEnD1C,EAAMlB,QAAU,IAAIe,EAAQhB,EAAM8D,GAWpC,OAPI3C,EAAMlB,SAAWkB,EAAMoC,gBACzBpC,EAAMlB,QAAQV,GAAG,UAAU,SAACwE,GAC1B,EAAKJ,SAAS,CAAEpN,KAAM,aAGxB/H,KAAKmV,SAAS,CAAEpN,KAAM,YAEjB/H,O,gCAEC,WAEJ2S,EAAQ3S,KAAA,QACZA,KAAKoR,cAAcwC,GACnBjB,EAAMmC,UAAY9U,KAAKwV,OAAOxV,KAAKyV,aAAa,CAAE1N,KAAM,YACxD,IAAMP,EAAUG,KAAK,KAAMgL,EAAMmC,WACjC9U,KAAKoR,cAAcwC,GACnBjE,MAAM9Q,KAAKmB,KAAX2P,CAAiB3P,KAAK4P,KAAO5P,KAAKkV,MAAO1N,EAAS,GAClDxH,KAAKoR,cAAcwC,GACnB5T,KAAK0V,WACL/C,EAAMoC,eAAgB,EACtB/U,KAAKyR,QAAQV,GAAG,UAAU,SAACwE,GACzB,EAAKJ,SAAS,CAAEpN,KAAM,e,qCAKxB,OAAO/H,KAAKwO,c,+BAGZhB,QAAQgG,KAAK,oC,qCAGb,OAAOxT,KAAKwO,c,6BAEPmH,GAEL,IAAIhD,EAAQ3S,KAAA,QACZA,KAAKoR,cAAcwC,GACnB,IAAI1L,EAAQlI,KAAKwV,OAAOxV,KAAK4V,aAAaD,IACpCnO,EAAUG,KAAKgL,EAAMmC,UAAW5M,GACtCyH,MAAM9Q,KAAKmB,KAAX2P,CAAiB3P,KAAK4P,KAAO5P,KAAKkV,MAAO1N,GACzCmL,EAAMmC,UAAY5M,EAClBlI,KAAKoR,cAAcwC,GACnB5T,KAAK6V,Y,uEAGOC,GAA4B,IAArBtU,EAAqB,uDAAf0S,cACzB,wDAAoB4B,EAAOtU,K,qCAG3B,OAAO0S,gB,sCAGP,OAAOA,gB,kCAyBP,MAtBY,CAEVzF,UAAW,CACTI,KAAK,EACLN,SAAU,IACVS,UAAU,EACVC,OAAQ,aAGV8G,WAAY,CACVC,KAAM,MACNC,IAAK,MACLC,MAAO,MACPC,OAAQ,MACRC,WAAOzR,EACP0R,YAAQ1R,GAGV2R,QAAS,EACTpB,MAAO,UACPqB,SAAU,U,2BAIT3Y,EAAM0O,GAET,IAAIqG,EAAQ3S,KAAA,QACZ,GAAqB,WAAjBiU,OAAOrW,GACT,IAAK,IAAIgB,KAAOhB,EACdoC,KAAKmO,KAAKvP,EAAKhB,EAAKgB,QAEjB,SAAa+F,IAAT/G,EAAoB,CAC7B,IAAI0E,EAAM4R,cACV,IAAK,IAAItV,KAAO+T,EAAMkC,QAEU,IAA1BjW,EAAI+D,QAAQ,YACdL,EAAI1D,GAAO+T,EAAMkC,QAAQjW,IAG7B,OAAO0D,EACF,QAAYqC,IAAR2H,EAET,OAAOqG,EAAMkC,QAAQjX,QACH+G,IAAT/G,IACT+U,EAAMkC,QAAQjX,GAAQ0O,EACtBqG,EAAMoC,eAAiB/U,KAAKmV,SAAS,CAAEpN,KAAM,a,6BAG1CuF,EAAKlF,GACVpI,KAAA,QAAgBgV,OAAO1H,GAAOlF,I,4BAG1BL,EAAMyO,GAAO,WAEjB,GAAqB,WAAjBvC,OAAOlM,GAET,IAAK,IAAInJ,KAAOmJ,EACd/H,KAAKwW,MAAM5X,EAAKmJ,EAAKnJ,QAElB,SAAa+F,IAAToD,QAAgCpD,IAAV6R,EAAqB,CAEpD,IAAMA,EAAQxW,KAAKmO,KAAK,SAAWpG,GACnC,OAAO,WACL,GAAsB,aAAlBkM,OAAOuC,GAAuB,4BADzBhR,EACyB,yBADzBA,EACyB,gBAChC,OAAOgR,EAAMzW,MAAM,EAAMyF,GAEzB,OAAOgR,GAGN,QAAa7R,IAAToD,QAAgCpD,IAAV6R,EAG/B,OADAxW,KAAKmO,KAAK,SAAWpG,EAAMyO,GACpBxW,KACF,QAAa2E,IAAToD,QAAgCpD,IAAV6R,EAAqB,CAEpD,IAAIlU,EAAM4R,cACNpN,EAAQ9G,KAAA,QAAgB6U,QAC5B,IAAK,IAAIjW,KAAOkI,EACd,GAA8B,IAA1BlI,EAAI+D,QAAQ,UAAiB,CAC/B,IAAI8T,EAAW7X,EAAI8X,OAAO,GAC1BpU,EAAImU,GAAYzW,KAAKwW,MAAMC,GAG/B,OAAOnU,M,4BAhNT,OAAOtC,KAAA,U,4BAEG,MAC6B6T,gBACrC,GACA7T,KAAK2W,YACL3W,KAAK4W,eACL5W,KAAK6W,MAAM/P,MACX9G,KAAKmO,QALM2I,EADH,EACJ5B,MADI,IACc6B,cADd,MACuB,EADvB,EAQV,OAAItT,cACKzD,KAAKgX,MAAM9B,MAAM4B,GAEnB9W,KAAKgX,MAAM9B,MAAM4B,GAAW3I,KAAK,CAAE4I,a,4BAG1C,OAAO/W,KAAA,QAAgBgV,S,mCAIvB,OADanB,gBAAgB,GAAI7T,KAAKiX,gBAAiBjX,KAAK6W,MAAMK,U,kCAKlE,IAAIpQ,EAAQ+M,gBAAgB,GAAI7T,KAAK2W,YAAa3W,KAAK4W,eAAgB5W,KAAK6W,MAAM/P,MAAO9G,KAAKmO,QACxFM,EAA0B3H,EAA1B2H,UAAWsH,EAAejP,EAAfiP,WAES,YAAtB9B,OAAOxF,KACTA,EAAY,CAAEI,MAAKJ,IAGrB,IAAM0I,EAAO1T,cAAazD,KAAKkV,MAAMkC,OAASpX,KAAKkV,MAAMkC,OAAOC,wBACxDjB,EAAkBe,EAAlBf,MAAOC,EAAWc,EAAXd,OAGf,IAAK,IAAIzX,KAAOmX,GACmC,IAA7C,CAAC,OAAQ,QAAS,SAASpT,QAAQ/D,GACrCmX,EAAWnX,GAAO2V,cAAcwB,EAAWnX,GAAMwX,IACM,IAA9C,CAAC,MAAO,SAAU,UAAUzT,QAAQ/D,KAC7CmX,EAAWnX,GAAO2V,cAAcwB,EAAWnX,GAAMyX,IAcrD,YAXyB1R,IAArBoR,EAAWK,MACbL,EAAWK,MAAQA,EAAQL,EAAWC,KAAOD,EAAWG,MAExDH,EAAWG,MAAQE,EAAQL,EAAWC,KAAOD,EAAWK,WAEhCzR,IAAtBoR,EAAWM,OACbN,EAAWM,OAASA,EAASN,EAAWE,IAAMF,EAAWI,OAEzDJ,EAAWI,OAASE,EAASN,EAAWE,IAAMF,EAAWM,OAE3DvP,EAAMwQ,OAAStX,KAAK6W,MAAMS,OACnBxQ,I,8BAGP,OAAO9G,KAAA,QAAgByR,SAAYzR,KAAKuX,OAASvX,KAAKuX,MAAM9F,Y,MA9E7C+F,QDLbF,GAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACxNja,GAAI,EAAGA,GAAI,KAAMA,KAExBia,GAAO7U,KAAK,KAAO,SAA4B,SAAhBgF,KAAKgQ,UAAyB,GAAG3U,SAAS,KAAK4T,QAAQ,IAExF,IAAMG,GAAQ,CACZS,WAEFT,GAAMa,QAAU,CACdC,KAAM,CACJL,OAAQT,GAAMS,OACdJ,OAAQ,CACNU,KAAM,CAAEC,UAAW,GACnBC,UAAW,CAAEC,YAAa,QAC1BC,MAAO,CACLC,UAAW,UACXC,QAAS,EACTC,QAAS,EACTJ,YAAa,OACbK,YAAa,IAGjBtR,MAAO,CACLuR,QAAQ,IAGZC,IAAK,CACHhB,OAAQT,GAAMS,OACdJ,OAAQ,CACNqB,OAAQ,CAAEV,UAAW,EAAGE,YAAa,QACrCS,UAAW,GACXV,UAAW,IAEbhR,MAAO,IAET2R,KAAM,CACJnB,OAAQT,GAAMS,OACdJ,OAAQ,CACNwB,KAAM,CAAEpC,QAAS,IACjBwB,UAAW,CAAEC,YAAa,QAC1BC,MAAO,CACLC,UAAW,UACXC,QAAS,EACTC,QAAS,EACTJ,YAAa,OACbK,YAAa,IAGjBtR,MAAO,IAET6R,MAAO,CACLrB,OAAQT,GAAMS,OACdJ,OAAQ,CACNwB,KAAM,CAAEpC,QAAS,KAEnBxP,MAAO,IAET8R,IAAK,CACHtB,OAAQT,GAAMS,OACdJ,OAAQ,CACN2B,IAAK,CAAEC,eAAe,GACtBC,SAAU,CAAEzC,QAAS,IACrB0C,MAAM,GAERlS,MAAO,CACLuR,QAAQ,IAGZY,SAAU,CACR3B,OAAQT,GAAMS,OACdJ,OAAQ,CACN2B,IAAK,IAEP/R,MAAO,CACLuR,QAAQ,IAGZa,OAAQ,CACN5B,OAAQT,GAAMS,OACdJ,OAAQ,CACNiC,QAAS,IAEXrS,MAAO,CACLuR,QAAQ,IAGZe,QAAS,CACP9B,OAAQT,GAAMS,OACdJ,OAAQ,CACNc,MAAO,IAETlR,MAAO,CACLuS,eAAe,IAGnBC,KAAM,CACJhC,OAAQT,GAAMS,OACdJ,OAAQ,CACNqC,KAAM,CAAEC,UAAW,OAAQzB,YAAa,OAAQF,UAAW,GAC3DmB,KAAM,CAAEQ,UAAW,OAAQC,SAAU,IACrCC,MAAO,CAAEF,UAAW,UAAW3B,UAAW,EAAGE,YAAa,YAE5DjR,MAAO,IAET6S,MAAO,CACLrC,OAAQT,GAAMS,OACdxQ,MAAO,IAET8S,UAAW,CACTtC,OAAQT,GAAMS,OACdxQ,MAAO,KAGX+P,GAAMgD,QAAU,CACdC,QAAS,CACPxC,OAAQT,GAAMS,OACdJ,OAAQ,GACRpQ,MAAO,IAETiT,OAAQ,CACNzC,OAAQT,GAAMS,OACdJ,OAAQ,CACNc,MAAO,CACLC,UAAW,SACX+B,SAAU,CAAC,GAAI,IACfC,aAAc,IAEhBjB,KAAM,CACJS,SAAU,OACVD,UAAW,SAGf1S,MAAO,IAEToT,KAAM,CACJ5C,OAAQT,GAAMS,OACdJ,OAAQ,CACNiD,KAAM,CACJpC,YAAa,OACbF,UAAW,GAEbuC,MAAO,CACLC,QAAS,QAEXC,MAAO,CACLb,SAAU,GACVD,UAAW,QAEbe,KAAM,CACJxC,YAAa,OACbyC,SAAU,CAAC,EAAG,IAEhB5c,KAAM,CACJ6b,SAAU,GACVD,UAAW,SAGf1S,MAAO,CACL2T,OAAQ,YAId5D,GAAMhS,IAAM,SAASrD,GAEnBqS,gBAAgBgD,GAAOrV,IAEVqV,UEnKM6D,G,YACnB,oBAAY5T,GAAO,mCACjB,qCAAMA,KACD+P,MAAQA,GAAMa,QAAQ,EAAKjX,YAAY7C,MAE5C,EAAKiZ,MAAMhS,IAAM,SAAArD,GACX,EAAKqV,QAAUA,GAAMa,QAAQ,EAAKjX,YAAY7C,QAChD,EAAKiZ,MAAQ1U,IAAY,EAAK0U,QAEhC,EAAKA,MAAQhD,gBAAgB,EAAKgD,MAAOrV,IAR1B,E,qCADmBiT,I,oBCIjC,SAASkG,SAASpD,EAAO3Y,EAAKgc,EAAcpV,GAEjD,IAAIqV,EAASD,EACTE,EAAWF,EACXG,EAAQvV,EACiB,UAAzByO,OAAO2G,GAETC,EAAShH,gBAAgBrW,KAAhB,MAAAqW,gBAAe,CAAM7T,KAAM,IAAZ,YAAmB4a,KAE3CE,EAAW,CAACF,GAEO,UAAjB3G,OAAOzO,KACTuV,EAAQ,CAACvV,IAEX,IAAIwV,EAAWzD,EAAMf,MAAM5X,GAAZ,cAAiBic,GAAjB,YAA4BE,KAC3C,IAAiB,IAAbC,EACF,OAAO,EACF,GAAIF,EAASG,UAAS,SAAuBtW,IAAbqW,EACrC,OAAO,EACF,QAAiBrW,IAAbqW,EAAwB,CAEjC,IAAIE,EAAWN,EACc,UAAzB3G,OAAO2G,KACTM,EAAW,CAACN,IAIdC,EAAShH,gBAAgB,GADL0D,EAAMN,gBAAgBrY,GACEsc,EAAShU,OAAOC,SAAS,GAAI0T,GAG3E,OADehH,gBAAgB,GAAIgH,EAAQG,GCrC7C,SAASG,cACP,IAAIC,EAAS,CAAC,EAAG,GACbC,EAAQ,CAAC,EAAG,GAChB,SAASjB,MAAMrI,GACb,IAAIuJ,EAAYF,EAAO,GAAKA,EAAO,GAC/BG,EAAWF,EAAM,GAAKA,EAAM,GAC5BG,GAAOzJ,EAAMqJ,EAAO,IAAME,GAAa,EAC3C,OAAOD,EAAM,GAAKE,EAAWC,EAU/B,OARApB,MAAMgB,OAAS,SAASvZ,GAEtB,OADAuZ,EAASvZ,EACF7B,MAEToa,MAAMiB,MAAQ,SAASxZ,GAErB,OADAwZ,EAAQxZ,EACD7B,MAEFoa,MChBF,SAASD,UAAKhM,GAEnB,IAAKzI,MAAMC,QAAQwI,EAAKsN,WAAatN,EAAKjP,eAAe,WACvD,MAAO,GAET,QAAqByF,IAAjBwJ,EAAKuN,QACP,OAuJJ,SAAqBA,GACnB,GAAIA,GAAWhW,MAAMC,QAAQ+V,GAAU,CACrC,IAAMC,EAAMD,EAAQ,GAAKA,EAAQ,GAC3B7Z,EAAM,GACR+Z,EAAS,EACb/Z,EAAIY,KAAKiZ,EAAQ,IACjB,IAAK,IAAIre,EAAI,EAAGA,EAAI,EAAGA,IACrB,GAAIse,EAAMte,GAAM,EAAG,CACjBue,EAASve,EACT,MAGJ,IAAK,IAAIqF,EAAI,EAAGA,GAAKkZ,EAAQlZ,IAC3Bb,EAAIY,MAAMiZ,EAAQ,GAAMC,EAAMjZ,EAAKkZ,GAAQC,QAAQ,IAErD,OAAOha,EAET,MAAO,GAxKEia,CAAY3N,EAAKuN,SAE1B,IAAMlK,EAgHR,SAAoBrD,GAClB,IAAM4N,EAAQ5N,EAAK4N,QAAS,EACtBvK,EAAOrD,EAAKsN,SAAW,GACvB5Z,EAAM,GAEZ,GAAIka,GAAyB,IAAhBvK,EAAK3R,QAAgB2R,EAAK,GAAG3R,OACxC,IAAK,IAAIxC,EAAI,EAAGmF,EAAMgP,EAAK,GAAG3R,OAAQxC,EAAImF,EAAKnF,IAAK,CAGlD,IAFA,IAAI2e,EAAM,EACNC,EAAU,EACLvZ,EAAI,EAAGwZ,EAAO1K,EAAK3R,OAAQ6C,EAAIwZ,EAAMxZ,IAAK,CACjD,IAAI4J,EAAMkF,EAAK9O,GAAGrF,GAAG8e,kBACO,IAAxB3K,EAAK9O,GAAGrF,GAAGqT,eAA6B/L,IAAR2H,IAGhCA,EAAM,EACR2P,GAAoB3P,EAEpB0P,GAAY1P,GAGhB0P,GAAOna,EAAIY,KAAKuZ,GAChBC,GAAWpa,EAAIY,KAAKwZ,QAGtB,IAAK,IAAIxe,EAAI,EAAGA,EAAI+T,EAAK3R,OAAQpC,IAC/B,IAAK,IAAIqB,EAAI,EAAGA,EAAI0S,EAAK/T,GAAGoC,OAAQf,IAAK,CACvC,IAAIwN,EAAMkF,EAAK/T,GAAGqB,GAAGqd,kBACO,IAAxB3K,EAAK/T,GAAGqB,GAAG4R,eAA6B/L,IAAR2H,GAGpCzK,EAAIY,KAAK6J,GAIf,OAAOzK,EAlJMua,CAAWjO,GACpBkO,EAAS,GACTC,EAAW,GAVU,uBAWzB,YAAsB9K,EAAtB,+CAA4B,KAAjB+K,EAAiB,QACtBA,EAAU,EACZD,EAAS7Z,KAAKgF,KAAK+U,IAAID,IAEvBF,EAAO5Z,KAAK8Z,IAfS,kFAkBzB,IAAI1c,EAAS,EACT4c,EAAaJ,EAAOvJ,MAAK,SAACrN,EAAGuF,GAC/B,OAAOvF,EAAIuF,KAET0R,EAAeJ,EAASxJ,MAAK,SAACrN,EAAGuF,GACnC,OAAOvF,EAAIuF,KAET2R,EAAYF,EAAW5c,QAAU4H,KAAKmV,KAAKH,EAAWI,MAAQ,KAC9DC,EAAcJ,EAAa7c,QAAU4H,KAAKmV,KAAKF,EAAaG,MAAQ,KACpEE,EAAWJ,EAAYG,GAAe,EAAIH,EAAYG,EACtDE,EAAS,EACTC,EAAS,EACTH,GAAeH,IACjBK,EAAS,EACTC,EAAS,GAEP9O,EAAK+O,cAEPD,GADAD,EAAS7O,EAAK+O,aACI,GAEpB,IAAIC,GAAS,EACP3a,EAAMua,EAASja,WAAWjD,OAC5B6H,EACFlF,EAAM,EACFiF,KAAKmV,KAAKG,EAAWtV,KAAKqC,IAAI,GAAItH,EAAM,IACxCiF,KAAKmV,KAAKG,EAAWtV,KAAKqC,IAAI,GAAItH,EAAM,IAC9C,EAAG,CACD,IAAK,IAAInF,EAAI2f,EAAQ3f,EAAI4f,EAAQ5f,IAC/B,GAAIqK,EAAMrK,GAAM,EAAG,CACjBwC,EAASxC,EACT0f,EACEva,EAAM,EAAIkF,EAAMD,KAAKqC,IAAI,GAAItH,EAAM,GAAKkF,EAAMD,KAAKqC,IAAI,GAAItH,EAAM,GACnE2a,GAAS,EACT,MAGJzV,WACQyV,GAEV,IAAIC,EAAY,IAAI1X,MAAM7F,EAAS,GACnCud,EAAU,GAAK,EACf,IAAK,IAAI/f,EAAI,EAAGA,EAAIwC,EAAS,EAAGxC,IAC9B+f,EAAU/f,GACRsf,GAAaG,EACTrV,KAAK4V,MAAON,EAAWld,EAAUxC,IAChC,EAAIoK,KAAK4V,MAAON,EAAWld,EAAUxC,GAI9C,GACGyf,GAAe,GAAKA,EAAc,GAClCH,GAAa,GAAKA,EAAY,GAChB,IAAdA,GAAmC,IAAhBG,EACpB,EACAM,EAAY,IAAI1X,MAAM,IACZ,GAAK,EACfqX,EAAW,EACX,IAAK,IAAI1f,EAAI,EAAGA,EAAI,EAAGA,IACrB+f,EAAU/f,GACRsf,GAAaG,EACR,EAAIC,EAAW1f,EAAK,IACnB,EAAI0f,EAAW1f,EAAK,GAOhC,GAHIsf,EAAYG,GACdM,EAAUE,UAEe,IAAvBR,EAAYjd,QAAqC,IAArB8c,EAAU9c,OACxC,OAAOud,EAET,GAAIT,GAAaG,EAEf,IADA,IAAMS,EAAsB,GAAfH,EAAU,GAEjB/f,EAAI,EACNmF,EAAMiF,KAAKmV,MAAOQ,EAAUvd,OAAS,GAAKid,EAAeH,GAC3Dtf,EAAImF,EAAM,EACVnF,IAEA+f,EAAUI,SAAU,EAAID,EAAOlgB,EAAK,SAItC,IADA,IAAMkgB,EAAyC,GAAlCH,EAAUA,EAAUvd,OAAS,GAEpCxC,EAAI,EACNmF,EAAMiF,KAAKmV,MAAOQ,EAAUvd,OAAS,GAAK8c,EAAaG,GACzDzf,EAAImF,EAAM,EACVnF,IAEA+f,EAAU3a,MAAO,EAAI8a,EAAOlgB,EAAK,IAUrC,OAAO+f,ECpHM,SAASK,OAAO5b,EAAKiF,GAClC,IAAIiB,EAAO/H,KAAK+H,KACZ2V,EAAQ,GACJ3B,EAA4CjV,EAA5CiV,MAAOmB,EAAqCpW,EAArCoW,YAAanH,EAAwBjP,EAAxBiP,WAAY4H,EAAY7W,EAAZ6W,QAChCvH,EAAkBL,EAAlBK,MAAOC,EAAWN,EAAXM,OACXuH,EAASzD,UAAK3c,KAAKwC,KAAM,CAAEyb,QAAS5Z,EAAKka,QAAOmB,gBAChDW,EAASpW,KAAKC,IAAI3H,MAAMC,KAAM4d,GAC9BE,EAASrW,KAAK2D,IAAIrL,MAAMC,KAAM4d,GAC9BG,EAAU5C,cACXC,OAAO,CAAC0C,EAAQD,IAChBxC,MAAM,CAAC,EAAGhF,IAET2H,EAAkB,GAuCtB,GAtCAnc,EAAI2G,SAAQ,SAAAkJ,GACV,IAAIkG,EAAO,CACTqG,OAAQ,GACRC,WAAY,GACZC,YAAa,GACblQ,MAAOyD,EAAIzD,OAEbyD,EAAIlJ,SAAQ,SAAC2J,EAAM9U,GACjB,IAAIiP,EAAM6F,EAAKgK,iBACf,QAAmBxX,IAAfwN,EAAK7T,MAAqB,CAE5B,IAAI8f,EAAKhI,GAAS1E,EAAI7R,OAAS,GAC3Bwe,EAAU,EACVV,IAEFU,GADAD,EAAKhI,EAAQ1E,EAAI7R,QACF,GAEjB,IAAIye,EAAS,CAACF,EAAK/gB,EAAIghB,EAAShI,EAAS0H,EAAQzR,IAC7CyP,GAASiC,EAAgBne,SAE3Bye,EAAS,CAACF,EAAK/gB,EAAIghB,EAAShI,EAAS0H,EAAQzR,EAAM0R,EAAgB3gB,MAErEua,EAAKqG,OAAOxb,KAAK6b,OAGrB1G,EAAK2G,WAAa,CAChB,CAAC3G,EAAKqG,OAAO,GAAG,GAAI5H,EAAS0H,EAAQ,IACrC,CAACnG,EAAKqG,OAAOrG,EAAKqG,OAAOpe,OAAS,GAAG,GAAIwW,EAAS0H,EAAQ,KAExDhC,GAAuB,aAAdrK,EAAIzD,QAIb+P,EAHGA,EAAgBne,OAGD6R,EAAInJ,KAAI,SAAC4J,EAAMhC,GAAP,OAAegC,EAAKgK,iBAAmB6B,EAAgB7N,MAF/DuB,EAAInJ,KAAI,SAAA4J,GAAI,OAAIA,EAAKgK,qBAK3CuB,EAAMjb,KAAKmV,MAEA,SAAT7P,EAAiB,CACnB,IAAIyW,EAAU,KACdd,EAAMlV,SAAQ,SAACoP,EAAMzH,GACnB,IAAIsO,EAAa,GACdxX,OAAO2Q,EAAKqG,QACZX,UACA/U,KAAI,SAAAyP,GAAK,MAAI,CAACA,EAAM,GAAI3B,MAC3B,GAAImI,GAAW1X,EAAMiV,MAAO,CAE1B,IADA,IAAI2C,EAAWF,EACNnhB,EAAI8S,EAAM,EAAG9S,GAAK,EAAGA,IAC5B,GAAuB,aAAnBqgB,EAAMrgB,GAAG4Q,MAAsB,CACjCyQ,EAAWhB,EAAMrgB,GACjB,MAGJohB,EAAa,GAAGxX,OAAOyX,EAAST,QAAQX,UAE1C,IAAIhb,EAUV,SAAwBqc,EAAaC,GACnC,IAAItc,EAAM,CACR4b,WAAY,GACZC,YAAa,IAUf,OARA7b,EAAI4b,WAAa,GACdjX,OAAO,CAAC0X,EAAY,KACpB1X,OAAO0X,GACP1X,OAAO,CAAC0X,EAAYA,EAAY9e,OAAS,KACzCoH,OAAO,CAAC2X,EAAU,KAClB3X,OAAO2X,GACP3X,OAAO,CAAC2X,EAAUA,EAAU/e,OAAS,KACxCyC,EAAI6b,YAAc,CAAC,EAAGQ,EAAY9e,OAAQ8e,EAAY9e,OAAS,EAAG8e,EAAY9e,OAAS+e,EAAU/e,OAAS,GACnGyC,EAvBOuc,CAAejH,EAAKqG,OAAQQ,GACtC7G,EAAKsG,WAAa5b,EAAI4b,WACtBtG,EAAKuG,YAAc7b,EAAI6b,YACJ,aAAfvG,EAAK3J,QACPuQ,EAAU5G,MAIhB,OAAO8F,E,8oBC3ET,IAAMoB,GAAW,CACfC,OAAQC,SACRC,KAAMC,OACNC,QAASC,UACTjI,KAAMkI,OACNC,SAAUC,WACVC,SAAUC,WACVC,QAASC,UACTC,KAAMC,QAuCOC,G,YApCb,iBAAwB,MAAZhZ,EAAY,uDAAJ,GAAI,wBACtB,mCACKmR,UAAY,KACjB,EAAK8H,QAAU,KACf,EAAK5R,KAAL,oBAAY8J,UAAW,WAAcnR,IAJf,E,0DAMnBlJ,EAAM0O,GACT,IAAIxF,EAAQlJ,EACS,WAAjBqW,OAAOrW,MACTkJ,EAAQ,IACFlJ,GAAQ0O,GAEhBtM,KAAKggB,aAAalZ,K,mCAEPA,GAAO,IACVmR,EAAkCnR,EAAlCmR,UAAWgI,EAAuBnZ,EAAvBmZ,IAAQC,EADT,KACwBpZ,EADxB,qBAGlB,GAAImR,GAAaA,IAAcjY,KAAKiY,UAAW,CAC7C,IAAKla,OAAO0I,KAAKqY,IAAU7D,SAAShD,GAClC,MAAM,IAAIlU,MAAJ,uHAC4GkU,IAGpHjY,KAAK+f,SAAW/f,KAAK+f,QAAQ9P,SAC7BjQ,KAAK+f,QAAU,IAAIjB,GAAS7G,GAAWiI,GACvClgB,KAAKmgB,OAAOngB,KAAK+f,cAEjB/f,KAAK+f,QAAQ5R,KAAK+R,GAEhBD,GAAOA,EAAIpgB,QACb,gDAAW,MAAOogB,GAGpBjgB,KAAKiY,UAAYA,M,OAlCDmI,SCwKLzI,G,YA9Kb,cAAY7Q,GAAO,6BACjB,+BAAMA,KACDuZ,YAAc,GACnB,EAAKtY,KAAO,OACZ,EAAKuY,YAAc,EAJF,E,kEAWJ,MAEetgB,KAAKugB,gBAA3BC,EAFO,EAEPA,UAAWC,EAFJ,EAEIA,OAUjB,OATYD,EAAUjY,KAAI,SAAA+I,GACxB,MAAO,CACL6M,YAAa7M,EAAK6M,YAClBuC,SAAU,CAAEzC,OAAQ3M,EAAK4M,YACzByC,OAAQ,CAAE1C,OAAQ3M,EAAK4M,YACvB3X,KAAM,CAAE0X,OAAQ3M,EAAK2M,OAAQzD,SAAU,CAAC,EAAGiG,IAC3C3R,GAAI,CAAEmP,OAAQ3M,EAAK2M,OAAQzD,SAAU,CAACiG,EAAQA,U,qCAKrC,MAEezgB,KAAKugB,gBAA3BC,EAFO,EAEPA,UAAWC,EAFJ,EAEIA,OACbJ,EAAcrgB,KAAKqgB,YAuBvB,OAtBYG,EAAUjY,KAAI,SAAC+I,EAAMjU,GAC/B,IAAIkJ,EAAO,CAAE0X,OAAQ3M,EAAK2M,QAO1B,OANIoC,EAAYhjB,KACdkJ,EAAO,CAAE0X,OAAQoC,EAAYhjB,GAAGyR,GAAGmP,SAEhCoC,EAAYhjB,IAA+B,aAAzBgjB,EAAYhjB,GAAG4Q,QACpC1H,EAAKiU,SAAW,CAAC,EAAGiG,IAEf,CACLxS,MAAOqD,EAAKrD,MACZkQ,YAAa7M,EAAK6M,YAClBuC,SAAWL,EAAYhjB,IAAMgjB,EAAYhjB,GAAGsjB,QAAWrP,EAAK4M,WAC5DyC,OAAQ,CACN1C,OAAQ3M,EAAK4M,YAEf3X,OACAuI,GAAI,CACFmP,OAAQ3M,EAAK2M,OACbzD,SAAU,CAACiG,EAAQA,U,sCAQzB,IAAIjS,EAAcxO,KAAKwO,YACnBoS,EAAa5gB,KAAKyR,QAAQjD,EAAY+H,UACtCiK,EAAY/C,OAAOjgB,KAAKwC,KAAM4gB,EAAYpS,GAJhC,EAKUA,EAAYuH,WAA9BM,EALQ,EAKRA,OAAQD,EALA,EAKAA,MAGd,MAAO,CAAEA,QAAOC,SAAQmK,YAAWC,OADe,EAArChZ,KAAKyC,KAALzC,KAAA,IAAU4O,EAAU,GAApB5O,KAAA,IAAuB2O,EAAS,O,yEAQ7C,MAAO,CACLyK,YAAa,GACb3L,MAAO,U,sCAKT,MAAO,K,qCAIMY,EAAO1N,GACpBpI,KAAKmO,KAAK,cAAe,IACzBnO,KAAKyR,QAAQqP,e,oCAEDhL,EAAO1N,GACnB,GAAIpI,KAAKqgB,YAAYxgB,OAAQ,CAO3B,IALA,IAAIkhB,EAAO/gB,KAAKqgB,YAAY,GAAGvR,GAAGmP,OAAO1V,KAAI,SAAA0X,GAAG,OAAIA,EAAI,MAF7B,EAIjB7X,EAAG4Y,kBAAkBlL,EAAMzK,EAAGyK,EAAMmL,GAAzC5V,EAJsB,YAKvB6V,EAAS,EAEJ7jB,EAAI,EAAGA,EAAI0jB,EAAKlhB,OAAQxC,IAC/B,GAAIgO,EAAI0V,EAAK1jB,IAAMgO,EAAI0V,EAAK1jB,EAAI,GAAI,CAClC6jB,EAASzZ,KAAK+U,IAAInR,EAAI0V,EAAK1jB,IAAMoK,KAAK+U,IAAInR,EAAI0V,EAAK1jB,EAAI,IAAMA,EAAIA,EAAI,EACrE,MAIJ,GAAI2C,KAAKsgB,aAAeY,EAAQ,CAC9BlhB,KAAKyR,QAAQqP,aAEb9gB,KAAKyR,QAAQiC,KAAKwN,GAAQjT,MAAQ,QAHJ,IAIxB8H,EAAe/V,KAAKwO,YAApBuH,WACFoL,EAAOJ,EAAKG,GAChBlhB,KAAKsgB,WAAaY,EAClBlhB,KAAKmO,KAAK,CACR0S,YAAa,CACX,CAACM,EAAM,GACP,CAACA,EAAMpL,EAAWM,SAEpB+K,UAAW,gB,6BAKZ1D,GAAO,IAgDElH,EAhDF,SAC8BxW,KAAKwO,YAAzCuH,EADM,EACNA,WAAYsL,EADN,EACMA,OAAQR,EADd,EACcA,YAEtB3J,EAASlX,KAAKshB,aAEdhK,EAAStX,KAAK6W,MAAMS,OAExB,OADAtX,KAAKqgB,YAAc3C,EAEjB,UAAC,QAAD,CAAO3G,OAAQ,EAAGwK,MAAM,YAAYtB,IAAK,CAAClK,EAAWC,KAAMD,EAAWE,KAAMuL,KAAM,CAACzL,EAAWK,MAAOL,EAAWM,QAASoL,aAAczhB,KAAK0hB,eAAgBC,aAAc3hB,KAAK4hB,cAAeC,YAAa7hB,KAAK4hB,eAC9M,UAAC,QAAD,CAAOL,MAAM,eACV7D,EAAMnV,KAAI,SAACqP,EAAMzH,GAChB,IAAIqG,EAAQmE,SAAS,EAAM,OAAQ,CAAC,CAAE5C,YAAaT,EAAOnH,GAAMkR,UAAUnK,EAAOU,MAAO,CAAC,EAAKnG,QAAQqQ,KAAK3R,GAAMA,IACjH,MAAsB,aAAfyH,EAAK3J,QAAkC,IAAVuI,EAAkB,UAAC,OAAD,MAAW,UAAC,WAAD,KAAUuL,QAAS,EAAKC,WAAexL,EAAvC,CAA8C/H,UAAW,CAAElI,KAAMqR,EAAKrR,KAAMuI,GAAI8I,EAAK9I,WAG1J,UAAC,QAAD,CAAOyS,MAAM,eACI,SAAdvhB,KAAK+H,KACF,KACA2V,EAAMnV,KAAI,SAACqP,EAAMzH,GACf,IAAIqG,EAAQmE,SAAS,EAAM,OAAQ,CAAC,CAAEnB,UAAWlC,EAAOnH,GAAMkR,UAAUnK,EAAOwB,MAAO,CAAC,EAAKjH,QAAQqQ,KAAK3R,GAAMA,IAC/G,MAAsB,aAAfyH,EAAK3J,QAAkC,IAAVuI,EAAkB,UAAC,OAAD,MAAW,UAAC,WAAD,KAAU2H,YAAavG,EAAKuG,aAAiB3H,EAA7C,CAAoD/H,UAAW,CAAElI,KAAMqR,EAAK8I,SAAU5R,GAAI8I,EAAK+I,eAGxK,UAAC,QAAD,CAAOY,MAAM,eACV7D,EAAMnV,KAAI,SAACqP,EAAMzH,GAChB,MAAsB,aAAfyH,EAAK3J,MACV,UAAC,OAAD,MAEA,UAAC,QAAD,KACG2J,EAAK9I,GAAGmP,OAAO1V,KAAI,SAACpJ,EAAGuD,GACtB,IAAM+L,EAAY,CAChBlI,KAAM,CAAE0Z,IAAKrI,EAAKrR,KAAK0X,OAAOvb,IAC9BoM,GAAI,CAAEmR,IAAK9gB,IAETqX,EAAQmE,SAAS,EAAM,QAAS,CAAC,CAAEnB,UAAWlC,EAAOnH,IAAQ+G,EAAOc,OAAQ,CAAC,EAAKvG,QAAQqQ,KAAK3R,GAAMA,EAAKzN,IAC1Guf,EAAatH,SAAS,EAAM,cAAe,CAACnE,EAAOU,EAAO,gBAAiB,CAAC,EAAKzF,QAAQqQ,KAAK3R,GAAMA,EAAKzN,IAI7G,MAHwC,UAApC,EAAK+O,QAAQqQ,KAAK3R,GAAKzN,GAAGuL,OAC5B4F,gBAAgB2C,EAAOyL,GAElB,UAAC,GAAD,OAAWzL,EAAX,CAAkB/H,UAAWA,aAM9C,UAAC,QAAD,CAAO8S,MAAM,oBACVV,EAAYhhB,QAGQ,KADb2W,EAAQmE,SAAS,EAAM,YAAazD,EAAOY,YACtB,UAAC,OAAD,MAAW,UAAC,WAAD,KAAUmG,OAAQ4C,GAAiBrK,IAGzE,UAAC,OAAD,U,kCA9JR,OADY,gD,MATG/B,ICNJ,SAASgJ,cAAO5b,EAAKiF,GAClC,IAAIob,EAAQ,GACRC,EAAStgB,EAAI0G,KAAI,SAAAmJ,GAAG,OAAIA,EAAI0Q,QAAO,SAAC9V,EAAKgF,GAAN,MAA8B,aAAdI,EAAIzD,MAAuB3B,EAAMgF,EAAKhT,MAAQgO,IAAM,MAEvG+V,EAAWF,EAAOC,QAAO,SAAC9V,EAAKgF,GAAN,OAAehF,EAAMgF,IAAM,IAAM,EACxDgR,EAAuCxb,EAAvCwb,WAAYC,EAA2Bzb,EAA3Byb,SAAUC,EAAiB1b,EAAjB0b,aACxBC,EAAWhb,KAAK2D,IAAIkX,EAAYC,GAChCG,EAAWjb,KAAKC,IAAI4a,EAAYC,GAChCG,EAAWD,EAAW,MACxBC,EAAWD,EAAW,KAExB,IAAIE,EAAaD,EAAWD,EAsB5B,OArBAN,EAAO3Z,SAAQ,SAACuJ,EAAK5B,GACnB,IACIyS,EADa7Q,EAAMsQ,EACKM,EAExBE,EAAY,CAAC,EAAG,GAEhBC,EAAS,CAAER,WAAYG,EAAUF,SAAUE,EAAWG,EAAUC,aACpE,GAAY,IAAR1S,EAAW,CACb,IAAI4S,EAAWb,EAAM/R,EAAM,GAC3B2S,EAAS,CAAER,WAAYS,EAASR,SAAUA,SAAUQ,EAASR,SAAWK,EAAUC,aAEpF,IAAIG,GAAaF,EAAOR,WAAaQ,EAAOP,UAAY,EAAK,IAC7DO,EAAOG,cAAgBD,EACvBF,EAAOI,eAAiBC,YAAYH,GACb,UAAnBnhB,EAAIsO,GAAKlC,QAEX6U,EAAOD,UAAY,CAACL,EAAe/a,KAAK+B,IAAIsZ,EAAOI,gBAAiBV,EAAe/a,KAAKkC,IAAImZ,EAAOI,kBAGrGhB,EAAMzf,KAAKqgB,MAENZ,EAEF,SAASiB,YAAYC,GAC1B,OAAQA,EAAQ,IAAO3b,KAAKgC,GAEvB,SAAS4Z,eAAef,EAAYC,EAAUe,EAAQC,EAAQC,GACnE,IAAIvF,EAAS,GAETwF,EAAcN,aADDb,EAAaC,GAAY,EAAK,KAG3CmB,EAAa,CAACH,EAAS9b,KAAK+B,IAAIia,GAAcF,EAAS9b,KAAKkC,IAAI8Z,IAChEE,EAAW,EAAEJ,EAASC,GAAa/b,KAAK+B,IAAIia,IAAeF,EAASC,GAAa/b,KAAKkC,IAAI8Z,IAC1FG,EAAW,EAAEL,EAASC,GAAa/b,KAAK+B,IAAIia,IAAeF,EAASC,EAAY,GAAK/b,KAAKkC,IAAI8Z,IAKlG,OAJAG,EAAW,CAACN,EAAO,GAAKM,EAAS,GAAIN,EAAO,GAAKM,EAAS,IAC1D3F,EAAOxb,KAAK,CAAC6gB,EAAO,GAAKI,EAAW,GAAIJ,EAAO,GAAKI,EAAW,KAC/DzF,EAAOxb,KAAK,CAAC6gB,EAAO,GAAKK,EAAS,GAAIL,EAAO,GAAKK,EAAS,KAEpD,CAAE1F,SAAQ4F,YADH,CAACpc,KAAKkC,IAAI8Z,EAAc,GAAI,EAAIhc,KAAK+B,IAAIia,EAAc,IACvCG,SAAUA,G,knBC2I3BtL,G,YAtLb,aAAYxR,GAAO,4BACjB,8BAAMA,KACDgd,YAAc,GACnB,EAAKxD,YAAc,EACnB,EAAKyD,aAAe,EAJH,E,gEAgBJ,IAEP7B,EAAUliB,KAAKugB,gBAAf2B,MACAoB,EAAWtjB,KAAKwO,YAAhB8U,OACFzhB,EAAMqgB,EAAM3Z,KAAI,SAAC+I,EAAMnB,GACzB,GAAY,IAARA,EACF,MAAO,CACL5J,KAAM,CAAE+b,WAAY,EAAGC,SAAU,EAAGtC,IAAKqD,GACzCxU,GAAI,qCAAKwC,GAAP,IAAa2O,IAAKqD,KAGxB,IAAIU,EAAY9B,EAAM/R,EAAM,GAAGoS,SAC/B,MAAO,CACLhc,KAAM,CAAE+b,WAAY0B,EAAWzB,SAAUyB,EAAW/D,IAAKqD,GACzDxU,GAAI,qCAAKwC,GAAP,IAAa2O,IAAKqD,QAIxB,OADAtjB,KAAKikB,YAAYpiB,GACVA,I,qCAEM,WAEPqgB,EAAUliB,KAAKugB,gBAAf2B,MACAoB,EAAWtjB,KAAKwO,YAAhB8U,OACFY,EAAWlkB,KAAK8jB,YAChBjiB,EAAMqgB,EAAM3Z,KAAI,SAAC+I,EAAMnB,GACzB,IAAImO,EAAS,CAACgF,EAAO,GAAKhS,EAAKuR,UAAU,GAAIS,EAAO,GAAKhS,EAAKuR,UAAU,IACpE/b,EAAQ3E,IAAYmP,EAAM,CAAC,aAAc,aAC7C,OAAY,EAAKgP,WACR,CACL/Z,KAAM,oBAAK2d,EAAS/T,GAAKrB,IACzBA,GAAI,qCAAKhI,GAAP,IAAcmZ,IAAK3B,QAU3B,OADAte,KAAKikB,YAAYpiB,GACVA,I,kCAEGA,GAAK,IACTsiB,EAAankB,KAAKwO,YAAlB2V,SACNtiB,EAAI2G,SAAQ,SAAA8I,GAAQ,MACuD+R,eAAe/R,EAAK/K,KAAK+b,WAAYhR,EAAK/K,KAAKgc,SAAUjR,EAAK/K,KAAK0Z,IAAKkE,EAAW,EAAG,IAAjJC,EADI,EACZnG,OAAiCoG,EADrB,EACQR,YAAmCS,EAD3C,EACiCV,SADjC,EAEiDP,eAAe/R,EAAKxC,GAAGwT,WAAYhR,EAAKxC,GAAGyT,SAAUjR,EAAKxC,GAAGmR,IAAKkE,EAAW,EAAG,IAArII,EAFI,EAEZtG,OAA+BuG,EAFnB,EAEMX,YAAiCY,EAFvC,EAE6Bb,SAC/CtS,EAAKsG,KAAO,CACVrR,KAAM,CACJ0X,OAAQmG,GAEVtV,GAAI,CACFmP,OAAQsG,IAGZjT,EAAKgJ,MAAQ,CACX/T,KAAM,CACJ0Z,IAAKqE,EACLI,OAAQL,GAEVvV,GAAI,CACFmR,IAAKwE,EACLC,OAAQF,S,sCAQd,IAAIhW,EAAcxO,KAAKwO,YAEnBoS,EAAa5gB,KAAK4gB,aAEtB,MAAO,CAAEsB,MADGzE,cAAOjgB,KAAKwC,KAAM4gB,EAAYpS,M,yEAQ1C,MAAO,CACL0G,MAAO,MACPqO,OAAQ,EACRoB,YAAa,EACbrC,WAAY,EACZC,SAAU,IACV1K,UAAW,EAEX2K,aAAc,M,sCAKhB,MAAO,K,gCAEC1M,EAAO1N,GACf,IAAIwY,EAAa5gB,KAAK4gB,aAClBzQ,EAAM/H,EAAG+F,KAAK,UAClB,GAAIgC,IAAQnQ,KAAKsgB,WAAY,CAC3B,IAAIsE,EAAUhE,EAAWzQ,GACzByQ,EAAWpY,SAAQ,SAAAkJ,GACC,UAAdA,EAAIzD,QACNyD,EAAIzD,MAAQ,cAGhB2W,EAAQ3W,MAAQ,QAChBjO,KAAKsgB,WAAanQ,K,mCAIHnQ,KAAK4gB,aACXpY,SAAQ,SAAAkJ,GACC,UAAdA,EAAIzD,QACNyD,EAAIzD,MAAQ,cAGhBjO,KAAKsgB,YAAc,I,mCAGnB,IAAI9R,EAAcxO,KAAKwO,YACvB,OAAOxO,KAAKyR,QAAQjD,EAAY+H,Y,6BAE3B2L,GAAO,aAEkCliB,KAAKwO,YAA7CuH,EAFM,EAENA,WAAY8O,EAFN,EAEMA,cAAeV,EAFrB,EAEqBA,SAE7BjN,EAASlX,KAAKshB,aAEdhK,EAAStX,KAAK6W,MAAMS,OAExB,OADAtX,KAAK8jB,YAAc5B,EAEjB,UAAC,QAAD,CAAOnL,OAAQ,EAAGwK,MAAM,YAAYtB,IAAK,CAAClK,EAAWC,KAAMD,EAAWE,MACpE,UAAC,QAAD,CAAOsL,MAAM,cAAcE,aAAczhB,KAAK8kB,YAC3C5C,EAAM3Z,KAAI,SAACwc,EAAM5U,GAChB,IAAIqG,EAAQmE,SAAS,EAAM,SAAU,CAAC,CAAE5C,YAAaT,EAAOnH,GAAMqJ,UAAWlC,EAAOnH,GAAMwU,YAAaE,EAAeG,YAAab,EAAUc,OAAQ9U,GAAO+G,EAAOqB,QAAS,CAAC,EAAK9G,QAAQqQ,KAAK3R,GAAMA,IACrM,MAAsB,aAAf4U,EAAK9W,QAAkC,IAAVuI,EAAkB,UAAC,OAAD,MAAW,UAAC,OAAD,KAAMqL,YAAa,EAAKqD,WAAe1O,EAAvC,CAA8C/H,UAAW,CAAElI,KAAMwe,EAAKxe,KAAMuI,GAAIiW,EAAKjW,WAG1J,UAAC,QAAD,CAAOyS,MAAM,cACVW,EAAM3Z,KAAI,SAACwc,EAAM5U,GAChB,IAAIqG,EAAQmE,SAAS,EAAM,YAAa,CAAC,CAAE5C,YAAaT,EAAOnH,IAAQ+G,EAAOY,WAAY,CAAC,EAAKrG,QAAQqQ,KAAK3R,GAAMA,IAC/GI,GAAO,EAIX,OAHIwU,EAAKjW,GAAGwT,aAAeyC,EAAKjW,GAAGyT,UAA2B,YAAfwC,EAAK9W,QAAiC,IAAVuI,IACzEjG,GAAO,GAEFA,IAAkB,IAAViG,EAAkB,UAAC,OAAD,MAAW,UAAC,WAAD,OAAcA,EAAd,CAAqB/H,UAAW,CAAElI,KAAMwe,EAAKnN,KAAKrR,KAAMuI,GAAIiW,EAAKnN,KAAK9I,WAGtH,UAAC,QAAD,CAAOyS,MAAM,eACVW,EAAM3Z,KAAI,SAACwc,EAAM5U,GAChB,IAAIvS,EAAO,EAAK6T,QAAQqQ,KAAK3R,GAAKvS,KAC9B4Y,EAAQmE,SAAS,EAAM,YAAa,CAAC,CAAEnB,UAAW,OAAQC,SAAU,IAAMvC,EAAOsB,WAAY,CAAC,EAAK/G,QAAQqQ,KAAK3R,GAAMA,IACtHI,GAAO,EAIX,OAHIwU,EAAKjW,GAAGwT,aAAeyC,EAAKjW,GAAGyT,UAA2B,YAAfwC,EAAK9W,QAAiC,IAAVuI,IACzEjG,GAAO,GAEFA,IAAkB,IAAViG,EAAkB,UAAC,OAAD,MAAW,UAAC,QAAD,KAAOwC,KAAMpb,GAAU4Y,EAAvB,CAA8ByJ,IAAK8E,EAAKzK,MAAM/T,KAAK0Z,IAAKxR,UAAW,CAAElI,KAAMwe,EAAKzK,MAAM/T,KAAMuI,GAAIiW,EAAKzK,MAAMxL,c,kCAtK/J,IAAIhI,EAAQ,2CACNyc,EAAwBzc,EAAxByc,OAAQoB,EAAgB7d,EAAhB6d,YAHE,EAIQ7d,EAAMiP,WAAxBK,EAJU,EAIVA,MAAOC,EAJG,EAIHA,OAIb,OAHAvP,EAAMwc,OAAS,CAAClN,EAAQ,EAAGC,EAAS,GACpCvP,EAAMqd,SAAY1c,KAAK2D,IAAIgL,EAAOC,GAAUkN,EAAU,EACtDzc,EAAM+d,cAAiBpd,KAAK2D,IAAIgL,EAAOC,GAAUsO,EAAe,EACzD7d,M,KAfO2N,ICYHgE,G,YAfb,cAAY3R,GAAO,6BACjB,+BAAMA,KACDiB,KAAO,OAFK,E,kEAKjB,OAAO8L,gBAAgB,GAAD,IAAC,oDAA0B,CAC/CkI,OAAO,EACPtN,UAAW,CACTF,SAAU,IACVU,OAAQ,aAEViG,MAAO,a,MAZMyC,ICIbwN,mBAAqB,SAACC,EAAQvlB,GAGlC,MAAO,CAFC4H,KAAK+B,IAAI4b,GAAUvlB,EACnB4H,KAAKkC,IAAIyb,GAAUvlB,IA6Bd,SAAS4d,oBAAOjM,EAAM+R,EAAQrG,EAAaoF,EAAY+C,EAAa/N,GACjF,IAAIgO,EAAW,GACXC,EAAY,GACZC,EAAY,GACZC,EAAe,GAEnB,GAAIjU,EAAKkU,MAAK,SAAC/nB,GAAD,OAAoB,IAAbA,EAAEkC,UACrB,MAAO,CAAE4lB,eAAcD,YAAWD,aAcpC,IAXA,IAIM7d,EAjCO,SAAC8J,EAAM0L,GACpB,IAAMyI,EAAele,KAAKC,IAAL,MAAAD,KAAI,KAAQ+J,IACjC,OAAImU,EAA6B,GAAdzI,EACVzV,KAAKmV,KAAK+I,EAAezI,GAAeA,EAEK,GAA7CzV,KAAKmV,KAAK+I,EAAe,GAAKzI,GAAoBA,EA4B/CC,CAJS3L,EAAK4Q,QAAO,SAAC7jB,EAAGmT,GACnC,OAAOnT,EAAE0I,OAAOyK,EAAInJ,KAAI,SAAC4J,GAAD,OAAUA,EAAK7T,YACtC,IAE8B4e,GAG3B0I,EAAYpU,EAAK,GAAG3R,OACpBgmB,EAAuB,EAAVpe,KAAKgC,GAAUmc,EAE5BE,EAAere,KAAKgC,GAAK,IAAO6Y,EAC7BjlB,EAAI,EAAGA,EAAIuoB,EAAWvoB,IAAK,CAElC,IAAI0oB,EAAgB1oB,EAAIwoB,EAAYC,EAChC9N,EAAQmN,mBAAmBY,EAAexC,GAE9C+B,EAAS7iB,KAAK,CACZuV,QACAoN,OAAQW,IAIV,IAAMnC,EAAWuB,mBAAmBY,EAAexC,EAAS8B,GACtD/K,EAAQ9I,EAAK,GAAGnU,GAAG2b,KAEzBwM,EAAU/iB,KAAK,CACbwb,OAAQ,CAAC,CAAC,EAAG,GAAIjG,GACjBH,UAAW,EACX2C,SAAU,CAAC,EAAG,GACdzC,YAAa,UACbuC,QACAsJ,WACAwB,OAAQW,EACRC,SAAUte,EACVwV,YAAaA,IAIjB1L,EAAKhJ,SAAQ,SAACkJ,EAAKuU,GACjB,IAAMC,EAAiBxU,EAAInJ,KAAI,SAAC5K,EAAGN,GACjC,IAAMiB,EAAQX,EAAEW,MACV8mB,EAASE,EAASjoB,GAAG+nB,OAC3B,OAAOD,mBAAmBC,EAAS9mB,EAAQoJ,EAAO6b,MAGpDkC,EAAahjB,KAAK,CAChBwjB,MAAOA,EACProB,KAAM8T,EAAI9T,KACVuoB,WAAYzU,EAAIF,KAChBqG,UAAW,EACXoG,OAAQiI,EACRjY,MAAOyD,EAAIzD,MACXmY,OAAO,EACPrO,YAAaT,EAAO2O,GACpBzM,UAAWlC,EAAO2O,QAMtB,IADA,IAAMI,EAAaf,EAAS/c,KAAI,SAACpJ,GAAD,OAAOA,EAAE6Y,SAChC3a,EAAI,EAAGA,EAAI6f,EAAa7f,IAAK,CACpC,IAAI+c,EAAQ,EAAI/c,EAAI6f,EACpBqI,EAAU9iB,KAAK,CACb2X,QACAmJ,SACAtF,OAAQoI,EACRJ,MAAO5oB,EACP+oB,OAAO,EACPvO,UAAW,EACXE,YAAa,UACb2M,OAAQ,CAAC,GAAK,MAIlB,MAAO,CAAEe,eAAcD,YAAWD,a,0nBCqMrB5M,G,YAvTb,eAAY7R,GAAO,6BACjB,gCAAMA,IADW,0BAiRJqN,UACb,SAAC2B,EAAO1N,GACN,EAAKqJ,QAAQqP,aACb,IAAMljB,EAAOwK,EAAGke,WAAW1oB,KAC3B,EAAK6T,QAAQqQ,KACV5a,QAAO,SAAAwK,GAAG,MAAkB,aAAdA,EAAIzD,SAClBzF,SAAQ,SAAAkJ,GACPA,EAAIzD,MAAQyD,EAAI9T,OAASA,EAAO,QAAU,eAGhD,IACA,IA1RA,EAAKmK,KAAO,QACZ,EAAKwe,YAAc,GACnB,EAAKC,QAAU,GACf,EAAKC,OAAS,KALG,E,oEAqBjB,MAAO,CACLvR,MAAO,QACPwR,SAAU,UACVxJ,YAAa,EACboF,WAAY,IACZiB,OAAQ,GACR8B,YAAa,K,2CAIId,EAAUtW,EAAOgY,GACpC,IAAMU,EAAa,IAAIjhB,MAAM6e,EAAS1kB,QAAQyP,KAAK,CAAC,EAAG,IAEjDb,EAAY,CAChBlI,KAAM,CAAE0X,QAFMje,KAAKumB,YAAYN,IAAU,CAAExX,UAAW,CAAEK,GAAI,CAAEmP,OAAQ0I,MAE9ClY,UAAUK,GAAGmP,QACrCnP,GAAI,CAAEmP,OAAQsG,IAMhB,MAHc,aAAVtW,IACFQ,EAAUK,GAAGmP,OAAS0I,GAEjBlY,I,sCAIP,IAAMgN,EAAUzb,KAAKyR,QADP,EAGwCzR,KAAKwO,YAAnDhM,EAHM,EAGNA,IAAK0a,EAHC,EAGDA,YAAaoF,EAHZ,EAGYA,WAAY+C,EAHxB,EAGwBA,YAChC/N,EAAStX,KAAK6W,MAAMS,OAJZ,EAMiCmG,oBAAO,KAChDhC,EAAQqG,MACZtf,EACA0a,EACAoF,EACA+C,EACA/N,GAGF,MAAO,CAAEmO,aAfK,EAMNA,aASeD,UAfT,EAMQA,UASYD,UAfpB,EAMmBA,a,oCAYrB,aAC2BvlB,KAAKugB,gBAApCkF,EADI,EACJA,aAAiBmB,EADb,yBAENC,EAAsBpB,EAAald,KAAI,SAAC4F,EAAM9Q,GAAM,IAChD4gB,EAAiC9P,EAAjC8P,OAAQhQ,EAAyBE,EAAzBF,MAAU6Y,EAD8B,KACf3Y,EADe,sBAE1B,EAAKwM,SAAS,UAAWxM,EAAzB,KAAmCA,EAAKgY,YAAa9oB,GAA3EmZ,EAFgD,EAEhDA,MAAOuQ,EAFyC,EAEzCA,WACXC,EAAuB,UAAV/Y,EAAoB8Y,EAAa,GAElD,OAAOlT,gBAAgBiT,EAAY,CAAE7Y,SAAS,CAAEQ,UAD9B,EAAKwY,qBAAqBhJ,EAAQhQ,EAAO5Q,IACEmZ,EAAOwQ,MAEtE,gDAAYJ,GAAZ,IAAuBnB,aAAcoB,M,qCAIrC,yDACA,IAAMjG,EAAa5gB,KAAKknB,cAExB,OADAlnB,KAAKumB,YAAL,KAAuB3F,EAAW6E,cAC3B7E,I,qCAIP,yDACA,IAAMuG,EAAannB,KAAKknB,cACxB,GAAIC,EAAW1B,aAEb,IADA,IAAMjjB,EAAMiF,KAAKC,IAAI1H,KAAKumB,YAAY1mB,OAAQsnB,EAAW1B,aAAa5lB,QAC7DxC,EAAI,EAAGA,EAAImF,EAAKnF,IACvB2C,KAAKumB,YAAYlpB,GAAK8pB,EAAW1B,aAAapoB,GAIlD,OADA2C,KAAKumB,YAAL,KAAuBY,EAAW1B,cAC3B0B,I,4EAKSC,GAChB,MAAO,CACL7gB,KAAM,CAAE6T,MAAO,GACftL,GAAI,CAAEsL,MAAOgN,M,+BAIRrf,EAAMoG,EAAMqD,EAAMyU,GACzB,MAAO,CACLzP,MAAOxW,KAAKwW,MAAMzO,EAAX/H,CAAiBmO,EAAMqD,EAAMyU,IAAU,GAC9Cc,WAAY/mB,KAAKwW,MAAL,UAAczO,EAAd,UAAA/H,CAA4BmO,EAAMqD,EAAMyU,IAAU,M,mCAIrDoB,EAASC,GACpB,OAAOD,EAAQvkB,aAAewkB,EAAMxkB,a,iCAG3ByiB,GAAW,WAEdgC,EAAyB,WADVvnB,KAAKwO,YAAlBkY,SACkCc,MAAMC,WAChD,OAAOlC,EAAUhd,KAAI,SAAC4F,EAAM9Q,GAC1B,IAAMoR,EAAY,EAAK+X,QAAQ3mB,OAAS,EAAI,GAAK,EAAK6nB,kBAAkBvZ,EAAKiM,OACrE5D,EAAU,EAAKmE,SAAS,OAAQxM,EAAM,KAAM9Q,GAA5CmZ,MACR,IAAc,IAAVA,EAGJ,OAAO,UAAC+Q,EAAD,OAAepZ,EAAUqI,EAAzB,CAAgC/H,UAAWA,U,sCAItC3H,EAAOzJ,GACrB,IAKQid,EAA4BxT,EAA5BwT,MAAOsJ,EAAqB9c,EAArB8c,SAAUwB,EAAWte,EAAXse,OAEnBjX,EAAO,CACX6K,KAAMsB,EACN2F,IAAK2D,EACL+D,MAAO,UACPvC,SACAV,OAZiB,SAAAU,GAGjB,MAAO,CAFG,GAAM3d,KAAK+B,IAAI4b,GACf,GAAM3d,KAAKkC,IAAIyb,IAIZwC,CAAWxC,GAOxB3L,SAAU,IAENhL,EAAYzO,KAAKwmB,QAAQ3mB,OAAS,EAAI,GAAKG,KAAK0nB,kBAAkB,GAChElR,EAAUxW,KAAK2a,SAAS,QAASxM,EAAM,CAAE6K,KAAM7K,EAAKmM,MAAO8K,UAAU/nB,GAArEmZ,MACR,IAAc,IAAVA,EAGJ,OAAO,UAAC,QAAD,OAAWrI,EAAUqI,EAArB,CAA4B/H,UAAWA,O,sCAGhC3H,EAAOmf,GAgBrB,IAfA,IAD4B,EACd,SAAAnf,GAAS,IACbmX,EAAkCnX,EAAlCmX,OAAQf,EAA0BpW,EAA1BoW,YAAa8I,EAAalf,EAAbkf,SADR,MAEN/H,EAAO,GAFD,GAIrB,MAAO,CAAC,CAJa,KAIRf,EAJQ,KAISA,GADf8I,EAAW9I,GAGG2K,CAAM/gB,GAPT,yBAOpBghB,EAPoB,KAOdC,EAPc,KAOPC,EAPO,KAQxBC,EAAS,GAEPC,EAAS,CACbzO,SAAU,GACViL,OAAQ,CAAC,EAAG,IACZyD,UAAW,EAAE,EAAG,GAChBC,QALwB,IAAVnC,EAAc,QAAU,QAO/B5oB,EAAI,EAAGA,EAAIyJ,EAAMoW,YAAc,EAAG7f,IAAK,CAC9C,IAAI2a,EAAQ,CAAC8P,EAAOzqB,EAAG0qB,EAAO1qB,GAC1B2b,EAAOgP,EAAS3qB,EAChB8Q,EAAO,oBACT6K,OACA2O,MAAO,UACP1H,IAAKjI,GACFkQ,GAEG1R,EAAUxW,KAAK2a,SAAS,QAASxM,EAAM,CAAE6K,OAAMiN,SAAS5oB,GAAxDmZ,MACR,IAAc,IAAVA,EACF,OAEF,GAAqB,SAAjBrI,EAAKia,QAAoB,CAC3B,IAAI3Z,EAAY,GACV4Z,EAAUpC,EAAQnf,EAAMoW,YAAc7f,EACtCirB,EAAQtoB,KAAKwmB,QAAQ6B,GACvBC,EACEA,EAAMtP,OAASA,IACjBvK,EAAY,CACVlI,KAAM,CAAEyS,KAAMsP,EAAMtP,MACpBlK,GAAI,CAAEkK,QACN9J,UAAW,SAAAf,GAET,OADAA,EAAK6K,KAAO7K,EAAK6K,KAAK6C,QAAQ,GACvB1N,KAKbM,EAAY,CACVlI,KAAM,CAAE0Z,IAAK,CAAC,EAAG,IACjBnR,GAAI,CAAEmR,IAAKjI,IAGfhY,KAAKwmB,QAAQnpB,GAAK,CAAE2b,KAAMzV,OAAOyV,EAAK6C,QAAQ,KAC9CoM,EAAOxlB,KAAK,UAAC,QAAD,OAAW0L,EAAUqI,EAArB,CAA4B/H,UAAWA,OAGvD,OAAOwZ,I,iCAGEzC,GAAW,WACd/W,EAAYzO,KAAKwmB,QAAQ3mB,OAAS,EAAI,GAAKG,KAAK0nB,kBAAkB,GACxE,OAAOlC,EAAUjd,KAAI,SAAC4F,EAAM9Q,GAAM,IACxBmZ,EAAU,EAAKmE,SAAS,OAAQxM,EAAM,CAAE6K,KAAM7K,EAAKmM,OAASjd,GAA5DmZ,MACR,IAAc,IAAVA,EAGJ,OACE,UAAC,QAAD,KACE,UAAC,WAAD,OAAcrI,EAAUqI,EAAxB,CAA+B/H,UAAWA,KACzC,EAAK8Z,gBAAgBpa,EAAM9Q,GAC3B,EAAKmrB,gBAAgBra,EAAM9Q,S,mCAMvBooB,GAAc,WAqCzB,OApCkBA,EAAald,KAAI,SAAAzB,GAAS,IACvB2hB,EAAiD3hB,EAA5D2H,UAAyB0X,EAAmCrf,EAAnCqf,WAAYpO,EAAuBjR,EAAvBiR,YAAa9J,EAAUnH,EAAVmH,MACpDya,EAAYD,GAAgBA,EAAaliB,MAAQkiB,EAAaliB,KAAK0X,OAEzE,OADiBwK,GAAgBA,EAAa3Z,IAAM2Z,EAAa3Z,GAAGmP,QACpD1V,KAAI,SAACyP,EAAO3a,GAC1B,IAAM8Q,EAAO,CACX8R,IAAKjI,EACLwB,UAAWzB,EACXwL,OAAQ,EACR4C,WAAYA,EAAW9oB,IALO,EAOF,EAAKsd,SAAS,QAASxM,EAAvB,sBAAkCA,EAAKgY,YAAc9oB,GAA3EmZ,EAPwB,EAOxBA,MAAOuQ,EAPiB,EAOjBA,WACf,IAAc,IAAVvQ,EAAJ,CAIA,IAAI/H,EAAY,CACdlI,KAAM,CAAE0Z,IAAK,CAAC,EAAG,GAAI3J,QAAS,GAC9BxH,GAAI,CAAEmR,IAAKjI,EAAO1B,QAAS,IAGzBoS,GAAaA,EAAUrrB,KACpB,EAAKsrB,aAAaD,EAAUrrB,GAAI2a,GAGnCvJ,EAAUlI,KAAK0Z,IAAMjI,EAFrBvJ,EAAUlI,KAAK0Z,IAAMyI,EAAUrrB,IAKrB,aAAV4Q,IACFQ,EAAUK,GAAGwH,QAAU,GAEzB,IAAM0Q,EAAuB,UAAV/Y,EAAoB8Y,EAAa,GACpD,OAAO,UAAC,GAAD,OAAW5Y,EAAUqI,EAAWwQ,EAAhC,CAA4CvY,UAAWA,EAAWsI,OAAQ,aAIpEqL,QAAO,SAACwG,EAAKC,GAAN,OAAcD,EAAI3hB,OAAO4hB,KAAM,M,oCAG3CpD,GAAc,WAC1B,OAAOA,EAAald,KAAI,SAAC4F,EAAM9Q,GAAM,IAC3BoR,EAA4BN,EAA5BM,UAAcqa,EADa,KACC3a,EADD,eAEnC,OAAO,UAAC,WAAD,KAAU4I,OAAQ,EAAI1Z,GAAOyrB,EAA7B,CAAwCra,UAAWA,EAAWkT,aAAc,EAAKA,aAAcF,aAAc,EAAKA,qB,qCAkB3HzhB,KAAKyR,QAAQqP,aACb9gB,KAAKyR,QAAQqQ,KAAK5a,QAAO,SAAAwK,GAAG,MAAkB,aAAdA,EAAIzD,SAAsBzF,SAAQ,SAAAkJ,GAAG,MAAkB,YAAdA,EAAIzD,W,gCAGhC,IAAtCwX,EAAsC,EAAtCA,aAAcD,EAAwB,EAAxBA,UAAWD,EAAa,EAAbA,UAAa,EACdvlB,KAAKwO,YAA5B8U,EADqC,EACrCA,OAAQvN,EAD6B,EAC7BA,WACVgT,EAAa,CACjBxiB,KAAM,CAAE0Z,IAAKjgB,KAAKymB,OAASzmB,KAAKymB,OAASnD,GACzCxU,GAAI,CAAEmR,IAAKqD,IAGb,OADAtjB,KAAKymB,OAASnD,EAEZ,UAAC,QAAD,CAAOrD,IAAK,CAAClK,EAAWC,KAAMD,EAAWE,KAAMuL,KAAM,CAACzL,EAAWK,MAAOL,EAAWM,SACjF,UAAC,QAAD,CAAO4J,IAAKqD,EAAQ7U,UAAWsa,GAC5B/oB,KAAKgpB,WAAWzD,GAChBvlB,KAAKipB,WAAWzD,GAChBxlB,KAAKkpB,cAAczD,GACnBzlB,KAAKmpB,aAAa1D,O,kCAtSzB,IAAM3e,EAAQ,6CADE,EAEUA,EAAMiP,WAAxBM,EAFQ,EAERA,OACFiN,EAAS,CAHC,EAEAlN,MACQ,EAAGC,EAAS,GAE9B7T,EAAMiF,KAAK2D,IAAL,MAAA3D,KAAY6b,GAAUxc,EAAMyc,OAExC,gDAAYzc,GAAZ,IAAmBwc,SAAQ9gB,Y,OAjBXkY,I,0nBCLL,SAAS+C,kBAAO5b,EAAKiF,GAElC,IAAM0K,EAAO3P,EACLka,EAAmCjV,EAAnCiV,MAAOmB,EAA4BpW,EAA5BoW,YAAanH,EAAejP,EAAfiP,WAEtBqT,EAAU,CADUrT,EAAlBK,MAAkBL,EAAXM,QAETgT,EAAYviB,EAAMuiB,YAAa,EAC/BC,EAAWxiB,EAAMwiB,UAAY,EAC7BC,EAAWziB,EAAMyiB,UAAY,EAC/BC,EAAW1iB,EAAM0iB,UAAY,EAE3BC,EAAU,GACVC,EAAY,GACZC,EAAW,GACXC,EAAe,CAAEtT,QAAS,EAAG+D,QAAS,QAEtCwP,EAAY1P,UAAK3c,KAAKwC,KAAM,CAAEyb,QAASjK,EAAMuK,QAAOmB,gBAC1D,IAAK2M,IAAcA,EAAUhqB,OAC3B,MAAO,CAAE4pB,UAASC,YAAWC,YAE/B,IAAMG,EAAYT,EACd,CAAE/O,MAAO8O,EAAQ,GAAI9qB,MAAO8qB,EAAQ,IACpC,CAAE9O,MAAO8O,EAAQ,GAAI9qB,MAAO8qB,EAAQ,IAClCW,EAAetiB,KAAKC,IAAI3H,MAAMC,KAAM6pB,GACpCG,EAAeviB,KAAK2D,IAAIrL,MAAMC,KAAM6pB,GACpCI,EAAiBF,GAAgBA,EAAeC,GAChDE,EAmNR,SAAwB1Y,GAEtB,IADA,IAAI2Y,EAAO,EACF9sB,EAAI,EAAGmF,EAAMgP,EAAK3R,OAAQxC,EAAImF,EAAKnF,IACjB,aAArBmU,EAAKnU,GAAG,GAAG4Q,OACbkc,IAMJ,OAAOA,GAAQ,EA7NOC,CAAe5Y,GAE/B6Y,EAAY7Y,EAAK,GAAG3R,OACtB8b,EAAM,EAEO,IAAb6N,GACFA,EAAWzN,EACY,GAAlB+N,EAAUxP,MAAe+P,EACP,GAAlBP,EAAUxP,OAAgB+P,EAAYH,GAE3CvO,EAAMI,EAAQyN,EAAWA,EAAWU,GAEpCvO,EAAMI,GACD+N,EAAUxP,MAAQkP,EAAWa,GAAaA,GAC1CP,EAAUxP,MACTkP,EAAWU,EAAgBG,EAC3Bf,GAAYY,EAAgB,GAAKG,GACnCA,EAGN,IAAMC,EAAoBR,EAAUxrB,OAASyrB,EAAeC,GAC5D,GAAKjO,EAiHH,IAAK,IAAI1e,EAAI,EAAGmF,EAAM6nB,EAAWhtB,EAAImF,EAAKnF,IAAK,CAM7C,IALA,IAAIktB,EAAc,EACdC,EAAgB,EAChBlsB,EAAQ,EACRmsB,EAAS,CAAEC,MAAO,IAEbhoB,EAAI,EAAGioB,EAAOnZ,EAAK3R,OAAQ6C,EAAIioB,EAAMjoB,IAAK,CACjD,IAAIkoB,EAAerB,EAInBjrB,EAAQkT,EAAK9O,GAAGrF,GAAG8e,iBACnB,IAAI0O,EAAYP,EAAoB7iB,KAAK+U,IAAIle,GAC3B,IAAdusB,IACFD,EAAe,GAEjB,IAIIzJ,EACF7iB,EAAQ,EACJwrB,EAAUxrB,OAAS,EAAI2rB,GAAkBO,EACzCV,EAAUxrB,OAAS,EAAI2rB,GAAkBM,EAC3CO,EACFxsB,EAAQ,EACJwrB,EAAUxrB,MAAQ2rB,EAAiBO,EAAgBK,EACnDf,EAAUxrB,MAAQ2rB,EAAiBM,EACrCpT,EAAO,CACTuN,OAAQ,CACN2E,GAAa/qB,EAAQ,EAAI,EAAI,EAC7B+qB,GAAa/qB,EAAQ,EAAI,EAAI,GAE/BkjB,KAAM6H,EACF,CAACwB,EAAYD,EAAcpB,GAC3B,CAACA,EAAUqB,EAAYD,GAC3B3K,IAAKoJ,EACD,CAAClI,EAAMxF,EAAM,GAAK6N,EAAW7N,GAAOte,GACpC,CAACse,EAAM,GAAK6N,EAAW7N,GAAOte,EArBlCiB,EAAQ,EACJwrB,EAAUxrB,MAAQ2rB,EAAiBO,EACnCV,EAAUxrB,MAAQ2rB,EAAiBM,GAoBvCtE,MAAOvjB,GAELqoB,EAAe1B,EAAY,cAAgB,gBAC3C/O,EAAQ,CACVhE,QAA8B,aAArB9E,EAAK9O,GAAGrF,GAAG4Q,MAAuB,EAAI,EAC/C+K,KAAM1a,EAAMwE,WACZ4hB,OAAQ2E,EAAa/qB,EAAQ,EAAI,CAAC,EAAG,IAAO,CAAC,EAAG,IAAQ,CAAC,GAAK,GAC9D2hB,IAAKoJ,EACD,CAAClI,IAAQxF,EAAM6N,GAAY,GAAKA,EAAW7N,GAAOte,GAClD,EAAEse,EAAM6N,GAAY,GAAKA,EAAW7N,GAAOte,EAAGytB,IAEpDxQ,EAAMyQ,GAAgB,EACG,aAArBvZ,EAAK9O,GAAGrF,GAAG4Q,MACbkJ,EAAKqK,KAAO6H,EAAY,CAAC,EAAGlS,EAAKqK,KAAK,IAAM,CAACrK,EAAKqK,KAAK,GAAI,IAE3DljB,EAAQ,EACHksB,GAAgCK,EAChCN,GAA4BM,EACjCJ,EAAOC,MAAMjoB,KAAK0U,IAEpBwS,EAASlnB,KAAK6X,GACdmP,EAAQhnB,KAAK0U,GAGfsT,EAAS1sB,OAAO2B,OAAO+qB,EAAd,qBACPxK,IAAKoJ,EAAY,CAAC,GAAI1N,EAAM6N,GAAYnsB,GAAK,EAAEse,EAAM6N,GAAYnsB,EAAG,GACpEmkB,KAAM6H,EACF,CAACS,EAAUxrB,MAAOkrB,EAAW7N,GAC7B,CAAC6N,EAAW7N,EAAKmO,EAAUxrB,QAC5BsrB,IAELF,EAAUjnB,KAAKgoB,QArLjB,IAAK,IAAIptB,EAAI,EAAGmF,EAAM6nB,EAAWhtB,EAAImF,EAAKnF,IAAK,CAM7C,IALA,IAAI8sB,EAAO,EACP7rB,EAAQ,EACR0sB,EAAW,EACXP,EAAS,CAAEC,MAAO,IAEbhoB,EAAI,EAAGioB,EAAOnZ,EAAK3R,OAAQ6C,EAAIioB,EAAMjoB,IAAK,CAIjDsoB,EAAWxZ,EAAK9O,GAAGrF,GAAGiB,MACtBA,EAAQkT,EAAK9O,GAAGrF,GAAG8e,iBACnB,IAAI0O,GAAYP,EAAoB7iB,KAAK+U,IAAIle,GACzC6Y,GAAO,CACTuN,OAAQ,CACN2E,GAAa/qB,EAAQ,EAAI,EAAI,EAC7B+qB,GAAa/qB,EAAQ,EAAI,EAAI,GAE/BkjB,KAAM6H,EACF,CAACwB,GAAWrB,EAAW,GACvB,CAACA,EAAW,EAAGqB,IACnB5K,IAAKoJ,EACD,CACES,EAAUxrB,OAAS,EAAI2rB,GACvBtO,EAAM,GACH6N,EAAWF,IAAa5mB,EAAIynB,IAC5BX,EAAWU,EACVZ,GAAYY,EAAgB,GAC5BvO,GACAte,GAEN,CACEse,EAAM,GACH6N,EAAWF,IAAa5mB,EAAIynB,IAC5BX,EAAWU,EACVZ,GAAYY,EAAgB,GAC5BvO,GACAte,EACJysB,EAAUxrB,MAAQ2rB,IAGD,aAArBzY,EAAK9O,GAAGrF,GAAG4Q,OACbkJ,GAAKqK,KAAO6H,EAAY,CAAC,EAAGlS,GAAKqK,KAAK,IAAM,CAACrK,GAAKqK,KAAK,GAAI,GAC3D2I,KAEAM,EAAOC,MAAMjoB,KAAK0U,IAEpB,IAAImD,GAAQ,CACVhE,QAA8B,aAArB9E,EAAK9O,GAAGrF,GAAG4Q,MAAuB,EAAI,EAC/C+K,KAAMgS,EAASloB,WACf4hB,OAAQ,CAAC2E,GAAa/qB,EAAQ,EAAI,EAAI,EAAG,IACzC2hB,IAAKoJ,EACD,CACES,EAAUxrB,OAAS,EAAI2rB,GACvBtO,EAAM,GACH6N,EAAWF,IAAa5mB,EAAIynB,IAC5BX,EAAWU,EACVZ,GAAYY,EAAgB,GAC5BvO,GACAte,EACS,GAAXmsB,GAEJ,CACE7N,EAAM,GACH6N,EAAWF,IAAa5mB,EAAIynB,IAC5BX,EAAWU,EACVZ,GAAYY,EAAgB,GAC5BvO,GACAte,EACS,GAAXmsB,EACFM,EAAUxrB,MAAQ2rB,GAExBgB,OAAQ5B,EAAY,EAAI/qB,EAAQ,EAAI,GAAK,IACzC4sB,YAAa,GAEfzB,EAAQhnB,KAAK0U,IACbwS,EAASlnB,KAAK6X,IAGhBmQ,EAAS1sB,OAAO2B,OAAO+qB,EAAd,qBAEPxK,IAAKoJ,EACD,CACE,GACC1N,EACC6N,EAAWU,EACXZ,GAAYY,EAAgB,IAC5B7sB,GAEJ,EACGse,EACC6N,EAAWU,EACXZ,GAAYY,EAAgB,IAC5B7sB,EACF,GAENmkB,KAAM6H,EACF,CACES,EAAUxrB,MACVkrB,EAAWU,EAAgBZ,GAAYY,EAAgB,GAAKvO,GAE9D,CACE6N,EAAWU,EAAgBZ,GAAYY,EAAgB,GAAKvO,EAC5DmO,EAAUxrB,QAEbsrB,IAELF,EAAUjnB,KAAKgoB,GA8EnB,MAAO,CAAEd,WAAUF,UAASC,a,knBCUf9Q,G,YA9Ob,aAAY9R,GAAO,2BACjB,8BAAMA,IADW,yBAuILqN,UACZ,SAAC2B,EAAO1N,GACN,GAAI,EAAK+iB,OAAOtrB,SAAWurB,MAAMtV,EAAMzK,KAAO+f,MAAMtV,EAAMmL,GAAI,CAC5D,IAAIC,EAAS,EAD+C,EAE/C9Y,EAAG4Y,kBAAkBlL,EAAMzK,EAAGyK,EAAMmL,GAFW,WAEvD5V,EAFuD,KAEpD4V,EAFoD,KAG5D,GAAK,EAAKzS,YAAY6a,UAKf,CACL,IAAIjT,EAAQ,EAAK+U,OAAO,GAAG3J,KAAK,GAEhCN,EAASzZ,KAAK4jB,MAAMpK,EAAI7K,OARO,CAE/B,IAAIA,EAAQ,EAAK+U,OAAO,GAAG3J,KAAK,GAEhCN,EAASzZ,KAAK4jB,MAAMhgB,EAAI+K,GAW1B,GALI8K,EAAS,EACXA,EAAS,EACAA,EAAS,EAAKiK,OAAOtrB,OAAS,IACvCqhB,EAAS,EAAKiK,OAAOtrB,OAAS,GAE5B,EAAKygB,aAAeY,EAAQ,KACxBoK,EAAkB,EAAK9c,YAAvB8c,cACNA,EAAcpK,GAAU,QACxBoK,EAAc,EAAKhL,YAAc,UACjC,EAAKnS,KAAK,gBAAiBmd,GAC3B,EAAK7Z,QAAQqP,aACb,EAAKrP,QAAQiC,KAAKwN,GAAQjT,MAAQ,QAClC,EAAKqS,WAAaY,MAIxB,IACA,IAvKiB,sBAgLT,WACR1T,QAAQ+d,IAAI,cA/KZ,EAAKxjB,KAAO,MACZ,EAAKyjB,QAAU,KACf,EAAKC,MAAQ,KACb,EAAKN,OAAS,KACd,EAAKO,QAAU,KACf,EAAKpL,YAAc,EAPF,E,gEAcJ,WAEPE,EAAcxgB,KAAKugB,gBAAnBC,UACFiJ,EAAUjJ,EAAUiJ,QAAQlhB,KAAI,SAAA+I,GAClC,MAAO,CACLxK,MAAOwK,EACP/K,KAAM,CACJib,KAAM,EAAKhT,YAAY6a,UAAY,CAAC,EAAG/X,EAAKkQ,KAAK,IAAM,CAAClQ,EAAKkQ,KAAK,GAAI,IAExE1S,GAAI,CACF0S,KAAMlQ,EAAKkQ,UAIbmI,EAAWnJ,EAAUmJ,SAASphB,KAAI,SAAA+I,GACpC,MAAO,CACLxK,MAAOwK,EACP/K,KAAM,CACJ0Z,IAAK3O,EAAK2O,KAEZnR,GAAI,CACFmR,IAAK3O,EAAK2O,SAOhB,OAHAjgB,KAAKwrB,QAAU/B,EACfzpB,KAAKmrB,OAAS3K,EAAUkJ,UACxB1pB,KAAKyrB,MAAQ9B,EACN,CAAEF,UAASE,WAAUD,UAAWlJ,EAAUkJ,a,qCAEpC,WACP8B,EAAUxrB,KAAKwrB,QACfC,EAAQzrB,KAAKyrB,MACbjL,EAAcxgB,KAAKugB,gBAAnBC,UACFiJ,EAAUjJ,EAAUiJ,QAAQlhB,KAAI,SAACojB,EAAYtuB,GAC/C,IAAIuuB,EAAOJ,EAAQnuB,GAAKmuB,EAAQnuB,GAAKmjB,EAAUiJ,QAAQpsB,EAAI,GAQ3D,OAPKuuB,IACHA,EAAO,CACLpK,KAAM,CAAC,EAAG,GACVvB,IAAK0L,EAAW1L,IAChB4L,WAAY,OAGT,CACL/kB,MAAO6kB,EACPplB,KAAM,CACJib,KAAMoK,EAAK9kB,MAAMglB,QAAW,EAAK3d,KAAK,aAAe,CAAC,EAAGyd,EAAK9kB,MAAM0a,KAAK,IAAM,CAACoK,EAAK9kB,MAAM0a,KAAK,GAAI,GAAMoK,EAAK9kB,MAAM0a,KACrHvB,IAAK2L,EAAK9kB,MAAMmZ,KAElBnR,GAAI,CACF0S,KAAMmK,EAAWnK,KACjBvB,IAAK0L,EAAW1L,SAIlB0J,EAAWnJ,EAAUmJ,SAASphB,KAAI,SAACwjB,EAAU1uB,GAC/C,IAAIuuB,EAAOH,EAAMpuB,GAAKouB,EAAMpuB,GAAKmjB,EAAUmJ,SAAStsB,EAAI,GAMxD,OALKuuB,IACHA,EAAO,CACL3L,IAAK0L,WAAW1L,MAGb,CACLnZ,MAAOilB,EACPxlB,KAAM,CACJ0Z,IAAK2L,EAAK9kB,MAAMmZ,KAElBnR,GAAI,CACFmR,IAAK8L,EAAS9L,SAOpB,OAHAjgB,KAAKwrB,QAAU/B,EACfzpB,KAAKmrB,OAAS3K,EAAUkJ,UACxB1pB,KAAKyrB,MAAQ9B,EACN,CAAEF,UAASE,WAAUD,UAAWlJ,EAAUkJ,a,sCAGjD,IAAIlb,EAAcxO,KAAKwO,YACnBoS,EAAa5gB,KAAKyR,QAAQjD,EAAY+H,UAEtCiK,GADeI,EAAW/gB,OAAS,EAAI+gB,EAAW/gB,OAAS+gB,EAAW,GAAG/gB,OAC7D4d,kBAAOjgB,KAAKwC,KAAM4gB,EAAYpS,IACjCxO,KAAK6W,MAAMS,OACXtX,KAAKshB,aAWlB,OAVAd,EAAUiJ,QAAUjJ,EAAUiJ,QAAQlhB,KAAI,SAACsQ,EAAKxb,GAQ9C,OAAOwb,KAEF,CAAE2H,e,yEAMT,IAAII,EAAa5gB,KAAKyR,QAAL,KAGjB,MAAO,CACLyD,MAAO,MACPoW,cAJe5lB,MAAMa,KAAK,CAAE1G,OAAQ+gB,EAAW,GAAG/gB,SAAU,iBAAM,aAKlEmO,OAAQ,CACNge,SAAU,CACRvd,UAAW,CAAEF,SAAU,IACvBrL,QAAS,CAAEoT,QAAS,KACpB9F,MAAO,CAAE8F,QAAS,S,sCAOxB,MAAO,CACL0C,KAAM,CAAES,SAAU,GAAID,UAAW,W,mCAqCxBvW,EAAGmF,GACdpI,KAAKyR,QAAQqP,aADK,IAEZwK,EAAkBtrB,KAAKwO,YAAvB8c,cACNA,EAActrB,KAAKsgB,YAAc,UACjCtgB,KAAKmO,KAAK,gBAAiBmd,GAC3BtrB,KAAKsgB,YAAc,I,6BAMd9O,GAAM,aAC2CxR,KAAKwO,YAArDuH,EADK,EACLA,WAAYuV,EADP,EACOA,cAAetd,EADtB,EACsBA,OAAQuI,EAD9B,EAC8BA,SACnCW,EAASlX,KAAKshB,aAChBV,EAAa5gB,KAAKyR,QAAQ8E,GAE1Be,GADesJ,EAAW/gB,OAAS,EAAI+gB,EAAW/gB,OAAS+gB,EAAW,GAAG/gB,OAChEG,KAAK6W,MAAMS,QACxB,OACE,UAAC,QAAD,CACE2I,IAAK,CAAClK,EAAWC,KAAMD,EAAWE,KAClCuL,KAAM,CAACzL,EAAWK,MAAOL,EAAWM,QACpCoL,aAAczhB,KAAKyhB,aACnBE,aAAc3hB,KAAK6hB,YACnBA,YAAa7hB,KAAK6hB,YAClBE,QAAS/hB,KAAKisB,SAGd,UAAC,QAAD,CAAO3e,IAAI,UAAUiU,MAAM,iBACxB/P,EAAKiY,QAAQlhB,KAAI,SAAC2jB,EAAQ/b,GACzB,IAAIgC,EAAO,EAAKV,QAAQ8E,GAAUpG,EAAMyQ,EAAW/gB,QAAQ4H,KAAK4jB,MAAMlb,EAAMyQ,EAAW/gB,SACjF2W,EAAQmE,SAAS,EAAM,SAAU,CAAC,kBAAEN,QAAS/C,EAAOnF,EAAKT,MAASwa,EAAOplB,OAASoQ,EAAO2B,KAAM,CAAC1G,EAAKX,KAAM/J,KAAK4jB,MAAMlb,EAAMyQ,EAAW/gB,QAASsQ,EAAMyQ,EAAW/gB,SACjKknB,EAAapM,SAAS,EAAM,eAAgB,GAAI,CAACxI,EAAKX,KAAM/J,KAAK4jB,MAAMlb,EAAMyQ,EAAW/gB,QAASsQ,EAAMyQ,EAAW/gB,SAIxH,MAHmB,UAAfsS,EAAKlE,OACP4F,gBAAgB2C,EAAOuQ,GAElB,UAAC,SAAD,OAAYmF,EAAOplB,MAAWolB,EAAO3lB,KAAUiQ,EAA/C,CAAsD/H,UAAW,CAAElI,KAAM2lB,EAAO3lB,KAAMuI,GAAIod,EAAOpd,UAEzG0C,EAAKmY,SAASphB,KAAI,SAACyQ,EAAM7I,GACxB,IAAIgc,EAAWhqB,IAAYqP,EAAKiY,QAAQtZ,GAAKrJ,MAAO,CAAC,MAAO,SACxDslB,EAAYzR,SAAS,EAAM,OAAQ,CAAC,CAAEwR,SAAUA,GAAYjV,EAAO8B,MAAO,CAAC,EAAKvH,QAAQqQ,KAAK3R,EAAMyQ,EAAW/gB,QAAQ4H,KAAK4jB,MAAMlb,EAAMyQ,EAAW/gB,SAAS2R,KAAM/J,KAAK4jB,MAAMlb,EAAMyQ,EAAW/gB,QAASsQ,EAAMyQ,EAAW/gB,SAQ3N,OANAusB,EAAYjqB,IAAYiqB,EAAW,GAAI,CAAC,cAC1BnM,MACZ,EAAKwL,MAAMtb,GAAKrJ,MAAMmZ,IAAMmM,EAAUnM,IACtCjH,EAAKlK,GAAGmR,IAAMmM,EAAUnM,MAGL,IAAdmM,EAAsB,KAC3B,UAAC,QAAD,OACMpT,EAAKlS,MACLslB,EAFN,CAGE3d,UAAW,CACTlI,KAAMyS,EAAKzS,KACXuI,GAAIkK,EAAKlK,WAMnB,UAAC,QAAD,CAAOxB,IAAI,WAAWiU,MAAM,mBACzB/P,EAAKkY,UAAUnhB,KAAI,SAAC2jB,EAAQ/b,GAC3B,IAAIqG,EAAQmE,SAAS,EAAM,mBAAoB,GAAI,CAAC,EAAKlJ,QAAQqQ,KAAK3R,EAAMyQ,EAAW/gB,QAAS4H,KAAK4jB,MAAMlb,EAAMyQ,EAAW/gB,UAC5H,OAAiB,IAAV2W,EAAkB,KAAO,UAAC,SAAD,KAAQvI,MAAOqd,EAAcnb,GAAMnC,OAAQA,EAAOge,UAAcE,EAAY1V,W,kCA3NpH,OADY,+C,KAZE/B,ICJH,SAASgJ,uBAAO5b,EAAKiF,GAElC,IAAM0K,EAAO3P,EACLka,EAAgEjV,EAAhEiV,MAAOmB,EAAyDpW,EAAzDoW,YAAanH,EAA4CjP,EAA5CiP,WAAYsW,EAAgCvlB,EAAhCulB,cAAe7J,EAAiB1b,EAAjB0b,aAEjD4G,EAAU,CADUrT,EAAlBK,MAAkBL,EAAXM,QAETiT,EAAW+C,GAAiB,EAC5B9C,EAAWziB,EAAMyiB,UAAY,EAE7BhG,EAASzc,EAAMyc,QAAU,EACzB+I,EAAiBxlB,EAAM6d,aAAe,EAGtC8E,GAFW3iB,EAAMylB,SAEP,IAKV1C,EAAY1P,UAAK3c,KAAKwC,KAAM,CAAEyb,QAASjK,EAAMuK,QAAOmB,gBAC1D,IAAK2M,IAAcA,EAAUhqB,OAC3B,MAAO,CAAE4pB,WAGX,IAAMK,EAAYriB,KAAK2D,IAAIge,EAAQ,GAAIA,EAAQ,IACzCW,EAAetiB,KAAKC,IAAI3H,MAAMC,KAAM6pB,GACpCG,EAAeviB,KAAK2D,IAAIrL,MAAMC,KAAM6pB,GACpCI,EAAiBF,GAAgBA,EAAeC,GAChDE,EAyHR,SAAwB1Y,GAEtB,IADA,IAAI2Y,EAAO,EACF9sB,EAAI,EAAGmF,EAAMgP,EAAK3R,OAAQxC,EAAImF,EAAKnF,IACjB,aAArBmU,EAAKnU,GAAG,GAAG4Q,OACbkc,IAMJ,OAAOA,GAAQ,EAnIOC,CAAe5Y,GAE/B6Y,EAAY7Y,EAAK,GAAG3R,OACpB2sB,EAAiB,GAAMjJ,EAASuG,EAChCQ,EAAoBkC,GAAkBzC,EAAeC,GAC3D,GAAKjO,EA8DH,IAAK,IAAI1e,EAAI,EAAGmF,EAAM6nB,EAAWhtB,EAAImF,EAAKnF,IAOxC,IANA,IAAIktB,EAAc,EACdC,EAAgB,EAChBlsB,EAAQ,EACRmsB,EAAS,CAAEC,MAAO,IAClB+B,GAAwB,EAAVhlB,KAAKgC,GAAS4gB,EAAYf,GAAYe,EAE/C3nB,EAAI,EAAGioB,EAAOnZ,EAAK3R,OAAQ6C,EAAIioB,EAAMjoB,IAAK,CAIjD,IAAI4f,GAAcmK,EAAanD,GAAYjsB,EAAc,GAAVoK,KAAKgC,GAEhDohB,EAAYP,GADhBhsB,EAAQkT,EAAK9O,GAAGrF,GAAGiB,OAEfqmB,EACFrmB,EAAQ,EACJkuB,GAAkB,EAAIvC,GAAkBO,EACxCgC,GAAkB,EAAIvC,GAAkBM,EAG1CpT,EAAO,CACTwN,YAHFA,GAA4B2H,EAAiBxC,EAAY,GAIvD9E,YAAaL,EAAckG,EAAYtB,EACvCjH,WAA0B,IAAbA,EAAoB7a,KAAKgC,GACtC8Y,SAAuC,KAA3BD,EAAamK,GAAqBhlB,KAAKgC,GACnDnL,MAAOkT,EAAK9O,GAAGrF,GAAGiB,MAClB0a,KAAMxH,EAAK9O,GAAGrF,GAAG2b,KACjB/K,MAAOuD,EAAK9O,GAAGrF,GAAG4Q,MAClBuD,KAAMA,EAAK9O,GAAGrF,GAAGmU,KACjBqR,UAVc,CAAC,EAAG,IAaD,UAAf1L,EAAKlJ,MACPkJ,EAAKY,YAAc,cAEZZ,EAAKY,YAEK,aAAfZ,EAAKlJ,MACPkJ,EAAKb,QAAU,GAEfa,EAAKb,QAAU,EACfhY,EAAQ,EACHksB,GAAgCK,EAChCN,GAA4BM,EACjCJ,EAAOC,MAAMjoB,KAAK0U,IAEpBsS,EAAQhnB,KAAK0U,QA1GjB,IAAK,IAAI9Z,EAAI,EAAGmF,EAAM6nB,EAAWhtB,EAAImF,EAAKnF,IAMxC,IALA,IAAI8sB,EAAO,EAEPM,EAAS,CAAEC,MAAO,IAClB+B,GAAwB,EAAVhlB,KAAKgC,GAAS4gB,EAAYf,GAAYe,EAE/C3nB,EAAI,EAAGioB,EAAOnZ,EAAK3R,OAAQ6C,EAAIioB,EAAMjoB,IAAK,CAIjD,IAAIgqB,EAAWD,EAAavC,EACxB5H,GACDmK,EAAanD,GAAYjsB,EAAIqvB,GAAYhqB,EAAIynB,GAAkB,GAAV1iB,KAAKgC,GAGzDkb,EACF6H,GAAkB,EAAIvC,GACtBqC,EAAiBxC,EAAY,GAG3B3S,EAAO,CACTwN,YAAaA,EACbK,YAAaL,EARC2F,EADR9Y,EAAK9O,GAAGrF,GAAG8e,iBAUjBmG,WAA0B,IAAbA,EAAoB7a,KAAKgC,GACtC8Y,SAAqC,KAAzBD,EAAaoK,GAAmBjlB,KAAKgC,GACjDnL,MAAOkT,EAAK9O,GAAGrF,GAAGiB,MAClB0a,KAAMxH,EAAK9O,GAAGrF,GAAG2b,KACjB/K,MAAOuD,EAAK9O,GAAGrF,GAAG4Q,MAClBuD,KAAMA,EAAK9O,GAAGrF,GAAGmU,KACjB5F,GAAIvO,EAAIstB,EAAOjoB,EACfmgB,UAXc,CAAC,EAAG,IAapB,GAAmB,UAAf1L,EAAKlJ,MAAmB,CAC1B,IAAI+U,IAAa7L,EAAKmL,WAAanL,EAAKoL,UAAY,EAAK,IACzDpL,EAAK+L,eAA6BF,GA6F1B,IAAOvb,KAAKgC,GA3FpB0N,EAAK0L,UAAY,CACfL,EAAe/a,KAAK+B,IAAI2N,EAAK+L,gBAC7BV,EAAe/a,KAAKkC,IAAIwN,EAAK+L,iBAId,aAAf/L,EAAKlJ,OACPkJ,EAAKoL,SAAWpL,EAAKmL,WACrBnL,EAAKoM,OAAS,EACdpM,EAAKb,QAAU,EACf6T,MAEAhT,EAAKb,QAAU,EACfmU,EAAOC,MAAMjoB,KAAK0U,IAEhBkT,EAAY,WACPlT,EAAKmL,kBACLnL,EAAKoL,UAEdkH,EAAQhnB,KAAK0U,GAwDnB,MAAO,CAAEsS,W,soBCIIxQ,G,YAhJb,kBAAYnS,GAAO,iCACjB,mCAAMA,KACDiB,KAAO,WACZ,EAAKyjB,QAAU,GACf,EAAKlL,YAAc,EACnB,EAAK1T,MAAQ,KALI,E,0EAeJ,IAEP4T,EAAcxgB,KAAKugB,gBAAnBC,UAUN,OATAxgB,KAAKwrB,QAAUhL,EAAUiJ,QASlB,CAAEA,QARKjJ,EAAUiJ,QAAQlhB,KAAI,SAAA+I,GAClC,MAAO,CACL/K,KAAM,CACJgc,SAAUjR,EAAKgR,YAEjBxT,GAAIwC,S,qCAMR,IAAMka,EAAUxrB,KAAKwrB,QACfvL,EAAQjgB,KAAKwO,YAAbyR,IACAO,EAAcxgB,KAAKugB,gBAAnBC,UACFiJ,EAAUjJ,EAAUiJ,QAAQlhB,KAAI,SAACojB,EAAYtuB,GAC/C,IAAIihB,EAAS,CAAC2B,EAAI,GAAK0L,EAAW9I,UAAU,GAAI5C,EAAI,GAAK0L,EAAW9I,UAAU,IAE9E,OADA8I,EAAW1L,IAAM3B,EACV,CACL/X,KAAM,yBAAKilB,EAAQnuB,IACnByR,GAAI,yBAAK6c,OAIb,OADA3rB,KAAKwrB,QAAUhL,EAAUiJ,QAClB,CAAEA,a,sCAEK,WACVjb,EAAcxO,KAAKwO,YACnBoS,EAAa5gB,KAAKyR,QAAL,KACjB,IAAKmP,GAAoC,IAAtBA,EAAW/gB,OAC5B,MAAO,CAAE4pB,QAAS,IAEpB,IAAMkD,EAAa/L,EAAW/gB,OAC9BG,KAAK4sB,UAAYlnB,MAAMa,KAAK,CAAE1G,OAAQ+gB,EAAW/gB,SAAU,WACzD,OAAO,KAET,IAAI2gB,EAAY/C,uBAAOjgB,KAAKwC,KAAM4gB,EAAYpS,GAC1C8I,EAAStX,KAAK6W,MAAMS,OACpBJ,EAASlX,KAAKshB,aAgBlB,OAdAd,EAAUiJ,QAAQjhB,SAAQ,SAACqQ,EAAKxb,GAC9B,IAAI8U,EAAOyO,EAAWvjB,EAAIsvB,GAAYllB,KAAK4jB,MAAMhuB,EAAIsvB,IACjDnW,EAAQ,EAAKA,MAAM,SAAX,CAAqBqC,EAAK1G,EAAKX,KAAMnU,GACjDwb,EAAIW,UAAYX,EAAIW,WAAalC,EAAOnF,EAAKT,KAC7CmH,EAAId,YAAcvJ,EAAYuJ,aAAe,OAC7Cc,EAAIoH,IAAMzR,EAAYyR,IACjBpH,EAAI3Z,eAAe,eAAkB2Z,EAAI3Z,eAAe,YAG3D2Z,EAAIhB,UAAY,EAFhBgB,EAAIhB,UAAY,EAIlB,IAAIgV,EAAWhZ,gBAAgB,GAAIqD,EAAO2B,IAAKrC,GAC/CqC,EAAMhF,gBAAgBgF,EAAKgU,MAEtB,CAAErM,e,yEAOT,MAAO,CACLtL,MAAO,MAEPsN,aAAc,M,sCAKhB,MAAO,K,mCAGI,WACXxiB,KAAK4M,MAAQxJ,YAAW,WACtB,EAAKqO,QAAQqP,aACb,EAAKR,YAAc,IAClB,O,gCAGKrd,EAAGmF,GACX/E,aAAarD,KAAK4M,OAElB,IAAIgU,EAAa5gB,KAAK4gB,aAClBzQ,EAAM/H,EAAG+F,KAAK,UACd2e,EAAWrlB,KAAK4jB,MAAMlb,EAAMyQ,EAAW/gB,QACvCitB,IAAa9sB,KAAKsgB,aACpBtgB,KAAKyR,QAAQqP,aACb9gB,KAAKyR,QAAsC,SAA9BzR,KAAKwO,YAAY+H,SAAsB,OAAS,QAAQuW,GAAU7e,MAAQ,QACvFjO,KAAKsgB,WAAawM,K,qCAKP7pB,EAAGmF,GAChBoF,QAAQ+d,IAAInjB,K,mCAGZ,IAAIoG,EAAcxO,KAAKwO,YACvB,OAAOxO,KAAKyR,QAAQjD,EAAY+H,Y,6BAE3B/E,GAAM,aACmCxR,KAAKwO,YAE/C0I,GAHO,EACLnB,WADK,EACO8O,cADP,EACsBV,SACpBnkB,KAAK6W,MAAMS,OACXtX,KAAKshB,cAClB,OACE,UAAC,QAAD,CAAOC,MAAM,YAAYjU,IAAI,QAC3B,UAAC,QAAD,CAAOiU,MAAM,cAAcE,aAAczhB,KAAK8kB,YAC3CtT,EAAKiY,QAAQlhB,KAAI,SAACwc,EAAM5U,GACvB,IAAIqG,EAAQmE,SACV,EACA,SACA,CACE,CACEsK,OAAQ9U,GAEV+G,EAAOqB,QAET,CAAC,EAAK9G,QAAQqQ,KAAK3R,GAAMA,IAE3B,MAAsB,aAAf4U,EAAK9W,QAAkC,IAAVuI,EAAkB,UAACgB,KAAD,MAAW,UAAC,OAAD,KAAMqK,YAAa,EAAKqD,WAAe1O,EAAvC,CAA8C/H,UAAW,CAAElI,KAAMwe,EAAKxe,KAAMuI,GAAIiW,EAAKjW,c,kCAhI9J,IAAIhI,EAAQ,gDAFI,EAGmBA,EAAMiP,WAAnCM,EAHU,EAGVA,OAAQD,EAHE,EAGFA,MAAOH,EAHL,EAGKA,IAAKD,EAHV,EAGUA,KAE1B,OADAlP,EAAMmZ,IAAM,CAACjK,EAAOI,EAAQ,EAAGH,EAAMI,EAAS,GACvCvP,M,UAbY2N,ICLR,SAASgJ,qBAAO5b,EAAKiF,GAelC,IAbA,IAAM0K,EAAO3P,EACLkrB,EAA0CjmB,EAA1CimB,MAAOC,EAAmClmB,EAAnCkmB,QAASjX,EAA0BjP,EAA1BiP,WAAY7G,EAAcpI,EAAdoI,UAC5BkH,EAAkBL,EAAlBK,MAAOC,EAAWN,EAAXM,OAET4W,EAAW,GACXhF,EAAS,GACTiF,EAAa,GACbC,EAAa,GACbzlB,EAAM7F,EAAI,GAAG,GAAGvD,MAChB8uB,EAAehX,EAAQ1O,EACvB2lB,EA+FR,SAAwB7b,GAEtB,IADA,IAAI2Y,EAAO,EACF9sB,EAAI,EAAGmF,EAAMgP,EAAK3R,OAAQxC,EAAImF,EAAKnF,IACjB,aAArBmU,EAAKnU,GAAG,GAAG4Q,OACbkc,IAGS,IAATA,GACF3c,QAAQgG,KAAK,iBAEf,OAAO2W,GAAQ,EAzGKC,CAAe5Y,GAC/B2Y,EAAO,EACLjU,EAAkB,UAAV6W,EACL1vB,EAAI,EAAGmF,EAAMgP,EAAK3R,OAAQxC,EAAImF,EAAKnF,IAAK,CAC/C,IAAI8b,EAAU,CAAEmU,OAAO,EAAMzV,UAAW,EAAGoG,OAAQ,IAC7C9L,EAAOX,EAAKnU,GAAG,GACfiB,EAAQ6T,EAAK7T,MACfkR,EAAS,EACT+d,EAAa,CAAC,EAAG,IAgBrB,GAfc,WAAVR,GACFQ,EAAa,CAAC,GAAK,IACnB/d,EAAS,IACC0G,IACV1G,EAAS,EACT+d,EAAa,CAAC,EAAG,KAEnBpU,EAAQ8E,OAAOxb,MACZiF,EAAMpJ,GAASkR,EAAS4d,EACxB/W,GAAUhZ,EAAI8sB,GAASkD,GAE1BlU,EAAQ8E,OAAOxb,MACZiF,EAAM8H,EAASlR,GAAS,EAAIkR,IAAW4d,EACvC/W,GAAUhZ,EAAI8sB,GAASkD,GAEtBhwB,EAAI8sB,EAAO,EAAIkD,EAAa,CAG9B,IAFA,IAAIG,EAAU,EAEwB,aAA/Bhc,EAAKnU,EAAImwB,GAAS,GAAGvf,OAC1Buf,IAEF,IAAMC,EAAYjc,EAAKnU,EAAImwB,GAAS,GAAGlvB,MAEvC6a,EAAQ8E,OAAOxb,MACZiF,EAAM8H,EAASie,GAAa,EAAIje,IAAW4d,EAC3C/W,GAAUhZ,EAAI8sB,EAAO,GAAMkD,GAE9BlU,EAAQ8E,OAAOxb,MACZiF,EAAM+lB,GAAaje,EAAS4d,EAC5B/W,GAAUhZ,EAAI8sB,EAAO,GAAMkD,QAG1BL,EACF7T,EAAQ8E,OAAOxb,KAAK+M,EAAS4G,EAAOC,IAEpC8C,EAAQ8E,OAAOxb,MACZiF,EAAM8H,EAASlR,GAAS,EAAIkR,IAAW4d,EACvC/W,GAAUhZ,EAAI8sB,EAAO,GAAMkD,GAE9BlU,EAAQ8E,OAAOxb,MACZiF,EAAMpJ,GAASkR,EAAS4d,EACxB/W,GAAUhZ,EAAI8sB,EAAO,GAAMkD,IAIlClU,EAAQ7C,QAAU,EACC,aAAfnE,EAAKlE,QACPkL,EAAQ8E,OAAO,GAAK9E,EAAQ8E,OAAO,GACnC9E,EAAQ8E,OAAO,GAAK9E,EAAQ8E,OAAO,GACnC9E,EAAQ8E,OAAO,GAAK9E,EAAQ8E,OAAO,GACnC9E,EAAQ8E,OAAO,GAAK9E,EAAQ8E,OAAO,GACnC9E,EAAQ7C,QAAU,EAClB6T,KAEF,IAAM0B,EAAa,CACjBvV,QAAwB,aAAfnE,EAAKlE,MAAuB,EAAI,EACzC+K,KAAMvR,KAAK4V,MAAO,IAAM/e,EAASoJ,GAAO,IACxCgd,OAAQ6I,EACRtN,IAAK,CACH7J,EAAQ5G,EAA0B,IAAhB,GAAMA,IACtBnS,EAAI8sB,EAAO,IAAO9T,EAAUgX,GAEhC7T,UAAW,OACXC,SAAU,QAGNiU,EAAY,CAChBzP,OAFe0P,cAAcxU,EAAQ8E,OAAQ/H,GAE1B+H,OACnBlG,YAAa,QAETS,EAAY,CAChBgB,UAAW,OACXC,SAAU,OACVT,KAAM9J,EAAUiD,EAAKX,OAASW,EAAK6G,KAAO7G,EAAK7T,MAC/C2hB,IAAK,CAACyN,EAAUzP,OAAO,IAAM/H,EAAQ,IAAM,IAAKwX,EAAUzP,OAAO,IACjEyG,OAAQ,CAACxO,EAAQ,EAAI,EAAG,KAE1BgX,EAAWzqB,KAAKirB,GAChBP,EAAW1qB,KAAK+V,GAChByU,EAASxqB,KAAK0W,GACd8O,EAAOxlB,KAAKopB,GAGd,MAAO,CAAEoB,WAAUhF,SAAQiF,aAAYC,cAgBzC,SAASQ,cAAc1P,EAAQ/H,EAAOrW,GAGpC,IAAIwL,EAAG4V,EAWP,OAVI/K,GACA7K,GAAU4S,EAAO,GAAKA,EAAO,IAAM,EAAI,GAApCgD,GAAyChD,EAAO,GAAKA,EAAO,IAAM,IAErE5S,GACC4S,EAAO,IAAwB,IAAlBA,EAAOpe,OAAeoe,EAAO,GAAKA,EAAO,KAAO,EAAI,GAD/DgD,GAEFhD,EAAO,IAAwB,IAAlBA,EAAOpe,OAAeoe,EAAO,GAAKA,EAAO,KAAO,GAK3D,CACLA,OAAQ,CAAC5S,EAAG4V,EAFI/K,EAAQ7K,GAAKxL,GAAU,IAAMwL,GAAKxL,GAAU,IAAKohB,I,8nBC6FtD/H,G,YA7Nb,gBAAYpS,GAAO,8BACjB,iCAAMA,IADW,sBAqIT,WACR0G,QAAQ+d,IAAI,cApIZ,EAAKxjB,KAAO,SACZ,EAAKklB,SAAW,KAChB,EAAKhF,OAAS,KACd,EAAK3H,YAAc,EALF,E,sEAYJ,MAEsCtgB,KAAKugB,gBAAlD0M,EAFO,EAEPA,SAAUhF,EAFH,EAEGA,OAAQiF,EAFX,EAEWA,WAAYC,EAFvB,EAEuBA,WAgCpC,OA/BAF,EAAWA,EAAS1kB,KAAI,SAAAqlB,GACtB,MAAO,CACL9mB,MAAO,uBAAK8mB,GACZrnB,KAAM,CACJ0X,OAA8B,IAAtB2P,EAAI3P,OAAOpe,OAAe,CAAC+tB,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,IAAM,CAAC2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,GAAI2P,EAAI3P,OAAO,KAEtPnP,GAAI,CAEFmP,OAAQ2P,EAAI3P,YAIlBgK,EAASA,EAAO1f,KAAI,SAAA+I,GAClB,MAAO,CACLxK,MAAO,uBAAKwK,OAGhB4b,EAAaA,EAAW3kB,KAAI,SAAA+I,GAC1B,MAAO,CACLxK,MAAO,uBAAKwK,OAGhB6b,EAAaA,EAAW5kB,KAAI,SAAA+I,GAC1B,MAAO,CACLxK,MAAO,uBAAKwK,OAGhBtR,KAAKitB,SAAWA,EAChBjtB,KAAKioB,OAASA,EACdjoB,KAAKktB,WAAaA,EAClBltB,KAAKmtB,WAAaA,EACX,CAAEF,WAAUhF,SAAQkF,aAAYD,gB,qCAGvC,IAAIW,EAAc7tB,KAAKitB,SACnBa,EAAY9tB,KAAKioB,OACjB8F,EAAW/tB,KAAKmtB,WAChBa,EAAWhuB,KAAKktB,WAJP,EAKsCltB,KAAKugB,gBAAlD0M,EALO,EAKPA,SAAUhF,EALH,EAKGA,OAAQiF,EALX,EAKWA,WAAYC,EALvB,EAKuBA,WAiDpC,OAhDAF,EAAWA,EAAS1kB,KAAI,SAAC4Q,EAAS9b,GAChC,MAAO,CACLyJ,MAAO,uBAAKqS,GACZ5S,KAAM,CACJ0X,OAAQ4P,EAAYxwB,GAAGyR,GAAGmP,QAE5BnP,GAAI,CACFmP,OAAQ9E,EAAQ8E,YAItBgK,EAASA,EAAO1f,KAAI,SAAC+R,EAAOjd,GAC1B,MAAO,CACLyJ,MAAO,uBAAKwT,GACZ/T,KAAM,CACJ0Z,IAAK6N,EAAUzwB,GAAGyJ,MAAMmZ,KAE1BnR,GAAI,CACFmR,IAAK3F,EAAM2F,SAIjBkN,EAAaA,EAAW5kB,KAAI,SAAC+I,EAAMjU,GACjC,MAAO,CACLyJ,MAAO,uBAAKwK,GACZ/K,KAAM,CACJ0Z,IAAK8N,EAAS1wB,GAAGyJ,MAAMmZ,KAEzBnR,GAAI,CACFmR,IAAK3O,EAAK2O,SAIhBiN,EAAaA,EAAW3kB,KAAI,SAAC+I,EAAMjU,GACjC,MAAO,CACLyJ,MAAO,uBAAKwK,GACZ/K,KAAM,CACJ0X,OAAQ+P,EAAS3wB,GAAGyJ,MAAMmX,QAE5BnP,GAAI,CACFmP,OAAQ3M,EAAK2M,YAInBje,KAAKitB,SAAWA,EAChBjtB,KAAKioB,OAASA,EACdjoB,KAAKktB,WAAaA,EAClBltB,KAAKmtB,WAAaA,EACX,CAAEF,WAAUhF,SAAQkF,aAAYD,gB,sCAGvC,IAAI1e,EAAcxO,KAAKwO,YADT,EAGqCiP,qBADlCzd,KAAKyR,QAAQjD,EAAY+H,UAC4B/H,GACtE,MAAO,CAAEye,SAJK,EAGRA,SACahF,OAJL,EAGEA,OACWiF,WAJb,EAGUA,WACeC,WAJzB,EAGsBA,c,yEAQpC,MAAO,CACLjY,MAAO,SACPhG,UAAW,SAAAvR,GAAC,OAAKA,EAAEW,MAAQX,EAAEW,MAAQX,M,sCAKvC,MAAO,K,kCAEGmY,EAAO1N,GACjB,IAAI+H,EAAM/H,EAAG+F,KAAK,QAClBnO,KAAKyR,QAAQqP,aACb9gB,KAAKyR,QAAQzR,KAAKwO,YAAY+H,UAAUpG,GAAK,GAAGlC,MAAQ,U,mCAG7ChL,EAAGmF,GACdpI,KAAKyR,QAAQqP,e,+BAMNha,EAAOqL,GAAM,IACd0Z,EAAe/kB,EAAf+kB,WACN,GAAmB,aAAf1Z,EAAKlE,MAAT,CAGA,IAAMme,EAAYzR,SAAS3a,KAAM,OAAQ,CAAC,IAAK,CAACmS,EAAKX,KAAMW,EAAKT,MAChE,IAAkB,IAAd0a,EAIJ,OAAO,UAAC,QAAD,OAAWP,EAAgBO,O,6BAG7B5a,GAAM,aACiCxR,KAAKwO,YAA3CuH,EADK,EACLA,WACAkX,GAFK,EACO3B,cADP,EACsBtd,OACkBwD,EAA7Cyb,UAAUhF,EAAmCzW,EAAnCyW,OAAQiF,EAA2B1b,EAA3B0b,WAAYC,EAAe3b,EAAf2b,WAC9BjW,EAASlX,KAAKshB,aACdhK,EAAStX,KAAK6W,MAAMS,OAC1B,OACE,UAAC,QAAD,CAAOiK,MAAM,YAAYjU,IAAI,OAAO2S,IAAK,CAAClK,EAAWC,KAAMD,EAAWE,KAAMuL,KAAM,CAACzL,EAAWK,MAAOL,EAAWM,SAC9G,UAAC,QAAD,CAAO/I,IAAI,UAAUiU,MAAM,iBACxB0L,EAAS1kB,KAAI,SAAC2jB,EAAQ/b,GACrB,IAAMgC,EAAO,EAAKV,QAAQ,EAAKjD,YAAY+H,UAAUpG,GAAK,GACtDqG,EAAQmE,SAAS,EAAM,UAAW,CAAC,CAAEvK,KAAMD,EAAKqJ,UAAWlC,EAAOnH,IAAQ+G,EAAOiC,SAAU,CAAChH,EAAMhC,IAClG8R,EAAatH,SAAS,EAAM,gBAAiB,CAAC,CAAEvK,KAAMD,EAAKmG,QAAS,IAAOY,EAAOiC,SAAU,CAAChH,EAAMhC,IAIvG,MAHmB,UAAfgC,EAAKlE,OACP4F,gBAAgB2C,EAAOyL,GAGvB,UAAC,QAAD,KACE,UAAC,WAAD,KAAUJ,YAAa,EAAKA,YAAaJ,aAAc,EAAKA,cAAkByK,EAAOplB,MAAWolB,EAAO3lB,KAAUiQ,EAAjH,CAAwH/H,UAAW,CAAElI,KAAM2lB,EAAO3lB,KAAMuI,GAAIod,EAAOpd,YAW3K,UAAC,QAAD,CAAOxB,IAAI,aACR4f,EAAW3kB,KAAI,SAAC+I,EAAMnB,GACrB,IAAIgC,EAAO,EAAKV,QAAQ,EAAKjD,YAAY+H,UAAUpG,GAAK,GACxD,GAAmB,aAAfgC,EAAKlE,MAAT,CAGA,IAAMggB,EAAYtT,SAAS,EAAM,YAAa,CAAC,IAAK,CAACxI,EAAKX,KAAMW,EAAKT,MACrE,IAAkB,IAAduc,EAGJ,OAAO,UAAC,WAAD,OAAc3c,EAAKxK,MAAWwK,EAAK/K,KAAU0nB,EAA7C,CAAwDxf,UAAW,CAAElI,KAAM+K,EAAK/K,KAAMuI,GAAIwC,EAAKxC,YAG1G,UAAC,QAAD,CAAOxB,IAAI,aACR6f,EAAW5kB,KAAI,SAAC+I,EAAMnB,GACrB,IAAIgC,EAAO,EAAKV,QAAQ,EAAKjD,YAAY+H,UAAUpG,GAAK,GACxD,GAAmB,aAAfgC,EAAKlE,MAAT,CAGA,IAAMme,EAAYzR,SAAS,EAAM,YAAa,CAAC,IAAK,CAACxI,EAAKX,KAAMW,EAAKT,MACrE,IAAkB,IAAd0a,EAGJ,OAAO,UAAC,QAAD,OAAW9a,EAAKxK,MAAWwK,EAAK/K,KAAU6lB,EAA1C,CAAqD3d,UAAW,CAAElI,KAAM+K,EAAK/K,KAAMuI,GAAIwC,EAAKxC,YAGvG,UAAC,QAAD,CAAOxB,IAAI,SACR2a,EAAO1f,KAAI,SAAC+I,EAAMnB,GACjB,IAAIgC,EAAO,EAAKV,QAAQ,EAAKjD,YAAY+H,UAAUpG,GAAK,GACxD,GAAmB,aAAfgC,EAAKlE,MAAT,CAGA,IAAMme,EAAYzR,SAAS,EAAM,OAAQ,CAAC,IAAK,CAACxI,EAAKX,KAAMW,EAAKT,MAChE,IAAkB,IAAd0a,EAGJ,OAAO,UAAC,QAAD,OAAW9a,EAAKxK,MAAWwK,EAAK/K,KAAU6lB,EAA1C,CAAqD3d,UAAW,CAAElI,KAAM+K,EAAK/K,KAAMuI,GAAIwC,EAAKxC,e,kCA5M3G,OADY,kD,QAVK2F,I,0pBCDrB,IAAMyZ,oBAAe,SAAC1c,GACpB,OAAoB,IAAhBA,EAAK3R,OACA,CAAC,EAAG,GAIN,CAFK4H,KAAK2D,IAAL,MAAA3D,KAAI,KAAQ+J,IACZ/J,KAAKC,IAAL,MAAAD,KAAI,KAAQ+J,MAIpB2c,mBAAc,SAAC3c,GACnB,GAAoB,IAAhBA,EAAK3R,OACP,MAAO,CAAC,EAAG,GAFe,MAITquB,oBAAa1c,GAJJ,WAIrBpG,EAJqB,KAIhB1D,EAJgB,KAO5B,MAAO,CAAK,IAFFD,KAAK4V,MAAMjS,EAAM,IAAM,GAEb,IADV3D,KAAK4V,MAAM3V,EAAM,IAAM,KAI7B0mB,wBAAmB,SAAC1S,EAAS2S,GAAe,IACxCjjB,EAAaijB,EAAbjjB,IAAK1D,EAAQ2mB,EAAR3mB,IACO,WAAhBuM,OAAO7I,KACTsQ,EAAQ,GAAKtQ,GAEK,WAAhB6I,OAAOvM,KACTgU,EAAQ,GAAKhU,IAIF,SAAS+V,sBAAOhC,EAAS+F,EAAM8M,GAAW,UAC/B9M,EAD+B,GAChDpL,EADgD,KACzCC,EADyC,OAGRoF,EAAQpK,OAAzCkd,EAHyC,EAG/CvV,KAAwBwV,EAHuB,EAG9BlwB,MACnBmwB,EAAU,KAAIhT,GAGdgF,EAASyN,oBAAazS,EAAQqG,KAAKvZ,KAAI,SAAC5K,GAAD,OAAOA,EAAEkC,WAAS,GAE3D6uB,EAAU,CAAC,EAAGjO,EAAS,GACvBkO,EAAW,CAAC,EAAGlO,EAAS,GACtBmO,EAAcH,EAAQ/I,MAAK,SAAC/nB,GAAD,MAA0B,WAAnBsW,OAAOtW,EAAEqb,SACjD,IAAK4V,EAAa,CAChBD,EAAWR,mBAAYM,EAAQlmB,KAAI,SAAC5K,GAAD,OAAOA,EAAEqb,SAC5C,IAAM6V,EAAU1U,UAAK3c,KAAKwC,KAAM,CAC9Byb,QAASgT,EACT1S,OAAO,EACP+S,MAAOP,EACP7S,QAASiT,IAEXD,EAAUR,oBAAaW,GAIzB,GADoBJ,EAAQ/I,MAAK,SAAC/nB,GAAD,MAA2B,WAApBsW,OAAOtW,EAAEW,UAE/C,MAAM,IAAIyF,MAAM,mDAElB,IAAIgrB,EAAWZ,mBAAYM,EAAQlmB,KAAI,SAAC5K,GAAD,OAAOA,EAAEwe,qBAC1C6S,EAAU7U,UAAK3c,KAAKwC,KAAM,CAC9Byb,QAASgT,EACT1S,OAAO,EACP+S,MAAO,mBACPpT,QAASqT,IAELE,EAAUf,oBAAac,GAEzBV,IACEA,EAAUC,IACZH,wBAAiBO,EAAUL,EAAUC,IAEnCD,EAAUE,IACZJ,wBAAiBW,EAAUT,EAAUE,KAIzC,IAAMU,EAAe,GACrBA,EAAaX,GAAa,CAAEnjB,IAAKujB,EAAS,GAAIjnB,IAAKinB,EAAS,IAC5DO,EAAaV,GAAc,CAAEpjB,IAAK2jB,EAAS,GAAIrnB,IAAKqnB,EAAS,IAE7D,IAAMI,EAAUhU,cACbC,OAAOsT,GACPrT,MAAM,CAAC,EAAGjF,IACPgZ,EAAUjU,cACbC,OAAO6T,GACP5T,MAAM,CAAC,EAAGhF,IAwBb,MAAO,CAAE7E,KAtBUiK,EAAQqG,KAAKvZ,KAAI,SAAC8mB,GACnC,IAAMvoB,EAAQuoB,EAAM9mB,KAAI,SAAC5K,EAAGN,GAC1B,IAAMgO,EAAIujB,EAAcvxB,EAAIM,EAAEqb,KACxBiI,EAAItjB,EAAEwe,iBAEZ,MAAO,CACL8D,IAFU,CAACkP,EAAQ9jB,GAAIgL,EAAS+Y,EAAQnO,IAGxCsC,OAAQ,EACRmB,OAAQ,CAAC,EAAG,GACZyB,WAAY,+BAAKxoB,EAAE6T,MACnBvD,MAAOtQ,EAAEsQ,MACTrQ,KAAMyxB,EAAMzxB,KACZ+T,IAAKhU,EAAEgU,IACPD,IAAK/T,EAAE+T,QAGX,MAAO,CACL9T,KAAMyxB,EAAMzxB,KACZqQ,MAAOohB,EAAMphB,MACbnH,YAGuBwnB,UAAWY,G,koBC2HzB9V,G,YAlOb,mBAAwB,MAAZtS,EAAY,uDAAJ,GAAI,0BACtB,kCAAMA,KACDiB,KAAO,UACZ,EAAKunB,YAAc,GACnB,EAAKC,cAAgB,GAJC,E,wEAQtB,MAAO,CACLra,MAAO,UACPsa,WAAY,KACZC,UAAW,KACXC,UAAW,KACXrW,eAAe,EACfiV,UAAW,Q,oCAQD,WACN7S,EAAUzb,KAAKyR,QADT,EAEsBzR,KAAKwO,YAA/B8f,EAFI,EAEJA,UAAWvY,EAFP,EAEOA,WAFP,EAG8B0H,sBAAOjgB,KAC/CwC,KACAyb,EACA,CAAC1F,EAAWK,MAAOL,EAAWM,QAC9BiY,GAJM9c,EAHI,EAGJA,KAAiB0d,EAHb,EAGEZ,UAgBd,OAVAza,gBAAgB7T,KAAKwO,YAAY8f,WAAa,GAAIY,GAElD1d,EAAKhJ,SAAQ,SAAC8I,EAAMjU,GAClB,IAAMsqB,EAAQ,EAAK9Q,MAAMS,OAAOja,GAC1Bmc,EC3CL,SAAmBmW,EAAKrZ,GAE7B,GAAI,eAAe1T,KAAK+sB,GACtB,OAAOA,EAET,IAAIjyB,EACJ,GAAI,2BAA2BkF,KAAK+sB,GAMlC,OAJiB,KADjBjyB,EAAIiyB,EAAInsB,UAAU,GAAGkK,MAAM,KACrB7N,SACJnC,EAAI,CAACA,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,KAIhD,QACA,EAHFA,EAAI,KAAOA,EAAEkyB,KAAK,MAGT,GAAM,IAAMlyB,GAAK,EAAK,IAAS,IAAJA,GAASkyB,KAAK,KAChD,IACAtZ,EACA,IAGJ,MAAM,IAAIvS,MAAM,WDuBM8rB,CAAUlI,EAAO,IACnCrW,EAAKxK,MAAM0B,SAAQ,SAACsnB,GAClBA,EAAG/X,YAAc4P,EACjBmI,EAAGtW,UAAYA,QAGZhI,I,qCAGM,WACb,2DACA,IAAM2V,EAAannB,KAAKknB,cAClB6I,EAAO5I,EAAW5e,KAAI,SAACmJ,GAAD,OAASmC,gBAAgB,GAAInC,MA0CzD,OAzCAyV,EAAW3e,SAAQ,SAACkJ,EAAKvB,GACvB,IAAM6f,EAAS,EAAKV,YAAYnf,GAChCuB,EAAI5K,MAAM0B,SAAQ,SAAC2J,EAAM8d,GACvB,IAAM1M,EAAS,EAAK2M,cAAL,wBAAwB/d,IAEvC,GADAA,EAAKoR,OAASA,EACVyM,GAAUA,EAAOlpB,MAAMmpB,GAAO,CAChC,IAAME,EAAUH,EAAOlpB,MAAMmpB,GACvBxL,EAAQ,KAAItS,EAAK8N,KACjBqE,EACJ6L,EAAQ1hB,UAAUK,IAAMqhB,EAAQ1hB,UAAUK,GAAGmR,IAA7C,KAAuDkQ,EAAQ1hB,UAAUK,GAAGmR,KAA5E,KAAuFkQ,EAAQlQ,KAEjG,GAAIwE,EAAM3hB,aAAewhB,EAAQxhB,WAAY,CAC3C,IAAIstB,EAAa7M,EACb8M,EAAW9M,EAEI,aAAfpR,EAAKlE,QACPoiB,EAAW,GAGsB,GAA/BF,EAAQ1hB,UAAUK,GAAGyU,SACvB6M,EAAa,GAEfje,EAAK1D,UAAY,CACflI,KAAM,CAAEgd,OAAQ6M,GAChBthB,GAAI,CAAEyU,OAAQ8M,SAGhBle,EAAK1D,UAAY,CACflI,KAAM,CAAE0Z,IAAKqE,GACbxV,GAAI,CAAEmR,IAAKwE,SAIftS,EAAK1D,UAAY,CACflI,KAAM,CAAEgd,OAAQ,GAChBzU,GAAI,CAAEyU,OAAQA,UAKtBvjB,KAAKsvB,YAAcS,EACZ5I,I,qCAGM,WACb,2DACA,IAAMvG,EAAa5gB,KAAKknB,cAWxB,OAVAlnB,KAAKsvB,YAAc1O,EAAWrY,KAAI,SAACmJ,GAAD,OAASmC,gBAAgB,GAAInC,MAC/DkP,EAAWpY,SAAQ,SAACkJ,GAClBA,EAAI5K,MAAM0B,SAAQ,SAAC2J,GACjB,IAAMoR,EAAS,EAAK2M,cAAL,wBAAwB/d,IACvCA,EAAK1D,UAAY,CACflI,KAAM,CAAEgd,OAAQ,GAChBzU,GAAI,CAAEyU,iBAIL3C,I,oCAGKzS,GAAM,MACenO,KAAKwO,YAA9BkhB,EADU,EACVA,UAAWD,EADD,EACCA,UACXlM,EAAuBpV,EAAvBoV,OAAQ4C,EAAehY,EAAfgY,WAEhB,IAAKsJ,IAActJ,EAAWjnB,eAAeuwB,GAC3C,OAAOlM,EAGT,IAAKmM,EACH,OAAOvJ,EAAWsJ,GAGpB,IAAMhB,EAAU,KAAIzuB,KAAKyR,SAASlJ,KAAI,SAAC5K,GAAD,OAAOA,EAAE6T,KAAKie,MAAY3c,MAAK,SAACrN,EAAGuF,GAAJ,OAAUvF,EAAIuF,KAKnF,OAJemQ,cACZC,OAAO,CAACqT,EAAQ,GAAIA,EAAQA,EAAQ5uB,OAAS,KAC7Cwb,MAAMqU,EACQjnB,CAAO0d,EAAWsJ,M,mCAIxB3Z,EAAO1N,GAClB,IADsB,EACVA,EAAGrB,SAAS,GACsBuf,WAAjCgK,EAFS,EAEd5e,IAAkB6e,EAFJ,EAED5e,IAAasO,EAFZ,EAEYA,IAOlC,GANAjgB,KAAKyR,QAAQjJ,SAAQ,SAAC2J,GAChBA,EAAKT,MAAQ4e,GAAUne,EAAKR,MAAQ4e,IACtCpe,EAAKlE,MAAQ,YAGSjO,KAAKwO,YAAvB6K,cACW,OACSrZ,KAAKwO,YAAYuH,WAAnCM,EADS,EACTA,OAAQD,EADC,EACDA,MAChBpW,KAAKuvB,cAAgB,CACnB,CACE,CAAC,EAAGtP,EAAI,IACR,CAAC7J,EAAO6J,EAAI,KAEd,CACE,CAACA,EAAI,GAAI,GACT,CAACA,EAAI,GAAI5J,Q,mCAKJP,EAAO1N,GACNA,EAAGrB,SAAS,GACxB/G,KAAKyR,QAAQqP,aACb9gB,KAAKuvB,cAAgB,K,wCAIrB,GAAIvvB,KAAKuvB,cAAc1vB,OAAS,EAC9B,OAAOG,KAAKuvB,cAAchnB,KAAI,SAAC0V,GAC7B,OAAO,UAAC,WAAD,CAAUA,OAAQA,EAAQlG,YAAa,OAAQF,UAAW,EAAGsQ,UAAW,CAAC,GAAK,W,oCAM7E3W,GAAM,WACVge,EAAexvB,KAAKwO,YAApBghB,WAyCR,OAxCiBhe,EAAKjJ,KAAI,SAAC+I,EAAMwe,GAC/B,OAAOxe,EAAKxK,MAAMyB,KAAI,SAAC4F,EAAMqiB,GAC3B,IAAIha,EAAQ,EAAKA,MAAM,QAAX,CAAoBrI,EAApB,wBAA+BA,EAAKgY,YAAcqK,GAC9D,IAAc,IAAVha,EAAJ,CAIA,IAAIia,EAAY,KAEhB,GAAIjB,EAAY,CACd,IAAMhZ,EAAQ,EAAKA,MAAM,QAAX,CAAoBrI,EAApB,wBAA+BA,EAAKgY,YAAcqK,GAChE,IAAc,IAAVha,GACErI,EAAKgY,WAAWjnB,eAAeswB,GAAa,KACtCzX,EAA0B5J,EAA1B4J,YAER0Y,EAAY5c,gBAHkC,KACZ1F,EADY,iBAK5C,CACEqL,UAAWzB,EACXiB,KALS7K,EAAKgY,WAAWqJ,GAMzB9K,OAAQ,CAAC,GAAK,IACdjL,SAAU,OACV1C,OAAQ,GAAK+Y,EAAKU,GAEpBha,IAKR,IAAMka,EAAS,EAAKla,MAAM,cAAX,CAA0BrI,EAAMA,EAAKgY,WAAYqK,IAAO,GACjExJ,EAA4B,UAAf7Y,EAAKF,MAAoByiB,EAAS,GAErD,OACE,UAAC,QAAD,CAAO7O,YAAa,EAAKF,aAAcF,aAAc,EAAKA,cACxD,UAAC,MAAD,OAAStT,EAAUqI,EAAWwQ,EAA9B,CAA0CjQ,OAAQ,EAAI+Y,EAAKU,KAC1DC,EAAY,UAAC,QAAUA,GAAgB,aAKhCrO,QAAO,SAACwG,EAAKC,GAC3B,OAAOD,EAAI3hB,OAAO4hB,KACjB,M,6BAGErX,GAAM,MAC0BxR,KAAKwO,YAAYuH,WAA9CM,EADG,EACHA,OAAQD,EADL,EACKA,MAAOJ,EADZ,EACYA,KAAMC,EADlB,EACkBA,IAC7B,OACE,UAAC,QAAD,CAAOuL,KAAM,CAACpL,EAAOC,GAAS4J,IAAK,CAACjK,EAAMC,GAAMc,OAAQ,IACrD/W,KAAK2wB,cAAcnf,GACnBxR,KAAK4wB,qB,sEAvMV,mF,SApBkBlW,IEAPmW,uBANf,SAAsBC,EAAIC,EAAIC,EAAIC,GAEhC,IAAI7F,MAAM0F,EAAKC,EAAKC,EAAKC,GAEzB,MADW,KAAOH,EAAKE,GAAM,IAAMD,EAAK,IAAMC,EAAK,IAAMC,EAAK,UAAY,EAAID,EAAK,MAAaA,EAAK,IAAMC,EAAK,WAAa,EAAID,EAAK,O,6OCgGzH1X,G,YA/Fb,cAAYxS,GAAO,6BACjB,+BAAMA,KAEDoqB,QAAU,GACf,EAAKC,OAAS,GACd,EAAKC,QAAU,GALE,E,8DAuBjBpxB,KAAKuZ,S,qCAIL,MAAO,CACL8X,UAAW,EACXC,WAAY,IACZ/N,OAAQ,IACRgO,QAAS,GACTriB,UAAW,SAAAsM,GACT,OAAOA,EAAM,Q,6BAIZ,WACDgW,EAAW,EAEXC,EAAWzxB,KAAK0xB,MAAL,SACXC,EAAW3xB,KAAK0xB,MAAL,UAA0BD,EACrCG,EAAaD,EAASE,oBAAoB,GALzC,EAMkE7xB,KAAKwO,YAAtE+iB,EAND,EAMCA,QAASD,EANV,EAMUA,WAAYD,EANtB,EAMsBA,UAAWtb,EANjC,EAMiCA,WAAYtH,EAN7C,EAM6CA,UAAWiL,EANxD,EAMwDA,MACzDoY,EAAO,GAAKrjB,EAAUF,SACtBwjB,EAAW,EAAIhc,EAAWC,KAE1Bgc,EAAUJ,GAAc,IAAML,GAAY,IAAMI,EAASE,oBAAoB,GACjF7xB,KAAKmxB,OAAS1lB,iCAAsB,SAAA8J,GAClC,EAAK2b,SAAWY,EAChB,IAAI7T,EAAS,CAAC,CAAC8T,EAAUC,EAASJ,IAElC,IADA3T,EAAOxb,KAAK,CAACsvB,EAAUC,EAASX,EAAY5pB,KAAKkC,IAAI6nB,EAAW,EAAKN,WAC9Da,EAAWhc,EAAWK,MAAQL,EAAWC,KAAOD,EAAWG,OAChE+H,EAAOxb,KAAK,CAACsvB,EAAUC,EAASX,EAAY5pB,KAAKkC,IAAI6nB,EAAW,EAAKN,WACrEa,GAAYT,EAAa,EACzBE,GAAY/pB,KAAKgC,GAhBX,EAkBR,IAAIwoB,EAAQZ,EAAY5pB,KAAKkC,IAAI6nB,EAAW,EAAKN,SACjDjT,EAAOxb,KAAK,CAACsvB,EAAUC,EAASC,IAChChU,EAAOxb,KAAK,CAACsvB,EAAUC,EAASC,IAChChU,EAAOxb,KAAK,CAACsvB,EAAUC,EAASJ,IAChCH,EAAStjB,KAAK,CAAE8P,OAAQA,EAAQ0T,SAAU,IAAMjY,IAC5C,EAAKwX,SAAW,EAAIzpB,KAAKgC,KAC3B,EAAKynB,QAAU,EAAKA,SAAW,EAAIzpB,KAAKgC,KAE1C,EAAK8P,Y,+BAGA,MACsDvZ,KAAKwO,YAA5DuH,EADC,EACDA,WAAY2D,EADX,EACWA,MAAOuG,EADlB,EACkBA,IAAK/Q,EADvB,EACuBA,UAAWqiB,EADlC,EACkCA,QAAShO,EAD3C,EAC2CA,OAC9CjC,EAAethB,KAAKshB,aACpB4Q,EAAYvX,SAAS3a,KAAM,OAAQshB,EAAa/H,MAChD4Y,EAAaxX,SAAS3a,KAAM,QAASshB,EAAa5H,OAClD0S,EAAYzR,SAAS3a,KAAM,OAAQ,CAAC,CAAEigB,IAAK,CAACsD,EAAQA,GAASmB,OAAQ,CAAC,GAAK,KAAQpD,EAAatI,OAChGvK,EAAY,CACdlI,KAAM,CACJ0Z,IAAKjgB,KAAKoxB,QAAQnR,KAAOA,GAE3BnR,GAAI,CACFmR,IAAKA,IAIT,OADAjgB,KAAKoxB,Q,uXAAL,IAAoBpxB,KAAKwO,aAEvB,UAAC,QAAD,CAAOuI,OAAQ,EAAGwK,MAAM,YAAYtB,IAAK,CAAClK,EAAWC,KAAMD,EAAWE,MACpE,UAAC,QAAD,CAAOxH,UAAWA,GAChB,UAAC,OAAD,CAAMnB,IAAI,YAAY3P,EAAG+b,EAAOF,UAAW2Y,EAAW3Y,YACtD,UAAC,WAAD,KAAUlM,IAAI,YAAe4kB,EAA7B,CAAwCP,SAAUjY,EAAO2H,QAAQ,KACjE,UAAC,OAAD,CAAM/T,IAAI,WAAW3P,EAAG+b,EAAO3B,YAAaoa,EAAWpa,YAAaF,UAAWsa,EAAWta,aAC3E,IAAduU,EAAsB,UAAC,OAAD,MAAW,UAAC,QAAD,KAAOpT,KAAM9J,EAAUqiB,IAAcnF,Q,kCAhF7E,IAAItlB,EAAQ,4CACRiP,EAAajP,EAAMiP,WACnBK,EAAQ3O,KAAK4jB,MAAMtV,EAAWK,OAC9BC,EAAS5O,KAAK4jB,MAAMtV,EAAWM,QAC/BkN,EAASzc,EAAMyc,OAMnB,OALAzc,EAAMmZ,IAAM,CAAC,EAAG,GACXnZ,EAAM4S,QACT5S,EAAMmZ,IAAM,CAAC7J,EAAQ,EAAImN,EAAQlN,EAAS,EAAIkN,GAC9Czc,EAAM4S,MAAQmX,mBAAatN,EAAQA,EAAQzc,EAAMyc,OAAQzc,EAAMyc,SAE1Dzc,M,MApBQ2N,I,snBCQnB,SAAS2d,eAAS7O,EAAQH,EAAOiP,EAAYhN,EAAaiN,GACxD,IAAMlN,EAAUhC,EAAQ3b,KAAKgC,GAAM,IAC7BD,EAAM/B,KAAK+B,IAAI4b,GACfzb,EAAMlC,KAAKkC,IAAIyb,GAEd/Z,EAAS7B,EAAM+Z,EAAZtC,EAAoBtX,EAAM4Z,EAL6B,EAO9C+O,EACf,CAACjnB,EAAIgnB,EAAa7oB,EAAKyX,EAAIoR,EAAa1oB,GACxC,CAAC0B,EAAIgnB,EAAa7oB,EAAKyX,EAAIoR,EAAa1oB,GATqB,WAO1D4oB,EAP0D,KAOrDC,EAPqD,KAU3D5O,EAAW0O,EACb,CAACjnB,GAAKgnB,EAAahN,GAAe7b,EAAKyX,GAAKoR,EAAahN,GAAe1b,GACxE,CAAC0B,GAAKgnB,EAAahN,GAAe7b,EAAKyX,GAAKoR,EAAahN,GAAe1b,GAExE8oB,EAAUH,EAAU9oB,GAAOA,EAC3BkpB,EAAUJ,EAAU3oB,GAAOA,EAC3B+a,EAAS,CAAC,GAAK,IAOnB,OALIjd,KAAK+U,IAAIiW,GAAWhrB,KAAK+U,IAAIkW,GAC/BhO,EAAO,GAAK+N,EAAU,EAAI,EAAIA,EAE9B/N,EAAO,GAAKgO,EAAU,EAAIA,EAAU,EAE/B,CACLzU,OAAQ,CACN,CAAC5S,EAAG4V,GACJ,CAACsR,EAAKC,IAER5O,WACAc,U,IAwUW/K,G,YAnUb,eAAY7S,GAAO,8BACjB,gCAAMA,KACD6rB,gBAAkB,GACvB,EAAK5qB,KAAO,QACZ,EAAK0e,OAAS,KACd,EAAKjQ,MAAM,YAAY,GACvB,EAAKA,MAAM,YAAY,GANN,E,oEAUjB,MAAO,CACLtB,MAAO,QACP9J,IAAK,EACL1D,IAAK,IACL6pB,QAAS,GACTqB,QAAS,QACTC,mBAAmB,EACnBhb,UAAW,GACXyK,WAAY,IACZC,SAAU,IACVuQ,cAAe,UACfC,MAAO,SAACp1B,GAAD,OAAOA,GACdq1B,SAAU,GACVX,WAAY,GACZhN,YAAa,EACb4N,cAAe,SAACt1B,GAAD,OAAOA,M,kCA4Ed,MACkDqC,KAAKwO,YAAzD+U,EADE,EACFA,OAAQjB,EADN,EACMA,WAAYC,EADlB,EACkBA,SAAUnX,EAD5B,EAC4BA,IAAK1D,EADjC,EACiCA,IAAK6pB,EADtC,EACsCA,QAG5C2B,GAAiB3Q,EAAWD,IAAeiP,EAAUnmB,GAF3C3D,KAAK+U,IAAI9U,EAAM0D,GAE4CkX,EAMzE,OAJI4Q,EAAe3Q,IACjB2Q,EAAe3Q,GAGV,CACL4D,WAAYoL,EACZjP,aACAiB,SACAhB,SAAU2Q,EACVnb,YAAa/X,KAAK2nB,MAAM,M,qCAK1B,yDACA,IAAMwL,EAAMnzB,KAAKozB,YAKjB,OAJApzB,KAAK2yB,gBAAkB,CACrBpsB,KAAM,CAAE+b,WAAY6Q,EAAI7Q,WAAYC,SAAU4Q,EAAI7Q,YAClDxT,GAAI,CAAEwT,WAAY6Q,EAAI7Q,WAAYC,SAAU4Q,EAAI5Q,WAE3C4Q,I,qCAIP,yDACA,IAAMA,EAAMnzB,KAAKozB,YACX3kB,EAAY,CAChBlI,KAAM,CAAE+b,WAAY6Q,EAAI7Q,WAAYC,SAAU4Q,EAAI7Q,YAClDxT,GAAI,CAAEwT,WAAY6Q,EAAI7Q,WAAYC,SAAU4Q,EAAI5Q,WAOlD,OALIviB,KAAK2yB,kBACPlkB,EAAUlI,KAAV,sBAAsBvG,KAAK2yB,gBAAgB7jB,KAG7C9O,KAAK2yB,gBAAL,sBAA4BlkB,GACrB0kB,I,4BAGH91B,GACJ,OAAO2C,KAAK6W,MAAMS,OAAOja,K,oCAObM,EAAG01B,GACf,IAAM7c,EAAQxW,KAAKwW,MAAM,UAAXxW,CAAsBrC,EAAGA,EAAEwoB,WAAY,GACrD,IAAc,IAAV3P,EAAJ,CAFoC,MAMjBxW,KAAK2yB,gBAAlBpsB,EAN8B,EAM9BA,KAAMuI,EANwB,EAMxBA,GAENwkB,EAAa/sB,EAAKgc,SAAW,GAE7BgR,EAAmB,CACvBhtB,KAAM,CAAE0kB,OAAQqI,GAChBxkB,GAAI,CAAEmc,OAHSnc,EAAGyT,SAAW,KATK,EAeyCviB,KAAKwO,YAA1E+U,EAf4B,EAe5BA,OAAsBD,GAfM,EAepBkQ,aAfoB,EAeNlQ,QAAQ+O,EAfF,EAeEA,WAAYhN,EAfd,EAecA,YAE9CoO,EAAmBpB,EAjBa,EAe2Bxa,UAEfwN,EAAcgO,EAC1DhB,EAAa,IACfoB,EAAmBA,EAAmBpB,EAAahN,GAGrD,IAAMqO,EAAanQ,EAASkQ,EAExBE,EAASpQ,EAAS,GAGhBoE,EAAQ3nB,KAAK2nB,MAAM,GA3BW,MA6BrBrE,EA7BqB,GA6B7BjY,EA7B6B,KA6B1B4V,EA7B0B,KA8B9B9S,EAAO,CACXqL,UAAWmO,EACXsD,OAAQqI,EACRM,gBAAiBtQ,EACjBvM,OAAQ,GACRkH,OAAQ,CACN,CAAC5S,EAAG4V,GACJ,CAAC5V,EAAIsoB,EAAS,EAAG1S,EAAiB,GAAbyS,GACrB,CAACroB,EAAG4V,EAAIyS,GACR,CAACroB,EAAIsoB,EAAS,EAAG1S,EAAiB,GAAbyS,GACrB,CAACroB,EAAG4V,IAENmF,OAAO,GAET,OAAO,UAAC,WAAD,OAAcjY,EAAUqI,EAAxB,CAA+B/H,UAAW8kB,Q,mCAGtC31B,GACX,IAAM4Y,EAAQxW,KAAKwW,MAAL,UAAc5Y,IAC5B,OAAOuJ,QAAQqP,K,+BAGC,WAAXhF,EAAW,uDAAJ,GAAI,EAaZxR,KAAKwO,YAXPqkB,EAFc,EAEdA,kBACAE,EAHc,EAGdA,MACAxB,EAJc,EAIdA,QACAjO,EALc,EAKdA,OACAC,EANc,EAMdA,OACAjB,EAPc,EAOdA,WACAC,EARc,EAQdA,SACA1K,EATc,EASdA,UACA+a,EAVc,EAUdA,QACAE,EAXc,EAWdA,cACA/c,EAZc,EAYdA,WAEI8d,EAAc,CAACvQ,EAAO,GAAgB,KAAZA,EAAO,IACjCwQ,EAAQ9zB,KAAK8zB,MACb1B,EAAWpyB,KAAK+zB,aAAa,YAC7BC,EAAWh0B,KAAK+zB,aAAa,YAC7BE,EAAYlB,GAASxB,EAEvB2C,EAAgB,KAEpB,IAA0B,IAAtBrB,EAA6B,CAC/B,IAAMvb,EAAStX,KAAK6W,MAAMS,OAAOgG,UAC3B6W,EAAc,CAClBC,OAAQ,CAAC,EAAG,EAAe,EAAZ9Q,EAAO,GAAoB,EAAZA,EAAO,IACrChM,OAAQ,CACN,CAAEqQ,MAAOrQ,EAAO,GAAI9H,OAAQ,GAC5B,CAAEmY,MAAOrQ,EAAO,GAAI9H,OAAQ,IAC5B,CAAEmY,MAAOrQ,EAAO,GAAI9H,OAAQ,KAGhC0kB,EAAgB,IAAIG,WAASF,GAG/B,IAAId,EAAsB,IACT,IAAbW,GACFF,EAAMvrB,KAAI,SAAC+rB,EAAM5xB,GACf,IAAM8T,EAAQ,EAAKA,MAAM,WAAX,CAAuBhF,EAAMA,EAAK2U,WAAYzjB,GAC5D,GAAI8T,GAASA,EAAMiD,WACc,WAA3BxF,OAAOuC,EAAMiD,WAA0B4Z,EAAsB7c,EAAMiD,WACrE4Z,EAAsB7c,EAAMiD,UAEC,WAA3BxF,OAAOuC,EAAMiD,WAAwB,CACvC,IAAM8a,EAAWhxB,OAAOiT,EAAMiD,SAASnG,QAAQ,KAAM,KAC5B,WAArBW,OAAOsgB,IAA0BlB,EAAsBkB,IACzDlB,EAAsBkB,OAMhC,IAAMC,EAAO,CAACze,EAAWC,KAAMD,EAAWE,KACpCwe,EAAQ,CAAC1e,EAAWK,MAAOL,EAAWM,QAEtC0S,EAAa,CACjBxiB,KAAM,CAAE0Z,IAAKjgB,KAAKymB,OAASzmB,KAAKymB,OAAS+N,GACzC1lB,GAAI,CAAEmR,IAAKuU,IAGb,OADAx0B,KAAKymB,OAAS+N,EAEZ,UAAC,QAAD,CAAOvU,IAAKuU,EAAMhT,KAAMiT,EAAOhmB,UAAWsa,GACxC,UAAC,MAAD,CACE9I,IAAKqD,EACLzL,UAAWA,EACX+a,QAASA,EACTtQ,WAAYA,EACZC,SAAUA,EACVxK,YAAa+a,EACbvP,OAAQA,EACRxM,OAAQ,KAEV,UAAC,MAAD,KACEkJ,IAAKqD,EACLsP,QAASA,EACT/a,UAAWA,GACPrG,EAJN,CAKE/C,UAAWzO,KAAK2yB,iBACXuB,EAAgB,CAAEnc,YAAamc,GAAkB,CAAEnc,YAAa/X,KAAK2nB,MAAM,IAC5E3nB,KAAKwW,MAAM,MAAXxW,CAAkBwR,EAAMA,EAAK2U,WAAY,GAP/C,CAQEpP,OAAQ,MAET/W,KAAK00B,cAAcljB,EAAM6hB,GACzBY,EACC,UAAC,QAAD,KACEjb,KAA4B,aAAtB/E,OAAOggB,GAA4BA,EAAUziB,EAAK2U,YAAc8N,EACtEhU,IAAK4T,EACLc,UAAU,SACV5d,OAAQ,GACR2N,OAAQ,CAAC,GAAK,IACV1kB,KAAKwW,MAAM,QAAXxW,CAAoBwR,EAAMA,EAAK2U,WAAY,KAE/C,MACU,IAAbiM,IAAmC,IAAb4B,EACnBF,EAAMvrB,KAAI,SAAC+rB,EAAM5xB,GAAP,OACR,UAAC,QAAD,CAAOud,IAAKqD,EAAQoB,OAAQ,CAAC,EAAG,GAAI3N,OAAQ,OAC5B,IAAbqb,EACC,UAAC,WAAD,KACEnU,OAAQqW,EAAKrW,OACblG,YAAa+a,GACT,EAAKtc,MAAM,WAAX,CAAuBhF,EAAMA,EAAK2U,WAAYzjB,KAElD,MACU,IAAbsxB,EACC,UAAC,QAAD,OAAWM,EAAKha,MAAW,EAAK9D,MAAM,WAAX,CAAuBhF,EAAMA,EAAK2U,WAAYzjB,KACvE,SAGR,Q,iCAKC,WACT1C,KAAK+Q,GAAG,UAAU,kBAAM,EAAK6jB,mB,kCAjS7B,IAAM9tB,EAAQ,6CAENiP,EAAejP,EAAfiP,WACAM,EAAkBN,EAAlBM,OAAQD,EAAUL,EAAVK,MACVoL,EAAO,CAACpL,EAAOC,GAEfkN,IAAW9b,KAAK2D,IAAIrL,MACxByhB,EACAA,EAAKjZ,KAAI,SAACssB,GAAD,OAAOA,EAAI,MAGhBrB,EAAejQ,EAAS,GAExBD,EAAS,CAAClN,EAAQ,EAAGC,EAAS,GAMpC,OAJIvP,EAAMyb,SAAWzb,EAAMwb,WAAa,QACtCxb,EAAMyb,SAAWzb,EAAMwb,WAAa,OAGtC,yCACKxb,GADL,IAEEyc,SACAiQ,eACAlQ,a,4BA4BF,IAxBU,MAYNtjB,KAAKwO,YAVPpD,EAFQ,EAERA,IACA1D,EAHQ,EAGRA,IACA6b,EAJQ,EAIRA,OACAjB,EALQ,EAKRA,WACAC,EANQ,EAMRA,SACA1K,EAPQ,EAORA,UACAmb,EARQ,EAQRA,SACAX,EATQ,EASRA,WACAhN,EAVQ,EAURA,YACA4N,EAXQ,EAWRA,cAEI6B,EAAQrtB,KAAK+U,IAAI9U,EAAM0D,GAAO4nB,EAI9BV,EAAUD,EAAa,EACvBzP,GAHML,EAAWD,GAGEwS,EACnBhB,EAAQ,GACViB,EAAazC,EAAU/O,EAAS1L,EAAY,EAAI0L,EAAS1L,EAAY,EAErExa,GAAK,IAEAA,GAAKy3B,GAAO,CAEnB,IAAME,EAAM5C,eAAS2C,EADb13B,EAAIulB,EAAWN,EACiB7a,KAAK+U,IAAI6V,GAAa5qB,KAAK+U,IAAI6I,GAAciN,GACrFwB,EAAMrxB,KAAK,CACTwb,OAAQ+W,EAAI/W,OACZ3D,MAAO,CACLtB,KAAMia,EAAc51B,EAAI21B,EAAW5nB,GAAKyQ,QAAQ,GAChDoE,IAAK+U,EAAIpR,SACTc,OAAQsQ,EAAItQ,UASlB,OAJKoP,EAAM,GAAG1Q,MAAQ0Q,EAAMA,EAAMj0B,OAAS,GAAGujB,QAAoB,EAAV3b,KAAKgC,KAAY,GACvEqqB,EAAMjX,MAGDiX,M,OAnGSpZ,I,soBCxCpB,IAAMua,mBAAW,SAACpzB,GAAD,MAAS,GAAGoF,OAAOlH,MAAM,GAAI8B,IAsN/B+X,G,YAnNb,qBAAwB,MAAZ9S,EAAY,uDAAJ,GAAI,4BACtB,oCAAMA,KACDiB,KAAO,YACZ,EAAKmtB,UAAY,GACjB,EAAKzO,OAAS,KAJQ,E,4EAQtB,MAAO,CACLvR,MAAO,YACPqO,OAAQ,GACRoB,YAAa,EACbrC,YAAa,GACbC,SAAU,IACV1K,UAAW,EACXib,cAAe,a,gCAkDTthB,GAAM,aACgDxR,KAAKwO,YAA3D8T,EADM,EACNA,WAAYC,EADN,EACMA,SAAU7a,EADhB,EACgBA,IAAK0D,EADrB,EACqBA,IAAKyM,EAD1B,EAC0BA,UAAWP,EADrC,EACqCA,OAC/C6d,EAAQ,EACZ,GAAK/J,MAAM1jB,IAAS0jB,MAAMhgB,GAEnB,CACL,IAAIgqB,EAAYvhB,gBAAgBrC,GAChC4jB,EAAUtiB,MAAK,SAACrN,EAAGuF,GAAJ,OAAUA,EAAE1M,MAAQmH,EAAEnH,SACrC62B,EAA6B,IAArBC,EAAU,GAAG92B,WAJrB62B,EAAQztB,EAAM0D,EAMhB,IAAMgY,EAAQb,EAAWD,EACnBqC,EAAc3kB,KAAK2kB,YACnBK,EAAchlB,KAAKq1B,eAEnB7yB,EAAMgP,EAAK3R,OACXy1B,GAC2B,GAA7BtQ,EAAcL,GAAmB9M,GAAaA,GAAa,EAAI,EAAIrV,EAAM,KAAO,KAAO,EAANA,EAAU,IAC3FlE,EAAQ,KA4BZ,OA1BAkT,EAAKhJ,SAAQ,SAAC7K,EAAGN,GACfiB,GAASX,EAAEW,MAEX,IAAIikB,EAAWD,EACC,aAAZ3kB,EAAEsQ,QACJsU,EAAWD,EAAcc,EAAQ9kB,EAAS62B,GAGxC5S,EAAWD,EAAa,QAC1BC,EAAW,MAAQD,GAGrB3kB,EAAEsiB,IAAM,CAAC+E,EAAaA,GACtBrnB,EAAE+mB,OAAS,CAAC,GAAK,IACjB/mB,EAAEka,UAAYA,EACdla,EAAE2kB,WAAaA,EACf3kB,EAAE4kB,SAAWA,EACb5kB,EAAEgnB,YAAcA,EAAkB,IAAJtnB,EAAsBi4B,EACpD33B,EAAE4lB,OAAS5lB,EAAEgnB,YAAc,EAAI2Q,EAC/B33B,EAAEoa,YAAcT,EAAOja,GAEvB,IAAMk4B,EAAc,EAAK/e,MAAM,MAAX,CAAkB7Y,EAAGA,EAAEwoB,WAAYxoB,EAAEsoB,OAEzDloB,OAAO2B,OAAO/B,EAAG43B,MAGZ/jB,EAAKsB,MAAK,SAACrN,EAAGuF,GAAJ,OAAUA,EAAEuY,OAAS9d,EAAE8d,Y,qCAIxC,6DADa,IAELjB,EAAetiB,KAAKwO,YAApB8T,WACJ9Q,EAAOyjB,mBAASj1B,KAAKyR,SAYzB,OAXAD,EAAOxR,KAAKozB,UAAU5hB,GACtBxR,KAAKk1B,UAAY1jB,EAAKjJ,KAAI,SAAC5K,GAAD,MAAQ,CAChC4I,KAAM,CACJ+b,aACAC,SAAUD,GAEZxT,GAAI,CACFwT,aACAC,SAAU5kB,EAAE4kB,cAGT/Q,I,qCAGM,WACb,6DADa,IAEL8Q,EAAetiB,KAAKwO,YAApB8T,WACJ9Q,EAAOyjB,mBAASj1B,KAAKyR,SA2BzB,OA1BAD,EAAOxR,KAAKozB,UAAU5hB,GACtBxR,KAAKk1B,UAAY1jB,EAAKjJ,KAAI,SAAC5K,EAAGN,GAC5B,GAAIM,EAAE63B,cACJ,OAAO73B,EAAE+S,SAAW,CAAEnK,KAAM,CAAE+P,QAAS,GAAKxH,GAAI,CAAEwH,QAAS,IAAQ,CAAE/P,KAAM,CAAE+P,QAAS,GAAKxH,GAAI,CAAEwH,QAAS,IAE1G,IAAIsV,EAAO,EAAKsJ,UAAU73B,GAAK,EAAK63B,UAAU73B,GAAGyR,GAAK0C,EAAKnU,EAAI,GAS/D,OAPKuuB,IACHA,EAAO,CACLtJ,WAAYA,EACZC,SAAUD,IAIP,CACL/b,KAAM,CACJ+b,WAAYsJ,EAAKtJ,WACjBC,SAAUqJ,EAAKrJ,UAEjBzT,GAAI,CACFwT,WAAY3kB,EAAE2kB,WACdC,SAAU5kB,EAAE4kB,cAKb/Q,I,mCAGIsE,EAAO1N,GAAI,MACDA,EAAGrB,SAAS,GAAGuf,WAA5B3U,EADc,EACdA,IAAKD,EADS,EACTA,IACb1R,KAAKyR,QAAQjJ,SAAQ,SAAC8I,GACpBA,EAAKrD,MAAQqD,EAAKK,MAAQA,GAAOL,EAAKI,MAAQA,EAAM,QAAU,e,qCAKhE1R,KAAKyR,QAAQqP,e,+BAGG,WAAXtP,EAAW,uDAAJ,GACJshB,EAAkB9yB,KAAKwO,YAAvBskB,cACF/J,EAAa,CACjBxiB,KAAM,CAAE0Z,IAAKjgB,KAAKymB,OAASzmB,KAAKymB,OAASzmB,KAAKsjB,QAC9CxU,GAAI,CAAEmR,IAAKjgB,KAAKsjB,SAGlB,OADAtjB,KAAKymB,OAASzmB,KAAKsjB,OAEjB,UAAC,QAAD,KACG9R,EAAKjJ,KAAI,SAAC5K,EAAGN,GAAM,IACVsU,EAAmBhU,EAAnBgU,IAAKD,EAAc/T,EAAd+T,IAAKF,EAAS7T,EAAT6T,KAClB,OACE,UAAC,QAAD,CACEyO,IAAK,EAAKqD,OACV7U,UAAWsa,EACXpH,aAAc,EAAKA,aACnBE,YAAa,EAAKF,aAClBF,aAAc,EAAKA,cAEnB,UAAC,MAAD,OAAS9jB,EAAT,CAAY2kB,WAAY,EAAGC,SAAU,IAAKxK,YAAa+a,KACvD,UAAC,MAAD,KACE7S,IAAK,EAAKqD,QADZ,iDAEW3lB,GAFX,IAEcgU,MAAKD,QAFnB,CAGEjD,UAAW,EAAKymB,UAAU73B,IACtB,EAAKmZ,MAAM,MAAX,CAAkB7Y,EAAG6T,EAAMnU,Y,sEAnL3C,IAAMyJ,EAAQ,iDACNiP,EAAejP,EAAfiP,WACFyL,EAAO,CAACzL,EAAWK,MAAOL,EAAWM,QAC3C,wDACKvP,GADL,IAEE0a,W,qCAIiB,MAC4BxhB,KAAKwO,YAA5C8T,EADW,EACXA,WAAYC,EADD,EACCA,SAAUgB,EADX,EACWA,OAAQ/B,EADnB,EACmBA,KADnB,MAEKA,EAFL,GAEZpL,EAFY,KAELC,EAFK,KAInB,OAAIkM,EAAWD,GAAe,GACrB7a,KAAK2D,IAAIgL,EAAOC,GAAUkN,EAEzB9b,KAAK2D,IAAIgL,EAAOC,GAAU,EAAKkN,I,6BAI9B,MACoCvjB,KAAKwO,YAA5C8T,EADG,EACHA,WAAYC,EADT,EACSA,SAAUgB,EADnB,EACmBA,OAAQ/B,EAD3B,EAC2BA,KAChC4B,GAASb,EAAWD,GAAc,EAF7B,MAGad,EAHb,GAGJpL,EAHI,KAGGC,EAHH,KAILof,EAAYz1B,KAAKq1B,eAClBhqB,EAAS+K,EAAQ,EAAIqf,EAAlBxU,EAA6B5K,EAAS,EAAIof,EAElD,GAAIlT,EAAWD,GAAe,GAAI,CAEhC,IAEMoT,EAAWnS,EAASnN,EACpBuf,EAAYpS,EAASlN,EAC3BhL,GAJY5D,KAAK+B,IAAI4Z,GAIV,EAAIsS,EAAW,GAAMA,EAAW,EAC3CzU,GAJYxZ,KAAKkC,IAAIyZ,GAIV,EAAIuS,EAAY,GAAMA,EAAY,EAG/C,MAAO,CAACtqB,EAAG4V,K,kCAGK,MACcjhB,KAAKwO,YAA7B+U,EADU,EACVA,OAAQoB,EADE,EACFA,YACd,OAAOA,GAAe,EAAI,EAAK3kB,KAAKq1B,eAAiB9R,EAAUoB,M,WA/D3CjK,ICHHkb,G,YACnB,oBAAY9uB,GAAO,mCACjB,qCAAMA,KACD+P,MAAQA,GAAMgD,QAAQ,EAAKpZ,YAAY7C,MAE5C,EAAKiZ,MAAMhS,IAAM,SAAArD,GACX,EAAKqV,QAAUA,GAAMa,QAAQ,EAAKjX,YAAY7C,QAChD,EAAKiZ,MAAQ1U,IAAY,EAAK0U,QAEhC,EAAKA,MAAQhD,gBAAgB,EAAKgD,MAAOrV,IAR1B,E,qCADmBiT,I,kqBCDzB,SAASgJ,mBAAO5b,EAAKiF,GAClC,IAAIxE,EAAM,CACRsb,OAAQ,GACRqK,OAAQ,GACR4N,MAAO,GACPtX,WAAY,GACZ9D,OAAQ3T,EAAM2T,QAEZ7D,EAAe,CACjBX,IAAK,CACHqE,MAAO,CACLoK,OAAQ,CAAC,GAAK,GACdoR,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBnB,UAAW,UAEbva,MAAO,CACLsK,OAAQ,CAAC,GAAK,GACdtO,MAAO,EACPC,OAAQ,GAEVkE,KAAM,CACJxC,YAAa,QAEfna,KAAM,GACNmK,KAAM,YAERoO,OAAQ,CACNiE,MAAO,CACLsK,OAAQ,CAAC,GAAK,GACdtO,MAAO,EACPC,OAAQ,GAEViE,MAAO,CACLoK,OAAQ,CAAC,GAAK,GACdoR,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBnB,UAAW,UAEbpa,KAAM,CACJxC,YAAa,QAEfna,KAAM,GACNmK,KAAM,YAERiO,KAAM,CACJsE,MAAO,CACLwb,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBpR,OAAQ,CAAC,EAAG,IACZiQ,UAAW,SAEbva,MAAO,CACLsK,OAAQ,CAAC,EAAG,IACZtO,MAAO,EACPC,OAAQ,GAEVkE,KAAM,CACJxC,YAAa,QAEfna,KAAM,GACNmK,KAAM,SAERmO,MAAO,CACLoE,MAAO,CACLoK,OAAQ,CAAC,EAAG,IACZoR,QAAS,CAAC,EAAG,EAAG,EAAG,IAErB1b,MAAO,CACLsK,OAAQ,CAAC,EAAG,IACZtO,MAAO,EACPC,OAAQ,GAEVkE,KAAM,CACJxC,YAAa,QAEfna,KAAM,GACNmK,KAAM,UAGFgU,EAA+DjV,EAA/DiV,MAAOmB,EAAwDpW,EAAxDoW,YAAanH,EAA2CjP,EAA3CiP,WAAY0E,EAA+B3T,EAA/B2T,OAAQkD,EAAuB7W,EAAvB6W,QAAuB7W,EAAduiB,WAEtD,CAAC,MAAO,SAAU,QAAS,QAAQ7gB,SAAQ,SAAA3F,GAC1C+T,EAAa/T,GAAKkF,KAAkC,UAA3B6O,EAAa/T,GAAKkF,KAAmB,WAAa,WAhFtC,IAmFjCqO,EAAkBL,EAAlBK,MAAOC,EAAWN,EAAXM,OACXuH,EAASzD,UAAK3c,KAAKwC,KAAM,CAC3Byb,QAAS5Z,EACTka,QACAmB,gBAGEW,EAASpW,KAAKC,IAAI3H,MAAMC,KAAM4d,GAC9BE,EAASrW,KAAK2D,IAAIrL,MAAMC,KAAM4d,GAC9B7V,EAAOjB,EAAMiB,MAAQ6O,EAAa6D,GAAQ1S,KAC1CyM,EAAsB,SAAXiG,GAAgC,UAAXA,EAAqBpE,EAASD,EAC9D3C,EAAiBzT,KAAKyR,QAAQgC,eAClC,GAAa,UAAT1L,EAAkB,CACpB,IAAIgW,EAAU5C,cACXC,OAAO,CAAC0C,EAAQD,IAChBxC,MAAM,CAAC,EAAG7G,IACboJ,EAAOpV,SAAQ,SAAAuJ,GAAO,MACqBgkB,aACvCnf,EACA6D,EACA,CACEzB,KAAM,GAAK,KAAOvF,IAAmB,WAAaA,EAAe1B,GAAOA,GAE1EA,EACAgM,EACAhI,GARIigB,EADc,EACdA,UAAWvF,EADG,EACHA,UAAWwF,EADR,EACQA,SAU5B3zB,EAAIsb,OAAOnb,KAAKuzB,GAChB1zB,EAAI2lB,OAAOxlB,KAAKguB,GAChBnuB,EAAIuzB,MAAMpzB,KAAKwzB,WAEZ,GAAa,aAATluB,EAAqB,CAC9B,IAAImuB,EAASr0B,EAAI,GACbW,EAAMmb,EAAUuY,EAAOr2B,OAASq2B,EAAOr2B,OAAS,EAChDke,EAAU5C,cACXC,OAAO,CAAC,EAAG5Y,IACX6Y,MAAM,CAAC,EAAG7G,IAOb,GANA0hB,EAAO1tB,SAAQ,SAAC2J,EAAMhC,GAAQ,MACa4lB,aAAanf,EAAc6D,EAAQtI,EAAMhC,EAAK4N,EAAShI,EAAY4H,GAAtGqY,EADsB,EACtBA,UAAWvF,EADW,EACXA,UAAWwF,EADA,EACAA,SAC5B3zB,EAAIsb,OAAOnb,KAAKuzB,GAChB1zB,EAAI2lB,OAAOxlB,KAAKguB,GAChBnuB,EAAIuzB,MAAMpzB,KAAKwzB,MAEbtY,EAAS,OAEmBoY,aAAanf,EAAc6D,EAAQ,GAAIyb,EAAOr2B,OAAQke,EAAShI,EAAY4H,GAAnGqY,EAFK,EAELA,UAAWC,EAFN,EAEMA,SACjB3zB,EAAIsb,OAAOnb,KAAKuzB,GAChB1zB,EAAIuzB,MAAMpzB,KAAKwzB,IAGnB,GAAe,SAAXxb,GAAgC,UAAXA,EAAoB,CAC3C,IAAI2D,EAAgB,SAAX3D,EAAoB,EAAIrE,EACjC9T,EAAIic,WAAa,CACf,CAACH,EAAI/H,GACL,CAAC+H,EAAI,IAEP9b,EAAI6zB,SAAW,CAAElW,IAAK,CAAC7B,EAAI,GAAIsG,OAAQ,CAAC,GAAK,GAAIoR,QAAS,CAAC,UACtD,GAAe,WAAXrb,GAAkC,QAAXA,EAAkB,CAClD,IAAI2b,EAAgB,WAAX3b,EAAsBpE,EAAS,EACxC/T,EAAIic,WAAa,CACf,CAAC,EAAG6X,GACJ,CAAChgB,EAAOggB,IAEV9zB,EAAI6zB,SAAW,CAAElW,IAAK,CAAC7J,EAAOggB,GAAK1R,OAAQ,CAAC,EAAG,IAEjD,OAAOpiB,EAET,SAASyzB,aAAanf,EAAc6D,EAAQtI,EAAM7T,EAAO+3B,EAAQtgB,EAAY4H,GAC3E,IAAIrb,EAAM4R,cACJkC,EAA6BL,EAA7BK,MAAOC,EAAsBN,EAAtBM,OAAQL,EAAcD,EAAdC,KACjBsgB,GAD+BvgB,EAARE,IACP0H,EAAUrf,EAAQ,GAAMA,GAC5C,GAAe,SAAXmc,GAAgC,UAAXA,EAAoB,CAC3C,IAAIpP,EAAe,SAAXoP,EAAoB,EAAIrE,EAC5BmgB,EAAKF,EAAO/3B,GAChBgE,EAAI0zB,UAAJ,qDAAqBpf,EAAa6D,GAAQL,OAA1C,IAAiD6F,IAAK,CAAC5U,EAAGgL,EAASkgB,KACnEj0B,EAAI2zB,SAAJ,qDACKrf,EAAa6D,GAAQF,MAD1B,IAEE0D,OAAQ,CACN,CAAC5S,EAAGgL,EAASkgB,GACb,CAACngB,EAAOC,EAASkgB,MAGrBj0B,EAAImuB,UAAJ,qDACK7Z,EAAa6D,GAAQH,OAD1B,IAEElE,MAAOJ,EACPgD,KAAM,GAAK7G,EAAK6G,KAChBiH,IAAK,CAAC5U,EAAGgL,EAASggB,EAAOC,WAEtB,GAAe,QAAX7b,GAA+B,WAAXA,EAAqB,CAClD,IAAIwG,EAAe,QAAXxG,EAAmB,EAAIpE,EAC3BmgB,EAAKH,EAAO/3B,GAChBgE,EAAI0zB,UAAJ,qDAAqBpf,EAAa6D,GAAQL,OAA1C,IAAiD6F,IAAK,CAACuW,EAAIvV,KAC3D3e,EAAI2zB,SAAJ,qDACKrf,EAAa6D,GAAQF,MAD1B,IAEE0D,OAAQ,CACN,CAACuY,EAAI,GACL,CAACA,EAAIvV,MAGT3e,EAAImuB,UAAJ,qDACK7Z,EAAa6D,GAAQH,OAD1B,IAEElE,MAAOJ,EACPgD,KAAM,GAAK7G,EAAK6G,KAChBiH,IAAK,CAACoW,EAAOC,GAAgBrV,KAGjC,OAAO3e,E,ICxEM4X,G,YAjHb,cAAYpT,GAAO,6BACjB,+BAAMA,KACDmiB,WAAa/U,cAFD,E,kEAwBjB,OADelU,KAAKugB,gBAAdpG,O,qCAKN,OADena,KAAKugB,gBAAdpG,O,yEAON,MAAO,CACLjF,MAAO,OACP6B,QAAS,EACT7H,UAAW,SAAAjM,GAAC,OAAIA,M,sCAMlB,IAAIuL,EAAcxO,KAAKwO,YACnBoS,EAAa5gB,KAAKyR,QAAQjD,EAAY+H,UAE1C,MAAO,CAAE4D,KADEsD,mBAAOjgB,KAAKwC,KAAM4gB,EAAYpS,M,6BAGpC2L,GAAM,WACPsc,EAAUz2B,KAAKipB,YAAc/U,cACjClU,KAAKipB,WAAa9O,EAFP,MAGmCna,KAAKwO,YAA7CuH,EAHK,EAGLA,WAAY7G,EAHP,EAGOA,UAAWuL,EAHlB,EAGkBA,OAAQ7c,EAH1B,EAG0BA,KAEjCsZ,EAASlX,KAAKshB,aACdoV,EAAY/b,SAAS3a,KAAM,OAAQkX,EAAOiD,MAE1Cwc,EAAY32B,KAAKuX,MAAMsC,QACxBtR,KAAI,SAAAquB,GACH,GAAgC,SAA5BA,EAAOn2B,YAAY7C,KACrB,OAAOg5B,EAAOpoB,YAAYiM,UAG7BvT,OAAOC,SACN0vB,EAAYlc,SAAS3a,KAAM,OAAQ,CAACkX,EAAOtZ,MAAQ,GAAIuE,IAAYgY,EAAKgc,SAAU,GAAI,CAAC,UAEvFW,EAAU,CAAEvwB,KAAM,CAAE0Z,IADVwW,EAAQN,UAAYM,EAAQN,SAASlW,KAAQ9F,EAAKgc,SAASlW,KAClCnR,GAAI,CAAEmR,IAAK9F,EAAKgc,SAASlW,MAChE,OACE,UAAC,QAAD,CAAO3S,IAAI,OAAO2S,IAAK,CAAClK,EAAWC,KAAMD,EAAWE,MAClD,UAAC,WAAD,OACMygB,EADN,CAEEjoB,UAAW,CACTlI,KAAM,CAAE0X,OAAQwY,EAAQlY,YACxBzP,GAAI,CAAEmP,OAAQ9D,EAAKoE,gBAGvB,UAAC,QAAD,KACGpE,EAAK0b,MAAMttB,KAAI,SAACgS,EAAMpK,GACrB,IACIhB,EAAM,CACR5I,KAAM,CAAE0X,OAFQwY,EAAQZ,OAASY,EAAQZ,MAAM1lB,IAAQsmB,EAAQZ,MAAM1lB,GAAK8N,QAAW1D,EAAK0D,QAG1FnP,GAAI,CAAEmP,OAAQ1D,EAAK0D,SAEjBzH,EAAQmE,SAAS,EAAM,OAAQzD,EAAOqD,KAAM,CAACpK,IACjD,GAAe,SAAXsK,GAAgC,UAAXA,GACvB,GAAa,IAARtK,GAAawmB,EAAU1b,SAAS,WAAe9K,IAAQgK,EAAK0b,MAAMh2B,OAAS,GAAK82B,EAAU1b,SAAS,OACtG,OAAO,UAAC,OAAD,WAEJ,IAAe,QAAXR,GAA+B,WAAXA,KAChB,IAARtK,GAAawmB,EAAU1b,SAAS,SAAa9K,IAAQgK,EAAK0b,MAAMh2B,OAAS,GAAK82B,EAAU1b,SAAS,UACpG,OAAO,UAAC,OAAD,MAGX,OAAiB,IAAVzE,EAAkB,UAAC,OAAD,MAAW,UAAC,WAAD,OAAcA,EAAd,CAAqByH,OAAQ9O,EAAI5I,KAAK0X,OAAQxP,UAAWU,QAE9FgL,EAAKyD,OAAOrV,KAAI,SAAC6R,EAAOjK,GACvB,IACIhB,EAAM,CAAE5I,KAAM,CAAE0Z,IADLwW,EAAQ7Y,QAAU6Y,EAAQ7Y,OAAOzN,IAAQsmB,EAAQ7Y,OAAOzN,GAAK8P,KAAQ7F,EAAM6F,KACtDnR,GAAI,CAAEmR,IAAK7F,EAAM6F,MAEjDzJ,EAAQmE,SAAS,EAAM,QAASzD,EAAOkD,MAAO,CAACA,EAAOjK,IAC1D,OAAiB,IAAVqG,EAAkB,UAAC,OAAD,MAAW,UAAC,QAAD,OAAWrU,IAAYiY,EAAO,GAAI,CAAC,QAAa5D,EAAhD,CAAuD/H,UAAWU,QAEvGgL,EAAK8N,OAAO1f,KAAI,SAAC+R,EAAOnK,GACvB,IAAImU,EAAWmS,EAAQxO,QAAUwO,EAAQxO,OAAO9X,IAAQsmB,EAAQxO,OAAO9X,GAAK8P,KAAQ3F,EAAM2F,IACtFzJ,EAAQmE,SAAS,EAAM,QAASzD,EAAOoD,MAAO,CAACA,EAAOnK,IACtDhB,EAAM,CAAE5I,KAAM,CAAE0Z,IAAKqE,GAAWxV,GAAI,CAAEmR,IAAK3F,EAAM2F,MACrD,OAAiB,IAAVzJ,EAAkB,UAAC,OAAD,MAAW,UAAC,QAAD,OAAWrU,IAAYmY,EAAO,GAAI,CAAC,MAAO,SAAc9D,EAAxD,CAA+DwC,KAAM9J,EAAUoL,EAAMtB,MAAOvK,UAAWU,UAGhI,IAAd0nB,QAAgClyB,IAAT/G,GAAsC,IAAhBA,EAAKiC,OAAe,UAAC,OAAD,MAAW,UAAC,QAAD,OAAWg3B,EAAX,CAAsB7d,KAAMpb,EAAM6Q,UAAWqoB,Q,kCAtG9H,IAAIhwB,EAAQ,4CACRiwB,EAAe/2B,KAAKuX,MAAMG,QAAQ,GAatC,YAZsB/S,IAAlBmC,EAAM6W,SAAyBoZ,GAAkD,QAAlCA,EAAat2B,YAAY7C,OAG1EkJ,EAAM6W,SAAU,GAEdoZ,GAAkD,YAAlCA,EAAat2B,YAAY7C,OAC3CkJ,EAAMiB,KAAO,cAESpD,IAApBmC,EAAMuiB,WAA2B0N,IAEnCjwB,EAAMuiB,UAAY0N,EAAavoB,YAAY6a,WAEtCviB,M,MArBQ2N,I,8nBC4XJsF,G,YA7Xb,gBAAYjT,GAAO,+BACjB,iCAAMA,KACD0Z,UAAY,KACjB,EAAKvS,MAAQ,CACX+oB,KAAM,EACNC,UAAW,EACXC,qBAAsB,EACtBC,eAAgB,CAAC,EAAG,GACpBC,UAAW,CAAC,EAAG,IAEjB,EAAKC,aAAc,EACnB,EAAKC,iBAAkB,EACvB,EAAKC,QAAU,CAAC,EAAG,GACnB,EAAKC,WAAa,CAAC,EAAG,GACtB,EAAKC,iBAAmB,GACxB,EAAKC,YAAc,EAfF,E,sEAsBJ,MACb,UACEjd,OAAQ,aACRsS,MAAO,CAAC,SAAU,UAClB7d,UAAW,SAAAvR,GAAC,OAAIA,EAAEW,OAASX,GAC3Bqc,SAAU,CAAC,GAAI,IACf2d,SAAU,CAAC,GAAI,IACfC,QAAQ,EACRC,OAAQ,GACRC,SAAU,EACVC,QAAS,GATX,mBAUa,SAAAp6B,GAAC,OAAIA,EAAEqb,MAAQrb,KAV5B,gBAWW,GAXX,I,qCAiHA,OALIqC,KAAKq3B,YACPr3B,KAAKg4B,QAELh4B,KAAKwgB,UAAYxgB,KAAKugB,gBAAgBC,UAEjCxgB,KAAKwgB,Y,sCAGE,aACexgB,KAAKwO,YAA5B+H,EADQ,EACRA,SAAUuhB,EADF,EACEA,SAQZtX,EAPaxgB,KAAKyR,QAAQ8E,GAAUhO,KAAI,SAAC+I,EAAM2U,GAEjD,OADA,EAAKwR,iBAAiBh1B,KAAK6O,EAAKrD,OACzB,CACLrQ,KAAM0T,EAAK1T,KACXqQ,MAAOqD,EAAKrD,UAGW1F,KAAI,SAAA+I,GAC7B,MAAO,CACL2mB,UAAW,CACTjf,KAAM1H,EAAK1T,KACXstB,YAAa4M,OAKnB,OADA93B,KAAKwgB,UAAYA,EACV,CAAEA,e,gCAEDvd,EAAGmF,GACX,IAAM+H,EAAM/H,EAAG+F,KAAK,UAChBF,EAAQjO,KAAKyR,QAAQzR,KAAKwO,YAAY+H,UAAUpG,GAAKlC,MACzDA,EAAkB,aAAVA,EAAuB,WAAa,UAC5CjO,KAAKyR,QAAQzR,KAAKwO,YAAY+H,UAAUpG,GAAKlC,MAAQA,I,gCAE7ChL,EAAGmF,GACX,IAAM+H,EAAM/H,EAAG+F,KAAK,UACpBnO,KAAKy3B,iBAAiBtnB,GAAO,UAC7BnQ,KAAKoV,W,+BAEEnS,EAAGmF,GACV,IAAM+H,EAAM/H,EAAG+F,KAAK,UACe,YAA/BnO,KAAKy3B,iBAAiBtnB,KACxBnQ,KAAKy3B,iBAAiBtnB,GAAO,QAC7BnQ,KAAKoV,Y,mCAGIO,GACX,OAAIA,GAA0B,WAAhBA,EAAO5N,MACnB/H,KAAKs3B,iBAAkB,EACvBt3B,KAAKq3B,aAAc,EACZr3B,KAAKyV,iBAERE,GAA0B,WAAhBA,EAAO5N,OACnB/H,KAAKs3B,iBAAkB,GAElBt3B,KAAKwgB,a,sEAQJvd,EAAGmF,GACTpI,KAAKq3B,YACPr3B,KAAKs3B,iBAAkB,GAGzBt3B,KAAKq3B,aAAc,EACnBr3B,KAAKg4B,QACLh4B,KAAKoV,Y,8BAEC,aACuEpV,KAAKwO,YAA5EqpB,EADA,EACAA,OAAkB7d,GADlB,EACQ8d,SADR,EACkB9d,UAAoBjE,GADtC,EAC4B4hB,SAD5B,EACsC5hB,YAAYgiB,EADlD,EACkDA,QAASjC,EAD3D,EAC2DA,QAC7DoC,EAAcl4B,KAAKm4B,WAAa,CAAC,CAAC,EAAGrC,IAAY,CAAC,CAACA,EAAS,IAC5DsC,EAAe,EACf9gB,EAAStX,KAAK6W,MAAMS,OAClBlB,EAA4CL,EAA5CK,MAAOC,EAAqCN,EAArCM,OAAQJ,EAA6BF,EAA7BE,IAAKD,EAAwBD,EAAxBC,KAAME,EAAkBH,EAAlBG,MAAOC,EAAWJ,EAAXI,OACnCkiB,EAAcjiB,EAAQJ,EAAOE,EAC7BoiB,EAAejiB,EAASJ,EAAME,EAClCnW,KAAK03B,YAAc,EACnB13B,KAAKwgB,UAAYxgB,KAAKwgB,UAAUjY,KAAI,SAAC+I,EAAM2U,GACzC3U,EAAKinB,UAAY,GACjB,IAAIC,EAAS,EAAK9G,MAAM,OAASzL,GAAOlG,QACzByY,EAAOnhB,wBACtB2C,EAAW,CAACwe,EAAOpiB,MAAQoiB,EAAOpiB,MAAQ4D,EAAS,GAAIwe,EAAOniB,OAASmiB,EAAOniB,OAAS2D,EAAS,IAChG,IACIye,EADS,EAAK/G,MAAM,OAASzL,GACX5O,wBAClBqhB,EAAa1e,EAAS,GAAKye,EAASpiB,OAAS2D,EAAS,GAAKye,EAASpiB,OAEpEwB,EACFqgB,EAAY9V,QAAO,SAAC/kB,EAAGqF,GACrB,OAAOrF,EAAIqF,EAAE,KACZ,GAAKw1B,EAAY,EAAKR,aAAa,GAEpCiB,EAAU,EAAKR,WAAa,CAACtgB,EAAWqgB,EAAY,EAAKR,aAAa,IAAMe,EAASpiB,OAAS2D,EAAS,IAAM,GAAK,CAACke,EAAY,EAAKR,aAAa,IAAKe,EAASpiB,OAAS2D,EAAS,IAAM,EAAI,EAAK0d,aAAegB,EAAaX,IAE5N,EAAKI,YAAcQ,EAAQ,GAAKF,EAASpiB,OAASiiB,GACpD,EAAKZ,cACLiB,EAAU,CAACA,EAAQ,GAAKT,EAAY,EAAKR,YAAc,GAAG,GAAI5B,GAC9DsC,EAAe,EACfF,EAAYz1B,KAAK,CAAC,EAAG,MACX,EAAK01B,YAAcQ,EAAQ,GAAK3e,EAAS,GAAKye,EAASriB,MAAQyhB,EAASQ,IAClF,EAAKX,cACLiB,EAAU,CAAC7C,EAAS,EAAK4B,aAAegB,EAAaX,IACrDG,EAAYz1B,KAAK,CAAC,EAAG,KAEvB,IAAI81B,EAAY,CACdle,QAAS/C,EAAO2O,GAChBzE,KAAMxH,EACNiG,IAAK,CAAC,EAAG,IAEkD,aAAzD,EAAKxO,QAAQ,EAAKjD,YAAY+H,UAAU0P,GAAOhY,QACjDsqB,EAAUle,QAAU,OACpBke,EAAU/e,UAAY,QAExB,IAAIye,EAAY,2CACX3mB,EAAK2mB,WADG,IAEXhY,KAAK,EAAKkY,WAAa,CAACne,EAAS,GAAI,IACrChB,KAAM1H,EAAK2mB,UAAUjf,OAGnBwI,EAAO,CAACxH,EAAS,GAAKye,EAASriB,MAAOsiB,GAM1C,OALIlX,EAAK,GAAKqW,EAASO,IACrBA,EAAe5W,EAAK,GAAKqW,GAG3BK,EAAY,EAAKR,aAAe,EAAKS,WAAa,CAACC,EAAcF,EAAY,EAAKR,aAAa,GAAKlW,EAAK,GAAKqW,GAAU,CAACK,EAAY,EAAKR,aAAa,GAAKlW,EAAK,GAAKqW,EAAQrW,EAAK,GAAKuW,GACjL,CACLQ,YACAN,YACAW,WAAY,CACVpX,KAAMA,EACNvB,IAAK0Y,OAIX34B,KAAKiO,MAAMmpB,UAAYp3B,KAAKm4B,WACxB,CACED,EAAY9V,QAAO,SAAC/kB,EAAGqF,GACrB,OAAOrF,EAAIqF,EAAE,KACZ,GACkB,IAArB1C,KAAK03B,YAAoBQ,EAAY,GAAG,GAAKI,GAE/C,CAAsB,IAArBt4B,KAAK03B,YAAoBQ,EAAY,GAAG,GAAKG,GAAcr4B,KAAK03B,YAAc,GAAKQ,EAAY,GAAG,M,6BAalGr2B,GAAK,WACV7B,KAAKu3B,QAAUv3B,KAAKw3B,WADV,MAEex3B,KAAKigB,IAAtBA,EAFE,EAEFA,IAFE,EAEG4Y,QACb74B,KAAKu3B,QAAUv3B,KAAKq3B,aAAer3B,KAAKs3B,gBAAkBt3B,KAAKu3B,QAAUtX,EAH/D,MAIkBjgB,KAAKiO,MAJvB,EAIF+oB,KAJE,EAIIC,UACdj3B,KAAKw3B,WAAavX,EAClB,IAAM/I,EAASlX,KAAKshB,aACDthB,KAAKm4B,WACpBn4B,KAAKq3B,cACPpX,EAAI,GAAKA,EAAI,GAAK,GATV,IAWF/Q,EAAclP,KAAKwO,YAAnBU,UACR,GAAIrN,EACF,OACE,UAAC,QAAD,CAAO2f,KAAM,CAAC,EAAG,GAAIsX,cAAe94B,KAAK+4B,aACvC,UAAC,QAAD,CACEtqB,UAAW,CACTlI,KAAM,CAAE0Z,IAAKjgB,KAAKu3B,SAClBzoB,GAAI,CAAEmR,IAAKA,GACX1R,SAAUvO,KAAKq3B,aAAer3B,KAAKs3B,gBAAkBt3B,KAAKwO,YAAYC,UAAUF,SAAW,IAI5F1M,EAAI0G,KAAI,SAACzB,EAAOqJ,GACf,IAAIgC,EAAO,EAAKV,QAAQ,EAAKjD,YAAY+H,UAAUpG,GAC/CK,EAAuC,UAA/B,EAAKinB,iBAAiBtnB,GAC9BO,EAA0B,aAAfyB,EAAKlE,MAChBuI,EAAQmE,SAAS,EAAM,QAAS,CAAC,GAAIzD,EAAOc,OAAQ,CAAC7F,EAAMhC,IAE3D4W,EAAavW,EAAQmK,SAAS,EAAM,cAAe,CAAC,IAAK,CAACxI,EAAMhC,IAAQ,GAExEO,GAAY5J,EAAMyxB,WAAazxB,EAAMyxB,UAAUle,UACjD0M,EAAW1M,QAAU,OACrB0M,EAAWvN,UAAY,QAEzB,IAAI4S,EAAYzR,SAAS,EAAM,OAAQ,CAAC,GAAIzD,EAAO8B,MAAO,CAAC7G,EAAMhC,IAC7D6oB,EAAiBxoB,EAAQmK,SAAS,EAAM,aAAc,CAAC,IAAK,CAACxI,EAAMhC,IAAQ,GAG/E,OADArJ,EAAMmxB,UAAUjf,KAAO9J,EAAUiD,EAAKvU,MAAQ,GAAIuU,EAAKX,KAAMrB,GAE3D,UAAC,QAAD,KAAO4R,QAAS,EAAKkX,UAAWxX,aAAc,EAAKyX,UAAWvX,aAAc,EAAKwX,SAAUtX,YAAa,EAAKsX,UAAc,CAAElU,OAAQ9U,GAAWrJ,EAAM8xB,YACpJ,UAAC,GAAD,IAAW,CAAEtrB,IAAK,OAAS6C,GAAWrJ,EAAMyxB,UAAe/hB,EAAWuQ,IACtE,UAAC,QAAD,IAAW,CAAEzZ,IAAK,OAAS6C,GAAWrJ,EAAMmxB,UAAe7L,EAAe4M,Y,kCAtTxF,OADY,gD,0BAkBJ,MAC+Bh5B,KAAKwO,YAApCuH,EADA,EACAA,WAAYgX,EADZ,EACYA,MAAO+I,EADnB,EACmBA,QACvBsB,EAAYp3B,KAAKiO,MAAMmpB,UACrBhhB,EAA4CL,EAA5CK,MAAOC,EAAqCN,EAArCM,OAAQJ,EAA6BF,EAA7BE,IAAKD,EAAwBD,EAAxBC,KAAME,EAAkBH,EAAlBG,MAAOC,EAAWJ,EAAXI,OACnCkiB,EAAcjiB,EAAQJ,EAAOE,EAC7BoiB,EAAejiB,EAASJ,EAAME,EAClCnW,KAAKiO,MAAMkpB,eAAiBn3B,KAAKm4B,WAAa,CAAC,GAAI,IAAM,CAAC,GAAI,IAE9D,IAmDIU,EAIAO,EAAUC,EAAUC,EAvDlBC,cAAgB,SAACj7B,EAAOyJ,GAC5B,MAAa,eAATA,EAEK,CAAC,UAAW,OAAQ,SAAU,SAASpF,QAAQrE,IAAU,EAGzD,CAAC,UAAW,MAAO,SAAU,UAAUqE,QAAQrE,IAAU,GAI9Dk7B,EAAY,CAEhBt2B,QAAS,EACT8S,KAAM8f,EACNxS,QAAS+U,EAAcjB,EAAU,IAAM,EACvClhB,MAAOmiB,EAAcjB,EAAU,GAAKtB,EACpC2D,gBANgB,SAMA1nB,GAEd,GAAmB,iBAARA,EACT,OAAOA,EAEP,IAAIzF,EAAM,EACV,IACEA,EAAMotB,WAAW3nB,GAAO,IACxB,MAAO9O,IACT,OAAQo1B,EAAcjB,EAAU,IAAM9qB,IAKtCqtB,EAAY,CAEhBz2B,QAAS,EACT+S,IAAK6f,EACLxS,OAAQgV,EAAe,EAAIlB,EAAU,GAAK,EAC1CjhB,OAAQmiB,EAAelB,EAAU,GAAKtB,EACtC2D,gBANgB,SAMA1nB,GAEd,GAAmB,iBAARA,EACT,OAAOA,EAEP,IAAIzF,EAAM,EAEV,IACEA,EAAMotB,WAAW3nB,GAAO,IACxB,MAAO9O,IACT,OAAQq1B,EAAelB,EAAU,IAAM9qB,IAIzC2T,EAAM,CAACsZ,cAAcxM,EAAM,GAAI,cAAgByM,EAAUzM,EAAM,IAAMyM,EAAUC,gBAAgB1M,EAAM,IAAKwM,cAAcxM,EAAM,GAAI,YAAc4M,EAAU5M,EAAM,IAAM4M,EAAUF,gBAAgB1M,EAAM,KAEtM6M,EAAanyB,KAAKmV,KAAK5c,KAAKiO,MAAMmpB,UAAU,GAAKiB,GACjDwB,EAAapyB,KAAKmV,KAAK5c,KAAKiO,MAAMmpB,UAAU,GAAKkB,GACjDnB,EAAiBn3B,KAAKiO,MAAMkpB,eAEhC,GAAIyC,EAAa,EAAG,CAClB55B,KAAKiO,MAAMgpB,UAAY2C,EACvB,IAAIE,EAAW7Z,EAAI,GAAKmX,EAAU,GAAKD,EAAe,GAAKmB,EAAerY,EAAI,GAAKkX,EAAe,GAAKlX,EAAI,GAAKmX,EAAU,GAC1HyB,EAAU,CAACR,EAAclB,EAAe,GAAI2C,GAC5CV,EAAW,CAAC,EAAG,GACfC,EAAW,CAAC,GAAI,GAChBC,EAAW,CAAC,GAAI,GAChBrZ,EAAI,KAAOjgB,KAAKiO,MAAM+oB,KAAO,GAAKqB,OAC7B,GAAIwB,EAAa,EAAG,CACzB75B,KAAKiO,MAAMgpB,UAAY4C,EAEvBhB,EAAU,CADK5Y,EAAI,GAAKmX,EAAU,GAAKD,EAAe,GAAKkB,EAAcpY,EAAI,GAAKkX,EAAe,GAAKlX,EAAI,GAAKmX,EAAU,GACpGkB,EAAenB,EAAe,IACnDiC,EAAW,CAAC,EAAG,GACfC,EAAW,CAAC,EAAG,IACfC,EAAW,CAAC,EAAG,IACfrZ,EAAI,KAAOjgB,KAAKiO,MAAM+oB,KAAO,GAAKsB,OAElCt4B,KAAKiO,MAAM+oB,KAAO,EAClBh3B,KAAKiO,MAAMgpB,UAAY,EAEzB,MAAO,CACLhX,IAAKA,EACL4Y,QAAS,CAAE5Y,IAAK4Y,EAASO,WAAUC,WAAUC,e,iCAK/C,MAAmC,aAA5Bt5B,KAAKwO,YAAYiM,W,QAjIPhG,ICmFNqF,G,YAnFb,iBAAYhT,GAAO,+BACjB,kCAAMA,IADW,0BAWJqN,UACb,SAAAlR,GACE,IAAI82B,EAAU/8B,OAAOg9B,WAAa,EAAKpqB,IAAIyH,wBAAwBjB,MAAQ,EACvE6jB,EAASj9B,OAAOk9B,YAAc,EAAKtqB,IAAIyH,wBAAwBhB,OAAS,EACxE8jB,EAASl3B,EAAEge,EAAIgZ,EAASA,EAASh3B,EAAEge,EACnCmZ,EAAUn3B,EAAEoI,EAAI0uB,EAAUA,EAAU92B,EAAEoI,EAC1C,EAAKuE,IAAI4G,MAAMR,KAAOokB,EAAU,KAChC,EAAKxqB,IAAI4G,MAAMP,IAAMkkB,EAAS,OAEhC,IACA,IAnBA,EAAKvqB,IAAM,KAFM,E,oJAuBR,aACgC5P,KAAKwO,YAAxC8I,EADG,EACHA,OAAQxE,EADL,EACKA,KAAM5D,EADX,EACWA,UAAW6jB,EADtB,EACsBA,MAC3B7b,EAASlX,KAAKshB,aAClBthB,KAAKuX,MAAM9F,QAAQV,GAAG,UAAU,SAAAS,GAAQ,IAChCH,EAAWG,EAAXH,OAEN,GADA,EAAKzB,IAAIyqB,UAAY,GACA,UAAjBhpB,EAAO/S,MAAmB,CAC5B,IAAIuD,EAAM,GAAGoF,OAAO,EAAKsQ,MAAM9F,SAASvK,QAAO,SAAAoK,GAAI,MAAmB,UAAfA,EAAKrD,SAI5D,GAHI6E,GACFjR,EAAIiR,KAAKA,GAEPjR,EAAIhC,OAAQ,CACd,IAAIy6B,EAAOC,SAAStyB,cAAc,OAkBlC,GAjBAqyB,EAAK9jB,MAAMgkB,QAAU,mFACrB34B,EAAI2G,SAAQ,SAAC8I,EAAMnB,GACjB,IAAI6I,EAAO,GAAH,OAAM1H,EAAK0H,KAAX,YAAmB1H,EAAKhT,OAC5B4Q,IACF8J,EAAO9J,EAAUoC,EAAKE,OAASwH,GAEjC,IAAIxC,EAAQmE,SAAS,EAAM,QAAS,CAAC,CAAE,mBAAoBrD,EAAOhG,EAAKI,MAAQwF,EAAOc,OAAQ,CAACnW,EAAI0G,KAAI,SAAA+I,GAAI,OAAIA,EAAKE,QAAOrB,IACvHsqB,EAAY9f,SAAS,EAAM,OAAQ,CAACzD,EAAO8B,MAAO,CAACnX,EAAI0G,KAAI,SAAA+I,GAAI,OAAIA,EAAKE,QAAOrB,IAC/EuqB,EAAQH,SAAStyB,cAAc,OACnCyyB,EAAMC,UAAY,eAClBD,EAAML,UAAN,kHAA6H/iB,EAAOhG,EAAKI,KAAzI,uCAA4KsH,EAA5K,WACAshB,EAAKna,OAAOua,GACZ,IAAIE,EAAQF,EAAMG,cAAc,SAC5BC,EAAQJ,EAAMG,cAAc,SAChC98B,OAAO2B,OAAOk7B,EAAMpkB,MAAOA,GAC3BzY,OAAO2B,OAAOo7B,EAAMtkB,MAAOikB,MAEzB1H,EAAO,CACT,IAAIlwB,EAAMkwB,EACV,GAAqB,mBAAVA,EAAsB,CAC/B,IAAIgI,EAAgBl5B,EAAI0G,KAAI,SAAA4J,GAAI,OAAIA,EAAKX,QACzC3O,EAAMkwB,EAAMgI,GAEd,IAAIC,EAAST,SAAStyB,cAAc,OACpC+yB,EAAOL,UAAY,gBACnBK,EAAOX,UAAYx3B,GAAO,GAC1B,IAAIo4B,EAAatgB,SAAS,EAAM,QAAS,CAACzD,EAAO6b,OAAQ,CAAClxB,EAAI2P,OAC9DzT,OAAO2B,OAAOs7B,EAAOxkB,MAAOykB,GAC5BX,EAAKY,QAAQF,GAEf,EAAKprB,IAAItH,YAAYgyB,QAEE,UAAhBjpB,EAAOzT,OAChB,EAAKgS,IAAIyqB,UAAY,OAGzBE,SAASY,KAAKttB,iBAAiB,YAAa7N,KAAKo7B,gB,+BAG5Cp7B,KAAK4P,MACR5P,KAAK4P,IAAM2qB,SAAStyB,cAAc,OAClCjI,KAAK4P,IAAI+qB,UAAY,kBACrB36B,KAAK4P,IAAI4G,MAAMgkB,QAAU,4HAE3BD,SAASY,KAAK7yB,YAAYtI,KAAK4P,O,kCAzE/B,OADY,mD,SAPM6E,ICmFP4mB,G,YA9Eb,eAAYltB,GAAM,sBAChB,kCADgB,IAEVmtB,EAAcntB,EAAdmtB,UAQN,GAP0B,WAAtBrnB,OAAOqnB,KACTA,EAAYf,SAASM,cAAcS,IAErC,EAAK1rB,IAAM0rB,EACX,EAAK5jB,QAAU,GACf,EAAKmC,QAAU,GACf,EAAK9S,SAAW,GACZtD,cAAY,OACiC0K,EAAvCotB,iBADM,MACI,MADJ,EACW/Z,EAAsBrT,EAAtBqT,KAAMga,EAAgBrtB,EAAhBqtB,YAC3BC,EAAe,EACnB,GAAkB,QAAdF,EAEFE,EADwB/3B,GAAGC,oBAAnB+3B,YACqB,IAE/B,EAAK1kB,MAAQ,IAAI2kB,QAAM,CACrBvlB,MAAOoL,EAAK,GAAKia,EACjBplB,OAAQmL,EAAK,GAAKia,EAClBG,MAAO,OACPJ,cACAC,sBAGF,EAAKzkB,MAAQ,IAAI2kB,QAAM,CAAEL,YAAWG,aAAc73B,cAAYi4B,mBAzBhD,OA2BhB,EAAK7kB,MAAMnJ,iBAAiB,UAAU,SAAC0H,GAErC,EAAKumB,YAAY,CAAE/zB,KAAM,cAE3B,EAAK+zB,YAAc3nB,UAAS,SAAC3O,GAC3B,EAAKuB,SAASyB,SAAQ,SAACxB,GACrBA,EAAKoO,OAAO5P,QAEb,KACH,EAAKu2B,YAAc5nB,UAAS,SAACoB,GAC3B,EAAKxO,SAASyB,SAAQ,SAAC0H,GACrBA,EAAM8rB,UACN,EAAKvqB,QAAQwqB,OAAO/rB,MAEtB,EAAKW,QAAQkE,eAAgB,EAC7B,EAAK3D,cAAc,UAAW8C,kBA1ChB,E,4DA6CX1O,GAELxF,KAAK87B,YAAYt2B,K,6BAEZwB,GAAM,WAEX,GAD2B,CAACsS,GAAMK,IACX+L,MAAK,SAACwW,GAAD,OAAYl1B,aAAgBk1B,KAEtDl8B,KAAKF,OAAO,GAAI,SACX,IAAKE,KAAKyR,QAEf,YADAjE,QAAQC,MAAM,mDAGK,UAAjBwG,OAAOjN,IAKAA,aAAgB0T,GACzB1a,KAAK0X,QAAQjV,KAAKuE,GACTA,aAAgB4uB,IACzB51B,KAAK6Z,QAAQpX,KAAKuE,GAEpBhH,KAAK+G,SAAStE,KAAKuE,GACnBA,EAAKuQ,MAAQvX,KACbgH,EAAKgQ,MAAQhX,KAAKgX,MAClBhX,KAAK+7B,eAZH/0B,EAAKwB,SAAQ,SAAC8I,GACZ,EAAK6O,OAAO7O,Q,mCAchB,OAAOtR,KAAKgX,MAAMmlB,WAAWC,gB,OA3Eb3nB,ICYd4nB,GAAU,CACdC,QAAS,QACT3kB,QACAW,OACAG,QACAE,SACAC,OACAK,YACAC,UACAE,WACAO,SACAC,aACAG,UACAG,QACAZ,QACAQ,WACAlT,IACAiQ,SACAwkB,SACApsB,UAGarL,cACRy4B,QAAUA,GAIFA,gB","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"spritejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qcharts\"] = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse\n\t\troot[\"qcharts\"] = factory(root[\"spritejs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.utils=e():t.utils=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(...t){let e=t[0];if(t.length>1)for(let r=1;r<t.length;r++)n(e,t[r]);return e;function n(t,e){for(var n in e)t[n]=t[n]&&\"[object Object]\"===t[n].toString()?r(t[n],e[n]):t[n]=e[n];return t}}function o(){return Object.create(null)}function u(t){const e=typeof t;return\"object\"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}function i(t,e=16,n=!1){let r=null,o=n;return function(...n){if(o)return t.apply(this,n),o=!1;r||(r=setTimeout(()=>{clearTimeout(r),r=null,t.apply(this,n)},e))}}function c(t,e){return\"string\"===u(t)&&t.match(/%$/)?Number(t.substring(0,t.indexOf(\"%\")))/100*e:t}n.r(e),n.d(e,\"deepObjectMerge\",(function(){return r})),n.d(e,\"emptyObject\",(function(){return o})),n.d(e,\"jsType\",(function(){return u})),n.d(e,\"throttle\",(function(){return i})),n.d(e,\"getDistancePx\",(function(){return c}))}])}));\n//# sourceMappingURL=index.js.map","export const isWeiXin = () => {\r\n  return typeof wx !== 'undefined' && typeof wx.getSystemInfoSync === 'function'\r\n}\r\n\r\nexport const getGlobal = () => {\r\n  if (isWeiXin()) return getApp()\r\n  if (typeof self !== 'undefined') return self\r\n  if (typeof window !== 'undefined') return window\r\n  if (typeof global !== 'undefined') return global\r\n  throw new Error(`unable to locate global object`)\r\n}\r\n\r\nexport const platform = getGlobal()\r\n","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  const el = new TagName(attrs)\n  //渲染的spritejs对象放到 visual或者plugin上\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children.map(createElement.bind(this)).filter(Boolean).forEach(el.appendChild.bind(el))\n  }\n  return el\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","import interpolate from './interpolate'\nimport invariant from './invariant'\n\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame, cancelAnimationFrame\nif (typeof window !== 'undefined' && typeof window.requestAnimationFrame === 'function') {\n  requestAnimationFrame = window.requestAnimationFrame\n  cancelAnimationFrame = window.cancelAnimationFrame\n} else {\n  const startTime = now()\n  requestAnimationFrame = (fn) => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = (id) => {\n    return clearTimeout(id)\n  }\n}\nconst delay = (time) =>\n  new Promise((resolve) =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addAttrs, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs(graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addEvent(graph, el, patche)\n  addAttrs(graph, el, patche)\n  //el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} $el 当前的真实spritejs 节点\n * @param {*} patches 虚拟节点\n * @param {*} isRoot 是否是初节点，用于绑定$el与visual或者plugin\n */\nexport default function patch($el, patche, isRoot = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let graph = this //graph为当前的qcharts对象 visula或者plugin\n  if (!$el && !patche) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      if (newEl) {\n        if (isRoot) {\n          //创建的时候，visual与plugin绑定对应的sprite元素\n          graph.$el = newEl\n        }\n        $el.appendChild(newEl)\n      }\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      $el.parent.replaceChild(newEl, $el)\n      break\n    }\n    case REMOVE: {\n      $el.remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      patchAttrs(graph, $el, attrs)\n      if ($el.children && children.length) {\n        $el.children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        let len = children.length > $el.children.length ? children.length : $el.children.length\n        for (let j = 0; j < len; j++) {\n          let curNode = $el.children.filter(child => child._ind === j)[0]\n          let curVnode = children.filter(child => child._ind === j)[0]\n          if (curVnode && curVnode.type === 'CREATE') {\n            //如果是create需要传父级$el\n            patch.bind(graph)($el, curVnode)\n          } else {\n            patch.bind(graph)(curNode, curVnode)\n          }\n        }\n      }\n      break\n    }\n  }\n}\n","import { Tween } from '../tween'\nimport { deepObjectMerge, emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n\n  const { from, middle, use, to, delay, duration, useTween, easing, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n  if (from) {\n    //如果存在from，一开始就设置，防止出现抖动\n    el.attr(from)\n  }\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween(easing)\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAttrs(graph, el, attrs = {}) {\n  let states = attrs['states']\n  let state = attrs['state']\n  if (states && state) {\n    let oldState = el.attr('state')\n    if (state !== oldState) {\n      //不相当就处理，相当上一次已经处理完毕\n      let oldstates = el.attr('states') || emptyObject()\n      let oldAttrs = deepObjectMerge(emptyObject(), attrs, oldstates[oldState])\n      let newAttrs = deepObjectMerge(emptyObject(), attrs, states[state])\n      el.attr(oldAttrs)\n      let { duration } = deepObjectMerge(emptyObject(), graph.renderAttrs.animation, states.animation)\n      el.transition(duration / 1000).attr(newAttrs)\n    }\n  } else {\n    el.attr(attrs)\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(graph, el, attrs = {}) {\n  //缓存方法，修改方法指针this\n  Object.keys(attrs).forEach(key => {\n    if (!/^on/.test(key)) {\n      return\n    }\n    const type = key.split('on')[1].toLowerCase()\n    const cb = attrs[key] || (() => {})\n    let newF = evt => cb.call(graph, evt, el)\n    el.removeAllListeners(type)\n    el.addEventListener(type, newF)\n    delete attrs[key]\n  })\n}\n","export default {\n  default: 'default', //默认\n  hide: 'hide', //数据隐藏\n  hover: 'hover', //次激活模式，类似css中的hover\n  active: 'active', //激活模式，如选中等场景\n  disabled: 'disabled', //禁用模式\n  mixed: 'mixed' //混合模式,比如一个row或者col里面有多种状态\n}\n","function mixinEvent(target) {\n  if (target.__store) {\n    target.__store.events = []\n    let events = target.__store.events\n    target.on = function(type, cb) {\n      events.push({ type, cb })\n      return target\n    }\n    target.off = function(type, cb) {\n      for (let i = 0; i < events.length; i++) {\n        if (cb === undefined) {\n          events = []\n        } else {\n          let curEvent = events[i]\n          if (curEvent.type === type && curEvent.cb === cb) {\n            events.splice(i, 1)\n            i--\n          }\n        }\n      }\n      return target\n    }\n    target.once = function(type, cb) {\n      const listener = function(...args) {\n        fn.apply(target, args)\n        self.off(type, cb)\n      }\n      return target.on(type, listener)\n    }\n    target.dispatchEvent = function(type, option) {\n      events.forEach(item => {\n        if (item.type === type) {\n          item.cb.call(target, { type, option })\n        }\n      })\n      return target\n    }\n  }\n}\nexport { mixinEvent }\n","import state from \"./state\";\nimport { mixinEvent } from \"./event\";\nclass Cell extends Object {\n  constructor(data, option, dataset) {\n    super();\n    this.__store = Object.create(null);\n    this.__store.state = state[\"default\"];\n    this.__store.row = undefined;\n    this.__store.col = undefined;\n    this.__store.option = option;\n    this.__store.data = data;\n    this.__store.datasets = [dataset];\n    this._layoutScaleFunc = dataset.layoutScaleFunc;\n    mixinEvent(this);\n  }\n  get datasets() {\n    return this.__store.datasets;\n  }\n  get data() {\n    return this, this.__store.data;\n  }\n  get value() {\n    return this.__store.data[this.__store.option[\"value\"]];\n  }\n  get layoutScaleValue() {\n    return typeof this._layoutScaleFunc === \"function\"\n      ? this._layoutScaleFunc(this.__store.data[this.__store.option[\"value\"]])\n      : this.__store.data[this.__store.option[\"value\"]];\n  }\n  get text() {\n    return this.__store.data[this.__store.option[\"text\"]];\n  }\n  set row(num) {\n    if (this.__store.row === undefined) {\n      this.__store.row = num;\n    }\n  }\n  get row() {\n    return this.__store.row;\n  }\n  set col(num) {\n    if (this.__store.col === undefined) {\n      this.__store.col = num;\n    }\n  }\n  get col() {\n    return this.__store.col;\n  }\n  get option() {\n    return this.__store.option;\n  }\n  get state() {\n    return this.__store.state;\n  }\n  set state(name) {\n    if (state[name] && this.__store.state !== state[name]) {\n      this.__store.state = state[name];\n      this.dispatchEvent(\"change\", {\n        name: \"cell\",\n        value: state[name],\n        data: this,\n      });\n      this.datasets.forEach((dataset) => {\n        dataset.dispatchEvent(\"change\", {\n          name: \"cell\",\n          value: state[name],\n          data: this,\n        });\n      });\n    }\n  }\n}\nexport default Cell;\n","import { mixinEvent } from './event'\nimport state from './state'\nclass List extends Array {\n  constructor(name, option) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.__name = name\n    this.__store.__option = option\n    this.__store.dataset = null\n    mixinEvent(this)\n  }\n  get data() {\n    let arr = []\n    this.forEach(cell => {\n      arr.push(cell.data)\n    })\n    return arr\n  }\n  set dataset(arr) {\n    this.__store.dataset = arr\n  }\n  get dataset() {\n    return this.__store.dataset\n  }\n  get name() {\n    return this.__store.__name\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get state() {\n    //遍历子项，查看状态是否统一\n    let sta = this[0].state\n    for (let i = 1; i < this.length; i++) {\n      if (this[i].state !== sta) {\n        sta = 'mixed'\n        break\n      }\n    }\n    return sta\n  }\n  set state(name) {\n    if (state[name] && this.state !== state[name]) {\n      //给所有子项设置state\n      this.forEach(cell => {\n        //如果disabled的状态，必须先设置位default,disabled的state不能直接修改位其它状态\n        if (cell.state === 'disabled' && name !== 'default') {\n          return\n        }\n        cell.state = state[name]\n      })\n      let dispatchOption = null\n      if (this instanceof Row) {\n        dispatchOption = { name: 'row', value: state[name], data: this }\n      } else if (this instanceof Col) {\n        dispatchOption = { name: 'col', value: state[name], data: this }\n      }\n      this.dispatchEvent('change', dispatchOption)\n      this.dataset && this.dataset.dispatchEvent('change', dispatchOption)\n    }\n  }\n}\nclass Row extends List {}\nclass Col extends List {}\nexport { Row, Col }\n","import Cell from './Cell'\nimport { Row, Col } from './Row'\nimport { mixinEvent } from './event'\nclass Dataset extends Array {\n  constructor(data, option) {\n    super()\n    this.layoutScaleFunc = this.handleLayoutScale(option.layoutScale)\n    data.forEach((item, i) => {\n      let cell = item\n      if (!(item instanceof Cell)) {\n        cell = new Cell(item, option, this)\n      } else {\n        cell.datasets.push(this)\n      }\n      this[i] = cell\n    })\n    this.__store = Object.create(null)\n    let store = this.__store\n    store.__option = option\n    store.__deps = []\n    store.__rows = []\n    store.__rows = getArrData(this, option)\n    mixinEvent(this)\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get cols() {\n    let cols = []\n    let colLen = 0\n    this.__store.__rows.forEach(row => {\n      if (row.length > colLen) {\n        colLen = row.length\n      }\n    })\n    for (let i = 0; i < colLen; i++) {\n      let arr = new Col()\n      arr.dataset = this\n      this.__store.__rows.forEach(item => {\n        arr.push(item[i])\n      })\n      cols.push(arr)\n    }\n    return cols\n  }\n  get rows() {\n    return this.__store.__rows\n  }\n  resetState(state = 'default') {\n    let res = []\n    this.forEach(cell => {\n      //reset的时候不处理disabled\n      if (cell.state !== state && cell.state !== 'disabled') {\n        res.push(cell)\n        cell.state = state\n      }\n    })\n    this.dispatchEvent('change', { name: 'reset', data: res })\n  }\n  selectRows(name) {\n    let rowKey = this.option.row\n    let arr = []\n    this.forEach(item => {\n      if (name.indexOf(item.data[rowKey]) !== -1) {\n        arr.push(item)\n      }\n    })\n    return new Dataset(arr, this.option)\n  }\n  addDep(dep) {\n    this.__store.__deps.push(dep)\n  }\n  handleLayoutScale(layoutScale) {\n    if (typeof layoutScale === 'string') {\n      let method = layoutScale.replace(/\\d+$/, '')\n      let NUM = 2\n      if (method !== 'sqrt' && method !== 'pow' && method !== 'log') {\n        console.warn('layoutScale type error')\n        return function (value) {\n          return value\n        }\n      }\n\n      let number = layoutScale.replace(/^[a-z]+/, '')\n      if (number) {\n        let isNumber = /^[-+]?\\d*$/.test(number)\n        if (!isNumber) {\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n        } else {\n          NUM = Number(number)\n        }\n      }\n\n      switch (method) {\n        case 'sqrt':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, NUM)\n          }\n          return function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n        case 'pow':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n          return function (value) {\n            return Math.pow(value, NUM)\n          }\n        case 'log':\n          if (NUM !== 2 && NUM !== 10) {\n            console.warn('layoutScale type error')\n            return function (value) {\n              return value\n            }\n          }\n          this.datasetReverse = function (value) {\n            return Math.pow(NUM, value)\n          }\n          return function (value) {\n            return Math['log' + NUM](value)\n          }\n        default:\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n      }\n    }\n    return layoutScale\n  }\n}\nfunction getArrData(data = [], option) {\n  let { row: key, sort } = option\n  let resArr = []\n  if (key === '*') {\n    let list = new Row('*', option)\n    data.forEach(item => {\n      list.push(item)\n    })\n    if (sort) {\n      list.sort((a, b) => sort(a.data, b.data))\n    }\n    resArr.push(list)\n  } else {\n    let keys = Object.create(null)\n    data.forEach(item => {\n      let data = item.__store.data\n      if (!keys[data[key]]) {\n        keys[data[key]] = new Row(data[key], option)\n      }\n      keys[data[key]].push(item)\n    })\n    for (let key in keys) {\n      let curRow = keys[key]\n      if (sort) {\n        curRow.sort((a, b) => sort(a.data, b.data))\n      }\n      resArr.push(curRow)\n    }\n  }\n  resArr.forEach((list, m) => {\n    list.dataset = data\n    list.forEach((cell, n) => {\n      cell.row = m\n      cell.col = n\n    })\n  })\n  return resArr\n}\n\nexport default Dataset\n","import Dataset from './Dataset'\nexport default Dataset\n","const lifeCycle = {\r\n  beforeCreate: 'beforeCreate', //创建前\r\n  created: 'created', // 图表创建\r\n  beforeRender: 'beforeRender', //图表渲染前\r\n  rendered: 'rendered', // 图表渲染结束\r\n  beforeUpdate: 'beforeUpdate', // 图表更新前\r\n  updated: 'updated', // 图表更新\r\n  beforeDestroy: 'beforeDestroy', // 图表卸载前\r\n  destroyed: 'destroyed' // 图表卸载\r\n}\r\nfunction mixin(component) {\r\n  component.on = component.addEventListener\r\n  component.off = component.removeEventListener\r\n  component.once = function(type, fn) {\r\n    const listener = (...args) => {\r\n      fn.apply(this, args)\r\n      this.off(type, listener)\r\n    }\r\n    return this.on(type, listener)\r\n  }\r\n}\r\n\r\nexport { lifeCycle, mixin }\r\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'object' && jsType(SecondOBJ[key]) === 'object') {\n        //对象处理\n        deepObjectMerge(FirstOBJ[key], SecondOBJ[key])\n      } else if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'array' && jsType(SecondOBJ[key]) === 'array') {\n        //数组处理\n        FirstOBJ[key].splice(0, FirstOBJ[key].length, ...SecondOBJ[key])\n      } else {\n        FirstOBJ[key] = SecondOBJ[key]\n      }\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase()\n  }\n  return str\n}\n\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function (...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction debounce(fn, delay = 16, immediately = false) {\n  let timer = null\n  return function () {\n    let args = arguments\n    let context = this\n    if (timer) {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    } else {\n      if (immediately) {\n        fn.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    }\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, debounce, getDistancePx }\n","import { deepObjectMerge } from '@qcharts/utils'\r\nconst colors = ['#47A1FF', '#59CB74', '#FFB952', '#FC6980', '#6367EC', '#DA65CC', '#FBD54A', '#ADDF84', '#6CD3FF', '#659AEC', '#9F8CF1', '#ED8CCE', '#A2E5FF', '#4DCCCB', '#F79452', '#84E0BE', '#5982F6', '#E37474', '#3FDDC7', '#9861E5']\r\nfor (let i = 0; i < 1004; i++) {\r\n  //生成1024种颜色\r\n  colors.push('#' + ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substr(-6))\r\n}\r\nconst theme = {\r\n  colors\r\n}\r\ntheme.visuals = {\r\n  Line: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      line: { lineWidth: 1 },\r\n      guideline: { strokeColor: '#ddd' },\r\n      point: {\r\n        pointType: 'ellipse',\r\n        radiusX: 4,\r\n        radiusY: 4,\r\n        strokeColor: '#fff',\r\n        borderWidth: 1\r\n      }\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Pie: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      sector: { lineWidth: 1, strokeColor: '#fff' },\r\n      guideText: {},\r\n      guideline: {}\r\n    },\r\n    attrs: {}\r\n  },\r\n  Area: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      area: { opacity: 0.5 },\r\n      guideline: { strokeColor: '#ddd' },\r\n      point: {\r\n        pointType: 'ellipse',\r\n        radiusX: 4,\r\n        radiusY: 4,\r\n        strokeColor: '#fff',\r\n        borderWidth: 1\r\n      }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Radar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      area: { opacity: 0.5 }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Bar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      bar: { textureRepeat: true },\r\n      groupBar: { opacity: 0.1 },\r\n      text: false\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  PolarBar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      bar: {}\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Funnel: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      polygon: {}\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Scatter: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      point: {}\r\n    },\r\n    attrs: {\r\n      showGuideLine: false\r\n    }\r\n  },\r\n  Wave: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      wave: { fillColor: '#37c', strokeColor: '#37c', lineWidth: 0 },\r\n      text: { fillColor: '#333', fontSize: 24 },\r\n      shape: { fillColor: '#e6f3ff', lineWidth: 3, strokeColor: '#156cbd' }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Gauge: {\r\n    colors: theme.colors,\r\n    attrs: {}\r\n  },\r\n  RadialBar: {\r\n    colors: theme.colors,\r\n    attrs: {}\r\n  }\r\n}\r\ntheme.plugins = {\r\n  Tooltip: {\r\n    colors: theme.colors,\r\n    styles: {},\r\n    attrs: {}\r\n  },\r\n  Legend: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      point: {\r\n        pointType: 'sprite',\r\n        iconSize: [12, 12],\r\n        borderRadius: 12\r\n      },\r\n      text: {\r\n        fontSize: '12px',\r\n        fillColor: '#666'\r\n      }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Axis: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      axis: {\r\n        strokeColor: '#ccc',\r\n        lineWidth: 1\r\n      },\r\n      scale: {\r\n        bgcolor: '#ccc'\r\n      },\r\n      label: {\r\n        fontSize: 12,\r\n        fillColor: '#666'\r\n      },\r\n      grid: {\r\n        strokeColor: '#ddd',\r\n        lineDash: [3, 3]\r\n      },\r\n      name: {\r\n        fontSize: 12,\r\n        fillColor: '#666'\r\n      }\r\n    },\r\n    attrs: {\r\n      orient: 'bottom'\r\n    }\r\n  }\r\n}\r\ntheme.set = function(obj) {\r\n  //合并样式\r\n  deepObjectMerge(theme, obj)\r\n}\r\nexport default theme\r\n","import { Node } from 'spritejs'\r\nimport { lifeCycle, mixin } from './mixin'\r\nimport { emptyObject, deepObjectMerge, jsType, getDistancePx, throttle } from '@qcharts/utils'\r\nimport { patch, diff } from '@qcharts/vnode'\r\nimport Dataset from '@qcharts/dataset'\r\nimport { isWeiXin } from './platform'\r\nclass Base extends Node {\r\n  constructor(attrs) {\r\n    super()\r\n    this.dispatchEvent(lifeCycle.beforeCreate)\r\n    mixin(this)\r\n    this['__store'] = emptyObject()\r\n    let store = this['__store']\r\n    store.__attrs = emptyObject()\r\n    store.__vnode__ = null\r\n    store.__isCreated__ = false\r\n    store.__refs = emptyObject()\r\n    store.dataset = null\r\n    // 微信中不支持多图层\r\n    const layerSetting = isWeiXin() ? { layer: 'default' } : {}\r\n    this.attr({ ...attrs, ...layerSetting })\r\n    this.__update = throttle((args) => {\r\n      if (store.__isCreated__) {\r\n        this.update(args)\r\n      }\r\n    })\r\n  }\r\n  get store() {\r\n    return this['__store']\r\n  }\r\n  get layer() {\r\n    let { layer: layerName, zIndex = 0 } = deepObjectMerge(\r\n      {},\r\n      this.baseAttrs(),\r\n      this.defaultAttrs(),\r\n      this.theme.attrs,\r\n      this.attr()\r\n    )\r\n    if (isWeiXin()) {\r\n      return this.scene.layer(layerName)\r\n    }\r\n    return this.scene.layer(layerName).attr({ zIndex })\r\n  }\r\n  get $refs() {\r\n    return this['__store'].__refs\r\n  }\r\n  get renderStyles() {\r\n    let styles = deepObjectMerge({}, this.defaultStyles(), this.theme.styles)\r\n    return styles\r\n  }\r\n  get renderAttrs() {\r\n    //attrs转换\r\n    let attrs = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\r\n    let { animation, clientRect } = attrs\r\n    //动画数据转换\r\n    if (jsType(animation) === 'boolean') {\r\n      animation = { use: animation ? true : false }\r\n    }\r\n    //处理layer支持多layer\r\n    const rect = isWeiXin() ? this.layer.canvas : this.layer.canvas.getBoundingClientRect()\r\n    const { width, height } = rect\r\n\r\n    //计算布局数据\r\n    for (let key in clientRect) {\r\n      if (['left', 'right', 'width'].indexOf(key) !== -1) {\r\n        clientRect[key] = getDistancePx(clientRect[key], width)\r\n      } else if (['top', 'bottom', 'height'].indexOf(key) !== -1) {\r\n        clientRect[key] = getDistancePx(clientRect[key], height)\r\n      }\r\n    }\r\n    if (clientRect.width === undefined) {\r\n      clientRect.width = width - clientRect.left - clientRect.right\r\n    } else {\r\n      clientRect.right = width - clientRect.left - clientRect.width\r\n    }\r\n    if (clientRect.height === undefined) {\r\n      clientRect.height = height - clientRect.top - clientRect.bottom\r\n    } else {\r\n      clientRect.bottom = height - clientRect.top - clientRect.height\r\n    }\r\n    attrs.colors = this.theme.colors\r\n    return attrs\r\n  }\r\n  get dataset() {\r\n    return this['__store'].dataset || (this.chart && this.chart.dataset)\r\n  }\r\n  source(data, options) {\r\n    let store = this['__store']\r\n    if (!(data instanceof Dataset)) {\r\n      let opts = options\r\n      if (store.dataset) {\r\n        opts = deepObjectMerge({}, store.dataset.option, options)\r\n      }\r\n      store.dataset = new Dataset(data, opts)\r\n    } else {\r\n      store.dataset = data\r\n    }\r\n    if (store.dataset && store.__isCreated__) {\r\n      store.dataset.on('change', (_) => {\r\n        this.__update({ type: 'state' })\r\n      })\r\n      //如果以前存在，则更新\r\n      this.__update({ type: 'source' })\r\n    }\r\n    return this\r\n  }\r\n  created() {\r\n    //初始化创建的时候执行\r\n    let store = this['__store']\r\n    this.dispatchEvent(lifeCycle.created)\r\n    store.__vnode__ = this.render(this.beforeRender({ type: 'create' }))\r\n    const patches = diff(null, store.__vnode__)\r\n    this.dispatchEvent(lifeCycle.beforeRender)\r\n    patch.bind(this)(this.$el || this.layer, patches, 1)\r\n    this.dispatchEvent(lifeCycle.rendered)\r\n    this.rendered()\r\n    store.__isCreated__ = true\r\n    this.dataset.on('change', (_) => {\r\n      this.__update({ type: 'state' })\r\n    })\r\n  }\r\n  beforeRender() {\r\n    //图表初始化准备数据\r\n    return this.renderAttrs\r\n  }\r\n  render() {\r\n    console.warn('this function must be rewrited')\r\n  }\r\n  beforeUpdate() {\r\n    return this.renderAttrs\r\n  }\r\n  update(params) {\r\n    //图表更新准备数据\r\n    let store = this['__store']\r\n    this.dispatchEvent(lifeCycle.beforeUpdate)\r\n    let vnode = this.render(this.beforeUpdate(params))\r\n    const patches = diff(store.__vnode__, vnode)\r\n    patch.bind(this)(this.$el || this.layer, patches)\r\n    store.__vnode__ = vnode\r\n    this.dispatchEvent(lifeCycle.updated)\r\n    this.updated()\r\n  }\r\n  updated() {}\r\n  dispatchEvent(event, obj = emptyObject()) {\r\n    super.dispatchEvent(event, obj)\r\n  }\r\n  defaultAttrs() {\r\n    return emptyObject()\r\n  }\r\n  defaultStyles() {\r\n    return emptyObject()\r\n  }\r\n  baseAttrs() {\r\n    let attrs = {\r\n      //动画类型\r\n      animation: {\r\n        use: true,\r\n        duration: 700,\r\n        useTween: true,\r\n        easing: 'bounceOut'\r\n      },\r\n      //位置布局信息\r\n      clientRect: {\r\n        left: '10%',\r\n        top: '10%',\r\n        right: '10%',\r\n        bottom: '10%',\r\n        width: undefined,\r\n        height: undefined\r\n      },\r\n      //透明度\r\n      opacity: 1,\r\n      layer: 'default',\r\n      layoutBy: 'rows' //按照哪个数据布局 ['rows','cols']\r\n    }\r\n    return attrs\r\n  }\r\n  attr(name, val) {\r\n    //属性设置\r\n    let store = this['__store']\r\n    if (jsType(name) === 'object') {\r\n      for (let key in name) {\r\n        this.attr(key, name[key])\r\n      }\r\n    } else if (name === undefined) {\r\n      let res = emptyObject()\r\n      for (let key in store.__attrs) {\r\n        //过滤style属性\r\n        if (key.indexOf('style@') !== 0) {\r\n          res[key] = store.__attrs[key]\r\n        }\r\n      }\r\n      return res\r\n    } else if (val === undefined) {\r\n      //获取属性\r\n      return store.__attrs[name]\r\n    } else if (name !== undefined) {\r\n      store.__attrs[name] = val\r\n      store.__isCreated__ && this.__update({ type: 'attr' })\r\n    }\r\n  }\r\n  addRef(ref, el) {\r\n    this['__store'].__refs[ref] = el\r\n    //在vnode中调用，存储到this.__refs中\r\n  }\r\n  style(type, style) {\r\n    //样式设置，样式用attr逻辑存储，添加@符号\r\n    if (jsType(type) === 'object') {\r\n      //多样式赋值\r\n      for (let key in type) {\r\n        this.style(key, type[key])\r\n      }\r\n    } else if (type !== undefined && style === undefined) {\r\n      //获取样式，统一返回成函数\r\n      const style = this.attr('style@' + type)\r\n      return (...args) => {\r\n        if (jsType(style) === 'function') {\r\n          return style.apply(this, args)\r\n        } else {\r\n          return style\r\n        }\r\n      }\r\n    } else if (type !== undefined && style !== undefined) {\r\n      //赋值\r\n      this.attr('style@' + type, style)\r\n      return this\r\n    } else if (type === undefined && style === undefined) {\r\n      //获取全部样式\r\n      let res = emptyObject()\r\n      let attrs = this['__store'].__attrs\r\n      for (let key in attrs) {\r\n        if (key.indexOf('style@') === 0) {\r\n          let styleKey = key.substr(6)\r\n          res[styleKey] = this.style(styleKey)\r\n        }\r\n      }\r\n      return res\r\n    }\r\n  }\r\n}\r\nexport default Base\r\n","import Base from './Base'\r\nimport theme from '../theme/default'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nexport default class BaseVisual extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.theme = theme.visuals[this.constructor.name]\r\n    //如果当前对象设置了theme，不继承theme\r\n    this.theme.set = obj => {\r\n      if (this.theme === theme.visuals[this.constructor.name]) {\r\n        this.theme = filterClone(this.theme)\r\n      }\r\n      this.theme = deepObjectMerge(this.theme, obj)\r\n    }\r\n  }\r\n}\r\n","// merge style\r\nimport { deepObjectMerge, jsType } from '@qcharts/utils'\r\n/**\r\n * chart:当前的图表\r\n * key:当前的样式名称\r\n * defaultstyle:为数组或者对象，表示默认的样式\r\n * args:调用style方法的时候，style以后的参数\r\n */\r\nexport function getStyle(chart, key, defaultStyle, args) {\r\n  //合并样式\r\n  let oStyle = defaultStyle\r\n  let arrStyle = defaultStyle\r\n  let oArgs = args\r\n  if (jsType(defaultStyle) === 'array') {\r\n    //oStyle = deepObjectMerge.apply(this, defaultStyle)\r\n    oStyle = deepObjectMerge.call(this, {}, ...defaultStyle)\r\n  } else {\r\n    arrStyle = [defaultStyle]\r\n  }\r\n  if (jsType(args) !== 'array') {\r\n    oArgs = [args]\r\n  }\r\n  let cusStyle = chart.style(key)(oStyle, ...oArgs)\r\n  if (cusStyle === false) {\r\n    return false\r\n  } else if (arrStyle.includes(false) && cusStyle === undefined) {\r\n    return false\r\n  } else if (cusStyle !== undefined) {\r\n    //如果返回的cusStyle不是false或者undefined，需要把default样式进行重写叠加\r\n    let curStyle = defaultStyle\r\n    if (jsType(defaultStyle) !== 'array') {\r\n      curStyle = [defaultStyle]\r\n    }\r\n    //获取default样式\r\n    let oDefaultStyle = chart.defaultStyles()[key]\r\n    oStyle = deepObjectMerge({}, oDefaultStyle, curStyle.filter(Boolean)[0], oStyle)\r\n  }\r\n  let resStyle = deepObjectMerge({}, oStyle, cusStyle)\r\n  return resStyle\r\n}\r\n","function scaleLinear() {\r\n  let domain = [0, 1]\r\n  let range = [0, 1]\r\n  function scale(num) {\r\n    let disDomain = domain[1] - domain[0]\r\n    let disRange = range[1] - range[0]\r\n    let per = (num - domain[0]) / disDomain || 0\r\n    return range[0] + disRange * per\r\n  }\r\n  scale.domain = function(arr) {\r\n    domain = arr\r\n    return this\r\n  }\r\n  scale.range = function(arr) {\r\n    range = arr\r\n    return this\r\n  }\r\n  return scale\r\n}\r\n\r\n// const data = [80, 40, 30, 60, 70]\r\n// const s = scaleLinear().domain([0, 100]).range([0, 100])\r\n// console.log(data.map(s))\r\n\r\nexport { scaleLinear }\r\n","//import { Global } from '../core/Global'\r\nexport function axis(attr) {\r\n  // 计算坐标轴刻度\r\n  if (!Array.isArray(attr.dataSet) && !attr.hasOwnProperty(\"section\")) {\r\n    return [];\r\n  }\r\n  if (attr.section !== undefined) {\r\n    return sectionAxis(attr.section);\r\n  }\r\n  const data = dataHandle(attr);\r\n  let upZero = []; // 大于零的数\r\n  let downZero = []; // 小于零的数\r\n  for (const element of data) {\r\n    if (element < 0) {\r\n      downZero.push(Math.abs(element));\r\n    } else {\r\n      upZero.push(element);\r\n    }\r\n  }\r\n  let length = 5; // 刻度数量\r\n  let sortUpZero = upZero.sort((a, b) => {\r\n    return a - b;\r\n  });\r\n  let sortDownZero = downZero.sort((a, b) => {\r\n    return a - b;\r\n  });\r\n  let maxUpZero = sortUpZero.length && Math.ceil(sortUpZero.pop() / 0.95);\r\n  let maxDownZero = sortDownZero.length && Math.ceil(sortDownZero.pop() / 0.95);\r\n  let maxValue = maxUpZero - maxDownZero >= 0 ? maxUpZero : maxDownZero;\r\n  let mixNum = 4;\r\n  let maxNum = 7;\r\n  if (maxDownZero && maxUpZero) {\r\n    mixNum = 3;\r\n    maxNum = 5;\r\n  }\r\n  if (attr.splitNumber) {\r\n    mixNum = attr.splitNumber;\r\n    maxNum = mixNum + 1;\r\n  }\r\n  let getMax = false;\r\n  const len = maxValue.toString().length; // 最大值位数\r\n  let max =\r\n    len < 3\r\n      ? Math.ceil(maxValue / Math.pow(10, len - 1))\r\n      : Math.ceil(maxValue / Math.pow(10, len - 2));\r\n  do {\r\n    for (let i = mixNum; i < maxNum; i++) {\r\n      if (max % i === 0) {\r\n        length = i;\r\n        maxValue =\r\n          len < 3 ? max * Math.pow(10, len - 1) : max * Math.pow(10, len - 2);\r\n        getMax = true;\r\n        break;\r\n      }\r\n    }\r\n    max++;\r\n  } while (!getMax);\r\n\r\n  let axisArray = new Array(length + 1);\r\n  axisArray[0] = 0;\r\n  for (let i = 1; i < length + 1; i++) {\r\n    axisArray[i] =\r\n      maxUpZero >= maxDownZero\r\n        ? Math.round((maxValue / length) * i)\r\n        : -1 * Math.round((maxValue / length) * i);\r\n  }\r\n\r\n  // 处理0-1之间的数据\r\n  if (\r\n    (maxDownZero <= 1 && maxDownZero > 0) ||\r\n    (maxUpZero <= 1 && maxUpZero > 0) ||\r\n    (maxUpZero === 0 && maxDownZero === 0)\r\n  ) {\r\n    axisArray = new Array(6);\r\n    axisArray[0] = 0;\r\n    maxValue = 1;\r\n    for (let i = 1; i < 6; i++) {\r\n      axisArray[i] =\r\n        maxUpZero >= maxDownZero\r\n          ? (2 * maxValue * i) / 10\r\n          : (-2 * maxValue * i) / 10;\r\n    }\r\n  }\r\n\r\n  if (maxUpZero < maxDownZero) {\r\n    axisArray.reverse();\r\n  }\r\n  if (maxDownZero.length === 0 || maxUpZero.length === 0) {\r\n    return axisArray;\r\n  }\r\n  if (maxUpZero >= maxDownZero) {\r\n    const unit = axisArray[1] * 10;\r\n    for (\r\n      let i = 1,\r\n        len = Math.ceil(((axisArray.length - 1) * maxDownZero) / maxUpZero);\r\n      i < len + 1;\r\n      i++\r\n    ) {\r\n      axisArray.unshift((-1 * unit * i) / 10);\r\n    }\r\n  } else {\r\n    const unit = axisArray[axisArray.length - 2] * 10;\r\n    for (\r\n      let i = 1,\r\n        len = Math.ceil(((axisArray.length - 1) * maxUpZero) / maxDownZero);\r\n      i < len + 1;\r\n      i++\r\n    ) {\r\n      axisArray.push((-1 * unit * i) / 10);\r\n    }\r\n  }\r\n  // if (attr.needReverse) {\r\n  //   axisArray = axisArray.map((value) => {\r\n  //     return this.dataset.datasetReverse\r\n  //       ? Math.round(this.dataset.datasetReverse(value))\r\n  //       : value;\r\n  //   });\r\n  // }\r\n  return axisArray;\r\n}\r\n\r\nfunction dataHandle(attr) {\r\n  const stack = attr.stack || false;\r\n  const data = attr.dataSet || [];\r\n  const arr = [];\r\n\r\n  if (stack && data.length !== 0 && data[0].length) {\r\n    for (let i = 0, len = data[0].length; i < len; i++) {\r\n      let sum = 0;\r\n      let sumDown = 0;\r\n      for (let j = 0, leng = data.length; j < leng; j++) {\r\n        let val = data[j][i].layoutScaleValue;\r\n        if (data[j][i].disabled === true || val === undefined) {\r\n          continue;\r\n        }\r\n        if (val < 0) {\r\n          sumDown = sumDown + val;\r\n        } else {\r\n          sum = sum + val;\r\n        }\r\n      }\r\n      sum && arr.push(sum);\r\n      sumDown && arr.push(sumDown);\r\n    }\r\n  } else {\r\n    for (let m = 0; m < data.length; m++) {\r\n      for (let n = 0; n < data[m].length; n++) {\r\n        let val = data[m][n].layoutScaleValue;\r\n        if (data[m][n].disabled === true || val === undefined) {\r\n          continue;\r\n        }\r\n        arr.push(val);\r\n      }\r\n    }\r\n  }\r\n  return arr;\r\n}\r\n\r\nfunction sectionAxis(section) {\r\n  if (section && Array.isArray(section)) {\r\n    const gap = section[1] - section[0];\r\n    const arr = [];\r\n    let divide = 4;\r\n    arr.push(section[0]);\r\n    for (let i = 4; i < 8; i++) {\r\n      if (gap % i === 0) {\r\n        divide = i;\r\n        break;\r\n      }\r\n    }\r\n    for (let j = 1; j <= divide; j++) {\r\n      arr.push((section[0] + (gap * j) / divide).toFixed(2));\r\n    }\r\n    return arr;\r\n  }\r\n  return [];\r\n}\r\n","import { scaleLinear } from '../../utils/scaleLinear'\r\nimport { axis } from '../../utils/axis'\r\nexport default function layout(arr, attrs) {\r\n  let type = this.type\r\n  let lines = []\r\n  const { stack, splitNumber, clientRect, axisGap } = attrs\r\n  const { width, height } = clientRect\r\n  let scales = axis.call(this, { dataSet: arr, stack, splitNumber })\r\n  let maxVal = Math.max.apply(this, scales)\r\n  let minVal = Math.min.apply(this, scales)\r\n  let scaleFY = scaleLinear()\r\n    .domain([minVal, maxVal])\r\n    .range([0, height])\r\n  //存储stack数据\r\n  let prevScaleValues = []\r\n  arr.forEach(row => {\r\n    let line = {\r\n      points: [],\r\n      areaPoints: [],\r\n      smoothRange: [],\r\n      state: row.state\r\n    }\r\n    row.forEach((cell, i) => {\r\n      let val = cell.layoutScaleValue\r\n      if (cell.value !== undefined) {\r\n        //如果为undefined 不渲染\r\n        let dx = width / (row.length - 1)\r\n        let offsetX = 0\r\n        if (axisGap) {\r\n          dx = width / row.length\r\n          offsetX = dx / 2\r\n        }\r\n        let curPos = [dx * i + offsetX, height - scaleFY(val)]\r\n        if (stack && prevScaleValues.length) {\r\n          //如果是堆叠并且前一个row存在，则叠加\r\n          curPos = [dx * i + offsetX, height - scaleFY(val + prevScaleValues[i])]\r\n        }\r\n        line.points.push(curPos)\r\n      }\r\n    })\r\n    line.axisPoints = [\r\n      [line.points[0][0], height - scaleFY(0)],\r\n      [line.points[line.points.length - 1][0], height - scaleFY(0)]\r\n    ]\r\n    if (stack && row.state !== 'disabled') {\r\n      if (!prevScaleValues.length) {\r\n        prevScaleValues = row.map(cell => cell.layoutScaleValue)\r\n      } else {\r\n        prevScaleValues = row.map((cell, ind) => cell.layoutScaleValue + prevScaleValues[ind])\r\n      }\r\n    }\r\n    lines.push(line)\r\n  })\r\n  if (type === 'area') {\r\n    let curLine = null\r\n    lines.forEach((line, ind) => {\r\n      let nextPoints = []\r\n        .concat(line.points)\r\n        .reverse()\r\n        .map(point => [point[0], height])\r\n      if (curLine && attrs.stack) {\r\n        let prevLine = curLine\r\n        for (let i = ind - 1; i >= 0; i--) {\r\n          if (lines[i].state !== 'disabled') {\r\n            prevLine = lines[i]\r\n            break\r\n          }\r\n        }\r\n        nextPoints = [].concat(prevLine.points).reverse()\r\n      }\r\n      let res = transAreaPoint(line.points, nextPoints)\r\n      line.areaPoints = res.areaPoints\r\n      line.smoothRange = res.smoothRange\r\n      if (line.state !== 'disabled') {\r\n        curLine = line\r\n      }\r\n    })\r\n  }\r\n  return lines\r\n}\r\nfunction transAreaPoint(startPoints, endPoints) {\r\n  let res = {\r\n    areaPoints: [],\r\n    smoothRange: []\r\n  }\r\n  res.areaPoints = []\r\n    .concat([startPoints[0]])\r\n    .concat(startPoints)\r\n    .concat([startPoints[startPoints.length - 1]])\r\n    .concat([endPoints[0]])\r\n    .concat(endPoints)\r\n    .concat([endPoints[endPoints.length - 1]])\r\n  res.smoothRange = [1, startPoints.length, startPoints.length + 3, startPoints.length + endPoints.length + 2]\r\n  return res\r\n}\r\n","import { Sprite, Path, Ellipse, Rect, Triangle, Parallel, Regular, Star, Group } from 'spritejs'\r\nimport { jsType } from '@qcharts/utils'\r\n\r\nconst allPoint = {\r\n  sprite: Sprite,\r\n  path: Path,\r\n  ellipse: Ellipse,\r\n  rect: Rect,\r\n  triangle: Triangle,\r\n  parallel: Parallel,\r\n  regular: Regular,\r\n  star: Star\r\n}\r\nclass Point extends Group {\r\n  constructor(attrs = {}) {\r\n    super()\r\n    this.pointType = null\r\n    this.$sprite = null\r\n    this.attr({ pointType: 'ellipse', ...attrs })\r\n  }\r\n  attr(name, val) {\r\n    let attrs = name\r\n    if (jsType(name) !== 'object') {\r\n      attrs = {}\r\n      attrs[name] = val\r\n    }\r\n    this.renderSymbol(attrs)\r\n  }\r\n  renderSymbol(attrs) {\r\n    const { pointType, pos, ...renderAttr } = attrs\r\n\r\n    if (pointType && pointType !== this.pointType) {\r\n      if (!Object.keys(allPoint).includes(pointType)) {\r\n        throw new Error(\r\n          `pointType should be one of 'sprite','path','ellipse','rect','triangle','parallel','regular','star' but it is ${pointType}`\r\n        )\r\n      }\r\n      this.$sprite && this.$sprite.remove()\r\n      this.$sprite = new allPoint[pointType](renderAttr)\r\n      this.append(this.$sprite)\r\n    } else {\r\n      this.$sprite.attr(renderAttr)\r\n    }\r\n    if (pos && pos.length) {\r\n      super.attr('pos', pos)\r\n    }\r\n\r\n    this.pointType = pointType\r\n  }\r\n}\r\nexport default Point\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Polyline, Node } from 'spritejs'\r\nimport { getStyle } from '../../utils/getStyle'\r\nimport layout from './layout'\r\nimport Point from '../../utils/Point'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nclass Line extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderLines = []\r\n    this.type = 'line'\r\n    this.hoverIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    let { arrLayout, maxLen } = this.getRenderData()\r\n    let lines = arrLayout.map(item => {\r\n      return {\r\n        smoothRange: item.smoothRange,\r\n        areaFrom: { points: item.areaPoints },\r\n        areaTo: { points: item.areaPoints },\r\n        from: { points: item.points, lineDash: [1, maxLen] },\r\n        to: { points: item.points, lineDash: [maxLen, maxLen] }\r\n      }\r\n    })\r\n    return lines\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    let { arrLayout, maxLen } = this.getRenderData()\r\n    let renderLines = this.renderLines\r\n    let lines = arrLayout.map((item, i) => {\r\n      let from = { points: item.points }\r\n      if (renderLines[i]) {\r\n        from = { points: renderLines[i].to.points }\r\n      }\r\n      if (!renderLines[i] || renderLines[i].state === 'disabled') {\r\n        from.lineDash = [4, maxLen]\r\n      }\r\n      return {\r\n        state: item.state,\r\n        smoothRange: item.smoothRange,\r\n        areaFrom: (renderLines[i] && renderLines[i].areaTo) || item.areaPoints,\r\n        areaTo: {\r\n          points: item.areaPoints\r\n        },\r\n        from,\r\n        to: {\r\n          points: item.points,\r\n          lineDash: [maxLen, maxLen]\r\n        }\r\n      }\r\n    })\r\n    return lines\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    let arrLayout = layout.call(this, renderData, renderAttrs)\r\n    let { height, width } = renderAttrs.clientRect\r\n    //对角线长度的2保证会大于曲线的长度\r\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 5\r\n    return { width, height, arrLayout, maxLen }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      guidePoints: [],\r\n      layer: 'line'\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {\r\n      //smooth: false,\r\n    }\r\n  }\r\n  guidelineleave(event, el) {\r\n    this.attr('guidePoints', [])\r\n    this.dataset.resetState()\r\n  }\r\n  guidelinemove(event, el) {\r\n    if (this.renderLines.length) {\r\n      //获取 x轴坐标的刻度\r\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\r\n      //转换cancas坐标到当前group的相对坐标\r\n      let [x] = el.getOffsetPosition(event.x, event.y)\r\n      let curInd = 0\r\n      //查找当前位置\r\n      for (let i = 0; i < arrX.length; i++) {\r\n        if (x > arrX[i] && x < arrX[i + 1]) {\r\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\r\n          break\r\n        }\r\n      }\r\n      //重置所有的dateset的状态\r\n      if (this.hoverIndex !== curInd) {\r\n        this.dataset.resetState()\r\n        //设置当前列的state为hover\r\n        this.dataset.cols[curInd].state = 'hover'\r\n        let { clientRect } = this.renderAttrs\r\n        let posX = arrX[curInd]\r\n        this.hoverIndex = curInd\r\n        this.attr({\r\n          guidePoints: [\r\n            [posX, 0],\r\n            [posX, clientRect.height]\r\n          ],\r\n          lineState: 'default'\r\n        })\r\n      }\r\n    }\r\n  }\r\n  render(lines) {\r\n    let { clientRect, smooth, guidePoints } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    //当前主体颜色\r\n    let colors = this.theme.colors\r\n    this.renderLines = lines\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]} onMouseleave={this.guidelineleave} onMouseenter={this.guidelinemove} onMousemove={this.guidelinemove}>\r\n        <Group class=\"lines-group\">\r\n          {lines.map((line, ind) => {\r\n            let style = getStyle(this, 'line', [{ strokeColor: colors[ind], smooth }, styles.line], [this.dataset.rows[ind], ind])\r\n            return line.state === 'disabled' || style === false ? <Node /> : <Polyline onClick={this.lineClick} {...style} animation={{ from: line.from, to: line.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"areas-group\">\r\n          {this.type !== 'area'\r\n            ? null\r\n            : lines.map((line, ind) => {\r\n                let style = getStyle(this, 'area', [{ fillColor: colors[ind], smooth }, styles.area], [this.dataset.rows[ind], ind])\r\n                return line.state === 'disabled' || style === false ? <Node /> : <Polyline smoothRange={line.smoothRange} {...style} animation={{ from: line.areaFrom, to: line.areaTo }} />\r\n              })}\r\n        </Group>\r\n        <Group class=\"line-points\">\r\n          {lines.map((line, ind) => {\r\n            return line.state === 'disabled' ? (\r\n              <Node />\r\n            ) : (\r\n              <Group>\r\n                {line.to.points.map((p, j) => {\r\n                  const animation = {\r\n                    from: { pos: line.from.points[j] },\r\n                    to: { pos: p }\r\n                  }\r\n                  let style = getStyle(this, 'point', [{ fillColor: colors[ind] }, styles.point], [this.dataset.rows[ind], ind, j])\r\n                  let styleHover = getStyle(this, 'point:hover', [style, styles['point:hover']], [this.dataset.rows[ind], ind, j])\r\n                  if (this.dataset.rows[ind][j].state === 'hover') {\r\n                    deepObjectMerge(style, styleHover)\r\n                  }\r\n                  return <Point {...style} animation={animation} />\r\n                })}\r\n              </Group>\r\n            )\r\n          })}\r\n        </Group>\r\n        <Group class=\"guide-line-group\">\r\n          {guidePoints.length ? (\r\n            (_ => {\r\n              let style = getStyle(this, 'guideline', styles.guideline)\r\n              return style === false ? <Node /> : <Polyline points={guidePoints} {...style} />\r\n            })()\r\n          ) : (\r\n            <Node />\r\n          )}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Line\r\n","export default function layout(arr, attrs) {\r\n  let rings = []\r\n  let arrVal = arr.map(row => row.reduce((val, item) => (row.state !== 'disabled' ? val + item.value : val), 0))\r\n  //当totalVal为0的时候，会造成分母为0 如果totalVal为0 处理成1\r\n  let totalVal = arrVal.reduce((val, item) => val + item, 0) || 1\r\n  let { startAngle, endAngle, activeOffset } = attrs\r\n  let minAngle = Math.min(startAngle, endAngle)\r\n  let maxAngle = Math.max(startAngle, endAngle)\r\n  if (maxAngle > minAngle + 360) {\r\n    maxAngle = minAngle + 360\r\n  }\r\n  let totalAngle = maxAngle - minAngle\r\n  arrVal.forEach((num, ind) => {\r\n    let curPercent = num / totalVal\r\n    let perAngle = curPercent * totalAngle\r\n    //默认中心坐标偏移量0\r\n    let offsetPos = [0, 0]\r\n\r\n    let curObj = { startAngle: minAngle, endAngle: minAngle + perAngle, offsetPos }\r\n    if (ind !== 0) {\r\n      let prevRing = rings[ind - 1]\r\n      curObj = { startAngle: prevRing.endAngle, endAngle: prevRing.endAngle + perAngle, offsetPos }\r\n    }\r\n    let curAngle = ((curObj.startAngle + curObj.endAngle) / 2) % 360\r\n    curObj.bisectorAngle = curAngle\r\n    curObj.bisectorRadian = transRadius(curAngle)\r\n    if (arr[ind].state === 'hover') {\r\n      //角平分,角度转弧度,默认是顺时针，角度为相反\r\n      curObj.offsetPos = [activeOffset * Math.cos(curObj.bisectorRadian), activeOffset * Math.sin(curObj.bisectorRadian)]\r\n      //选中状态\r\n    }\r\n    rings.push(curObj)\r\n  })\r\n  return rings\r\n}\r\nexport function transRadius(angle) {\r\n  return (angle / 180) * Math.PI\r\n}\r\nexport function computeLinePos(startAngle, endAngle, center, radius, disRadius) {\r\n  let points = []\r\n  let centerAn = ((startAngle + endAngle) / 2) % 360\r\n  let centerAngle = transRadius(centerAn)\r\n  let labelAnchor = [0, 0]\r\n  let startPoint = [radius * Math.cos(centerAngle), radius * Math.sin(centerAngle)]\r\n  let endPoint = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius) * Math.sin(centerAngle)]\r\n  let labelPos = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius + 5) * Math.sin(centerAngle)]\r\n  labelPos = [center[0] + labelPos[0], center[1] + labelPos[1]]\r\n  points.push([center[0] + startPoint[0], center[1] + startPoint[1]])\r\n  points.push([center[0] + endPoint[0], center[1] + endPoint[1]])\r\n  labelAnchor = [Math.sin(centerAngle / 2), 1 - Math.cos(centerAngle / 4)]\r\n  return { points, labelAnchor, labelPos: labelPos }\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Node, Ring, Polyline, Label } from 'spritejs'\r\nimport filterClone from 'filter-clone'\r\nimport layout from './layout'\r\nimport { computeLinePos } from './layout'\r\nimport { getStyle } from '../../utils/getStyle'\r\nclass Pie extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderRings = []\r\n    this.hoverIndex = -1\r\n    this.activeIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let { radius, innerRadius } = attrs\r\n    let { width, height } = attrs.clientRect\r\n    attrs.center = [width / 2, height / 2]\r\n    attrs.radiusPx = (Math.min(width, height) * radius) / 2\r\n    attrs.innerRadiusPx = (Math.min(width, height) * innerRadius) / 2\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    let { rings } = this.getRenderData()\r\n    let { center } = this.renderAttrs\r\n    let arr = rings.map((item, ind) => {\r\n      if (ind === 0) {\r\n        return {\r\n          from: { startAngle: 0, endAngle: 0, pos: center },\r\n          to: { ...item, pos: center }\r\n        }\r\n      }\r\n      let pervAngle = rings[ind - 1].endAngle\r\n      return {\r\n        from: { startAngle: pervAngle, endAngle: pervAngle, pos: center },\r\n        to: { ...item, pos: center }\r\n      }\r\n    })\r\n    this.computeLine(arr)\r\n    return arr\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    let { rings } = this.getRenderData()\r\n    let { center } = this.renderAttrs\r\n    let oldRings = this.renderRings\r\n    let arr = rings.map((item, ind) => {\r\n      let curPos = [center[0] + item.offsetPos[0], center[1] + item.offsetPos[1]]\r\n      let attrs = filterClone(item, ['startAngle', 'endAngle'])\r\n      if (ind === this.hoverIndex) {\r\n        return {\r\n          from: { ...oldRings[ind].to },\r\n          to: { ...attrs, pos: curPos }\r\n        }\r\n      } else {\r\n        return {\r\n          from: { ...oldRings[ind].to },\r\n          to: { ...attrs, pos: curPos }\r\n        }\r\n      }\r\n    })\r\n    this.computeLine(arr)\r\n    return arr\r\n  }\r\n  computeLine(arr) {\r\n    let { radiusPx } = this.renderAttrs\r\n    arr.forEach(item => {\r\n      let { points: fromPoints, labelAnchor: fromAnchor, labelPos: fromPos } = computeLinePos(item.from.startAngle, item.from.endAngle, item.from.pos, radiusPx + 1, 15)\r\n      let { points: toPoints, labelAnchor: toAnchor, labelPos: toPos } = computeLinePos(item.to.startAngle, item.to.endAngle, item.to.pos, radiusPx + 1, 15)\r\n      item.line = {\r\n        from: {\r\n          points: fromPoints\r\n        },\r\n        to: {\r\n          points: toPoints\r\n        }\r\n      }\r\n      item.label = {\r\n        from: {\r\n          pos: fromPos,\r\n          anchor: fromAnchor\r\n        },\r\n        to: {\r\n          pos: toPos,\r\n          anchor: toAnchor\r\n        }\r\n      }\r\n    })\r\n    //计算guideline位置\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    //let { radiusPx, center } = renderAttrs\r\n    let renderData = this.renderData()\r\n    let rings = layout.call(this, renderData, renderAttrs)\r\n    return { rings }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'pie',\r\n      radius: 1,\r\n      innerRadius: 0,\r\n      startAngle: 0,\r\n      endAngle: 360,\r\n      lineWidth: 1,\r\n      //选中偏移量基数\r\n      activeOffset: 10\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {}\r\n  }\r\n  mousemove(event, el) {\r\n    let renderData = this.renderData()\r\n    let ind = el.attr('_index')\r\n    if (ind !== this.hoverIndex) {\r\n      let curData = renderData[ind]\r\n      renderData.forEach(row => {\r\n        if (row.state === 'hover') {\r\n          row.state = 'default'\r\n        }\r\n      })\r\n      curData.state = 'hover'\r\n      this.hoverIndex = ind\r\n    }\r\n  }\r\n  mouseleave() {\r\n    let renderData = this.renderData()\r\n    renderData.forEach(row => {\r\n      if (row.state === 'hover') {\r\n        row.state = 'default'\r\n      }\r\n    })\r\n    this.hoverIndex = -1\r\n  }\r\n  renderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    return this.dataset[renderAttrs.layoutBy]\r\n  }\r\n  render(rings) {\r\n    //console.log(rings)\r\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    //当前主体颜色\r\n    let colors = this.theme.colors\r\n    this.renderRings = rings\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]}>\r\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\r\n          {rings.map((ring, ind) => {\r\n            let style = getStyle(this, 'sector', [{ strokeColor: colors[ind], fillColor: colors[ind], innerRadius: innerRadiusPx, outerRadius: radiusPx, _index: ind }, styles.sector], [this.dataset.rows[ind], ind])\r\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMousemove={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"line-group\">\r\n          {rings.map((ring, ind) => {\r\n            let style = getStyle(this, 'guideline', [{ strokeColor: colors[ind] }, styles.guideline], [this.dataset.rows[ind], ind])\r\n            let hide = false\r\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\r\n              hide = true\r\n            }\r\n            return hide || style === false ? <Node /> : <Polyline {...style} animation={{ from: ring.line.from, to: ring.line.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"label-group\">\r\n          {rings.map((ring, ind) => {\r\n            let name = this.dataset.rows[ind].name\r\n            let style = getStyle(this, 'guideText', [{ fillColor: '#666', fontSize: 12 }, styles.guideText], [this.dataset.rows[ind], ind])\r\n            let hide = false\r\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\r\n              hide = true\r\n            }\r\n            return hide || style === false ? <Node /> : <Label text={name} {...style} pos={ring.label.from.pos} animation={{ from: ring.label.from, to: ring.label.to }} />\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Pie\r\n","import Line from '../Line'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nclass Area extends Line {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'area'\r\n  }\r\n  defaultAttrs() {\r\n    return deepObjectMerge({}, super.defaultAttrs(), {\r\n      stack: true,\r\n      animation: {\r\n        duration: 700,\r\n        easing: 'bounceOut'\r\n      },\r\n      layer: 'area'\r\n    })\r\n  }\r\n}\r\nexport default Area\r\n","/**\r\n * 根据给定角度和长度获取极坐标值\r\n * @param {Number} radian 角度\r\n * @param {Number} length 长度\r\n * @returns {Array} [x,y]\r\n */\r\nconst getPointCoordinate = (radian, length) => {\r\n  let x = Math.cos(radian) * length\r\n  let y = Math.sin(radian) * length\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 获取数组中最大数除以层级后的整数\r\n * @param {Array} data\r\n * @param {Number} splitNumber\r\n * @returns {Number}\r\n */\r\nconst getMax = (data, splitNumber) => {\r\n  const indicatorMax = Math.max(...data)\r\n  if (indicatorMax < splitNumber * 10) {\r\n    return Math.ceil(indicatorMax / splitNumber) * splitNumber\r\n  } else {\r\n    return Math.ceil(indicatorMax / 10 / splitNumber) * 10 * splitNumber\r\n  }\r\n}\r\n\r\n/**\r\n * 根据给定的数据，返回绘制雷达图所需要的数据\r\n * @param {Array} dataset 数据集\r\n * @param {Number} radius 雷达图半径\r\n * @param {Number} splitNumber  雷达图背景层级\r\n * @param {Number} startAngle 雷达图起始轴角度\r\n * @param {Number} labelOffset 雷达图文字偏移值\r\n * @param {Array} colors 雷达图主题颜色\r\n * @returns {Object} { sectionAttrs, borderAttrs, axisAttrs, gridAttrs }\r\n */\r\nexport default function layout(data, radius, splitNumber, startAngle, labelOffset, colors) {\r\n  let bgPoints = [] // 最外层背景多边形\r\n  let gridAttrs = [] // 蜘蛛网图背景\r\n  let axisAttrs = [] // 坐标轴\r\n  let sectionAttrs = [] // 多边形数据\r\n\r\n  if (data.some((d) => d.length === 0)) {\r\n    return { sectionAttrs, axisAttrs, gridAttrs }\r\n  }\r\n\r\n  const allDataValue = data.reduce((t, row) => {\r\n    return t.concat(row.map((cell) => cell.value))\r\n  }, [])\r\n\r\n  const max = getMax(allDataValue, splitNumber)\r\n\r\n  // 每个类别的弧度\r\n  const dimension = data[0].length\r\n  const perRadian = (Math.PI * 2) / dimension\r\n  // 起始角度->转弧度\r\n  const startRadian = (Math.PI / 180) * startAngle\r\n  for (let i = 0; i < dimension; i++) {\r\n    // 根据角度和半径，计算对应的坐标\r\n    let currentRadian = i * perRadian + startRadian\r\n    let point = getPointCoordinate(currentRadian, radius)\r\n\r\n    bgPoints.push({\r\n      point,\r\n      radian: currentRadian\r\n    })\r\n\r\n    // 类别指示坐标\r\n    const labelPos = getPointCoordinate(currentRadian, radius + labelOffset)\r\n    const label = data[0][i].text\r\n    // 坐标轴属性\r\n    axisAttrs.push({\r\n      points: [[0, 0], point],\r\n      lineWidth: 1,\r\n      lineDash: [3, 2],\r\n      strokeColor: '#DDE0E5',\r\n      label,\r\n      labelPos,\r\n      radian: currentRadian,\r\n      maxScale: max,\r\n      splitNumber: splitNumber\r\n    })\r\n  }\r\n\r\n  data.forEach((row, index) => {\r\n    const categoryPoints = row.map((d, i) => {\r\n      const value = d.value\r\n      const radian = bgPoints[i].radian\r\n      return getPointCoordinate(radian, (value / max) * radius)\r\n    })\r\n\r\n    sectionAttrs.push({\r\n      index: index,\r\n      name: row.name,\r\n      dataOrigin: row.data,\r\n      lineWidth: 1,\r\n      points: categoryPoints,\r\n      state: row.state,\r\n      close: true,\r\n      strokeColor: colors[index],\r\n      fillColor: colors[index]\r\n    })\r\n  })\r\n\r\n  // 背景网格多边形坐标\r\n  const gridPoints = bgPoints.map((p) => p.point)\r\n  for (let i = 0; i < splitNumber; i++) {\r\n    let scale = 1 - i / splitNumber\r\n    gridAttrs.push({\r\n      scale,\r\n      radius,\r\n      points: gridPoints,\r\n      index: i,\r\n      close: true,\r\n      lineWidth: 1,\r\n      strokeColor: '#DDE0E5',\r\n      anchor: [0.5, 0.5]\r\n    })\r\n  }\r\n\r\n  return { sectionAttrs, axisAttrs, gridAttrs }\r\n}\r\n","import { Group, Polyline, Arc, Label } from 'spritejs'\r\nimport { deepObjectMerge, throttle, jsType } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\nimport layout from './layout'\r\nimport Point from '../../utils/Point'\r\n\r\nclass Radar extends BaseVisual {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'radar'\r\n    this.sectionData = []\r\n    this.scaleEl = []\r\n    this.oldPos = null\r\n  }\r\n\r\n  //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    const { height, width } = attrs.clientRect\r\n    const center = [width / 2, height / 2]\r\n\r\n    const len = Math.min(...center) * attrs.radius\r\n\r\n    return { ...attrs, center, len }\r\n  }\r\n\r\n  // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'radar',\r\n      gridType: 'polygon', // 网格类型,polygon,circle\r\n      splitNumber: 4, // 网格层次\r\n      startAngle: 270, // 起始角度\r\n      radius: 0.6, // 雷达图半径\r\n      labelOffset: 7 // 文字偏移\r\n    }\r\n  }\r\n\r\n  getPolylineAnimation(toPoints, state, index) {\r\n    const zeroPoints = new Array(toPoints.length).fill([0, 0])\r\n    const preData = this.sectionData[index] || { animation: { to: { points: zeroPoints } } }\r\n    const animation = {\r\n      from: { points: preData.animation.to.points },\r\n      to: { points: toPoints }\r\n    }\r\n    // disabled的时候缩回原点并透明\r\n    if (state === 'disabled') {\r\n      animation.to.points = zeroPoints\r\n    }\r\n    return animation\r\n  }\r\n\r\n  getRenderData() {\r\n    const dataSet = this.dataset\r\n    // // FIXME 数据筛选之前先按照label进行排序?是否需要？\r\n    const { len, splitNumber, startAngle, labelOffset } = this.renderAttrs\r\n    const colors = this.theme.colors\r\n\r\n    const { sectionAttrs, axisAttrs, gridAttrs } = layout(\r\n      [...dataSet.rows],\r\n      len,\r\n      splitNumber,\r\n      startAngle,\r\n      labelOffset,\r\n      colors\r\n    )\r\n\r\n    return { sectionAttrs, axisAttrs, gridAttrs }\r\n  }\r\n\r\n  processData() {\r\n    const { sectionAttrs, ...otherData } = this.getRenderData()\r\n    const processSectionAttrs = sectionAttrs.map((attr, i) => {\r\n      const { points, state, ...otherAttrs } = attr\r\n      const { style, hoverStyle } = this.getStyle('section', attr, [...attr.dataOrigin], i)\r\n      let stateStyle = state === 'hover' ? hoverStyle : {}\r\n      const animation = this.getPolylineAnimation(points, state, i)\r\n      return deepObjectMerge(otherAttrs, { state }, { animation }, style, stateStyle)\r\n    })\r\n    return { ...otherData, sectionAttrs: processSectionAttrs }\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const renderData = this.processData()\r\n    this.sectionData = [...renderData.sectionAttrs]\r\n    return renderData\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const updateData = this.processData()\r\n    if (updateData.sectionAttrs) {\r\n      const len = Math.max(this.sectionData.length, updateData.sectionAttrs.length)\r\n      for (let i = 0; i < len; i++) {\r\n        this.sectionData[i] = updateData.sectionAttrs[i]\r\n      }\r\n    }\r\n    this.sectionData = [...updateData.sectionAttrs]\r\n    return updateData\r\n  }\r\n\r\n  rendered() {}\r\n\r\n  getScaleAnimation(toScale) {\r\n    return {\r\n      from: { scale: 0 },\r\n      to: { scale: toScale }\r\n    }\r\n  }\r\n\r\n  getStyle(type, attr, data, index) {\r\n    return {\r\n      style: this.style(type)(attr, data, index) || {},\r\n      hoverStyle: this.style(`${type}:hover`)(attr, data, index) || {}\r\n    }\r\n  }\r\n\r\n  isSamePoints(fromPts, toPts) {\r\n    return fromPts.toString() === toPts.toString()\r\n  }\r\n\r\n  renderGrid(gridAttrs) {\r\n    const { gridType } = this.renderAttrs\r\n    const GridShape = gridType === 'circle' ? Arc : Polyline\r\n    return gridAttrs.map((attr, i) => {\r\n      const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(attr.scale)\r\n      const { style } = this.getStyle('grid', attr, null, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      return <GridShape {...attr} {...style} animation={animation} />\r\n    })\r\n  }\r\n\r\n  renderAxisLabel(attrs, i) {\r\n    const calcAnchor = radian => {\r\n      const x = 0.5 - Math.cos(radian)\r\n      const y = 0.5 - Math.sin(radian)\r\n      return [x, y]\r\n    }\r\n    const { label, labelPos, radian } = attrs\r\n    const anchor = calcAnchor(radian)\r\n    const attr = {\r\n      text: label,\r\n      pos: labelPos,\r\n      color: '#67728C',\r\n      radian,\r\n      anchor,\r\n      fontSize: 12\r\n    }\r\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\r\n    const { style } = this.getStyle('label', attr, { text: attr.label, radian }, i)\r\n    if (style === false) {\r\n      return\r\n    }\r\n    return <Label {...attr} {...style} animation={animation} />\r\n  }\r\n\r\n  renderAxisScale(attrs, index) {\r\n    const getPt = attrs => {\r\n      const { points, splitNumber, maxScale } = attrs\r\n      const [x, y] = points[1]\r\n      const perNum = maxScale / splitNumber\r\n      return [[x / splitNumber, y / splitNumber], perNum]\r\n    }\r\n    const [[perX, perY], perNum] = getPt(attrs)\r\n    let labels = []\r\n    const display = index === 0 ? 'block' : 'none'\r\n    const common = {\r\n      fontSize: 12,\r\n      anchor: [1, 0.5],\r\n      translate: [-5, 0],\r\n      display\r\n    }\r\n    for (let i = 0; i < attrs.splitNumber + 1; i++) {\r\n      let point = [perX * i, perY * i]\r\n      let text = perNum * i\r\n      let attr = {\r\n        text,\r\n        color: '#67728C',\r\n        pos: point,\r\n        ...common\r\n      }\r\n      const { style } = this.getStyle('scale', attr, { text, index }, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      if (attr.display !== 'none') {\r\n        let animation = {}\r\n        const elIndex = index * attrs.splitNumber + i\r\n        const preEl = this.scaleEl[elIndex]\r\n        if (preEl) {\r\n          if (preEl.text !== text) {\r\n            animation = {\r\n              from: { text: preEl.text },\r\n              to: { text },\r\n              formatter: attr => {\r\n                attr.text = attr.text.toFixed(0)\r\n                return attr\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          animation = {\r\n            from: { pos: [0, 0] },\r\n            to: { pos: point }\r\n          }\r\n        }\r\n        this.scaleEl[i] = { text: Number(text.toFixed(0)) }\r\n        labels.push(<Label {...attr} {...style} animation={animation} />)\r\n      }\r\n    }\r\n    return labels\r\n  }\r\n\r\n  renderAxis(axisAttrs) {\r\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\r\n    return axisAttrs.map((attr, i) => {\r\n      const { style } = this.getStyle('axis', attr, { text: attr.label }, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      return (\r\n        <Group>\r\n          <Polyline {...attr} {...style} animation={animation} />\r\n          {this.renderAxisLabel(attr, i)}\r\n          {this.renderAxisScale(attr, i)}\r\n        </Group>\r\n      )\r\n    })\r\n  }\r\n\r\n  renderPoints(sectionAttrs) {\r\n    const allPoints = sectionAttrs.map(attrs => {\r\n      const { animation: secAnimation, dataOrigin, strokeColor, state } = attrs\r\n      const prePoints = secAnimation && secAnimation.from && secAnimation.from.points\r\n      const toPoints = secAnimation && secAnimation.to && secAnimation.to.points\r\n      return toPoints.map((point, i) => {\r\n        const attr = {\r\n          pos: point,\r\n          fillColor: strokeColor,\r\n          radius: 2,\r\n          dataOrigin: dataOrigin[i]\r\n        }\r\n        const { style, hoverStyle } = this.getStyle('point', attr, { ...attr.dataOrigin }, i)\r\n        if (style === false) {\r\n          return\r\n        }\r\n\r\n        let animation = {\r\n          from: { pos: [0, 0], opacity: 1 },\r\n          to: { pos: point, opacity: 1 }\r\n        }\r\n\r\n        if (prePoints && prePoints[i]) {\r\n          if (!this.isSamePoints(prePoints[i], point)) {\r\n            animation.from.pos = prePoints[i]\r\n          } else {\r\n            animation.from.pos = point\r\n          }\r\n        }\r\n        if (state === 'disabled') {\r\n          animation.to.opacity = 0\r\n        }\r\n        const stateStyle = state === 'hover' ? hoverStyle : {}\r\n        return <Point {...attr} {...style} {...stateStyle} animation={animation} zIndex={99} />\r\n      })\r\n    })\r\n\r\n    return allPoints.reduce((pre, cur) => pre.concat(cur), [])\r\n  }\r\n\r\n  renderSection(sectionAttrs) {\r\n    return sectionAttrs.map((attr, i) => {\r\n      const { animation, ...otherAttr } = attr\r\n      return <Polyline zIndex={9 + i} {...otherAttr} animation={animation} onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave} />\r\n    })\r\n  }\r\n\r\n  onMouseenter = throttle(\r\n    (event, el) => {\r\n      this.dataset.resetState()\r\n      const name = el.attributes.name\r\n      this.dataset.rows\r\n        .filter(row => row.state !== 'disabled')\r\n        .forEach(row => {\r\n          row.state = row.name === name ? 'hover' : 'default'\r\n        })\r\n    },\r\n    16,\r\n    true\r\n  )\r\n  onMouseleave() {\r\n    this.dataset.resetState()\r\n    this.dataset.rows.filter(row => row.state !== 'disabled').forEach(row => row.state === 'default')\r\n  }\r\n\r\n  render({ sectionAttrs, axisAttrs, gridAttrs }) {\r\n    const { center, clientRect } = this.renderAttrs\r\n    const gAnimation = {\r\n      from: { pos: this.oldPos ? this.oldPos : center },\r\n      to: { pos: center }\r\n    }\r\n    this.oldPos = center\r\n    return (\r\n      <Group pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Group pos={center} animation={gAnimation}>\r\n          {this.renderGrid(gridAttrs)}\r\n          {this.renderAxis(axisAttrs)}\r\n          {this.renderSection(sectionAttrs)}\r\n          {this.renderPoints(sectionAttrs)}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Radar\r\n","import { axis } from \"../../utils/axis\"\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr\r\n  const { stack, splitNumber, clientRect } = attrs\r\n  const { width, height } = clientRect\r\n  const barSize = [width, height]\r\n  const transpose = attrs.transpose || false\r\n  const groupGap = attrs.groupGap || 0\r\n  const stackGap = attrs.stackGap || 0\r\n  let barWidth = attrs.barWidth || 0\r\n  // 输出\r\n  const barData = []\r\n  const groupData = []\r\n  const textData = []\r\n  const bgPillarAttr = { opacity: 0, bgcolor: \"#000\" }\r\n\r\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber })\r\n  if (!valueAxis || !valueAxis.length) {\r\n    return { barData, groupData, textData }\r\n  }\r\n  const tableSize = transpose\r\n    ? { label: barSize[1], value: barSize[0] }\r\n    : { label: barSize[0], value: barSize[1] }\r\n  const axisValueMax = Math.max.apply(this, valueAxis)\r\n  const axisValueMin = Math.min.apply(this, valueAxis)\r\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\r\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\r\n\r\n  const GROUP_NUM = data[0].length\r\n  let gap = 0\r\n  // 柱子宽度，根据数据绘制类型计算，是否分组，是否旋转\r\n  if (barWidth === 0) {\r\n    barWidth = stack\r\n      ? (tableSize.label * 0.5) / GROUP_NUM\r\n      : (tableSize.label * 0.5) / (GROUP_NUM * GROUP_BAR_NUM)\r\n\r\n    gap = stack ? barWidth : barWidth * GROUP_BAR_NUM\r\n  } else {\r\n    gap = stack\r\n      ? (tableSize.label - barWidth * GROUP_NUM) / GROUP_NUM\r\n      : (tableSize.label -\r\n          barWidth * GROUP_BAR_NUM * GROUP_NUM -\r\n          groupGap * (GROUP_BAR_NUM - 1) * GROUP_NUM) /\r\n        GROUP_NUM\r\n  }\r\n\r\n  const BAR_HEIGHT_FACTOR = tableSize.value / (axisValueMax - axisValueMin)\r\n  if (!stack) {\r\n    // 分组柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\r\n      let value = 0\r\n      let rawValue = 0\r\n      let gpData = { rects: [] }\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        // if (data[j][i].state !== \"disabled\") {\r\n        //   data[j][i].state = \"default\";\r\n        // }\r\n        rawValue = data[j][i].value\r\n        value = data[j][i].layoutScaleValue\r\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\r\n        let rect = {\r\n          anchor: [\r\n            transpose && value < 0 ? 1 : 0,\r\n            transpose || value < 0 ? 0 : 1,\r\n          ],\r\n          size: transpose\r\n            ? [barHeight, barWidth - 1]\r\n            : [barWidth - 1, barHeight],\r\n          pos: transpose\r\n            ? [\r\n                tableSize.value * (1 - POSITIVE_RATIO),\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i,\r\n              ]\r\n            : [\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i,\r\n                tableSize.value * POSITIVE_RATIO,\r\n              ],\r\n        }\r\n        if (data[j][i].state === \"disabled\") {\r\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\r\n          flag++\r\n        } else {\r\n          gpData.rects.push(rect)\r\n        }\r\n        let label = {\r\n          opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\r\n          text: rawValue.toString(),\r\n          anchor: [transpose && value < 0 ? 1 : 0, 0.5],\r\n          pos: transpose\r\n            ? [\r\n                tableSize.value * (1 - POSITIVE_RATIO),\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i +\r\n                  barWidth * 0.5,\r\n              ]\r\n            : [\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i +\r\n                  barWidth * 0.5,\r\n                tableSize.value * POSITIVE_RATIO,\r\n              ],\r\n          rotate: transpose ? 0 : value < 0 ? 90 : 270,\r\n          paddingLeft: 8,\r\n        }\r\n        barData.push(rect)\r\n        textData.push(label)\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        // title: data[0][i]['_x'],\r\n        pos: transpose\r\n          ? [\r\n              0,\r\n              (gap +\r\n                barWidth * GROUP_BAR_NUM +\r\n                groupGap * (GROUP_BAR_NUM - 1)) *\r\n                i,\r\n            ]\r\n          : [\r\n              (gap +\r\n                barWidth * GROUP_BAR_NUM +\r\n                groupGap * (GROUP_BAR_NUM - 1)) *\r\n                i,\r\n              0,\r\n            ],\r\n        size: transpose\r\n          ? [\r\n              tableSize.value,\r\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\r\n            ]\r\n          : [\r\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\r\n              tableSize.value,\r\n            ],\r\n        ...bgPillarAttr,\r\n      })\r\n      groupData.push(gpData)\r\n    }\r\n  } else {\r\n    // 堆叠柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let heightSumUp = 0\r\n      let heightSumDown = 0\r\n      let value = 0\r\n      let gpData = { rects: [] }\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        let stackGapTemp = stackGap\r\n        // if (data[j][i].state !== \"disabled\") {\r\n        //   data[j][i].state = \"default\";\r\n        // }\r\n        value = data[j][i].layoutScaleValue\r\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\r\n        if (barHeight === 0) {\r\n          stackGapTemp = 0\r\n        }\r\n        let posY =\r\n          value < 0\r\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown\r\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\r\n        let posX =\r\n          value < 0\r\n            ? tableSize.value * (1 - POSITIVE_RATIO) - heightSumDown\r\n            : tableSize.value * (1 - POSITIVE_RATIO) + heightSumUp\r\n        let posLabelY =\r\n          value < 0\r\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown + barHeight\r\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\r\n        let rect = {\r\n          anchor: [\r\n            transpose && value < 0 ? 1 : 0,\r\n            transpose || value < 0 ? 0 : 1,\r\n          ],\r\n          size: transpose\r\n            ? [barHeight - stackGapTemp, barWidth]\r\n            : [barWidth, barHeight - stackGapTemp],\r\n          pos: transpose\r\n            ? [posX, gap / 2 + (barWidth + gap) * i]\r\n            : [gap / 2 + (barWidth + gap) * i, posY],\r\n          index: j,\r\n        }\r\n        let paddingAttrs = transpose ? \"paddingLeft\" : \"paddingBottom\"\r\n        let label = {\r\n          opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\r\n          text: value.toString(),\r\n          anchor: transpose ? (value < 0 ? [1, 0.5] : [0, 0.5]) : [0.5, 1],\r\n          pos: transpose\r\n            ? [posX, +(gap + barWidth) / 2 + (barWidth + gap) * i]\r\n            : [(gap + barWidth) / 2 + (barWidth + gap) * i, posLabelY],\r\n        }\r\n        label[paddingAttrs] = 8\r\n        if (data[j][i].state === \"disabled\") {\r\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\r\n        } else {\r\n          value < 0\r\n            ? (heightSumDown = heightSumDown + barHeight)\r\n            : (heightSumUp = heightSumUp + barHeight)\r\n          gpData.rects.push(rect)\r\n        }\r\n        textData.push(label)\r\n        barData.push(rect)\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        pos: transpose ? [0, (gap + barWidth) * i] : [(gap + barWidth) * i, 0],\r\n        size: transpose\r\n          ? [tableSize.value, barWidth + gap]\r\n          : [barWidth + gap, tableSize.value],\r\n        ...bgPillarAttr,\r\n      })\r\n      groupData.push(gpData)\r\n    }\r\n  }\r\n\r\n  return { textData, barData, groupData }\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].state !== \"disabled\") {\r\n      flag++\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    // console.warn('data invalid!')\r\n  }\r\n  return flag || 1\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Sprite, Label } from 'spritejs'\r\nimport { getStyle } from '../../utils/getStyle'\r\nimport { deepObjectMerge, throttle } from '@qcharts/utils'\r\nimport layout from './layout'\r\nimport filterClone from 'filter-clone'\r\nclass Bar extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'bar'\r\n    this.pillars = null\r\n    this.texts = null\r\n    this.groups = null\r\n    this.fromTos = null\r\n    this.hoverIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base---------before\r\n    let { arrLayout } = this.getRenderData()\r\n    let barData = arrLayout.barData.map(item => {\r\n      return {\r\n        attrs: item,\r\n        from: {\r\n          size: this.renderAttrs.transpose ? [0, item.size[1]] : [item.size[0], 0]\r\n        },\r\n        to: {\r\n          size: item.size\r\n        }\r\n      }\r\n    })\r\n    let textData = arrLayout.textData.map(item => {\r\n      return {\r\n        attrs: item,\r\n        from: {\r\n          pos: item.pos\r\n        },\r\n        to: {\r\n          pos: item.pos\r\n        }\r\n      }\r\n    })\r\n    this.pillars = barData\r\n    this.groups = arrLayout.groupData\r\n    this.texts = textData\r\n    return { barData, textData, groupData: arrLayout.groupData }\r\n  }\r\n  beforeUpdate() {\r\n    const pillars = this.pillars\r\n    const texts = this.texts\r\n    let { arrLayout } = this.getRenderData()\r\n    let barData = arrLayout.barData.map((nextPillar, i) => {\r\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1]\r\n      if (!prev) {\r\n        prev = {\r\n          size: [0, 0],\r\n          pos: nextPillar.pos,\r\n          labelAttrs: null\r\n        }\r\n      }\r\n      return {\r\n        attrs: nextPillar,\r\n        from: {\r\n          size: prev.attrs.disable ? (this.attr('transpose') ? [0, prev.attrs.size[1]] : [prev.attrs.size[0], 0]) : prev.attrs.size,\r\n          pos: prev.attrs.pos\r\n        },\r\n        to: {\r\n          size: nextPillar.size,\r\n          pos: nextPillar.pos\r\n        }\r\n      }\r\n    })\r\n    let textData = arrLayout.textData.map((nextText, i) => {\r\n      let prev = texts[i] ? texts[i] : arrLayout.textData[i - 1]\r\n      if (!prev) {\r\n        prev = {\r\n          pos: nextPillar.pos\r\n        }\r\n      }\r\n      return {\r\n        attrs: nextText,\r\n        from: {\r\n          pos: prev.attrs.pos\r\n        },\r\n        to: {\r\n          pos: nextText.pos\r\n        }\r\n      }\r\n    })\r\n    this.pillars = barData\r\n    this.groups = arrLayout.groupData\r\n    this.texts = textData\r\n    return { barData, textData, groupData: arrLayout.groupData }\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    const dataLength = renderData.length > 1 ? renderData.length : renderData[0].length\r\n    let arrLayout = layout.call(this, renderData, renderAttrs)\r\n    let colors = this.theme.colors\r\n    let styles = this.renderStyles\r\n    arrLayout.barData = arrLayout.barData.map((bar, i) => {\r\n      // let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\r\n      // let barStyle = deepObjectMerge(\r\n      //   { bgcolor: bar.bgcolor || colors[i % dataLength] },\r\n      //   styles.bar,\r\n      //   style\r\n      // );\r\n      // bar = deepObjectMerge(bar, barStyle);\r\n      return bar\r\n    })\r\n    return { arrLayout }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    let renderData = this.dataset['rows']\r\n    let stateArray = Array.from({ length: renderData[0].length }, () => 'defalut')\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'bar',\r\n      bgpillarState: stateArray,\r\n      states: {\r\n        bgpillar: {\r\n          animation: { duration: 20 },\r\n          default: { opacity: 0.01 },\r\n          hover: { opacity: 0.1 }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {\r\n      text: { fontSize: 12, fillColor: '#666' }\r\n    }\r\n  }\r\n  onMousemove = throttle(\r\n    (event, el) => {\r\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\r\n        let curInd = 0\r\n        let [x, y] = el.getOffsetPosition(event.x, event.y)\r\n        if (!this.renderAttrs.transpose) {\r\n          //获取 x轴坐标的刻度\r\n          let width = this.groups[0].size[0]\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(x / width)\r\n        } else {\r\n          let width = this.groups[0].size[1]\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(y / width)\r\n        }\r\n        if (curInd < 1) {\r\n          curInd = 0\r\n        } else if (curInd > this.groups.length - 1) {\r\n          curInd = this.groups.length - 1\r\n        }\r\n        if (this.hoverIndex !== curInd) {\r\n          let { bgpillarState } = this.renderAttrs\r\n          bgpillarState[curInd] = 'hover'\r\n          bgpillarState[this.hoverIndex] = 'defualt'\r\n          this.attr('bgpillarState', bgpillarState)\r\n          this.dataset.resetState()\r\n          this.dataset.cols[curInd].state = 'hover'\r\n          this.hoverIndex = curInd\r\n        }\r\n      }\r\n    },\r\n    16,\r\n    true\r\n  )\r\n  onMouseleave(e, el) {\r\n    this.dataset.resetState()\r\n    let { bgpillarState } = this.renderAttrs\r\n    bgpillarState[this.hoverIndex] = 'defualt'\r\n    this.attr('bgpillarState', bgpillarState)\r\n    this.hoverIndex = -1\r\n  }\r\n  myClick = function() {\r\n    console.log('myclick')\r\n  }\r\n\r\n  render(data) {\r\n    let { clientRect, bgpillarState, states, layoutBy } = this.renderAttrs\r\n    const styles = this.renderStyles\r\n    let renderData = this.dataset[layoutBy]\r\n    const dataLength = renderData.length > 1 ? renderData.length : renderData[0].length\r\n    let colors = this.theme.colors\r\n    return (\r\n      <Group\r\n        pos={[clientRect.left, clientRect.top]}\r\n        size={[clientRect.width, clientRect.height]}\r\n        onMouseleave={this.onMouseleave}\r\n        onMouseenter={this.onMousemove}\r\n        onMousemove={this.onMousemove}\r\n        onClick={this.myClick}\r\n        // onMousemove={throttle(this.onMousemove)}\r\n      >\r\n        <Group ref=\"pillars\" class=\"pillars-group\">\r\n          {data.barData.map((pillar, ind) => {\r\n            let cell = this.dataset[layoutBy][ind % renderData.length][Math.floor(ind / renderData.length)]\r\n            const style = getStyle(this, 'pillar', [{ bgcolor: colors[cell.row], ...pillar.attrs }, styles.bar], [cell.data, Math.floor(ind / renderData.length), ind % renderData.length])\r\n            const hoverStyle = getStyle(this, 'pillar:hover', [], [cell.data, Math.floor(ind / renderData.length), ind % renderData.length])\r\n            if (cell.state === 'hover') {\r\n              deepObjectMerge(style, hoverStyle)\r\n            }\r\n            return <Sprite {...pillar.attrs} {...pillar.from} {...style} animation={{ from: pillar.from, to: pillar.to }} />\r\n          })}\r\n          {data.textData.map((text, ind) => {\r\n            let barAttrs = filterClone(data.barData[ind].attrs, ['pos', 'size'])\r\n            let textStyle = getStyle(this, 'text', [{ barAttrs: barAttrs }, styles.text], [this.dataset.rows[ind % renderData.length][Math.floor(ind / renderData.length)].data, Math.floor(ind / renderData.length), ind % renderData.length])\r\n            //console.log('aaa', textStyle, styles.text)\r\n            textStyle = filterClone(textStyle, [], ['barAttrs'])\r\n            if (textStyle.pos) {\r\n              this.texts[ind].attrs.pos = textStyle.pos\r\n              text.to.pos = textStyle.pos\r\n            }\r\n\r\n            return textStyle === false ? null : (\r\n              <Label\r\n                {...text.attrs}\r\n                {...textStyle}\r\n                animation={{\r\n                  from: text.from,\r\n                  to: text.to\r\n                }}\r\n              />\r\n            )\r\n          })}\r\n        </Group>\r\n        <Group ref=\"bgpillar\" class=\"bgpillars-group\">\r\n          {data.groupData.map((pillar, ind) => {\r\n            let style = getStyle(this, 'backgroundpillar', [], [this.dataset.rows[ind % renderData.length], Math.floor(ind / renderData.length)])\r\n            return style === false ? null : <Sprite state={bgpillarState[ind]} states={states.bgpillar} {...pillar} {...style} />\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Bar\r\n","import { axis } from \"../../utils/axis\"\r\n\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr\r\n  const { stack, splitNumber, clientRect, groupPadAngle, activeOffset } = attrs\r\n  const { width, height } = clientRect\r\n  const barSize = [width, height]\r\n  const groupGap = groupPadAngle || 0\r\n  const stackGap = attrs.stackGap || 0\r\n\r\n  const radius = attrs.radius || 1\r\n  const barInnerRadius = attrs.innerRadius || 0\r\n  const padAngle = attrs.padAngle\r\n  // 输出\r\n  const barData = []\r\n\r\n  const bgPillarAttr = { opacity: 0.01, fillColor: \"#FF0000\" }\r\n\r\n  // const valueAxis = getAxis(stack, data)\r\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber })\r\n  if (!valueAxis || !valueAxis.length) {\r\n    return { barData }\r\n  }\r\n\r\n  const tableSize = Math.min(barSize[0], barSize[1])\r\n  const axisValueMax = Math.max.apply(this, valueAxis)\r\n  const axisValueMin = Math.min.apply(this, valueAxis)\r\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\r\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\r\n\r\n  const GROUP_NUM = data[0].length\r\n  const BAR_MAX_HEIGHT = 0.5 * radius * tableSize\r\n  const BAR_HEIGHT_FACTOR = BAR_MAX_HEIGHT / (axisValueMax - axisValueMin)\r\n  if (!stack) {\r\n    // 分组柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\r\n      let value = 0\r\n      let gpData = { rects: [] }\r\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        // if (data[j][i].disabled !== true) {\r\n        //   data[j][i].disabled = false;\r\n        // }\r\n        let barAngle = groupAngle / GROUP_BAR_NUM\r\n        let startAngle =\r\n          (groupAngle + groupGap) * i + barAngle * (j - flag) - Math.PI * 0.5\r\n        value = data[j][i].layoutScaleValue\r\n        let barHeight = BAR_HEIGHT_FACTOR * value\r\n        let innerRadius =\r\n          BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) +\r\n          barInnerRadius * tableSize * 0.5\r\n        //默认中心坐标偏移量0\r\n        let offsetPos = [0, 0]\r\n        let rect = {\r\n          innerRadius: innerRadius,\r\n          outerRadius: innerRadius + barHeight,\r\n          startAngle: (startAngle * 180) / Math.PI,\r\n          endAngle: ((startAngle + barAngle) * 180) / Math.PI,\r\n          value: data[j][i].value,\r\n          text: data[j][i].text,\r\n          state: data[j][i].state,\r\n          data: data[j][i].data,\r\n          id: i * lenj + j,\r\n          offsetPos: offsetPos,\r\n        }\r\n        if (rect.state === \"hover\") {\r\n          let curAngle = ((rect.startAngle + rect.endAngle) / 2) % 360\r\n          rect.bisectorRadian = transRadius(curAngle)\r\n          //角平分,角度转弧度,默认是顺时针，角度为相反\r\n          rect.offsetPos = [\r\n            activeOffset * Math.cos(rect.bisectorRadian),\r\n            activeOffset * Math.sin(rect.bisectorRadian),\r\n          ]\r\n          //选中状态\r\n        }\r\n        if (rect.state === \"disabled\") {\r\n          rect.endAngle = rect.startAngle\r\n          rect.radius = 0\r\n          rect.opacity = 0\r\n          flag++\r\n        } else {\r\n          rect.opacity = 1\r\n          gpData.rects.push(rect)\r\n        }\r\n        if (GROUP_NUM < 2) {\r\n          delete rect.startAngle\r\n          delete rect.endAngle\r\n        }\r\n        barData.push(rect)\r\n      }\r\n    }\r\n  } else {\r\n    // 堆叠柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let heightSumUp = 0\r\n      let heightSumDown = 0\r\n      let value = 0\r\n      let gpData = { rects: [] }\r\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        // if (data[j][i].disabled !== true) {\r\n        //   data[j][i].disabled = false;\r\n        // }\r\n        let startAngle = (groupAngle + groupGap) * i - Math.PI * 0.5\r\n        value = data[j][i].value\r\n        let barHeight = BAR_HEIGHT_FACTOR * value\r\n        let innerRadius =\r\n          value < 0\r\n            ? BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) - heightSumDown\r\n            : BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + heightSumUp\r\n        innerRadius = innerRadius + barInnerRadius * tableSize * 0.5\r\n        let offsetPos = [0, 0]\r\n        let rect = {\r\n          innerRadius: innerRadius,\r\n          outerRadius: innerRadius + barHeight - stackGap,\r\n          startAngle: (startAngle * 180) / Math.PI,\r\n          endAngle: ((startAngle + groupAngle) * 180) / Math.PI,\r\n          value: data[j][i].value,\r\n          text: data[j][i].text,\r\n          state: data[j][i].state,\r\n          data: data[j][i].data,\r\n          offsetPos: offsetPos,\r\n        }\r\n\r\n        if (rect.state === \"hover\") {\r\n          rect.strokeColor = \"#F00\"\r\n        } else {\r\n          delete rect.strokeColor\r\n        }\r\n        if (rect.state === \"disabled\") {\r\n          rect.opacity = 0\r\n        } else {\r\n          rect.opacity = 1\r\n          value < 0\r\n            ? (heightSumDown = heightSumDown - barHeight)\r\n            : (heightSumUp = heightSumUp + barHeight)\r\n          gpData.rects.push(rect)\r\n        }\r\n        barData.push(rect)\r\n      }\r\n    }\r\n  }\r\n  // attachPadAngleOfArr(barData, padAngle)\r\n  return { barData }\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].state !== \"disabled\") {\r\n      flag++\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    // console.warn('data invalid!')\r\n  }\r\n  return flag || 1\r\n}\r\nexport function transRadius(angle) {\r\n  return (angle / 180) * Math.PI\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Ring } from 'spritejs'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport layout from './layout'\r\nimport { getStyle } from '../../utils/getStyle'\r\nimport filterClone from 'filter-clone'\r\nclass PolarBar extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'polarbar'\r\n    this.pillars = []\r\n    this.hoverIndex = -1\r\n    this.timer = null\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let { height, width, top, left } = attrs.clientRect\r\n    attrs.pos = [left + width / 2, top + height / 2]\r\n    return attrs\r\n  }\r\n\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回rings,继承base\r\n    let { arrLayout } = this.getRenderData()\r\n    this.pillars = arrLayout.barData\r\n    let barData = arrLayout.barData.map(item => {\r\n      return {\r\n        from: {\r\n          endAngle: item.startAngle\r\n        },\r\n        to: item\r\n      }\r\n    })\r\n    return { barData }\r\n  }\r\n  beforeUpdate() {\r\n    const pillars = this.pillars\r\n    let { pos } = this.renderAttrs\r\n    let { arrLayout } = this.getRenderData()\r\n    let barData = arrLayout.barData.map((nextPillar, i) => {\r\n      let curPos = [pos[0] + nextPillar.offsetPos[0], pos[1] + nextPillar.offsetPos[1]]\r\n      nextPillar.pos = curPos\r\n      return {\r\n        from: { ...pillars[i] },\r\n        to: { ...nextPillar }\r\n      }\r\n    })\r\n    this.pillars = arrLayout.barData\r\n    return { barData }\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset['rows']\r\n    if (!renderData || renderData.length === 0) {\r\n      return { barData: [] }\r\n    }\r\n    const dataLength = renderData.length\r\n    this.legendArr = Array.from({ length: renderData.length }, () => {\r\n      return 1\r\n    })\r\n    let arrLayout = layout.call(this, renderData, renderAttrs)\r\n    let colors = this.theme.colors\r\n    let styles = this.renderStyles\r\n\r\n    arrLayout.barData.forEach((bar, i) => {\r\n      let cell = renderData[i % dataLength][Math.floor(i / dataLength)]\r\n      let style = this.style('pillar')(bar, cell.data, i)\r\n      bar.fillColor = bar.fillColor || colors[cell.row]\r\n      bar.strokeColor = renderAttrs.strokeColor || '#FFF'\r\n      bar.pos = renderAttrs.pos\r\n      if (!bar.hasOwnProperty('startAngle') || !bar.hasOwnProperty('endAngle')) {\r\n        bar.lineWidth = 0\r\n      } else {\r\n        bar.lineWidth = 1\r\n      }\r\n      let barStyle = deepObjectMerge({}, styles.bar, style)\r\n      bar = deepObjectMerge(bar, barStyle)\r\n    })\r\n    return { arrLayout }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'bar',\r\n      //选中偏移量基数\r\n      activeOffset: 10\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {}\r\n  }\r\n\r\n  mouseleave() {\r\n    this.timer = setTimeout(() => {\r\n      this.dataset.resetState()\r\n      this.hoverIndex = -1\r\n    }, 100)\r\n  }\r\n\r\n  mousemove(e, el) {\r\n    clearTimeout(this.timer)\r\n    // let fun = throttle(function(e, el) {\r\n    let renderData = this.renderData()\r\n    let ind = el.attr('_index')\r\n    let groupInd = Math.floor(ind / renderData.length)\r\n    if (groupInd !== this.hoverIndex) {\r\n      this.dataset.resetState()\r\n      this.dataset[this.renderAttrs.layoutBy === 'rows' ? 'cols' : 'rows'][groupInd].state = 'hover'\r\n      this.hoverIndex = groupInd\r\n    }\r\n    // }, 30).bind(this);\r\n    // fun(e, el);\r\n  }\r\n  groupMousemove(e, el) {\r\n    console.log(el)\r\n  }\r\n  renderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    return this.dataset[renderAttrs.layoutBy]\r\n  }\r\n  render(data) {\r\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\r\n    let colors = this.theme.colors\r\n    let styles = this.renderStyles\r\n    return (\r\n      <Group class=\"container\" ref=\"wrap\">\r\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\r\n          {data.barData.map((ring, ind) => {\r\n            let style = getStyle(\r\n              this,\r\n              'sector',\r\n              [\r\n                {\r\n                  _index: ind\r\n                },\r\n                styles.sector\r\n              ],\r\n              [this.dataset.rows[ind], ind]\r\n            )\r\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMousemove={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default PolarBar\r\n","import { axis } from \"../../utils/axis\"\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr\r\n  const { align, pyramid, clientRect, formatter } = attrs\r\n  const { width, height } = clientRect\r\n  // 输出\r\n  const polygons = []\r\n  const labels = []\r\n  const guideLines = []\r\n  const guideTexts = []\r\n  const max = arr[0][0].value\r\n  const widthFactory = width / max\r\n  const POLYGON_NUM = computerLegend(data) // 图例显示个数\r\n  let flag = 0 // 计算当前polygon前面有几个被隐藏\r\n  const right = align !== \"right\"\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    let polygon = { colse: true, lineWidth: 3, points: [] }\r\n    const cell = data[i][0]\r\n    const value = cell.value\r\n    let offset = 0\r\n    let textAnchor = [0, 0.5]\r\n    if (align === \"center\") {\r\n      textAnchor = [0.5, 0.5]\r\n      offset = 0.5\r\n    } else if (!right) {\r\n      offset = 1\r\n      textAnchor = [1, 0.5]\r\n    }\r\n    polygon.points.push(\r\n      (max - value) * offset * widthFactory,\r\n      (height * (i - flag)) / POLYGON_NUM\r\n    )\r\n    polygon.points.push(\r\n      (max * offset + value * (1 - offset)) * widthFactory,\r\n      (height * (i - flag)) / POLYGON_NUM\r\n    )\r\n    if (i - flag + 1 < POLYGON_NUM) {\r\n      let counter = 1\r\n\r\n      while (data[i + counter][0].state === \"disabled\") {\r\n        counter++\r\n      }\r\n      const nextValue = data[i + counter][0].value\r\n\r\n      polygon.points.push(\r\n        (max * offset + nextValue * (1 - offset)) * widthFactory,\r\n        (height * (i - flag + 1)) / POLYGON_NUM\r\n      )\r\n      polygon.points.push(\r\n        (max - nextValue) * offset * widthFactory,\r\n        (height * (i - flag + 1)) / POLYGON_NUM\r\n      )\r\n    } else {\r\n      if (pyramid) {\r\n        polygon.points.push(offset * width, height)\r\n      } else {\r\n        polygon.points.push(\r\n          (max * offset + value * (1 - offset)) * widthFactory,\r\n          (height * (i - flag + 1)) / POLYGON_NUM\r\n        )\r\n        polygon.points.push(\r\n          (max - value) * offset * widthFactory,\r\n          (height * (i - flag + 1)) / POLYGON_NUM\r\n        )\r\n      }\r\n    }\r\n    polygon.opacity = 1\r\n    if (cell.state === \"disabled\") {\r\n      polygon.points[6] = polygon.points[0]\r\n      polygon.points[7] = polygon.points[1]\r\n      polygon.points[4] = polygon.points[2]\r\n      polygon.points[5] = polygon.points[3]\r\n      polygon.opacity = 0\r\n      flag++\r\n    }\r\n    const labelAttrs = {\r\n      opacity: cell.state === \"disabled\" ? 0 : 1,\r\n      text: Math.round((100 * value) / max) + \"%\",\r\n      anchor: textAnchor,\r\n      pos: [\r\n        width * offset + (0.5 - offset) * 10,\r\n        ((i - flag + 0.5) * height) / POLYGON_NUM,\r\n      ],\r\n      fillColor: \"#FFF\",\r\n      fontSize: \"12px\",\r\n    }\r\n    let linePoints = getLinePoints(polygon.points, right)\r\n    const guideLine = {\r\n      points: linePoints.points,\r\n      strokeColor: \"#000\",\r\n    }\r\n    const guideText = {\r\n      fillColor: \"#000\",\r\n      fontSize: \"12px\",\r\n      text: formatter(cell.data) || cell.text + cell.value,\r\n      pos: [guideLine.points[2] + (right ? 10 : -10), guideLine.points[3]],\r\n      anchor: [right ? 0 : 1, 0.5],\r\n    }\r\n    guideLines.push(guideLine)\r\n    guideTexts.push(guideText)\r\n    polygons.push(polygon)\r\n    labels.push(labelAttrs)\r\n  }\r\n\r\n  return { polygons, labels, guideLines, guideTexts }\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].state !== \"disabled\") {\r\n      flag++\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    console.warn(\"data invalid!\")\r\n  }\r\n  return flag || 1\r\n}\r\n\r\nfunction getLinePoints(points, right, length) {\r\n  // const { points } = attrs\r\n  // 起点\r\n  let x, y\r\n  if (right) {\r\n    ;[x, y] = [(points[2] + points[4]) / 2 + 10, (points[3] + points[5]) / 2]\r\n  } else {\r\n    ;[x, y] = [\r\n      (points[0] + (points.length === 6 ? points[4] : points[6])) / 2 - 10,\r\n      (points[1] + (points.length === 6 ? points[5] : points[7])) / 2,\r\n    ]\r\n  }\r\n  // 终点\r\n  const [cX, cY] = [right ? x + (length || 40) : x - (length || 40), y]\r\n  return {\r\n    points: [x, y, cX, cY],\r\n  }\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Polyline, Label } from 'spritejs'\r\nimport { deepObjectMerge, throttle } from '@qcharts/utils'\r\nimport layout from './layout'\r\nimport { getStyle } from '../../utils/getStyle'\r\nclass Funnel extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'funnel'\r\n    this.polygons = null\r\n    this.labels = null\r\n    this.hoverIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base---------before\r\n    let { polygons, labels, guideLines, guideTexts } = this.getRenderData()\r\n    polygons = polygons.map(plg => {\r\n      return {\r\n        attrs: { ...plg },\r\n        from: {\r\n          points: plg.points.length === 8 ? [plg.points[6], plg.points[7], plg.points[4], plg.points[5], plg.points[4], plg.points[5], plg.points[6], plg.points[7]] : [plg.points[4], plg.points[5], plg.points[4], plg.points[5], plg.points[4], plg.points[5]]\r\n        },\r\n        to: {\r\n          // pos: [0, 0],\r\n          points: plg.points\r\n        }\r\n      }\r\n    })\r\n    labels = labels.map(item => {\r\n      return {\r\n        attrs: { ...item }\r\n      }\r\n    })\r\n    guideLines = guideLines.map(item => {\r\n      return {\r\n        attrs: { ...item }\r\n      }\r\n    })\r\n    guideTexts = guideTexts.map(item => {\r\n      return {\r\n        attrs: { ...item }\r\n      }\r\n    })\r\n    this.polygons = polygons\r\n    this.labels = labels\r\n    this.guideLines = guideLines\r\n    this.guideTexts = guideTexts\r\n    return { polygons, labels, guideTexts, guideLines }\r\n  }\r\n  beforeUpdate() {\r\n    let oldPolygons = this.polygons\r\n    let oldLabels = this.labels\r\n    let oldTexts = this.guideTexts\r\n    let oldLines = this.guideLines\r\n    let { polygons, labels, guideLines, guideTexts } = this.getRenderData()\r\n    polygons = polygons.map((polygon, i) => {\r\n      return {\r\n        attrs: { ...polygon },\r\n        from: {\r\n          points: oldPolygons[i].to.points\r\n        },\r\n        to: {\r\n          points: polygon.points\r\n        }\r\n      }\r\n    })\r\n    labels = labels.map((label, i) => {\r\n      return {\r\n        attrs: { ...label },\r\n        from: {\r\n          pos: oldLabels[i].attrs.pos\r\n        },\r\n        to: {\r\n          pos: label.pos\r\n        }\r\n      }\r\n    })\r\n    guideTexts = guideTexts.map((item, i) => {\r\n      return {\r\n        attrs: { ...item },\r\n        from: {\r\n          pos: oldTexts[i].attrs.pos\r\n        },\r\n        to: {\r\n          pos: item.pos\r\n        }\r\n      }\r\n    })\r\n    guideLines = guideLines.map((item, i) => {\r\n      return {\r\n        attrs: { ...item },\r\n        from: {\r\n          points: oldLines[i].attrs.points\r\n        },\r\n        to: {\r\n          points: item.points\r\n        }\r\n      }\r\n    })\r\n    this.polygons = polygons\r\n    this.labels = labels\r\n    this.guideLines = guideLines\r\n    this.guideTexts = guideTexts\r\n    return { polygons, labels, guideTexts, guideLines }\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    let { polygons, labels, guideLines, guideTexts } = layout(renderData, renderAttrs)\r\n    return { polygons, labels, guideLines, guideTexts }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'funnel',\r\n      formatter: d => (d.value ? d.value : d)\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {}\r\n  }\r\n  onMousemove(event, el) {\r\n    let ind = el.attr('_ind')\r\n    this.dataset.resetState()\r\n    this.dataset[this.renderAttrs.layoutBy][ind][0].state = 'hover'\r\n  }\r\n\r\n  onMouseleave(e, el) {\r\n    this.dataset.resetState()\r\n  }\r\n  myClick = function() {\r\n    console.log('myclick')\r\n  }\r\n\r\n  withText(attrs, cell) {\r\n    let { labelAttrs } = attrs\r\n    if (cell.state === 'disabled') {\r\n      return\r\n    }\r\n    const textStyle = getStyle(this, 'text', [{}], [cell.data, cell.row])\r\n    if (textStyle === false) {\r\n      return\r\n    }\r\n    // let { textFrom, textTo } = this.fromTos[index]\r\n    return <Label {...labelAttrs} {...textStyle} />\r\n  }\r\n\r\n  render(data) {\r\n    let { clientRect, bgpillarState, states } = this.renderAttrs\r\n    let { polygons, labels, guideLines, guideTexts } = data\r\n    const styles = this.renderStyles\r\n    const colors = this.theme.colors\r\n    return (\r\n      <Group class=\"container\" ref=\"wrap\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Group ref=\"pillars\" class=\"pillars-group\">\r\n          {polygons.map((pillar, ind) => {\r\n            const cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\r\n            let style = getStyle(this, 'polygon', [{ _ind: ind, fillColor: colors[ind] }, styles.polygon], [cell, ind])\r\n            let styleHover = getStyle(this, 'polygon:hover', [{ _ind: ind, opacity: 0.8 }, styles.polygon], [cell, ind])\r\n            if (cell.state === 'hover') {\r\n              deepObjectMerge(style, styleHover)\r\n            }\r\n            return (\r\n              <Group>\r\n                <Polyline onMousemove={this.onMousemove} onMouseleave={this.onMouseleave} {...pillar.attrs} {...pillar.from} {...style} animation={{ from: pillar.from, to: pillar.to }} />\r\n                {/* {withGuide(\r\n                  this,\r\n                  pillar.attrs,\r\n                  this.dataset[this.renderAttrs.layoutBy][ind][0],\r\n                  this.renderAttrs.formatter\r\n                )} */}\r\n              </Group>\r\n            )\r\n          })}\r\n        </Group>\r\n        <Group ref=\"guideLine\">\r\n          {guideLines.map((item, ind) => {\r\n            let cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\r\n            if (cell.state === 'disabled') {\r\n              return\r\n            }\r\n            const lineStyle = getStyle(this, 'guideline', [{}], [cell.data, cell.row])\r\n            if (lineStyle === false) {\r\n              return\r\n            }\r\n            return <Polyline {...item.attrs} {...item.from} {...lineStyle} animation={{ from: item.from, to: item.to }} />\r\n          })}\r\n        </Group>\r\n        <Group ref=\"guideText\">\r\n          {guideTexts.map((item, ind) => {\r\n            let cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\r\n            if (cell.state === 'disabled') {\r\n              return\r\n            }\r\n            const textStyle = getStyle(this, 'guideText', [{}], [cell.data, cell.row])\r\n            if (textStyle === false) {\r\n              return\r\n            }\r\n            return <Label {...item.attrs} {...item.from} {...textStyle} animation={{ from: item.from, to: item.to }} />\r\n          })}\r\n        </Group>\r\n        <Group ref=\"label\">\r\n          {labels.map((item, ind) => {\r\n            let cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\r\n            if (cell.state === 'disabled') {\r\n              return\r\n            }\r\n            const textStyle = getStyle(this, 'text', [{}], [cell.data, cell.row])\r\n            if (textStyle === false) {\r\n              return\r\n            }\r\n            return <Label {...item.attrs} {...item.from} {...textStyle} animation={{ from: item.from, to: item.to }} />\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Funnel\r\n","import { axis } from '../../utils/axis'\r\nimport { scaleLinear } from '../../utils/scaleLinear'\r\nimport { jsType } from '@qcharts/utils'\r\n\r\nconst getDataRange = (data) => {\r\n  if (data.length === 0) {\r\n    return [0, 1]\r\n  }\r\n  const min = Math.min(...data)\r\n  const max = Math.max(...data)\r\n  return [min, max]\r\n}\r\n\r\nconst getBigRange = (data) => {\r\n  if (data.length === 0) {\r\n    return [0, 1]\r\n  }\r\n  const [min, max] = getDataRange(data)\r\n  const n = Math.round(min / 10) - 1\r\n  const m = Math.round(max / 10) + 1\r\n  return [n * 10, m * 10]\r\n}\r\n\r\nconst updateSectionVal = (section, newSection) => {\r\n  const { min, max } = newSection\r\n  if (jsType(min) === 'number') {\r\n    section[0] = min\r\n  }\r\n  if (jsType(max) === 'number') {\r\n    section[1] = max\r\n  }\r\n}\r\n\r\nexport default function layout(dataSet, size, layoutWay) {\r\n  const [width, height] = size\r\n\r\n  const { text: textField, value: valueField } = dataSet.option\r\n  const allData = [...dataSet]\r\n\r\n  // 如果X轴是文本框，则进行均分\r\n  const maxLen = getDataRange(dataSet.rows.map((d) => d.length))[1]\r\n\r\n  let xDomain = [0, maxLen - 1]\r\n  let xSection = [0, maxLen - 1]\r\n  const xIsTextData = allData.some((d) => jsType(d.text) === 'string')\r\n  if (!xIsTextData) {\r\n    xSection = getBigRange(allData.map((d) => d.text))\r\n    const xScales = axis.call(this, {\r\n      dataSet: allData,\r\n      stack: false,\r\n      field: textField,\r\n      section: xSection\r\n    })\r\n    xDomain = getDataRange(xScales)\r\n  }\r\n\r\n  const yIsTextData = allData.some((d) => jsType(d.value) === 'string')\r\n  if (yIsTextData) {\r\n    throw new Error(\"Scatter's value category data should be Number!\")\r\n  }\r\n  let ySection = getBigRange(allData.map((d) => d.layoutScaleValue))\r\n  const yScales = axis.call(this, {\r\n    dataSet: allData,\r\n    stack: false,\r\n    field: 'layoutScaleValue',\r\n    section: ySection\r\n  })\r\n  const yDomain = getDataRange(yScales)\r\n\r\n  if (layoutWay) {\r\n    if (layoutWay[textField]) {\r\n      updateSectionVal(xSection, layoutWay[textField])\r\n    }\r\n    if (layoutWay[valueField]) {\r\n      updateSectionVal(ySection, layoutWay[valueField])\r\n    }\r\n  }\r\n\r\n  const newLayoutWay = {}\r\n  newLayoutWay[textField] = { min: xSection[0], max: xSection[1] }\r\n  newLayoutWay[valueField] = { min: ySection[0], max: ySection[1] }\r\n\r\n  const xLinear = scaleLinear()\r\n    .domain(xDomain)\r\n    .range([0, width])\r\n  const yLinear = scaleLinear()\r\n    .domain(yDomain)\r\n    .range([0, height])\r\n\r\n  const resultData = dataSet.rows.map((dArry) => {\r\n    const attrs = dArry.map((d, i) => {\r\n      const x = xIsTextData ? i : d.text\r\n      const y = d.layoutScaleValue\r\n      const pos = [xLinear(x), height - yLinear(y)]\r\n      return {\r\n        pos,\r\n        radius: 5,\r\n        anchor: [1, 1],\r\n        dataOrigin: { ...d.data },\r\n        state: d.state,\r\n        name: dArry.name,\r\n        col: d.col,\r\n        row: d.row\r\n      }\r\n    })\r\n    return {\r\n      name: dArry.name,\r\n      state: dArry.state,\r\n      attrs\r\n    }\r\n  })\r\n  return { data: resultData, layoutWay: newLayoutWay }\r\n}\r\n","import { Group, Polyline, Arc, Label } from 'spritejs'\r\nimport BaseVisual from '../../base/BaseVisual'\r\nimport { scaleLinear } from '../../utils/scaleLinear'\r\nimport { hexToRgba } from '../../utils/color'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport layout from './layout'\r\n\r\nclass Scatter extends BaseVisual {\r\n  constructor(attrs = {}) {\r\n    super(attrs)\r\n    this.type = 'scatter'\r\n    this.scatterData = []\r\n    this.guideLineData = []\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'scatter',\r\n      labelField: null,\r\n      areaField: null, //气泡大小字段值，不设置此值则为散点图\r\n      areaRange: null, // 面积映射\r\n      showGuideLine: false,\r\n      layoutWay: null\r\n    }\r\n  }\r\n\r\n  get renderAttrs() {\r\n    return { ...super.renderAttrs }\r\n  }\r\n\r\n  processData() {\r\n    const dataSet = this.dataset\r\n    const { layoutWay, clientRect } = this.renderAttrs\r\n    const { data, layoutWay: newLayoutWay } = layout.call(\r\n      this,\r\n      dataSet,\r\n      [clientRect.width, clientRect.height],\r\n      layoutWay\r\n    )\r\n    deepObjectMerge(this.renderAttrs.layoutWay || {}, newLayoutWay)\r\n\r\n    data.forEach((item, i) => {\r\n      const color = this.theme.colors[i]\r\n      const fillColor = hexToRgba(color, 0.3)\r\n      item.attrs.forEach((di) => {\r\n        di.strokeColor = color\r\n        di.fillColor = fillColor\r\n      })\r\n    })\r\n    return data\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const updateData = this.processData()\r\n    const temp = updateData.map((row) => deepObjectMerge({}, row))\r\n    updateData.forEach((row, ind) => {\r\n      const oldRow = this.scatterData[ind]\r\n      row.attrs.forEach((cell, cInd) => {\r\n        const radius = this.getRealRadius({ ...cell })\r\n        cell.radius = radius\r\n        if (oldRow && oldRow.attrs[cInd]) {\r\n          const oldCell = oldRow.attrs[cInd]\r\n          const toPos = [...cell.pos]\r\n          const fromPos =\r\n            oldCell.animation.to && oldCell.animation.to.pos ? [...oldCell.animation.to.pos] : [...oldCell.pos]\r\n          // 位置相同\r\n          if (toPos.toString() === fromPos.toString()) {\r\n            let fromRadius = radius\r\n            let toRadius = radius\r\n            //default-> disabled\r\n            if (cell.state === 'disabled') {\r\n              toRadius = 0\r\n            }\r\n            // old is disabled\r\n            if (oldCell.animation.to.radius == 0) {\r\n              fromRadius = 0\r\n            }\r\n            cell.animation = {\r\n              from: { radius: fromRadius },\r\n              to: { radius: toRadius }\r\n            }\r\n          } else {\r\n            cell.animation = {\r\n              from: { pos: fromPos },\r\n              to: { pos: toPos }\r\n            }\r\n          }\r\n        } else {\r\n          cell.animation = {\r\n            from: { radius: 0 },\r\n            to: { radius: radius }\r\n          }\r\n        }\r\n      })\r\n    })\r\n    this.scatterData = temp\r\n    return updateData\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const renderData = this.processData()\r\n    this.scatterData = renderData.map((row) => deepObjectMerge({}, row))\r\n    renderData.forEach((row) => {\r\n      row.attrs.forEach((cell) => {\r\n        const radius = this.getRealRadius({ ...cell })\r\n        cell.animation = {\r\n          from: { radius: 0 },\r\n          to: { radius }\r\n        }\r\n      })\r\n    })\r\n    return renderData\r\n  }\r\n\r\n  getRealRadius(attr) {\r\n    const { areaRange, areaField } = this.renderAttrs\r\n    const { radius, dataOrigin } = attr\r\n    // 面积字段未定义，直接返回半径\r\n    if (!areaField || !dataOrigin.hasOwnProperty(areaField)) {\r\n      return radius\r\n    }\r\n    // 面积范围未定义，直接返回数据中的面积\r\n    if (!areaRange) {\r\n      return dataOrigin[areaField]\r\n    }\r\n\r\n    const allData = [...this.dataset].map((d) => d.data[areaField]).sort((a, b) => a - b)\r\n    const linear = scaleLinear()\r\n      .domain([allData[0], allData[allData.length - 1]])\r\n      .range(areaRange)\r\n    const realArea = linear(dataOrigin[areaField])\r\n    return realArea\r\n  }\r\n\r\n  onMouseenter(event, el) {\r\n    const arc = el.children[0]\r\n    const { row: rowInd, col: colInd, pos } = arc.attributes\r\n    this.dataset.forEach((cell) => {\r\n      if (cell.row === rowInd && cell.col === colInd) {\r\n        cell.state = 'hover'\r\n      }\r\n    })\r\n    const { showGuideLine } = this.renderAttrs\r\n    if (showGuideLine) {\r\n      const { height, width } = this.renderAttrs.clientRect\r\n      this.guideLineData = [\r\n        [\r\n          [0, pos[1]],\r\n          [width, pos[1]]\r\n        ],\r\n        [\r\n          [pos[0], 0],\r\n          [pos[0], height]\r\n        ]\r\n      ]\r\n    }\r\n  }\r\n  onMouseleave(event, el) {\r\n    const arc = el.children[0]\r\n    this.dataset.resetState()\r\n    this.guideLineData = []\r\n  }\r\n\r\n  renderGuideLine() {\r\n    if (this.guideLineData.length > 0) {\r\n      return this.guideLineData.map((points) => {\r\n        return <Polyline points={points} strokeColor={'#ddd'} lineWidth={1} translate={[0.5, 0.5]} />\r\n      })\r\n    }\r\n    return\r\n  }\r\n\r\n  renderScatter(data) {\r\n    const { labelField } = this.renderAttrs\r\n    const scatters = data.map((item, di) => {\r\n      return item.attrs.map((attr, ci) => {\r\n        let style = this.style('point')(attr, { ...attr.dataOrigin }, ci)\r\n        if (style === false) {\r\n          return\r\n        }\r\n\r\n        let labelAttr = null\r\n\r\n        if (labelField) {\r\n          const style = this.style('label')(attr, { ...attr.dataOrigin }, ci)\r\n          if (style !== false) {\r\n            if (attr.dataOrigin.hasOwnProperty(labelField)) {\r\n              const { strokeColor, ...other } = attr\r\n              const text = attr.dataOrigin[labelField]\r\n              labelAttr = deepObjectMerge(\r\n                other,\r\n                {\r\n                  fillColor: strokeColor,\r\n                  text,\r\n                  anchor: [0.5, 0.5],\r\n                  fontSize: '12px',\r\n                  zIndex: 10 + di + ci\r\n                },\r\n                style\r\n              )\r\n            }\r\n          }\r\n        }\r\n        const hStyle = this.style('point:hover')(attr, attr.dataOrigin, ci) || {}\r\n        const stateStyle = attr.state === 'hover' ? hStyle : {}\r\n\r\n        return (\r\n          <Group onMousemove={this.onMouseenter} onMouseleave={this.onMouseleave}>\r\n            <Arc {...attr} {...style} {...stateStyle} zIndex={9 + di + ci} />\r\n            {labelAttr ? <Label {...labelAttr} /> : null}\r\n          </Group>\r\n        )\r\n      })\r\n    })\r\n    return scatters.reduce((pre, cur) => {\r\n      return pre.concat(cur)\r\n    }, [])\r\n  }\r\n\r\n  render(data) {\r\n    const { height, width, left, top } = this.renderAttrs.clientRect\r\n    return (\r\n      <Group size={[width, height]} pos={[left, top]} zIndex={10}>\r\n        {this.renderScatter(data)}\r\n        {this.renderGuideLine()}\r\n      </Group>\r\n    )\r\n  }\r\n\r\n  rendered() {}\r\n}\r\n\r\nexport default Scatter\r\n","export function hexToRgba(hex, opacity) {\r\n  // 16进制颜色转rgba\r\n  if (/^rgba\\(.+\\)$/.test(hex)) {\r\n    return hex;\r\n  }\r\n  var c\r\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n    c = hex.substring(1).split('')\r\n    if (c.length === 3) {\r\n      c = [c[ 0 ], c[ 0 ], c[ 1 ], c[ 1 ], c[ 2 ], c[ 2 ]]\r\n    }\r\n    c = '0x' + c.join('')\r\n    return (\r\n      'rgba(' +\r\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') +\r\n      ',' +\r\n      opacity +\r\n      ')'\r\n    )\r\n  }\r\n  throw new Error('Bad Hex')\r\n}\r\nexport function randomHexColor() {\r\n  // 随机生成十六进制颜色\r\n  let random = Math.floor(Math.random() * 16777216).toString(16) // 生成ffffff以内16进制数\r\n  while (random.length < 6) {\r\n    // while循环判断hex位数，少于6位前面加0凑够6位\r\n    random = `0${random}`\r\n  }\r\n  return `#${random}`\r\n}\r\n","//通过圆生成path\r\nfunction ellipse2path(cx, cy, rx, ry) {\r\n  //非数值单位计算，如当宽度像100%则移除\r\n  if (isNaN(cx - cy + rx - ry)) return\r\n  var path = 'M' + (cx - rx) + ' ' + cy + 'a' + rx + ' ' + ry + ' 0 1 0 ' + 2 * rx + ' 0' + 'a' + rx + ' ' + ry + ' 0 1 0 ' + -2 * rx + ' 0' + 'z'\r\n  return path\r\n}\r\nexport default ellipse2path\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Polyline, Path, requestAnimationFrame, Label, Node } from 'spritejs'\r\nimport ellipse2path from '../../utils/ellipse2path'\r\nimport { getStyle } from '../../utils/getStyle'\r\nclass Wave extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    //波纹振偏移量\r\n    this.offsetR = 50\r\n    this.tickId = ''\r\n    this.oldAttr = {}\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let clientRect = attrs.clientRect\r\n    let width = Math.floor(clientRect.width)\r\n    let height = Math.floor(clientRect.height)\r\n    let radius = attrs.radius\r\n    attrs.pos = [0, 0]\r\n    if (!attrs.shape) {\r\n      attrs.pos = [width / 2 - radius, height / 2 - radius]\r\n      attrs.shape = ellipse2path(radius, radius, attrs.radius, attrs.radius)\r\n    }\r\n    return attrs\r\n  }\r\n  rendered() {\r\n    //path的高宽\r\n    this.wave()\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      amplitude: 8, //振幅\r\n      wavelength: 300, //波长`\r\n      radius: 150,\r\n      percent: 65,\r\n      formatter: per => {\r\n        return per + '%'\r\n      }\r\n    }\r\n  }\r\n  wave() {\r\n    let currentR = 0\r\n    let per = 4\r\n    let clipWave = this.$refs['clipWave']\r\n    let clipPath = this.$refs['clipPath'] || clipWave\r\n    let pathHeight = clipPath.originalContentRect[3]\r\n    let { percent, wavelength, amplitude, clientRect, animation, shape } = this.renderAttrs\r\n    let perR = 24 / animation.duration\r\n    let currentX = 0 - clientRect.left\r\n    //以路径的top为起点，计算百分比\r\n    let startY = (pathHeight * (100 - percent)) / 100 + clipPath.originalContentRect[1]\r\n    this.tickId = requestAnimationFrame(_ => {\r\n      this.offsetR += perR\r\n      let points = [[currentX, startY + pathHeight]]\r\n      points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\r\n      while (currentX < clientRect.width + clientRect.left + clientRect.right) {\r\n        points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\r\n        currentX += wavelength / (per * 2)\r\n        currentR += Math.PI / per\r\n      }\r\n      let lastY = amplitude * Math.sin(currentR + this.offsetR)\r\n      points.push([currentX, startY + lastY])\r\n      points.push([currentX, startY + lastY])\r\n      points.push([currentX, startY + pathHeight])\r\n      clipWave.attr({ points: points, clipPath: ' ' + shape })\r\n      if (this.offsetR >= 2 * Math.PI) {\r\n        this.offsetR = this.offsetR % (2 * Math.PI)\r\n      }\r\n      this.wave()\r\n    })\r\n  }\r\n  render() {\r\n    let { clientRect, shape, pos, formatter, percent, radius } = this.renderAttrs\r\n    let renderStyles = this.renderStyles\r\n    let waveStyle = getStyle(this, 'wave', renderStyles.wave)\r\n    let shapeStyle = getStyle(this, 'shape', renderStyles.shape)\r\n    let textStyle = getStyle(this, 'text', [{ pos: [radius, radius], anchor: [0.5, 0.5] }, renderStyles.text])\r\n    let animation = {\r\n      from: {\r\n        pos: this.oldAttr.pos || pos\r\n      },\r\n      to: {\r\n        pos: pos\r\n      }\r\n    }\r\n    this.oldAttr = { ...this.renderAttrs }\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]}>\r\n        <Group animation={animation}>\r\n          <Path ref=\"clipPath1\" d={shape} fillColor={shapeStyle.fillColor} />\r\n          <Polyline ref=\"clipWave\" {...waveStyle} clipPath={shape} smooth={true} />\r\n          <Path ref=\"clipPath\" d={shape} strokeColor={shapeStyle.strokeColor} lineWidth={shapeStyle.lineWidth} />\r\n          {textStyle === false ? <Node /> : <Label text={formatter(percent)} {...textStyle} />}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Wave\r\n","import { Group, Polyline, Label, Arc, Gradient } from 'spritejs'\r\nimport { jsType } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\n\r\n/**\r\n * 根据给定参数，生成仪表盘刻度的坐标以及刻度文字标注的坐标\r\n * @param {Number} radius 仪表盘半径\r\n * @param {Number} angle 刻度的角度 单位度\r\n * @param {Number} tickLength 刻度的长度\r\n * @param {Number} labelOffset 刻度文字的偏移值\r\n * @param {Boolean} isInner 刻度是否在仪表盘内部\r\n */\r\nfunction tickLine(radius, angle, tickLength, labelOffset, isInner) {\r\n  const radian = (angle * Math.PI) / 180\r\n  const cos = Math.cos(radian)\r\n  const sin = Math.sin(radian)\r\n  // 起点\r\n  const [x, y] = [cos * radius, sin * radius]\r\n  // 中点\r\n  const [cX0, cY0] = isInner\r\n    ? [x - tickLength * cos, y - tickLength * sin]\r\n    : [x + tickLength * cos, y + tickLength * sin]\r\n  const labelPos = isInner\r\n    ? [x - (tickLength + labelOffset) * cos, y - (tickLength + labelOffset) * sin]\r\n    : [x + (tickLength + labelOffset) * cos, y + (tickLength + labelOffset) * sin]\r\n\r\n  let anchorX = isInner ? cos : -cos\r\n  let anchorY = isInner ? sin : -sin\r\n  let anchor = [0.5, 0.5]\r\n\r\n  if (Math.abs(anchorX) > Math.abs(anchorY)) {\r\n    anchor[0] = anchorX < 0 ? 0 : anchorX\r\n  } else {\r\n    anchor[1] = anchorY > 0 ? anchorY : 0\r\n  }\r\n  return {\r\n    points: [\r\n      [x, y],\r\n      [cX0, cY0]\r\n    ],\r\n    labelPos,\r\n    anchor\r\n  }\r\n}\r\n\r\nclass Gauge extends BaseVisual {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.gaugeAnimations = []\r\n    this.type = 'Gauge'\r\n    this.oldPos = null\r\n    this.style('tickText', true)\r\n    this.style('tickLine', true)\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'gauge',\r\n      min: 0, // 刻度最小值\r\n      max: 100, // 刻度最大值\r\n      percent: 50, // 指针值\r\n      lineCap: 'round',\r\n      _useBuiltInColors: false, // 默认颜色不使用渐变色\r\n      lineWidth: 10, // 仪表盘圆弧宽度\r\n      startAngle: 140, // 仪表盘弧度起始角度，arc 角度顺时针增加，0度为屏幕X轴方向\r\n      endAngle: 400, // 仪表盘弧度终止角度\r\n      strokeBgcolor: '#dde3ea', // 仪表盘弧度的背景色\r\n      title: (d) => d,\r\n      tickStep: 10, // tick 步进，生成 tick 的数量为 (max - min) / tickStep\r\n      tickLength: 10, // 刻度长度，为负值时向外绘制\r\n      labelOffset: 5,\r\n      tickFormatter: (d) => d // 刻度文本格式化\r\n    }\r\n  }\r\n\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    // 仪表盘半径\r\n    const { clientRect } = attrs\r\n    const { height, width } = clientRect\r\n    const size = [width, height]\r\n\r\n    const radius = ~~Math.min.apply(\r\n      size,\r\n      size.map((v) => v / 2)\r\n    )\r\n    // 指针宽度\r\n    const pointerWidth = radius / 10\r\n    // 绘图中心\r\n    const center = [width / 2, height / 2]\r\n    // Fixed: spriteJS bug, 起始角度差为360的时候位置会发生偏差\r\n    if (attrs.endAngle - attrs.startAngle > 359.9) {\r\n      attrs.endAngle = attrs.startAngle + 359.9\r\n    }\r\n\r\n    return {\r\n      ...attrs,\r\n      radius,\r\n      pointerWidth,\r\n      center\r\n    }\r\n  }\r\n\r\n  get ticks() {\r\n    let {\r\n      min,\r\n      max,\r\n      radius,\r\n      startAngle,\r\n      endAngle,\r\n      lineWidth,\r\n      tickStep,\r\n      tickLength,\r\n      labelOffset,\r\n      tickFormatter\r\n    } = this.renderAttrs\r\n    const count = Math.abs(max - min) / tickStep\r\n\r\n    let total = endAngle - startAngle\r\n\r\n    const isInner = tickLength > 0\r\n    const perAngle = total / count\r\n    const ticks = []\r\n    let tickRadius = isInner ? radius - lineWidth / 2 : radius + lineWidth / 2\r\n    let angle = 0\r\n    let i = -1\r\n\r\n    while (++i <= count) {\r\n      angle = i * perAngle + startAngle\r\n      const ret = tickLine(tickRadius, angle, Math.abs(tickLength), Math.abs(labelOffset), isInner)\r\n      ticks.push({\r\n        points: ret.points,\r\n        label: {\r\n          text: tickFormatter(i * tickStep + min).toFixed(0),\r\n          pos: ret.labelPos,\r\n          anchor: ret.anchor\r\n        }\r\n      })\r\n    }\r\n\r\n    if ((ticks[0].angle + ticks[ticks.length - 1].angle) % (Math.PI * 2) === 0) {\r\n      ticks.pop()\r\n    }\r\n\r\n    return ticks\r\n  }\r\n\r\n  transform() {\r\n    const { radius, startAngle, endAngle, min, max, percent } = this.renderAttrs\r\n    const total = Math.abs(max - min)\r\n\r\n    let attrEndAngle = ((endAngle - startAngle) * (percent - min)) / total + startAngle\r\n    // 最大不可超过endAngle\r\n    if (attrEndAngle > endAngle) {\r\n      attrEndAngle = endAngle\r\n    }\r\n\r\n    return {\r\n      dataOrigin: percent,\r\n      startAngle,\r\n      radius,\r\n      endAngle: attrEndAngle,\r\n      strokeColor: this.color(0)\r\n    }\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const arc = this.transform()\r\n    this.gaugeAnimations = {\r\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\r\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\r\n    }\r\n    return arc\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const arc = this.transform()\r\n    const animation = {\r\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\r\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\r\n    }\r\n    if (this.gaugeAnimations) {\r\n      animation.from = { ...this.gaugeAnimations.to }\r\n    }\r\n\r\n    this.gaugeAnimations = { ...animation }\r\n    return arc\r\n  }\r\n\r\n  color(i) {\r\n    return this.theme.colors[i]\r\n  }\r\n\r\n  /**\r\n   * 渲染指针\r\n   * @param {Number} angle 角度\r\n   */\r\n  renderPointer(d, maxTickTextFontSize) {\r\n    const style = this.style('pointer')(d, d.dataOrigin, 0)\r\n    if (style === false) {\r\n      return\r\n    }\r\n    // 动画\r\n    let { from, to } = this.gaugeAnimations\r\n    // rotate角度起始位置为屏幕Y轴方向，arc角度为X轴方向\r\n    const fromRotate = from.endAngle + 90\r\n    const toRotate = to.endAngle + 90\r\n    const pointerAnimation = {\r\n      from: { rotate: fromRotate },\r\n      to: { rotate: toRotate }\r\n    }\r\n    // 半径\r\n    const { radius, pointerWidth, center, tickLength, labelOffset, lineWidth } = this.renderAttrs\r\n    // 指针顶部离仪表盘的距离\r\n    let pointerTopOffset = tickLength + lineWidth + labelOffset + maxTickTextFontSize\r\n    if (tickLength < 0) {\r\n      pointerTopOffset = pointerTopOffset - tickLength - labelOffset\r\n    }\r\n    // 指针长度\r\n    const pointerLen = radius - pointerTopOffset\r\n    // 指针宽度\r\n    let pWidth = radius / 10\r\n\r\n    // 指针颜色\r\n    const color = this.color(0)\r\n\r\n    const [x, y] = center\r\n    const attr = {\r\n      fillColor: color,\r\n      rotate: fromRotate,\r\n      transformOrigin: center,\r\n      zIndex: 11,\r\n      points: [\r\n        [x, y],\r\n        [x - pWidth / 2, y - pointerLen * 0.1],\r\n        [x, y - pointerLen],\r\n        [x + pWidth / 2, y - pointerLen * 0.1],\r\n        [x, y]\r\n      ],\r\n      close: true\r\n    }\r\n    return <Polyline {...attr} {...style} animation={pointerAnimation} />\r\n  }\r\n\r\n  isStyleExist(name) {\r\n    const style = this.style(`${name}`)\r\n    return Boolean(style)\r\n  }\r\n\r\n  render(data = {}) {\r\n    const {\r\n      _useBuiltInColors,\r\n      title,\r\n      percent,\r\n      center,\r\n      radius,\r\n      startAngle,\r\n      endAngle,\r\n      lineWidth,\r\n      lineCap,\r\n      strokeBgcolor,\r\n      clientRect\r\n    } = this.renderAttrs\r\n    const labelCenter = [center[0], center[1] * 1.25]\r\n    const ticks = this.ticks\r\n    const tickLine = this.isStyleExist('tickLine')\r\n    const tickText = this.isStyleExist('tickText')\r\n    const realTitle = title || percent\r\n\r\n    let gradientColor = null // 默认使用内置的渐变配色方案\r\n\r\n    if (_useBuiltInColors !== false) {\r\n      const colors = this.theme.colors.reverse()\r\n      const gradientOpt = {\r\n        vector: [0, 0, center[0] * 2, center[1] * 2],\r\n        colors: [\r\n          { color: colors[0], offset: 0 },\r\n          { color: colors[1], offset: 0.3 },\r\n          { color: colors[2], offset: 1 }\r\n        ]\r\n      }\r\n      gradientColor = new Gradient(gradientOpt)\r\n    }\r\n\r\n    let maxTickTextFontSize = 16\r\n    if (tickText !== false) {\r\n      ticks.map((tick, j) => {\r\n        const style = this.style('tickText')(data, data.dataOrigin, j)\r\n        if (style && style.fontSize) {\r\n          if (jsType(style.fontSize) === 'number' && maxTickTextFontSize < style.fontSize) {\r\n            maxTickTextFontSize = style.fontSize\r\n          }\r\n          if (jsType(style.fontSize) === 'string') {\r\n            const realSize = Number(style.fontSize.replace('px', ''))\r\n            if (jsType(realSize) === 'number' && maxTickTextFontSize < realSize) {\r\n              maxTickTextFontSize = realSize\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n    const gPos = [clientRect.left, clientRect.top]\r\n    const gSize = [clientRect.width, clientRect.height]\r\n\r\n    const gAnimation = {\r\n      from: { pos: this.oldPos ? this.oldPos : gPos },\r\n      to: { pos: gPos }\r\n    }\r\n    this.oldPos = gPos\r\n    return (\r\n      <Group pos={gPos} size={gSize} animation={gAnimation}>\r\n        <Arc\r\n          pos={center}\r\n          lineWidth={lineWidth}\r\n          lineCap={lineCap}\r\n          startAngle={startAngle}\r\n          endAngle={endAngle}\r\n          strokeColor={strokeBgcolor}\r\n          radius={radius}\r\n          zIndex={10}\r\n        />\r\n        <Arc\r\n          pos={center}\r\n          lineCap={lineCap}\r\n          lineWidth={lineWidth}\r\n          {...data}\r\n          animation={this.gaugeAnimations}\r\n          {...(gradientColor ? { strokeColor: gradientColor } : { strokeColor: this.color(0) })}\r\n          {...this.style('arc')(data, data.dataOrigin, 0)}\r\n          zIndex={11}\r\n        />\r\n        {this.renderPointer(data, maxTickTextFontSize)}\r\n        {realTitle ? (\r\n          <Label\r\n            text={jsType(realTitle) === 'function' ? realTitle(data.dataOrigin) : realTitle}\r\n            pos={labelCenter}\r\n            textAlign=\"center\"\r\n            zIndex={10}\r\n            anchor={[0.5, 1]}\r\n            {...this.style('title')(data, data.dataOrigin, 0)}\r\n          />\r\n        ) : null}\r\n        {tickLine !== false || tickText !== false\r\n          ? ticks.map((tick, j) => (\r\n              <Group pos={center} anchor={[0, 0]} zIndex={1010}>\r\n                {tickLine !== false ? (\r\n                  <Polyline\r\n                    points={tick.points}\r\n                    strokeColor={strokeBgcolor}\r\n                    {...this.style('tickLine')(data, data.dataOrigin, j)}\r\n                  />\r\n                ) : null}\r\n                {tickText !== false ? (\r\n                  <Label {...tick.label} {...this.style('tickText')(data, data.dataOrigin, j)} />\r\n                ) : null}\r\n              </Group>\r\n            ))\r\n          : null}\r\n      </Group>\r\n    )\r\n  }\r\n\r\n  rendered() {\r\n    this.on('resize', () => this.forceUpdate())\r\n  }\r\n}\r\n\r\nexport default Gauge\r\n","import { Group, Arc } from 'spritejs'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\n\r\n// 数据拷贝\r\nconst flattern = (arr) => [].concat.apply([], arr)\r\n\r\nclass RadialBar extends BaseVisual {\r\n  constructor(attrs = {}) {\r\n    super(attrs)\r\n    this.type = 'RadialBar'\r\n    this.animators = []\r\n    this.oldPos = null\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'radialBar',\r\n      radius: 0.8,\r\n      innerRadius: 0,\r\n      startAngle: -90,\r\n      endAngle: 270,\r\n      lineWidth: 5,\r\n      strokeBgcolor: '#f5f5f5'\r\n    }\r\n  }\r\n\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    const { clientRect } = attrs\r\n    const size = [clientRect.width, clientRect.height]\r\n    return {\r\n      ...attrs,\r\n      size\r\n    }\r\n  }\r\n\r\n  get maxOuterRadius() {\r\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\r\n    const [width, height] = size\r\n\r\n    if (endAngle - startAngle === 90) {\r\n      return Math.min(width, height) * radius\r\n    } else {\r\n      return (Math.min(width, height) / 2) * radius\r\n    }\r\n  }\r\n\r\n  get center() {\r\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\r\n    const angle = (endAngle + startAngle) / 2\r\n    const [width, height] = size\r\n    const maxRadius = this.maxOuterRadius\r\n    let [x, y] = [width / 2 - maxRadius, height / 2 - maxRadius]\r\n\r\n    if (endAngle - startAngle === 90) {\r\n      // 区分象限\r\n      const cos = Math.cos(angle)\r\n      const sin = Math.sin(angle)\r\n      const maxWidth = radius * width\r\n      const maxHeight = radius * height\r\n      x += cos < 0 ? maxWidth / 2 : -(maxWidth / 2)\r\n      y += sin < 0 ? maxHeight / 2 : -(maxHeight / 2)\r\n    }\r\n\r\n    return [x, y]\r\n  }\r\n\r\n  get innerRadius() {\r\n    let { radius, innerRadius } = this.renderAttrs\r\n    return innerRadius <= 0 ? 0 : (this.maxOuterRadius / radius) * innerRadius\r\n  }\r\n\r\n  transform(data) {\r\n    const { startAngle, endAngle, max, min, lineWidth, colors } = this.renderAttrs\r\n    let total = 0\r\n    if (!isNaN(max) && !isNaN(min)) {\r\n      total = max - min\r\n    } else {\r\n      let cloneData = deepObjectMerge(data)\r\n      cloneData.sort((a, b) => b.value - a.value)\r\n      total = cloneData[0].value * 1.3\r\n    }\r\n    const angle = endAngle - startAngle\r\n    const innerRadius = this.innerRadius\r\n    const outerRadius = this.maxOuterRadius\r\n    const arcOffset = 0.5\r\n    const len = data.length\r\n    const perRadius =\r\n      ((outerRadius - innerRadius) * 2 - lineWidth * (lineWidth >= 5 ? 1 : len - 1)) / ((len * 2 - 1) * (1 + arcOffset))\r\n    let value = null\r\n\r\n    data.forEach((d, i) => {\r\n      value = +d.value\r\n\r\n      let endAngle = startAngle\r\n      if (d.state !== 'disabled') {\r\n        endAngle = startAngle + (angle * value) / total\r\n      }\r\n      // spriteJS bug, 起始角度差为360的时候位置会发生偏差\r\n      if (endAngle - startAngle > 359.9) {\r\n        endAngle = 359.9 + startAngle\r\n      }\r\n\r\n      d.pos = [outerRadius, outerRadius]\r\n      d.anchor = [0.5, 0.5]\r\n      d.lineWidth = lineWidth\r\n      d.startAngle = startAngle\r\n      d.endAngle = endAngle\r\n      d.innerRadius = innerRadius + i * (1 + arcOffset) * perRadius\r\n      d.radius = d.innerRadius + 1 * perRadius\r\n      d.strokeColor = colors[i]\r\n\r\n      const normalStyle = this.style('arc')(d, d.dataOrigin, d.index)\r\n\r\n      Object.assign(d, normalStyle)\r\n    })\r\n    // 半径大的在底，小的在上，这样事件触发才正常\r\n    return data.sort((a, b) => b.radius - a.radius)\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const { startAngle } = this.renderAttrs\r\n    let data = flattern(this.dataset)\r\n    data = this.transform(data)\r\n    this.animators = data.map((d) => ({\r\n      from: {\r\n        startAngle,\r\n        endAngle: startAngle\r\n      },\r\n      to: {\r\n        startAngle,\r\n        endAngle: d.endAngle\r\n      }\r\n    }))\r\n    return data\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const { startAngle } = this.renderAttrs\r\n    let data = flattern(this.dataset)\r\n    data = this.transform(data)\r\n    this.animators = data.map((d, i) => {\r\n      if (d.anticlockwise) {\r\n        return d.disabled ? { from: { opacity: 1 }, to: { opacity: 0 } } : { from: { opacity: 1 }, to: { opacity: 1 } }\r\n      } else {\r\n        let prev = this.animators[i] ? this.animators[i].to : data[i - 1]\r\n\r\n        if (!prev) {\r\n          prev = {\r\n            startAngle: startAngle,\r\n            endAngle: startAngle\r\n          }\r\n        }\r\n\r\n        return {\r\n          from: {\r\n            startAngle: prev.startAngle,\r\n            endAngle: prev.endAngle\r\n          },\r\n          to: {\r\n            startAngle: d.startAngle,\r\n            endAngle: d.endAngle\r\n          }\r\n        }\r\n      }\r\n    })\r\n    return data\r\n  }\r\n\r\n  onMouseenter(event, el) {\r\n    const { col, row } = el.children[1].attributes\r\n    this.dataset.forEach((item) => {\r\n      item.state = item.col === col && item.row === row ? 'hover' : 'default'\r\n    })\r\n  }\r\n\r\n  onMouseleave() {\r\n    this.dataset.resetState()\r\n  }\r\n\r\n  render(data = []) {\r\n    const { strokeBgcolor } = this.renderAttrs\r\n    const gAnimation = {\r\n      from: { pos: this.oldPos ? this.oldPos : this.center },\r\n      to: { pos: this.center }\r\n    }\r\n    this.oldPos = this.center\r\n    return (\r\n      <Group>\r\n        {data.map((d, i) => {\r\n          const { col, row, data } = d\r\n          return (\r\n            <Group\r\n              pos={this.center}\r\n              animation={gAnimation}\r\n              onMouseenter={this.onMouseenter}\r\n              onMousemove={this.onMouseenter}\r\n              onMouseleave={this.onMouseleave}\r\n            >\r\n              <Arc {...d} startAngle={0} endAngle={360} strokeColor={strokeBgcolor} />\r\n              <Arc\r\n                pos={this.center}\r\n                {...{ ...d, col, row }}\r\n                animation={this.animators[i]}\r\n                {...this.style('arc')(d, data, i)}\r\n              />\r\n            </Group>\r\n          )\r\n        })}\r\n      </Group>\r\n    )\r\n  }\r\n\r\n  rendered() {}\r\n}\r\n\r\nexport default RadialBar\r\n","import Base from './Base'\r\nimport theme from '../theme/default'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nexport default class BasePlugin extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.theme = theme.plugins[this.constructor.name]\r\n    //如果当前对象设置了theme，不继承theme\r\n    this.theme.set = obj => {\r\n      if (this.theme === theme.visuals[this.constructor.name]) {\r\n        this.theme = filterClone(this.theme)\r\n      }\r\n      this.theme = deepObjectMerge(this.theme, obj)\r\n    }\r\n  }\r\n}\r\n","import { scaleLinear } from '../../utils/scaleLinear'\r\nimport { axis } from '../../utils/axis'\r\nimport { emptyObject } from '@qcharts/utils'\r\nexport default function layout(arr, attrs) {\r\n  let res = {\r\n    scales: [],\r\n    labels: [],\r\n    grids: [],\r\n    axisPoints: [],\r\n    orient: attrs.orient\r\n  }\r\n  let defaultAttrs = {\r\n    top: {\r\n      label: {\r\n        anchor: [0.5, 1],\r\n        padding: [0, 0, 6, 0],\r\n        textAlign: 'center'\r\n      },\r\n      scale: {\r\n        anchor: [0.5, 1],\r\n        width: 1,\r\n        height: 4\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'category'\r\n    },\r\n    bottom: {\r\n      scale: {\r\n        anchor: [0.5, 0],\r\n        width: 1,\r\n        height: 4\r\n      },\r\n      label: {\r\n        anchor: [0.5, 0],\r\n        padding: [6, 0, 0, 0],\r\n        textAlign: 'center'\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'category'\r\n    },\r\n    left: {\r\n      label: {\r\n        padding: [0, 8, 0, 0],\r\n        anchor: [1, 0.5],\r\n        textAlign: 'right'\r\n      },\r\n      scale: {\r\n        anchor: [1, 0.5],\r\n        width: 4,\r\n        height: 1\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'value'\r\n    },\r\n    right: {\r\n      label: {\r\n        anchor: [0, 0.5],\r\n        padding: [0, 0, 0, 8]\r\n      },\r\n      scale: {\r\n        anchor: [0, 0.5],\r\n        width: 4,\r\n        height: 1\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'value'\r\n    }\r\n  }\r\n  const { stack, splitNumber, clientRect, orient, axisGap, transpose } = attrs\r\n  if (transpose) {\r\n    ;['top', 'bottom', 'right', 'left'].forEach(str => {\r\n      defaultAttrs[str].type = defaultAttrs[str].type === 'value' ? 'category' : 'value'\r\n    })\r\n  }\r\n  const { width, height } = clientRect\r\n  let scales = axis.call(this, {\r\n    dataSet: arr,\r\n    stack,\r\n    splitNumber\r\n    // needReverse: true,\r\n  })\r\n  let maxVal = Math.max.apply(this, scales)\r\n  let minVal = Math.min.apply(this, scales)\r\n  let type = attrs.type || defaultAttrs[orient].type\r\n  let distance = orient === 'left' || orient === 'right' ? height : width\r\n  let datasetReverse = this.dataset.datasetReverse\r\n  if (type === 'value') {\r\n    let scaleFY = scaleLinear()\r\n      .domain([minVal, maxVal])\r\n      .range([0, distance])\r\n    scales.forEach(num => {\r\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(\r\n        defaultAttrs,\r\n        orient,\r\n        {\r\n          text: '' + typeof datasetReverse === 'function' ? datasetReverse(num) : num\r\n        },\r\n        num,\r\n        scaleFY,\r\n        clientRect\r\n      )\r\n      res.scales.push(scaleAttr)\r\n      res.labels.push(labelAttr)\r\n      res.grids.push(gridAttr)\r\n    })\r\n  } else if (type === 'category') {\r\n    let curArr = arr[0]\r\n    let len = axisGap ? curArr.length : curArr.length - 1\r\n    let scaleFY = scaleLinear()\r\n      .domain([0, len])\r\n      .range([0, distance])\r\n    curArr.forEach((cell, ind) => {\r\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, cell, ind, scaleFY, clientRect, axisGap)\r\n      res.scales.push(scaleAttr)\r\n      res.labels.push(labelAttr)\r\n      res.grids.push(gridAttr)\r\n    })\r\n    if (axisGap) {\r\n      // 如果是axisGap为true，需要添加一个点\r\n      let { scaleAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, {}, curArr.length, scaleFY, clientRect, axisGap)\r\n      res.scales.push(scaleAttr)\r\n      res.grids.push(gridAttr)\r\n    }\r\n  }\r\n  if (orient === 'left' || orient === 'right') {\r\n    let dx = orient === 'left' ? 0 : width\r\n    res.axisPoints = [\r\n      [dx, height],\r\n      [dx, 0]\r\n    ]\r\n    res.nameAttr = { pos: [dx, 0], anchor: [0.5, 1], padding: [10] }\r\n  } else if (orient === 'bottom' || orient === 'top') {\r\n    let dy = orient === 'bottom' ? height : 0\r\n    res.axisPoints = [\r\n      [0, dy],\r\n      [width, dy]\r\n    ]\r\n    res.nameAttr = { pos: [width, dy], anchor: [0, 1] }\r\n  }\r\n  return res\r\n}\r\nfunction getItemAttrs(defaultAttrs, orient, cell, value, scaleF, clientRect, axisGap) {\r\n  let res = emptyObject()\r\n  let { width, height, left, top } = clientRect\r\n  let labelPosValue = axisGap ? value + 0.5 : value\r\n  if (orient === 'left' || orient === 'right') {\r\n    let x = orient === 'left' ? 0 : width\r\n    let yv = scaleF(value)\r\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [x, height - yv] }\r\n    res.gridAttr = {\r\n      ...defaultAttrs[orient].grid,\r\n      points: [\r\n        [x, height - yv],\r\n        [width, height - yv]\r\n      ]\r\n    }\r\n    res.labelAttr = {\r\n      ...defaultAttrs[orient].label,\r\n      width: left,\r\n      text: '' + cell.text,\r\n      pos: [x, height - scaleF(labelPosValue)]\r\n    }\r\n  } else if (orient === 'top' || orient === 'bottom') {\r\n    let y = orient === 'top' ? 0 : height\r\n    let xv = scaleF(value)\r\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [xv, y] }\r\n    res.gridAttr = {\r\n      ...defaultAttrs[orient].grid,\r\n      points: [\r\n        [xv, 0],\r\n        [xv, y]\r\n      ]\r\n    }\r\n    res.labelAttr = {\r\n      ...defaultAttrs[orient].label,\r\n      width: left,\r\n      text: '' + cell.text,\r\n      pos: [scaleF(labelPosValue), y]\r\n    }\r\n  }\r\n  return res\r\n}\r\n","import Base from '../../base/BasePlugin'\r\nimport { Group, Label, Polyline, Node } from 'spritejs'\r\nimport { emptyObject } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nimport layout from './layout'\r\nimport { getStyle } from '../../utils/getStyle'\r\nclass Axis extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderAxis = emptyObject()\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    let targetVisual = this.chart.visuals[0]\r\n    if (attrs.axisGap === undefined && targetVisual && targetVisual.constructor.name === 'Bar') {\r\n      //如果axisGap没有赋值\r\n      //如果是柱状图\r\n      attrs.axisGap = true\r\n    }\r\n    if (targetVisual && targetVisual.constructor.name === 'Scatter') {\r\n      attrs.type = 'value'\r\n    }\r\n    if (attrs.transpose === undefined && targetVisual) {\r\n      //坐标轴转换\r\n      attrs.transpose = targetVisual.renderAttrs.transpose\r\n    }\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    let { axis } = this.getRenderData()\r\n    return axis\r\n  }\r\n  beforeUpdate() {\r\n    let { axis } = this.getRenderData()\r\n    return axis\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'axis',\r\n      zIndex: -1,\r\n      formatter: e => e\r\n    }\r\n  }\r\n  //defaultStyles() {}\r\n  getRenderData() {\r\n    //根据axis的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    let axis = layout.call(this, renderData, renderAttrs)\r\n    return { axis }\r\n  }\r\n  render(axis) {\r\n    let oldAxis = this.renderAxis || emptyObject()\r\n    this.renderAxis = axis\r\n    let { clientRect, formatter, orient, name } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    let axisStyle = getStyle(this, 'axis', styles.axis)\r\n    //当前主体颜色\r\n    let arrOrient = this.chart.plugins\r\n      .map(plugin => {\r\n        if (plugin.constructor.name === 'Axis') {\r\n          return plugin.renderAttrs.orient\r\n        }\r\n      })\r\n      .filter(Boolean)\r\n    let nameStyle = getStyle(this, 'name', [styles.name || {}, filterClone(axis.nameAttr, [], ['pos'])])\r\n    let oldPos = (oldAxis.nameAttr && oldAxis.nameAttr.pos) || axis.nameAttr.pos\r\n    let nameAni = { from: { pos: oldPos }, to: { pos: axis.nameAttr.pos } }\r\n    return (\r\n      <Group ref=\"wrap\" pos={[clientRect.left, clientRect.top]}>\r\n        <Polyline\r\n          {...axisStyle}\r\n          animation={{\r\n            from: { points: oldAxis.axisPoints },\r\n            to: { points: axis.axisPoints }\r\n          }}\r\n        ></Polyline>\r\n        <Group>\r\n          {axis.grids.map((grid, ind) => {\r\n            let fromPoints = (oldAxis.grids && oldAxis.grids[ind] && oldAxis.grids[ind].points) || grid.points\r\n            let ani = {\r\n              from: { points: fromPoints },\r\n              to: { points: grid.points }\r\n            }\r\n            let style = getStyle(this, 'grid', styles.grid, [ind])\r\n            if (orient === 'left' || orient === 'right') {\r\n              if ((ind === 0 && arrOrient.includes('bottom')) || (ind === axis.grids.length - 1 && arrOrient.includes('top'))) {\r\n                return <Node />\r\n              }\r\n            } else if (orient === 'top' || orient === 'bottom') {\r\n              if ((ind === 0 && arrOrient.includes('left')) || (ind === axis.grids.length - 1 && arrOrient.includes('right'))) {\r\n                return <Node />\r\n              }\r\n            }\r\n            return style === false ? <Node /> : <Polyline {...style} points={ani.from.points} animation={ani} />\r\n          })}\r\n          {axis.scales.map((scale, ind) => {\r\n            let fromPos = (oldAxis.scales && oldAxis.scales[ind] && oldAxis.scales[ind].pos) || scale.pos\r\n            let ani = { from: { pos: fromPos }, to: { pos: scale.pos } }\r\n            // 排除pos属性，pos属性用来处理动画，其它属性直接赋值\r\n            let style = getStyle(this, 'scale', styles.scale, [scale, ind])\r\n            return style === false ? <Node /> : <Group {...filterClone(scale, [], ['pos'])} {...style} animation={ani}></Group>\r\n          })}\r\n          {axis.labels.map((label, ind) => {\r\n            let fromPos = (oldAxis.labels && oldAxis.labels[ind] && oldAxis.labels[ind].pos) || label.pos\r\n            let style = getStyle(this, 'label', styles.label, [label, ind])\r\n            let ani = { from: { pos: fromPos }, to: { pos: label.pos } }\r\n            return style === false ? <Node /> : <Label {...filterClone(label, [], ['pos', 'text'])} {...style} text={formatter(label.text)} animation={ani}></Label>\r\n          })}\r\n        </Group>\r\n        {nameStyle === false || name === undefined || name.length === 0 ? <Node /> : <Label {...nameStyle} text={name} animation={nameAni} />}\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Axis\r\n","import Base from '../../base/BasePlugin'\r\nimport { Group, Path, Label } from 'spritejs'\r\nimport { getStyle } from '../../utils/getStyle'\r\nimport Point from '../../utils/Point'\r\nclass Legend extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.arrLayout = null\r\n    this.state = {\r\n      page: 1,\r\n      totalPage: 1,\r\n      perPageWidthOrHeight: 0, // 每页长度（或宽度）\r\n      paginationSize: [0, 0], // 分页控件大小\r\n      groupSize: [0, 0] // legends 容器大小\r\n    }\r\n    this.twiceRender = false\r\n    this.animationSwitch = false\r\n    this.posFrom = [0, 0]\r\n    this.currentPos = [0, 0]\r\n    this.legendStateArray = []\r\n    this.lineCounter = 0 //在scroll属性为false的情况下计算legend的行数(或列数)\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  defaultAttrs() {\r\n    return {\r\n      orient: 'horizontal', // 布局方式， vertical | horizontal\r\n      align: ['center', 'bottom'], // 水平方向布局，left | center | right, 垂直方向布局，top | center | bottom\r\n      formatter: d => d.value || d,\r\n      iconSize: [12, 12],\r\n      textSize: [40, 12],\r\n      scroll: true,\r\n      outGap: 10,\r\n      innerGap: 4,\r\n      lineGap: 5,\r\n      formatter: d => d.text || d,\r\n      padding: 2\r\n    }\r\n  }\r\n  get pos() {\r\n    const { clientRect, align, padding } = this.renderAttrs\r\n    let groupSize = this.state.groupSize\r\n    let { width, height, top, left, right, bottom } = clientRect\r\n    let canvasWidth = width + left + right\r\n    let canvasHeight = height + top + bottom\r\n    this.state.paginationSize = this.isVertical ? [30, 60] : [70, 25]\r\n\r\n    const isValidLayout = (value, type) => {\r\n      if (type === 'horizontal') {\r\n        // 水平布局\r\n        return ['default', 'left', 'center', 'right'].indexOf(value) > -1\r\n      } else {\r\n        // 垂直布局\r\n        return ['default', 'top', 'center', 'bottom'].indexOf(value) > -1\r\n      }\r\n    }\r\n\r\n    const hLocation = {\r\n      // 水平定位\r\n      default: 0,\r\n      left: padding,\r\n      center: (canvasWidth - groupSize[0]) / 2,\r\n      right: canvasWidth - groupSize[0] - padding,\r\n      numberOrPercent(num) {\r\n        // 输入 数字或百分比\r\n        if (typeof num === 'number') {\r\n          return num\r\n        } else {\r\n          let val = 0\r\n          try {\r\n            val = parseFloat(num) / 100\r\n          } catch (e) {}\r\n          return (canvasWidth - groupSize[0]) * val\r\n        }\r\n      }\r\n    }\r\n\r\n    const vLocation = {\r\n      // 垂直定位\r\n      default: 0,\r\n      top: padding,\r\n      center: canvasHeight / 2 - groupSize[1] / 2,\r\n      bottom: canvasHeight - groupSize[1] - padding,\r\n      numberOrPercent(num) {\r\n        // 输入 数字或百分比\r\n        if (typeof num === 'number') {\r\n          return num\r\n        } else {\r\n          let val = 0\r\n\r\n          try {\r\n            val = parseFloat(num) / 100\r\n          } catch (e) {}\r\n          return (canvasHeight - groupSize[1]) * val\r\n        }\r\n      }\r\n    }\r\n    let pos = [isValidLayout(align[0], 'horizontal') ? hLocation[align[0]] : hLocation.numberOrPercent(align[0]), isValidLayout(align[1], 'vertical') ? vLocation[align[1]] : vLocation.numberOrPercent(align[1])]\r\n    let pagePos\r\n    let totalPageX = Math.ceil(this.state.groupSize[0] / canvasWidth)\r\n    let totalPageY = Math.ceil(this.state.groupSize[1] / canvasHeight)\r\n    let paginationSize = this.state.paginationSize\r\n    let pagePrev, pageText, pageNext\r\n    if (totalPageX > 1) {\r\n      this.state.totalPage = totalPageX\r\n      let pagePosY = pos[1] + groupSize[1] + paginationSize[1] > canvasHeight ? pos[1] - paginationSize[1] : pos[1] + groupSize[1]\r\n      pagePos = [canvasWidth - paginationSize[0], pagePosY]\r\n      pagePrev = [0, 0]\r\n      pageText = [15, 0]\r\n      pageNext = [45, 0]\r\n      pos[0] = -(this.state.page - 1) * canvasWidth\r\n    } else if (totalPageY > 1) {\r\n      this.state.totalPage = totalPageY\r\n      let pagePosX = pos[0] + groupSize[0] + paginationSize[0] > canvasWidth ? pos[0] - paginationSize[0] : pos[0] + groupSize[0]\r\n      pagePos = [pagePosX, canvasHeight - paginationSize[1]]\r\n      pagePrev = [5, 0]\r\n      pageText = [0, 20]\r\n      pageNext = [5, 40]\r\n      pos[1] = -(this.state.page - 1) * canvasHeight\r\n    } else {\r\n      this.state.page = 1\r\n      this.state.totalPage = 1\r\n    }\r\n    return {\r\n      pos: pos,\r\n      pagePos: { pos: pagePos, pagePrev, pageText, pageNext }\r\n    }\r\n  }\r\n\r\n  get isVertical() {\r\n    return this.renderAttrs.orient === 'vertical'\r\n  }\r\n  beforeRender() {\r\n    if (this.twiceRender) {\r\n      this.reset()\r\n    } else {\r\n      this.arrLayout = this.getRenderData().arrLayout\r\n    }\r\n    return this.arrLayout\r\n  }\r\n\r\n  getRenderData() {\r\n    let { layoutBy, innerGap } = this.renderAttrs\r\n    let renderData = this.dataset[layoutBy].map((item, index) => {\r\n      this.legendStateArray.push(item.state)\r\n      return {\r\n        name: item.name,\r\n        state: item.state\r\n      }\r\n    })\r\n    let arrLayout = renderData.map(item => {\r\n      return {\r\n        textAttrs: {\r\n          text: item.name,\r\n          paddingLeft: innerGap\r\n        }\r\n      }\r\n    })\r\n    this.arrLayout = arrLayout\r\n    return { arrLayout }\r\n  }\r\n  itemClick(e, el) {\r\n    const ind = el.attr('_index')\r\n    let state = this.dataset[this.renderAttrs.layoutBy][ind].state\r\n    state = state !== 'disabled' ? 'disabled' : 'default'\r\n    this.dataset[this.renderAttrs.layoutBy][ind].state = state\r\n  }\r\n  itemLeave(e, el) {\r\n    const ind = el.attr('_index')\r\n    this.legendStateArray[ind] = 'default'\r\n    this.update()\r\n  }\r\n  itemMove(e, el) {\r\n    const ind = el.attr('_index')\r\n    if (this.legendStateArray[ind] === 'default') {\r\n      this.legendStateArray[ind] = 'hover'\r\n      this.update()\r\n    }\r\n  }\r\n  beforeUpdate(params) {\r\n    if (params && params.type === 'source') {\r\n      this.animationSwitch = true\r\n      this.twiceRender = false\r\n      return this.beforeRender()\r\n    } else {\r\n      if (params && params.type === 'resize') {\r\n        this.animationSwitch = true\r\n      }\r\n      return this.arrLayout\r\n    }\r\n  }\r\n\r\n  rendered() {\r\n    // console.log(\"rendered\");\r\n  }\r\n\r\n  afterrender(e, el) {\r\n    if (this.twiceRender) {\r\n      this.animationSwitch = false\r\n      return\r\n    }\r\n    this.twiceRender = true\r\n    this.reset()\r\n    this.update()\r\n  }\r\n  reset() {\r\n    let { outGap, innerGap, iconSize, textSize, clientRect, lineGap, padding } = this.renderAttrs\r\n    let legendsSize = this.isVertical ? [[0, padding]] : [[padding, 0]]\r\n    let maxTextWidth = 0\r\n    let colors = this.theme.colors\r\n    let { width, height, top, left, right, bottom } = clientRect\r\n    let canvasWidth = width + left + right\r\n    let canvasHeight = height + top + bottom\r\n    this.lineCounter = 0\r\n    this.arrLayout = this.arrLayout.map((item, index) => {\r\n      item.iconAttrs = {}\r\n      let iconEl = this.$refs['icon' + index].$sprite\r\n      let iconRect = iconEl.getBoundingClientRect()\r\n      iconSize = [iconEl.width ? iconEl.width : iconSize[0], iconEl.height ? iconEl.height : iconSize[1]]\r\n      let textEl = this.$refs['text' + index]\r\n      let textRect = textEl.getBoundingClientRect()\r\n      let heightSize = iconSize[1] > textRect.height ? iconSize[1] : textRect.height\r\n      // 垂直布局下，已有的列数的width和\r\n      let lineWidth =\r\n        legendsSize.reduce((i, j) => {\r\n          return i + j[0]\r\n        }, 0) - legendsSize[this.lineCounter][0]\r\n      // 单个legend的左上角坐标\r\n      let iconPos = this.isVertical ? [lineWidth, legendsSize[this.lineCounter][1] + (textRect.height - iconSize[1]) / 2] : [legendsSize[this.lineCounter][0], (textRect.height - iconSize[1]) / 2 + this.lineCounter * (heightSize + lineGap)]\r\n      // 超过单行长度后换行\r\n      if (this.isVertical && iconPos[1] + textRect.height > canvasHeight) {\r\n        this.lineCounter++\r\n        iconPos = [iconPos[0] + legendsSize[this.lineCounter - 1][0], padding]\r\n        maxTextWidth = 0 // 换行后重置最宽legend\r\n        legendsSize.push([0, 0])\r\n      } else if (!this.isVertical && iconPos[0] + iconSize[0] + textRect.width + outGap > canvasWidth) {\r\n        this.lineCounter++\r\n        iconPos = [padding, this.lineCounter * (heightSize + lineGap)]\r\n        legendsSize.push([0, 0])\r\n      }\r\n      let iconAttrs = {\r\n        bgcolor: colors[index],\r\n        size: iconSize,\r\n        pos: [0, 0]\r\n      }\r\n      if (this.dataset[this.renderAttrs.layoutBy][index].state === 'disabled') {\r\n        iconAttrs.bgcolor = '#ccc'\r\n        iconAttrs.fillColor = '#ccc'\r\n      }\r\n      let textAttrs = {\r\n        ...item.textAttrs,\r\n        pos: this.isVertical ? [iconSize[0], 0] : [iconSize[0], 0],\r\n        text: item.textAttrs.text\r\n      }\r\n      // 单个legend的宽高\r\n      let size = [iconSize[0] + textRect.width, heightSize]\r\n      if (size[0] + outGap > maxTextWidth) {\r\n        maxTextWidth = size[0] + outGap\r\n      }\r\n      // 每个legend宽高累加\r\n      legendsSize[this.lineCounter] = this.isVertical ? [maxTextWidth, legendsSize[this.lineCounter][1] + size[1] + outGap] : [legendsSize[this.lineCounter][0] + size[0] + outGap, size[1] + lineGap]\r\n      return {\r\n        iconAttrs,\r\n        textAttrs,\r\n        groupAttrs: {\r\n          size: size,\r\n          pos: iconPos\r\n        }\r\n      }\r\n    })\r\n    this.state.groupSize = this.isVertical\r\n      ? [\r\n          legendsSize.reduce((i, j) => {\r\n            return i + j[0]\r\n          }, 0),\r\n          this.lineCounter === 0 ? legendsSize[0][1] : canvasHeight\r\n        ]\r\n      : [this.lineCounter === 0 ? legendsSize[0][0] : canvasWidth, (this.lineCounter + 1) * legendsSize[0][1]]\r\n  }\r\n  // changePage(e, el) {\r\n  //   if (el.name === \"prev\" && this.state.page > 1) {\r\n  //     this.state.page--\r\n  //     this.animationSwitch = true\r\n  //     this.update()\r\n  //   } else if (el.name === \"next\" && this.state.page < this.state.totalPage) {\r\n  //     this.state.page++\r\n  //     this.animationSwitch = true\r\n  //     this.update()\r\n  //   }\r\n  // }\r\n  render(arr) {\r\n    this.posFrom = this.currentPos\r\n    const { pos, pagePos } = this.pos\r\n    this.posFrom = this.twiceRender && this.animationSwitch ? this.posFrom : pos\r\n    const { page, totalPage } = this.state\r\n    this.currentPos = pos\r\n    const styles = this.renderStyles\r\n    const isVertical = this.isVertical\r\n    if (this.twiceRender) {\r\n      pos[0] = pos[0] - 1\r\n    }\r\n    const { formatter } = this.renderAttrs\r\n    if (arr) {\r\n      return (\r\n        <Group size={[1, 1]} onAfterrender={this.afterrender}>\r\n          <Group\r\n            animation={{\r\n              from: { pos: this.posFrom },\r\n              to: { pos: pos },\r\n              duration: this.twiceRender && this.animationSwitch ? this.renderAttrs.animation.duration : 0\r\n            }}\r\n            // pos={pos}\r\n          >\r\n            {arr.map((attrs, ind) => {\r\n              let cell = this.dataset[this.renderAttrs.layoutBy][ind]\r\n              let hover = this.legendStateArray[ind] === 'hover'\r\n              let disabled = cell.state === 'disabled'\r\n              let style = getStyle(this, 'point', [{}, styles.point], [cell, ind])\r\n\r\n              let hoverStyle = hover ? getStyle(this, 'point:hover', [{}], [cell, ind]) : {}\r\n\r\n              if (disabled && attrs.iconAttrs && attrs.iconAttrs.bgcolor) {\r\n                hoverStyle.bgcolor = '#ccc'\r\n                hoverStyle.fillColor = '#ccc'\r\n              }\r\n              let textStyle = getStyle(this, 'text', [{}, styles.text], [cell, ind])\r\n              let textHoverStyle = hover ? getStyle(this, 'text:hover', [{}], [cell, ind]) : {}\r\n\r\n              attrs.textAttrs.text = formatter(cell.name || '', cell.data, ind)\r\n              return (\r\n                <Group onClick={this.itemClick} onMouseleave={this.itemLeave} onMouseenter={this.itemMove} onMousemove={this.itemMove} {...{ _index: ind }} {...attrs.groupAttrs}>\r\n                  <Point {...{ ref: 'icon' + ind }} {...attrs.iconAttrs} {...style} {...hoverStyle} />\r\n                  <Label {...{ ref: 'text' + ind }} {...attrs.textAttrs} {...textStyle} {...textHoverStyle} />\r\n                </Group>\r\n              )\r\n            })}\r\n          </Group>\r\n\r\n          {/* {totalPage<=1 ? null : (\r\n            <Group pos={pagePos.pos}>\r\n              <Path\r\n                pos={pagePos.pagePrev}\r\n                {...(isVertical ? { marginLeft: 5 } : {})}\r\n                name={\"prev\"}\r\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\r\n                d={\r\n                  isVertical\r\n                    ? \"M 0 15 L 15 15 L7.5 0 Z\"\r\n                    : \"M 0 7.5 L 13 0 L13 15 Z\"\r\n                }\r\n                fillColor={page <= 1 ? \"#ccc\" : \"#324556\"}\r\n                onClick={this.changePage}\r\n              />\r\n              <Label\r\n                pos={pagePos.pageText}\r\n                ref=\"paginationText\"\r\n                fontSize=\"14px\"\r\n                text={page + \"/\" + totalPage + \"\"}\r\n                lineBreak=\"normal\"\r\n                padding={isVertical ? [0, 2] : [0, 2]}\r\n              />\r\n\r\n              <Path\r\n                pos={pagePos.pageNext}\r\n                {...(isVertical ? { marginLeft: 5 } : {})}\r\n                name={\"next\"}\r\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\r\n                d={\r\n                  isVertical\r\n                    ? \"M 0 0 L 15 0 L7.5 13 Z\"\r\n                    : \"M 13 7.5 L 0 0 L0 15 Z\"\r\n                }\r\n                fillColor={page >= totalPage ? \"#ccc\" : \"#324556\"}\r\n                onClick={this.changePage}\r\n              />\r\n            </Group>\r\n          )} */}\r\n        </Group>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default Legend\r\n\r\n// reset() {\r\n//   let legendsSize = [0, 0]\r\n//   let { outGap, innerGap, iconSize, textSize } = this.renderAttrs\r\n//   let maxTextWidth = 0\r\n//   let colors = this.theme.colors\r\n//   this.arrLayout = this.arrLayout.map((item, index) => {\r\n//     item.iconAttrs = {}\r\n//     let iconEl = this.$refs[\"icon\" + index]\r\n//     let iconRect = iconEl.getBoundingClientRect()\r\n//     let textEl = this.$refs[\"text\" + index]\r\n//     let textRect = textEl.getBoundingClientRect()\r\n//     let iconAttrs = {\r\n//       bgcolor: colors[index],\r\n//       size: iconSize,\r\n//       pos: this.isVertical\r\n//         ? [0, legendsSize[1] + (textRect.height - iconSize[1]) / 2]\r\n//         : [legendsSize[0], (textRect.height - iconSize[1]) / 2],\r\n//     }\r\n//     if (this.dataset[this.renderAttrs.layoutBy][index].state === \"disabled\") {\r\n//       iconAttrs.bgcolor = \"#ccc\"\r\n//       iconAttrs.fillColor = \"#ccc\"\r\n//     }\r\n//     let textAttrs = {\r\n//       ...item.textAttrs,\r\n//       pos: this.isVertical\r\n//         ? [iconSize[0], legendsSize[1]]\r\n//         : [iconSize[0] + legendsSize[0], 0],\r\n//       text: item.textAttrs.text,\r\n//     }\r\n//     let size = [iconSize[0] + textRect.width, iconSize[1]]\r\n//     if (size[0] + outGap > maxTextWidth) {\r\n//       maxTextWidth = size[0] + outGap\r\n//     }\r\n//     legendsSize = this.isVertical\r\n//       ? [maxTextWidth, legendsSize[1] + textRect.height + outGap]\r\n//       : [legendsSize[0] + size[0] + outGap, textRect.height]\r\n//     return { iconAttrs, textAttrs }\r\n//   })\r\n//   this.state.groupSize = legendsSize\r\n// }\r\n","import Base from '../../base/BasePlugin'\r\nimport { throttle } from '@qcharts/utils'\r\nimport { getStyle } from '../../utils/getStyle'\r\nclass Tooltip extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.$el = null\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {}\r\n  beforeUpdate() {}\r\n  tipMousemove = throttle(\r\n    e => {\r\n      let maxLeft = window.innerWidth - this.$el.getBoundingClientRect().width - 5\r\n      let maxTop = window.innerHeight - this.$el.getBoundingClientRect().height - 5\r\n      let tarTop = e.y > maxTop ? maxTop : e.y\r\n      let tarLeft = e.x > maxLeft ? maxLeft : e.x\r\n      this.$el.style.left = tarLeft + 'px'\r\n      this.$el.style.top = tarTop + 'px'\r\n    },\r\n    100,\r\n    1\r\n  )\r\n  rendered() {\r\n    let { colors, sort, formatter, title } = this.renderAttrs\r\n    let styles = this.renderStyles\r\n    this.chart.dataset.on('change', data => {\r\n      let { option } = data\r\n      this.$el.innerHTML = ''\r\n      if (option.value === 'hover') {\r\n        let arr = [].concat(this.chart.dataset).filter(item => item.state === 'hover')\r\n        if (sort) {\r\n          arr.sort(sort)\r\n        }\r\n        if (arr.length) {\r\n          let $div = document.createElement('div')\r\n          $div.style.cssText = 'white-space:nowrap;padding:6px 10px;background-color:rgba(0,0,0,0.5);color:#fff;'\r\n          arr.forEach((item, ind) => {\r\n            let text = `${item.text}：${item.value}`\r\n            if (formatter) {\r\n              text = formatter(item.data) || text\r\n            }\r\n            let style = getStyle(this, 'point', [{ 'background-color': colors[item.row] }, styles.point], [arr.map(item => item.data), ind])\r\n            let styleText = getStyle(this, 'text', [styles.text], [arr.map(item => item.data), ind])\r\n            let $html = document.createElement('div')\r\n            $html.className = 'tooltip-item'\r\n            $html.innerHTML = `<span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${colors[item.row]}\"></span><span class=\"text\">${text}</span>`\r\n            $div.append($html)\r\n            let $icon = $html.querySelector('.icon')\r\n            let $text = $html.querySelector('.text')\r\n            Object.assign($icon.style, style)\r\n            Object.assign($text.style, styleText)\r\n          })\r\n          if (title) {\r\n            let str = title\r\n            if (typeof title === 'function') {\r\n              let formatterData = arr.map(cell => cell.data)\r\n              str = title(formatterData)\r\n            }\r\n            let $title = document.createElement('div')\r\n            $title.className = 'tooltip-title'\r\n            $title.innerHTML = str || ''\r\n            let styleTitle = getStyle(this, 'title', [styles.title], [arr.data])\r\n            Object.assign($title.style, styleTitle)\r\n            $div.prepend($title)\r\n          }\r\n          this.$el.appendChild($div)\r\n        }\r\n      } else if (option.name === 'reset') {\r\n        this.$el.innerHTML = ''\r\n      }\r\n    })\r\n    document.body.addEventListener('mousemove', this.tipMousemove)\r\n  }\r\n  render() {\r\n    if (!this.$el) {\r\n      this.$el = document.createElement('div')\r\n      this.$el.className = 'qcharts-tooltip'\r\n      this.$el.style.cssText = 'transition:top 300ms ease-out,left 300ms ease-out;position:absolute;pointEvents:none;pointer-events:none;font-size:14px;'\r\n    }\r\n    document.body.appendChild(this.$el)\r\n  }\r\n}\r\nexport default Tooltip\r\n","import Base from './base/Base'\r\nimport { jsType, emptyObject, throttle } from '@qcharts/utils'\r\nimport { getGlobal, isWeiXin } from './base/platform'\r\nimport BaseVisual from './base/BaseVisual'\r\nimport BasePlugin from './base/BasePlugin'\r\nimport { Scene } from 'spritejs'\r\nimport { Wave, Gauge } from './index'\r\nclass Chart extends Base {\r\n  constructor(attr) {\r\n    super()\r\n    let { container } = attr\r\n    if (jsType(container) === 'string') {\r\n      container = document.querySelector(container)\r\n    }\r\n    this.$el = container\r\n    this.visuals = []\r\n    this.plugins = []\r\n    this.children = []\r\n    if (isWeiXin()) {\r\n      const { pixelUnit='rpx', size, contextType } = attr\r\n      let displayRatio = 1\r\n      if (pixelUnit === 'rpx') {\r\n        const { windowWidth } = wx.getSystemInfoSync()\r\n        displayRatio = windowWidth / 750\r\n      }\r\n      this.scene = new Scene({\r\n        width: size[0] / displayRatio,\r\n        height: size[1] / displayRatio,\r\n        extra: this,\r\n        contextType,\r\n        displayRatio\r\n      })\r\n    } else {\r\n      this.scene = new Scene({ container, displayRatio: getGlobal().devicePixelRatio })\r\n    }\r\n    this.scene.addEventListener('resize', (_) => {\r\n      //舞台变化的时候\r\n      this.checkUpdate({ type: 'resize' })\r\n    })\r\n    this.checkUpdate = throttle((args) => {\r\n      this.children.forEach((node) => {\r\n        node.update(args)\r\n      })\r\n    }, 300)\r\n    this.checkRender = throttle((_) => {\r\n      this.children.forEach((child) => {\r\n        child.created()\r\n        this.dataset.addDep(child)\r\n      })\r\n      this.__store.__isCreated__ = true\r\n      this.dispatchEvent('updated', emptyObject())\r\n    })\r\n  }\r\n  update(args) {\r\n    //图表发生更新，触发图表内组件更新\r\n    this.checkUpdate(args)\r\n  }\r\n  append(node) {\r\n    const notNeedDataSetList = [Wave, Gauge]\r\n    if (notNeedDataSetList.some((Target) => node instanceof Target)) {\r\n      //补齐dataset，wave中不用dataset\r\n      this.source([], {})\r\n    } else if (!this.dataset) {\r\n      console.error('Chart should set data before append some graphs')\r\n      return\r\n    }\r\n    if (jsType(node) === 'array') {\r\n      node.forEach((item) => {\r\n        this.append(item)\r\n      })\r\n      return\r\n    } else if (node instanceof BaseVisual) {\r\n      this.visuals.push(node)\r\n    } else if (node instanceof BasePlugin) {\r\n      this.plugins.push(node)\r\n    }\r\n    this.children.push(node)\r\n    node.chart = this\r\n    node.scene = this.scene\r\n    this.checkRender()\r\n  }\r\n  getDataURL() {\r\n    return this.scene.snapshot().toDataURL()\r\n  }\r\n}\r\n\r\nexport default Chart\r\n","import { h, easing } from '@qcharts/vnode'\r\nimport Dataset from '@qcharts/dataset'\r\nimport Line from './visuals/Line/index'\r\nimport Pie from './visuals/Pie/index'\r\nimport Area from './visuals/Area/index'\r\nimport Radar from './visuals/Radar/index'\r\nimport Bar from './visuals/Bar/index'\r\nimport PolarBar from './visuals/PolarBar/index'\r\nimport Funnel from './visuals/Funnel/index'\r\nimport Scatter from './visuals/Scatter/index'\r\nimport Wave from './visuals/Wave/index'\r\nimport Gauge from './visuals/Gauge'\r\nimport RadialBar from './visuals/RadialBar'\r\nimport Axis from './plugins/Axis/index'\r\nimport Legend from './plugins/Legend/index'\r\nimport Tooltip from './plugins/Tooltip/index'\r\nimport { getGlobal } from './base/platform'\r\nimport Chart from './Chart'\r\nimport theme from './theme/default'\r\nconst qcharts = {\r\n  version: '1.0.7',\r\n  Line,\r\n  Pie,\r\n  Area,\r\n  Radar,\r\n  Bar,\r\n  PolarBar,\r\n  Funnel,\r\n  Scatter,\r\n  Gauge,\r\n  RadialBar,\r\n  Legend,\r\n  Axis,\r\n  Wave,\r\n  Tooltip,\r\n  h,\r\n  theme,\r\n  Chart,\r\n  easing\r\n}\r\n\r\nconst global = getGlobal()\r\nglobal.qcharts = qcharts\r\n\r\nexport { Dataset, Line, Pie, Area, Wave, Radar, Tooltip, Bar, PolarBar, Funnel, Scatter, Gauge, RadialBar, Axis, Legend, Chart, h, theme, easing }\r\n\r\nexport default qcharts\r\n"],"sourceRoot":""}
>>>>>>> master
