{"version":3,"sources":["webpack://qcharts/webpack/universalModuleDefinition","webpack://qcharts/webpack/bootstrap","webpack://qcharts/external {\"root\":\"spritejs\",\"commonjs2\":\"spritejs/dist/spritejs.min.js\",\"commonjs\":\"spritejs/dist/spritejs.min.js\",\"amd\":\"spritejs\",\"umd\":\"spritejs\"}","webpack://qcharts/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/extends.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/get.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/inherits.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/createClass.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://qcharts/./node_modules/filter-clone/lib/index.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://qcharts/./node_modules/@qcharts/vnode/node_modules/@qcharts/utils/lib/index.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/typeof.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/h.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/consts.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/diff.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/render.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/easing.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/interpolate.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/index.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/tween.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/patch.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/nodeHelper.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/state.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/event.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Cell.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Row.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Dataset.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/index.js","webpack://qcharts/./src/base/mixin.js","webpack://qcharts/./node_modules/@qcharts/utils/src/index.js","webpack://qcharts/./src/base/Base.js","webpack://qcharts/./src/theme/default.js","webpack://qcharts/./src/base/BaseVisual.js","webpack://qcharts/./src/utils/getStyle.js","webpack://qcharts/./src/utils/scaleLinear.js","webpack://qcharts/./src/utils/axis.js","webpack://qcharts/./src/visuals/Line/layout.js","webpack://qcharts/./src/visuals/Line/index.js","webpack://qcharts/./src/visuals/Pie/layout.js","webpack://qcharts/./src/visuals/Pie/index.js","webpack://qcharts/./src/visuals/Area/index.js","webpack://qcharts/./src/visuals/Radar/layout.js","webpack://qcharts/./src/utils/getPointSymbol.js","webpack://qcharts/./src/visuals/Radar/index.js","webpack://qcharts/./src/visuals/Bar/index.js","webpack://qcharts/./src/visuals/Bar/layout.js","webpack://qcharts/./src/visuals/PolarBar/index.js","webpack://qcharts/./src/visuals/PolarBar/layout.js","webpack://qcharts/./src/visuals/Funnel/layout.js","webpack://qcharts/./src/visuals/Funnel/index.js","webpack://qcharts/./src/visuals/Scatter/layout.js","webpack://qcharts/./src/visuals/Scatter/index.js","webpack://qcharts/./src/utils/color.js","webpack://qcharts/./src/utils/ellipse2path.js","webpack://qcharts/./src/visuals/Wave/index.js","webpack://qcharts/./src/visuals/Gauge/index.js","webpack://qcharts/./src/visuals/RadialBar/index.js","webpack://qcharts/./src/base/BasePlugin.js","webpack://qcharts/./src/plugins/Axis/layout.js","webpack://qcharts/./src/plugins/Axis/index.js","webpack://qcharts/./src/plugins/Legend/index.js","webpack://qcharts/./src/plugins/Tooltip/index.js","webpack://qcharts/./src/base/platform.js","webpack://qcharts/./src/Chart.js","webpack://qcharts/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_extends","assign","target","arguments","length","source","apply","this","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","instance","Constructor","TypeError","subClass","superClass","constructor","writable","configurable","_typeof","assertThisInitialized","self","_defineProperties","props","descriptor","protoProps","staticProps","obj","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arr","arrayWithoutHoles","iterableToArray","nonIterableSpread","iterator","_default","filterClone","include","exclude","res","getType","len","push","j","indexOf","test","str","toString","slice","toLowerCase","ReferenceError","e","default","u","setTimeout","clearTimeout","match","Number","substring","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","arrayLikeToArray","minLen","Array","from","arr2","isArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_setPrototypeOf","iter","sourceKeys","keys","VNode","h","tagName","attrs","children","node","concat","filter","Boolean","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","type","isDiffrentVNode","createElement","vnode","TagName","el","patchAttrs","appendChild","map","forEach","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","a","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","number","b","array","bl","al","min","x","interpolate","now","performance","Date","requestAnimationFrame","cancelAnimationFrame","startTime","fn","id","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","time","Error","_onComplete","callback","elapseTime","animateTime","timer","delayTime","Promise","resolve","step","start","cancel","then","graph","patche","ref","addRef","console","error","split","cb","removeAllListeners","addEventListener","evt","addEvent","states","state","oldState","attr","oldstates","oldAttrs","newAttrs","duration","renderAttrs","animation","transition","addAttrs","middle","use","to","delay","useTween","easing","formatter","ani","onUpdate","animate","fill","finished","offset","setAnimation","addAnimate","patch","$el","isRoot","newEl","parent","replaceChild","remove","child","ind","_ind","curNode","curVnode","hide","hover","active","disabled","mixed","mixinEvent","__store","events","on","off","curEvent","splice","once","args","dispatchEvent","option","item","data","dataset","super","row","col","datasets","num","__name","__option","cell","sta","dispatchOption","Row","Col","store","__deps","__rows","sortKey","resArr","list","sort","keySort","curRow","getArrData","cols","colLen","rowKey","dep","lifeCycle","deepObjectMerge","objectMerge","FirstOBJ","SecondOBJ","jsType","emptyObject","throttle","interval","immediately","firstTime","getDistancePx","distance","Base","component","removeEventListener","listener","__attrs","__vnode__","__isCreated__","__refs","__update","_","update","options","Dataset","opts","render","beforeRender","layer","rendered","warn","beforeUpdate","updated","event","clientRect","left","top","right","bottom","width","height","opacity","layoutBy","style","styleKey","substr","baseAttrs","defaultAttrs","theme","layerName","zIndex","scene","defaultStyles","styles","canvas","getBoundingClientRect","colors","chart","Node","visuals","Line","line","lineWidth","guideline","strokeColor","statck","LineTest","Pie","sector","Area","area","Radar","Bar","bar","groupBar","PolarBar","Funnel","funnel","Scatter","point","showGuideLine","Wave","wave","fillColor","text","fontSize","shape","Gauge","RadialBar","plugins","Tooltip","Legend","Axis","axis","scale","bgcolor","label","grid","lineDash","orient","set","BaseVisual","getStyle","defaultStyle","oStyle","oArgs","cusStyle","scaleLinear","domain","range","disDomain","disRange","per","dataSet","section","gap","divide","toFixed","sectionAxis","upZero","downZero","stack","sum","sumDown","leng","dataHandle","element","abs","sortUpZero","sortDownZero","maxUpZero","ceil","pop","maxDownZero","maxValue","mixNum","maxNum","splitNumber","getMax","axisArray","round","reverse","unit","unshift","needReverse","Global","datasetReverse","layout","lines","axisGap","scales","maxVal","minVal","scaleFY","prevRow","points","areaPoints","smoothRange","dx","offsetX","curPos","axisPoints","curLine","nextPoints","startPoints","endPoints","transAreaPoint","renderLines","hoverIndex","getRenderData","arrLayout","maxLen","areaFrom","areaTo","renderData","guidePoints","smooth","resetState","arrX","pos","getOffsetPosition","y","curInd","posX","lineState","renderStyles","class","onMouseleave","guidelineleave","onMouseenter","guidelinemove","onMousemove","size","rows","onClick","lineClick","rings","arrVal","reduce","totalVal","startAngle","endAngle","activeOffset","minAngle","maxAngle","totalAngle","perAngle","offsetPos","curObj","prevRing","curAngle","bisectorAngle","bisectorRadian","transRadius","angle","computeLinePos","center","radius","disRadius","centerAngle","startPoint","endPoint","labelPos","labelAnchor","renderRings","activeIndex","pervAngle","computeLine","oldRings","radiusPx","fromPoints","fromAnchor","fromPos","toPoints","toAnchor","toPos","anchor","innerRadius","labelOffset","curData","innerRadiusPx","mouseleave","ring","outerRadius","_index","mousemove","getPointCoordinate","radian","bgPoints","gridAttrs","axisAttrs","sectionAttrs","some","indicatorMax","dimension","perRadian","startRadian","currentRadian","maxScale","index","categoryPoints","dataOrigin","close","gridPoints","getPointSymbol","targetName","Ellipse","pointType","allSymbol","sprite","Sprite","path","Path","ellipse","rect","Rect","triangle","Triangle","parallel","Parallel","regular","Regular","star","Star","includes","attributes","sectionData","scaleEl","gridType","preData","zeroPoints","otherData","processSectionAttrs","otherAttrs","hoverStyle","stateStyle","getPolylineAnimation","updateData","processData","toScale","fromPts","toPts","GridShape","Arc","Polyline","getScaleAnimation","other","gridAttr","color","calcAnchor","getPt","perX","perY","perNum","labels","common","translate","display","elIndex","preEl","preText","renderAxisLabel","renderAxisScale","secAnimation","prePoints","isSamePoints","TargetName","pre","cur","otherAttr","renderGrid","renderAxis","renderSection","renderPoints","groups","isNaN","transpose","floor","bgpillarState","log","pillars","fromTos","barData","groupData","nextPillar","prev","labelAttrs","disable","dataLength","barSize","groupGap","stackGap","barWidth","bgPillarAttr","valueAxis","tableSize","axisValueMax","axisValueMin","POSITIVE_RATIO","GROUP_BAR_NUM","flag","computerLegend","GROUP_NUM","BAR_HEIGHT_FACTOR","heightSumUp","heightSumDown","gpData","rects","lenj","stackGapTemp","barHeight","posLabelY","rotate","barStyle","bgpillar","myClick","pillar","legendArr","groupPadAngle","barInnerRadius","padAngle","BAR_MAX_HEIGHT","groupAngle","barAngle","groupInd","align","pyramid","polygons","widthFactory","POLYGON_NUM","polygon","colse","textAnchor","counter","nextValue","plg","oldPolygons","plgStyle","getDataRange","getBigRange","updateSectionVal","newSection","layoutWay","textField","valueField","allData","xDomain","xSection","xIsTextData","xScales","field","ySection","yScales","yDomain","newLayoutWay","xLinear","yLinear","dArry","scatterData","guideLineData","labelField","areaField","areaRange","hex","join","hexToRgba","di","temp","oldRow","cInd","getRealRadius","oldCell","fromRadius","toRadius","rowInd","colInd","labelAttr","hStyle","renderScatter","renderLabel","renderGuideLine","ellipse2path","cx","cy","rx","ry","offsetR","tickId","amplitude","wavelength","percent","currentR","clipWave","$refs","clipPath","pathHeight","originalContentRect","perR","currentX","startY","lastY","waveStyle","shapeStyle","textStyle","tickLine","tickLength","isInner","cX0","cY0","anchorX","anchorY","gaugeAnimations","lineCap","_useBuiltInColors","strokeBgcolor","title","tickStep","tickFormatter","arc","transform","maxTickTextFontSize","fromRotate","pointerAnimation","pointerWidth","pointerTopOffset","pointerLen","pWidth","transformOrigin","labelCenter","ticks","isStyleExist","tickText","realTitle","gradientColor","gradientOpt","vector","Gradient","tick","realSize","replace","gPos","gSize","renderPointer","textAlign","forceUpdate","v","count","tickRadius","ret","flattern","animators","total","cloneData","maxOuterRadius","perRadius","normalStyle","anticlockwise","maxRadius","maxWidth","maxHeight","BasePlugin","getItemAttrs","scaleF","labelPosValue","yv","scaleAttr","xv","grids","padding","curArr","nameAttr","dy","oldAxis","axisStyle","arrOrient","plugin","nameStyle","nameAni","targetVisual","click","clickAble","querySelectorAll","cursor","$dom","getParent","wrap","dom","selector","parentNode","getAttribute","document","className","cssText","html","curColor","innerHTML","context","debounce","maxLeft","innerWidth","maxTop","tarTop","tarLeft","innerHtml","$div","body","tipMousemove","platform","Chart","container","querySelector","Scene","displayRatio","devicePixelRatio","checkUpdate","checkRender","created","addDep","Target","append","snapshot","toDataURL","qcharts","version"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"spritejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qcharts\"] = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse\n\t\troot[\"qcharts\"] = factory(root[\"spritejs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.utils=e():t.utils=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(...t){let e=t[0];if(t.length>1)for(let r=1;r<t.length;r++)n(e,t[r]);return e;function n(t,e){for(var n in e)t[n]=t[n]&&\"[object Object]\"===t[n].toString()?r(t[n],e[n]):t[n]=e[n];return t}}function o(){return Object.create(null)}function u(t){const e=typeof t;return\"object\"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}function i(t,e=16,n=!1){let r=null,o=n;return function(...n){if(o)return t.apply(this,n),o=!1;r||(r=setTimeout(()=>{clearTimeout(r),r=null,t.apply(this,n)},e))}}function c(t,e){return\"string\"===u(t)&&t.match(/%$/)?Number(t.substring(0,t.indexOf(\"%\")))/100*e:t}n.r(e),n.d(e,\"deepObjectMerge\",(function(){return r})),n.d(e,\"emptyObject\",(function(){return o})),n.d(e,\"jsType\",(function(){return u})),n.d(e,\"throttle\",(function(){return i})),n.d(e,\"getDistancePx\",(function(){return c}))}])}));\n//# sourceMappingURL=index.js.map","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  const el = new TagName()\n  //渲染的spritejs对象放到 visual或者plugin上\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children\n      .map(createElement.bind(this))\n      .filter(Boolean)\n      .forEach(el.appendChild.bind(el))\n  }\n  return el\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","import interpolate from './interpolate'\nimport invariant from './invariant'\ninvariant\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame = window.requestAnimationFrame\nlet cancelAnimationFrame = window.cancelAnimationFrame\nif (!requestAnimationFrame) {\n  const startTime = now()\n  requestAnimationFrame = fn => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = id => {\n    return clearTimeout(id)\n  }\n}\nconst delay = time =>\n  new Promise(resolve =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addAttrs, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs(graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addEvent(graph, el, patche)\n  addAttrs(graph, el, patche)\n  //el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} $el 当前的真实spritejs 节点\n * @param {*} patches 虚拟节点\n * @param {*} isRoot 是否是初节点，用于绑定$el与visual或者plugin\n */\nexport default function patch($el, patche, isRoot = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let graph = this //graph为当前的qcharts对象 visula或者plugin\n  if (!$el && !patche) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      if (newEl) {\n        if (isRoot) {\n          //创建的时候，visual与plugin绑定对应的sprite元素\n          graph.$el = newEl\n        }\n        $el.appendChild(newEl)\n      }\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      $el.parent.replaceChild(newEl, $el)\n      break\n    }\n    case REMOVE: {\n      $el.remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      patchAttrs(graph, $el, attrs)\n      if ($el.children && children.length) {\n        $el.children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        let len = children.length > $el.children.length ? children.length : $el.children.length\n        for (let j = 0; j < len; j++) {\n          let curNode = $el.children.filter(child => child._ind === j)[0]\n          let curVnode = children.filter(child => child._ind === j)[0]\n          if (curVnode && curVnode.type === 'CREATE') {\n            //如果是create需要传父级$el\n            patch.bind(graph)($el, curVnode)\n          } else {\n            patch.bind(graph)(curNode, curVnode)\n          }\n        }\n      }\n      break\n    }\n  }\n}\n","import { Tween } from '../tween'\nimport { deepObjectMerge, emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n\n  const { from, middle, use, to, delay, duration, useTween, easing, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n  if (from) {\n    //如果存在from，一开始就设置，防止出现抖动\n    el.attr(from)\n  }\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween(easing)\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAttrs(graph, el, attrs = {}) {\n  let states = attrs['states']\n  let state = attrs['state']\n  if (states && state) {\n    let oldState = el.attr('state')\n    if (state !== oldState) {\n      //不相当就处理，相当上一次已经处理完毕\n      let oldstates = el.attr('states') || emptyObject()\n      let oldAttrs = deepObjectMerge(emptyObject(), attrs, oldstates[oldState])\n      let newAttrs = deepObjectMerge(emptyObject(), attrs, states[state])\n      el.attr(oldAttrs)\n      let { duration } = deepObjectMerge(emptyObject(), graph.renderAttrs.animation, states.animation)\n      el.transition(duration / 1000).attr(newAttrs)\n    }\n  } else {\n    el.attr(attrs)\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(graph, el, attrs = {}) {\n  //缓存方法，修改方法指针this\n  Object.keys(attrs).forEach(key => {\n    if (!/^on/.test(key)) {\n      return\n    }\n    const type = key.split('on')[1].toLowerCase()\n    const cb = attrs[key] || (() => {})\n    let newF = evt => cb.call(graph, evt, el)\n    el.removeAllListeners(type)\n    el.addEventListener(type, newF)\n    delete attrs[key]\n  })\n}\n","export default {\n  default: 'default', //默认\n  hide: 'hide', //数据隐藏\n  hover: 'hover', //次激活模式，类似css中的hover\n  active: 'active', //激活模式，如选中等场景\n  disabled: 'disabled', //禁用模式\n  mixed: 'mixed' //混合模式,比如一个row或者col里面有多种状态\n}\n","function mixinEvent(target) {\n  if (target.__store) {\n    target.__store.events = []\n    let events = target.__store.events\n    target.on = function(type, cb) {\n      events.push({ type, cb })\n      return target\n    }\n    target.off = function(type, cb) {\n      for (let i = 0; i < events.length; i++) {\n        if (cb === undefined) {\n          events = []\n        } else {\n          let curEvent = events[i]\n          if (curEvent.type === type && curEvent.cb === cb) {\n            events.splice(i, 1)\n            i--\n          }\n        }\n      }\n      return target\n    }\n    target.once = function(type, cb) {\n      const listener = function(...args) {\n        fn.apply(target, args)\n        self.off(type, cb)\n      }\n      return target.on(type, listener)\n    }\n    target.dispatchEvent = function(type, option) {\n      events.forEach(item => {\n        if (item.type === type) {\n          item.cb.call(target, { type, option })\n        }\n      })\n      return target\n    }\n  }\n}\nexport { mixinEvent }\n","import state from './state'\nimport { mixinEvent } from './event'\nclass Cell extends Object {\n  constructor(data, option, dataset) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.state = state['default']\n    this.__store.row = undefined\n    this.__store.col = undefined\n    this.__store.option = option\n    this.__store.data = data\n    this.__store.datasets = [dataset]\n    mixinEvent(this)\n  }\n  get datasets() {\n    return this.__store.datasets\n  }\n  get data() {\n    return this, this.__store.data\n  }\n  get value() {\n    return this.__store.data[this.__store.option['value']]\n  }\n  get text() {\n    return this.__store.data[this.__store.option['text']]\n  }\n  set row(num) {\n    if (this.__store.row === undefined) {\n      this.__store.row = num\n    }\n  }\n  get row() {\n    return this.__store.row\n  }\n  set col(num) {\n    if (this.__store.col === undefined) {\n      this.__store.col = num\n    }\n  }\n  get col() {\n    return this.__store.col\n  }\n  get option() {\n    return this.__store.option\n  }\n  get state() {\n    return this.__store.state\n  }\n  set state(name) {\n    if (state[name] && this.__store.state !== state[name]) {\n      this.__store.state = state[name]\n      this.dispatchEvent('change', { name: 'cell', value: state[name], data: this })\n      this.datasets.forEach(dataset => {\n        dataset.dispatchEvent('change', { name: 'cell', value: state[name], data: this })\n      })\n    }\n  }\n}\nexport default Cell\n","import { mixinEvent } from './event'\nimport state from './state'\nclass List extends Array {\n  constructor(name, option) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.__name = name\n    this.__store.__option = option\n    this.__store.dataset = null\n    mixinEvent(this)\n  }\n  get data() {\n    let arr = []\n    this.forEach(cell => {\n      arr.push(cell.data)\n    })\n    return arr\n  }\n  set dataset(arr) {\n    this.__store.dataset = arr\n  }\n  get dataset() {\n    return this.__store.dataset\n  }\n  get name() {\n    return this.__store.__name\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get state() {\n    //遍历子项，查看状态是否统一\n    let sta = this[0].state\n    for (let i = 1; i < this.length; i++) {\n      if (this[i].state !== sta) {\n        sta = 'mixed'\n        break\n      }\n    }\n    return sta\n  }\n  set state(name) {\n    if (state[name] && this.state !== state[name]) {\n      //给所有子项设置state\n      this.forEach(cell => {\n        //如果disabled的状态，必须先设置位default,disabled的state不能直接修改位其它状态\n        if (cell.state === 'disabled' && name !== 'default') {\n          return\n        }\n        cell.state = state[name]\n      })\n      let dispatchOption = null\n      if (this instanceof Row) {\n        dispatchOption = { name: 'row', value: state[name], data: this }\n      } else if (this instanceof Col) {\n        dispatchOption = { name: 'col', value: state[name], data: this }\n      }\n      this.dispatchEvent('change', dispatchOption)\n      this.dataset && this.dataset.dispatchEvent('change', dispatchOption)\n    }\n  }\n}\nclass Row extends List {}\nclass Col extends List {}\nexport { Row, Col }\n","import Cell from './Cell'\nimport { Row, Col } from './Row'\nimport { mixinEvent } from './event'\nclass Dataset extends Array {\n  constructor(data, option) {\n    super()\n    data.forEach((item, i) => {\n      let cell = item\n      if (!(item instanceof Cell)) {\n        cell = new Cell(item, option, this)\n      } else {\n        cell.datasets.push(this)\n      }\n      this[i] = cell\n    })\n    this.__store = Object.create(null)\n    let store = this.__store\n    store.__option = option\n    store.__deps = []\n    store.__rows = []\n    store.__rows = getArrData(this, option)\n    mixinEvent(this)\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get cols() {\n    let cols = []\n    let colLen = 0\n    this.__store.__rows.forEach(row => {\n      if (row.length > colLen) {\n        colLen = row.length\n      }\n    })\n    for (let i = 0; i < colLen; i++) {\n      let arr = new Col()\n      arr.dataset = this\n      this.__store.__rows.forEach(item => {\n        arr.push(item[i])\n      })\n      cols.push(arr)\n    }\n    return cols\n  }\n  get rows() {\n    return this.__store.__rows\n  }\n  resetState(state = 'default') {\n    let res = []\n    this.forEach(cell => {\n      //reset的时候不处理disabled\n      if (cell.state !== state && cell.state !== 'disabled') {\n        res.push(cell)\n        cell.state = state\n      }\n    })\n    this.dispatchEvent('change', { name: 'reset', data: res })\n  }\n  selectRows(name) {\n    let rowKey = this.option.row\n    let arr = []\n    this.forEach(item => {\n      if (name.indexOf(item.data[rowKey]) !== -1) {\n        arr.push(item)\n      }\n    })\n    return new Dataset(arr, this.option)\n  }\n  addDep(dep) {\n    this.__store.__deps.push(dep)\n  }\n}\nfunction getArrData(data = [], option) {\n  let { row: key, col: sortKey } = option\n  let resArr = []\n  if (key === '*') {\n    let list = new Row('*', option)\n    data.forEach(item => {\n      list.push(item)\n    })\n    resArr.push(list.sort(keySort))\n  } else {\n    let keys = Object.create(null)\n    data.forEach(item => {\n      let data = item.__store.data\n      if (!keys[data[key]]) {\n        keys[data[key]] = new Row(data[key], option)\n      }\n      keys[data[key]].push(item)\n    })\n    for (let key in keys) {\n      let curRow = keys[key].sort(keySort)\n      resArr.push(curRow)\n    }\n  }\n  resArr.forEach((list, m) => {\n    list.dataset = data\n    list.forEach((cell, n) => {\n      cell.row = m\n      cell.col = n\n    })\n  })\n  return resArr\n  function keySort(a, b) {\n    if (sortKey) {\n      return a.data[sortKey] > b.data[sortKey] ? 1 : -1\n    }\n  }\n}\n\nexport default Dataset\n","import Dataset from './Dataset'\nexport default Dataset\n","const lifeCycle = {\n  beforeCreate: 'beforeCreate', //创建前\n  created: 'created', // 图表创建\n  beforeRender: 'beforeRender', //图表渲染前\n  rendered: 'rendered', // 图表渲染结束\n  beforeUpdate: 'beforeUpdate', // 图表更新前\n  updated: 'updated', // 图表更新\n  beforeDestroy: 'beforeDestroy', // 图表卸载前\n  destroyed: 'destroyed' // 图表卸载\n}\nfunction mixin(component) {\n  component.on = component.addEventListener\n  component.off = component.removeEventListener\n  component.once = function(type, fn) {\n    const listener = (...args) => {\n      fn.apply(this, args)\n      this.off(type, listener)\n    }\n    return this.on(type, listener)\n  }\n}\n\nexport { lifeCycle, mixin }\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'object' && jsType(SecondOBJ[key]) === 'object') {\n        //对象处理\n        deepObjectMerge(FirstOBJ[key], SecondOBJ[key])\n      } else if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'array' && jsType(SecondOBJ[key]) === 'array') {\n        //数组处理\n        FirstOBJ[key].splice(0, FirstOBJ[key].length, ...SecondOBJ[key])\n      } else {\n        FirstOBJ[key] = SecondOBJ[key]\n      }\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase()\n  }\n  return str\n}\n\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function (...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction debounce(fn, delay = 16, immediately = false) {\n  let timer = null\n  return function () {\n    let args = arguments\n    let context = this\n    if (timer) {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    } else {\n      if (immediately) {\n        fn.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    }\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, debounce, getDistancePx }\n","import { Node } from 'spritejs'\nimport { lifeCycle, mixin } from './mixin'\nimport { emptyObject, deepObjectMerge, jsType, getDistancePx, throttle } from '@qcharts/utils'\nimport { patch, diff } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nclass Base extends Node {\n  constructor(attrs) {\n    super()\n    this.dispatchEvent(lifeCycle.beforeCreate)\n    mixin(this)\n    this['__store'] = emptyObject()\n    let store = this['__store']\n    store.__attrs = emptyObject()\n    store.__vnode__ = null\n    store.__isCreated__ = false\n    store.__refs = emptyObject()\n    store.dataset = null\n    this.attr(attrs)\n    this.__update = throttle(_ => {\n      if (store.__isCreated__) {\n        this.update()\n      }\n    })\n  }\n  get store() {\n    return this['__store']\n  }\n  get layer() {\n    let { layer: layerName, zIndex = 0 } = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\n    return this.scene.layer(layerName).attr({ zIndex })\n  }\n  get $refs() {\n    return this['__store'].__refs\n  }\n  get renderStyles() {\n    let styles = deepObjectMerge({}, this.defaultStyles(), this.theme.styles)\n    return styles\n  }\n  get renderAttrs() {\n    //attrs转换\n    let attrs = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\n    let { animation, clientRect } = attrs\n    //动画数据转换\n    if (jsType(animation) === 'boolean') {\n      animation = { use: animation ? true : false }\n    }\n    //处理layer支持多layer\n    let { width, height } = this.layer.canvas.getBoundingClientRect()\n    //计算布局数据\n    for (let key in clientRect) {\n      if (['left', 'right', 'width'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], width)\n      } else if (['top', 'bottom', 'height'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], height)\n      }\n    }\n    if (clientRect.width === undefined) {\n      clientRect.width = width - clientRect.left - clientRect.right\n    } else {\n      clientRect.right = width - clientRect.left - clientRect.width\n    }\n    if (clientRect.height === undefined) {\n      clientRect.height = height - clientRect.top - clientRect.bottom\n    } else {\n      clientRect.bottom = height - clientRect.top - clientRect.height\n    }\n    attrs.colors = this.theme.colors\n    return attrs\n  }\n  get dataset() {\n    return this['__store'].dataset || (this.chart && this.chart.dataset)\n  }\n  source(data, options) {\n    let store = this['__store']\n    if (!(data instanceof Dataset)) {\n      let opts = options\n      if (store.dataset) {\n        opts = deepObjectMerge({}, store.dataset.option, options)\n      }\n      store.dataset = new Dataset(data, opts)\n    } else {\n      store.dataset = data\n    }\n    if (store.dataset && store.__isCreated__) {\n      //如果以前存在，则更新\n      this.__update()\n    }\n    return this\n  }\n  created() {\n    //初始化创建的时候执行\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.created)\n    store.__vnode__ = this.render(this.beforeRender())\n    const patches = diff(null, store.__vnode__)\n    this.dispatchEvent(lifeCycle.beforeRender)\n    patch.bind(this)(this.$el || this.layer, patches, 1)\n    this.dispatchEvent(lifeCycle.rendered)\n    this.rendered()\n    store.__isCreated__ = true\n    this.dataset.on('change', this.__update)\n  }\n  beforeRender() {\n    //图表初始化准备数据\n    return this.renderAttrs\n  }\n  render() {\n    console.warn('this function must be rewrited')\n  }\n  beforeUpdate() {\n    return this.renderAttrs\n  }\n  update() {\n    //图表更新准备数据\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.beforeUpdate)\n    let vnode = this.render(this.beforeUpdate())\n    const patches = diff(store.__vnode__, vnode)\n    patch.bind(this)(this.$el || this.layer, patches)\n    store.__vnode__ = vnode\n    this.dispatchEvent(lifeCycle.updated)\n    this.updated()\n  }\n  updated() {}\n  dispatchEvent(event, obj = emptyObject()) {\n    super.dispatchEvent(event, obj)\n  }\n  defaultAttrs() {\n    return emptyObject()\n  }\n  defaultStyles() {\n    return emptyObject()\n  }\n  baseAttrs() {\n    let attrs = {\n      //动画类型\n      animation: {\n        use: true,\n        duration: 700,\n        useTween: true,\n        easing: 'bounceOut'\n      },\n      //位置布局信息\n      clientRect: {\n        left: '10%',\n        top: '10%',\n        right: '10%',\n        bottom: '10%',\n        width: undefined,\n        height: undefined\n      },\n      //透明度\n      opacity: 1,\n      layer: 'default',\n      layoutBy: 'rows' //按照哪个数据布局 ['rows','cols']\n    }\n    return attrs\n  }\n  attr(name, val) {\n    //属性设置\n    let store = this['__store']\n    if (jsType(name) === 'object') {\n      for (let key in name) {\n        this.attr(key, name[key])\n      }\n    } else if (name === undefined) {\n      let res = emptyObject()\n      for (let key in store.__attrs) {\n        //过滤style属性\n        if (key.indexOf('style@') !== 0) {\n          res[key] = store.__attrs[key]\n        }\n      }\n      return res\n    } else if (val === undefined) {\n      //获取属性\n      return store.__attrs[name]\n    } else if (name !== undefined) {\n      store.__attrs[name] = val\n      store.__isCreated__ && this.__update()\n    }\n  }\n  addRef(ref, el) {\n    this['__store'].__refs[ref] = el\n    //在vnode中调用，存储到this.__refs中\n  }\n  style(type, style) {\n    //样式设置，样式用attr逻辑存储，添加@符号\n    if (jsType(type) === 'object') {\n      //多样式赋值\n      for (let key in type) {\n        this.style(key, type[key])\n      }\n    } else if (type !== undefined && style === undefined) {\n      //获取样式，统一返回成函数\n      const style = this.attr('style@' + type)\n      return (...args) => {\n        if (jsType(style) === 'function') {\n          return style.apply(this, args)\n        } else {\n          return style\n        }\n      }\n    } else if (type !== undefined && style !== undefined) {\n      //赋值\n      this.attr('style@' + type, style)\n      return this\n    } else if (type === undefined && style === undefined) {\n      //获取全部样式\n      let res = emptyObject()\n      let attrs = this['__store'].__attrs\n      for (let key in attrs) {\n        if (key.indexOf('style@') === 0) {\n          let styleKey = key.substr(6)\n          res[styleKey] = this.style(styleKey)\n        }\n      }\n      return res\n    }\n  }\n}\nexport default Base\n","import { deepObjectMerge } from '@qcharts/utils'\nconst theme = {\n  colors: ['#47A1FF', '#6CD3FF', '#A2E5FF', '#4DCCCB', '#3FDDC7', '#84E0BE', '#59CB74', '#ADDF84', '#FBD54A', '#FFB952', '#F79452', '#E37474', '#FC6980', '#ED8CCE', '#DA65CC', '#9861E5', '#9F8CF1', '#6367EC', '#5982F6', '#659AEC']\n}\ntheme.visuals = {\n  Line: {\n    colors: theme.colors,\n    styles: {\n      line: { lineWidth: 1 },\n      guideline: { strokeColor: '#ddd' }\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  LineTest: {\n    colors: theme.colors,\n    styles: {\n      line: { lineWidth: 1 }\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Pie: {\n    colors: theme.colors,\n    styles: {\n      sector: { lineWidth: 1, strokeColor: '#fff' }\n    },\n    attrs: {}\n  },\n  Area: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 },\n      guideline: { strokeColor: '#ddd' }\n    },\n    attrs: {}\n  },\n  Radar: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 }\n    },\n    attrs: {}\n  },\n  Bar: {\n    colors: theme.colors,\n    styles: {\n      bar: {},\n      groupBar: { opacity: 0.1 }\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  PolarBar: {\n    colors: theme.colors,\n    styles: {\n      bar: {}\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Funnel: {\n    colors: theme.colors,\n    styles: {\n      funnel: {}\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Scatter: {\n    colors: theme.colors,\n    styles: {\n      point: {}\n    },\n    attrs: {\n      showGuideLine: false\n    }\n  },\n  Wave: {\n    colors: theme.colors,\n    styles: {\n      wave: { fillColor: '#37c', strokeColor: '#37c', lineWidth: 0 },\n      text: { fillColor: '#333', fontSize: 24 },\n      shape: { fillColor: '#e6f3ff', lineWidth: 3, strokeColor: '#156cbd' }\n    },\n    attrs: {}\n  },\n  Gauge: {\n    colors: theme.colors,\n    attrs: {}\n  },\n  RadialBar: {\n    colors: theme.colors,\n    attrs: {}\n  }\n}\ntheme.plugins = {\n  Tooltip: {\n    colors: theme.colors,\n    styles: {},\n    attrs: {}\n  },\n  Legend: {\n    colors: theme.colors,\n    styles: {},\n    attrs: {}\n  },\n  Axis: {\n    colors: theme.colors,\n    styles: {\n      axis: {\n        strokeColor: '#ccc',\n        lineWidth: 1\n      },\n      scale: {\n        bgcolor: '#ccc'\n      },\n      label: {\n        fontSize: 12,\n        fillColor: '#666'\n      },\n      grid: {\n        strokeColor: '#eee',\n        lineDash: [3, 3]\n      },\n      name: {\n        fontSize: 12,\n        fillColor: '#666'\n      }\n    },\n    attrs: {\n      orient: 'bottom'\n    }\n  }\n}\ntheme.set = function(obj) {\n  //合并样式\n  deepObjectMerge(theme, obj)\n}\nexport default theme\n","import Base from './Base'\nimport theme from '../theme/default'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nexport default class BaseVisual extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.visuals[this.constructor.name]\n    //如果当前对象设置了theme，不继承theme\n    this.theme.set = obj => {\n      if (this.theme === theme.visuals[this.constructor.name]) {\n        this.theme = filterClone(this.theme)\n      }\n      this.theme = deepObjectMerge(this.theme, obj)\n    }\n  }\n}\n","// merge style\nimport { deepObjectMerge, jsType } from '@qcharts/utils'\n/**\n * chart:当前的图表\n * key:当前的样式名称\n * defaultstyle:为数组或者对象，表示默认的样式\n * args:调用style方法的时候，style以后的参数\n */\nexport function getStyle(chart, key, defaultStyle, args) {\n  //合并样式\n  let oStyle = defaultStyle\n  let oArgs = args\n  if (jsType(defaultStyle) === 'array') {\n    oStyle = deepObjectMerge.apply(this, defaultStyle)\n  }\n  if (jsType(args) !== 'array') {\n    oArgs = [args]\n  }\n  let cusStyle = chart.style(key)(oStyle, ...oArgs)\n  if (cusStyle === false) {\n    return false\n  }\n  return deepObjectMerge({}, oStyle, cusStyle)\n}\n","function scaleLinear() {\n  let domain = [0, 1]\n  let range = [0, 1]\n  function scale(num) {\n    let disDomain = domain[1] - domain[0]\n    let disRange = range[1] - range[0]\n    let per = (num - domain[0]) / disDomain || 0\n    return range[0] + disRange * per\n  }\n  scale.domain = function(arr) {\n    domain = arr\n    return this\n  }\n  scale.range = function(arr) {\n    range = arr\n    return this\n  }\n  return scale\n}\n\n// const data = [80, 40, 30, 60, 70]\n// const s = scaleLinear().domain([0, 100]).range([0, 100])\n// console.log(data.map(s))\n\nexport { scaleLinear }\n","//import { Global } from '../core/Global'\nexport function axis(attr) {\n  // 计算坐标轴刻度\n  if (!Array.isArray(attr.dataSet) && !attr.hasOwnProperty('section')) {\n    return []\n  }\n  if (attr.section !== undefined) {\n    return sectionAxis(attr.section)\n  }\n  const data = dataHandle(attr)\n  let upZero = [] // 大于零的数\n  let downZero = [] // 小于零的数\n  for (const element of data) {\n    if (element < 0) {\n      downZero.push(Math.abs(element))\n    } else {\n      upZero.push(element)\n    }\n  }\n  let length = 5 // 刻度数量\n  let sortUpZero = upZero.sort((a, b) => {\n    return a - b\n  })\n  let sortDownZero = downZero.sort((a, b) => {\n    return a - b\n  })\n  let maxUpZero = sortUpZero.length && Math.ceil(sortUpZero.pop() / 0.95)\n  let maxDownZero = sortDownZero.length && Math.ceil(sortDownZero.pop() / 0.95)\n  let maxValue = maxUpZero - maxDownZero >= 0 ? maxUpZero : maxDownZero\n  let mixNum = 4\n  let maxNum = 7\n  if (maxDownZero && maxUpZero) {\n    mixNum = 3\n    maxNum = 5\n  }\n  if (attr.splitNumber) {\n    mixNum = attr.splitNumber\n    maxNum = mixNum + 1\n  }\n  let getMax = false\n  const len = maxValue.toString().length // 最大值位数\n  let max = len < 3 ? Math.ceil(maxValue / Math.pow(10, len - 1)) : Math.ceil(maxValue / Math.pow(10, len - 2))\n  do {\n    for (let i = mixNum; i < maxNum; i++) {\n      if (max % i === 0) {\n        length = i\n        maxValue = len < 3 ? max * Math.pow(10, len - 1) : max * Math.pow(10, len - 2)\n        getMax = true\n        break\n      }\n    }\n    max++\n  } while (!getMax)\n\n  let axisArray = new Array(length + 1)\n  axisArray[0] = 0\n  for (let i = 1; i < length + 1; i++) {\n    axisArray[i] = maxUpZero >= maxDownZero ? Math.round((maxValue / length) * i) : -1 * Math.round((maxValue / length) * i)\n  }\n\n  // 处理0-1之间的数据\n  if ((maxDownZero <= 1 && maxDownZero > 0) || (maxUpZero <= 1 && maxUpZero > 0) || (maxUpZero === 0 && maxDownZero === 0)) {\n    axisArray = new Array(6)\n    axisArray[0] = 0\n    maxValue = 1\n    for (let i = 1; i < 6; i++) {\n      axisArray[i] = maxUpZero >= maxDownZero ? (2 * maxValue * i) / 10 : (-2 * maxValue * i) / 10\n    }\n  }\n\n  if (maxUpZero < maxDownZero) {\n    axisArray.reverse()\n  }\n  if (maxDownZero.length === 0 || maxUpZero.length === 0) {\n    return axisArray\n  }\n  if (maxUpZero >= maxDownZero) {\n    const unit = axisArray[1] * 10\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxDownZero) / maxUpZero); i < len + 1; i++) {\n      axisArray.unshift((-1 * unit * i) / 10)\n    }\n  } else {\n    const unit = axisArray[axisArray.length - 2] * 10\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxUpZero) / maxDownZero); i < len + 1; i++) {\n      axisArray.push((-1 * unit * i) / 10)\n    }\n  }\n  if (attr.needReverse) {\n    axisArray = axisArray.map((value) => {\n      return Global.datasetReverse ? Math.round(Global.datasetReverse(value)) : value\n    })\n  }\n  return axisArray\n}\n\nfunction dataHandle(attr) {\n  const stack = attr.stack || false\n  const data = attr.dataSet || []\n  const arr = []\n\n  if (stack && data.length !== 0 && data[0].length) {\n    for (let i = 0, len = data[0].length; i < len; i++) {\n      let sum = 0\n      let sumDown = 0\n      for (let j = 0, leng = data.length; j < leng; j++) {\n        let val = data[j][i].value\n        if (data[j][i].disabled === true || val === undefined) {\n          continue\n        }\n        if (val < 0) {\n          sumDown = sumDown + val\n        } else {\n          sum = sum + val\n        }\n      }\n      sum && arr.push(sum)\n      sumDown && arr.push(sumDown)\n    }\n  } else {\n    for (let m = 0; m < data.length; m++) {\n      for (let n = 0; n < data[m].length; n++) {\n        let val = data[m][n].value\n        if (data[m][n].disabled === true || val === undefined) {\n          continue\n        }\n        arr.push(val)\n      }\n    }\n  }\n  return arr\n}\n\nfunction sectionAxis(section) {\n  if (section && Array.isArray(section)) {\n    const gap = section[1] - section[0]\n    const arr = []\n    let divide = 4\n    arr.push(section[0])\n    for (let i = 4; i < 8; i++) {\n      if (gap % i === 0) {\n        divide = i\n        break\n      }\n    }\n    for (let j = 1; j <= divide; j++) {\n      arr.push((section[0] + (gap * j) / divide).toFixed(2))\n    }\n    return arr\n  }\n  return []\n}\n","import { scaleLinear } from '../../utils/scaleLinear'\nimport { axis } from '../../utils/axis'\nexport default function layout(arr, attrs) {\n  let type = this.type\n  let lines = []\n  const { stack, splitNumber, clientRect, axisGap } = attrs\n  const { width, height } = clientRect\n  let scales = axis({ dataSet: arr, stack, splitNumber })\n  let maxVal = Math.max.apply(this, scales)\n  let minVal = Math.min.apply(this, scales)\n  let scaleFY = scaleLinear()\n    .domain([minVal, maxVal])\n    .range([0, height])\n  let prevRow = null\n  arr.forEach(row => {\n    let line = { points: [], areaPoints: [], smoothRange: [], state: row.state }\n    row.forEach((cell, i) => {\n      let val = cell.value\n      if (cell.value !== undefined) {\n        //如果为undefined 不渲染\n        let dx = width / (row.length - 1)\n        let offsetX = 0\n        if (axisGap) {\n          dx = width / row.length\n          offsetX = dx / 2\n        }\n        let curPos = [dx * i + offsetX, height - scaleFY(val)]\n        if (stack && prevRow) {\n          //如果是堆叠并且前一个row存在，则叠加\n          curPos = [dx * i + offsetX, height - scaleFY(val + prevRow[i].value)]\n        }\n        line.points.push(curPos)\n      }\n    })\n    line.axisPoints = [\n      [line.points[0][0], height - scaleFY(0)],\n      [line.points[line.points.length - 1][0], height - scaleFY(0)]\n    ]\n    if (line.state !== 'disabled') {\n      prevRow = row\n    }\n    lines.push(line)\n  })\n  if (type === 'area') {\n    let curLine = null\n    lines.forEach((line, ind) => {\n      let nextPoints = []\n        .concat(line.points)\n        .reverse()\n        .map(point => [point[0], height])\n      if (curLine && attrs.stack) {\n        nextPoints = [].concat(lines[ind - 1].points).reverse()\n      }\n      let res = transAreaPoint(line.points, nextPoints)\n      line.areaPoints = res.areaPoints\n      line.smoothRange = res.smoothRange\n      if (line.state !== 'disabled') {\n        curLine = line\n      }\n    })\n  }\n  return lines\n}\nfunction transAreaPoint(startPoints, endPoints) {\n  let res = {\n    areaPoints: [],\n    smoothRange: []\n  }\n  res.areaPoints = []\n    .concat([startPoints[0]])\n    .concat(startPoints)\n    .concat([startPoints[startPoints.length - 1]])\n    .concat([endPoints[0]])\n    .concat(endPoints)\n    .concat([endPoints[endPoints.length - 1]])\n  res.smoothRange = [1, startPoints.length, startPoints.length + 3, startPoints.length + endPoints.length + 2]\n  return res\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Node } from 'spritejs'\nimport { getStyle } from '@/utils/getStyle'\nimport layout from './layout'\nclass Line extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderLines = []\n    this.type = 'line'\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let lines = arrLayout.map(item => {\n      return {\n        smoothRange: item.smoothRange,\n        areaFrom: { points: item.areaPoints },\n        areaTo: { points: item.areaPoints },\n        from: { points: item.points, lineDash: [1, maxLen] },\n        to: { points: item.points, lineDash: [maxLen, maxLen] }\n      }\n    })\n    return lines\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let renderLines = this.renderLines\n    let lines = arrLayout.map((item, i) => {\n      let from = { points: item.points }\n      if (renderLines[i]) {\n        from = { points: renderLines[i].to.points }\n      }\n      if (!renderLines[i] || renderLines[i].state === 'disabled') {\n        from.lineDash = [4, maxLen]\n      }\n      return {\n        state: item.state,\n        smoothRange: item.smoothRange,\n        areaFrom: (renderLines[i] && renderLines[i].areaTo) || item.areaPoints,\n        areaTo: {\n          points: item.areaPoints\n        },\n        from,\n        to: {\n          points: item.points,\n          lineDash: [maxLen, maxLen]\n        }\n      }\n    })\n    return lines\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let { height, width } = renderAttrs.clientRect\n    //对角线长度的2保证会大于曲线的长度\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 5\n    return { width, height, arrLayout, maxLen }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      guidePoints: [],\n      layer: 'line'\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {\n      smooth: false\n    }\n  }\n  guidelineleave(event, el) {\n    this.attr('guidePoints', [])\n    this.dataset.resetState()\n  }\n  guidelinemove(event, el) {\n    if (this.renderLines.length) {\n      //获取 x轴坐标的刻度\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\n      //转换cancas坐标到当前group的相对坐标\n      let [x] = el.getOffsetPosition(event.x, event.y)\n      let curInd = 0\n      //查找当前位置\n      for (let i = 0; i < arrX.length; i++) {\n        if (x > arrX[i] && x < arrX[i + 1]) {\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\n          break\n        }\n      }\n      //重置所有的dateset的状态\n      if (this.hoverIndex !== curInd) {\n        this.dataset.resetState()\n        //设置当前列的state为hover\n        this.dataset.cols[curInd].state = 'hover'\n        let { clientRect } = this.renderAttrs\n        let posX = arrX[curInd]\n        this.hoverIndex = curInd\n        this.attr({\n          guidePoints: [\n            [posX, 0],\n            [posX, clientRect.height]\n          ],\n          lineState: 'default'\n        })\n      }\n    }\n  }\n  render(lines) {\n    let { clientRect, smooth, guidePoints } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderLines = lines\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} onMouseleave={this.guidelineleave} onMouseenter={this.guidelinemove} onMousemove={this.guidelinemove} size={[clientRect.width, clientRect.height]}>\n        <Group class=\"lines-group\">\n          {lines.map((line, ind) => {\n            let style = getStyle(this, 'line', [{ strokeColor: colors[ind], smooth }, styles.line], [this.dataset.rows[ind], ind])\n            return line.state === 'disabled' || style === false ? <Node /> : <Polyline onClick={this.lineClick} {...style} animation={{ from: line.from, to: line.to }} />\n          })}\n        </Group>\n        <Group class=\"areas-group\">\n          {this.type !== 'area'\n            ? null\n            : lines.map((line, ind) => {\n                let style = getStyle(this, 'area', [{ fillColor: colors[ind], smooth }, styles.area], [this.dataset.rows[ind], ind])\n                return line.state === 'disabled' || style === false ? <Node /> : <Polyline smoothRange={line.smoothRange} {...style} animation={{ from: line.areaFrom, to: line.areaTo }} />\n              })}\n        </Group>\n        <Group class=\"guide-line-group\">\n          {guidePoints.length ? (\n            (_ => {\n              let style = getStyle(this, 'guideline', styles.guideline)\n              return style === false ? <Node /> : <Polyline points={guidePoints} {...style} />\n            })()\n          ) : (\n            <Node />\n          )}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Line\n","export default function layout(arr, attrs) {\n  let rings = []\n  let arrVal = arr.map(row => row.reduce((val, item) => (row.state !== 'disabled' ? val + item.value : val), 0))\n  //当totalVal为0的时候，会造成分母为0 如果totalVal为0 处理成1\n  let totalVal = arrVal.reduce((val, item) => val + item, 0) || 1\n  let { startAngle, endAngle, activeOffset } = attrs\n  let minAngle = Math.min(startAngle, endAngle)\n  let maxAngle = Math.max(startAngle, endAngle)\n  if (maxAngle > minAngle + 360) {\n    maxAngle = minAngle + 360\n  }\n  let totalAngle = maxAngle - minAngle\n  arrVal.forEach((num, ind) => {\n    let curPercent = num / totalVal\n    let perAngle = curPercent * totalAngle\n    //默认中心坐标偏移量0\n    let offsetPos = [0, 0]\n\n    let curObj = { startAngle: minAngle, endAngle: minAngle + perAngle, offsetPos }\n    if (ind !== 0) {\n      let prevRing = rings[ind - 1]\n      curObj = { startAngle: prevRing.endAngle, endAngle: prevRing.endAngle + perAngle, offsetPos }\n    }\n    let curAngle = ((curObj.startAngle + curObj.endAngle) / 2) % 360\n    curObj.bisectorAngle = curAngle\n    curObj.bisectorRadian = transRadius(curAngle)\n    if (arr[ind].state === 'hover') {\n      //角平分,角度转弧度,默认是顺时针，角度为相反\n      curObj.offsetPos = [activeOffset * Math.cos(curObj.bisectorRadian), activeOffset * Math.sin(curObj.bisectorRadian)]\n      //选中状态\n    }\n    rings.push(curObj)\n  })\n  return rings\n}\nexport function transRadius(angle) {\n  return (angle / 180) * Math.PI\n}\nexport function computeLinePos(startAngle, endAngle, center, radius, disRadius) {\n  let points = []\n  let centerAn = ((startAngle + endAngle) / 2) % 360\n  let centerAngle = transRadius(centerAn)\n  let labelAnchor = [0, 0]\n  let startPoint = [radius * Math.cos(centerAngle), radius * Math.sin(centerAngle)]\n  let endPoint = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius) * Math.sin(centerAngle)]\n  let labelPos = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius + 5) * Math.sin(centerAngle)]\n  labelPos = [center[0] + labelPos[0], center[1] + labelPos[1]]\n  points.push([center[0] + startPoint[0], center[1] + startPoint[1]])\n  points.push([center[0] + endPoint[0], center[1] + endPoint[1]])\n  labelAnchor = [Math.sin(centerAngle / 2), 1 - Math.cos(centerAngle / 4)]\n  return { points, labelAnchor, labelPos: labelPos }\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Node, Ring, Polyline, Label } from 'spritejs'\nimport filterClone from 'filter-clone'\nimport layout from './layout'\nimport { computeLinePos } from './layout'\nimport { getStyle } from '@/utils/getStyle'\nclass Pie extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderRings = []\n    this.hoverIndex = -1\n    this.activeIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let { radius, innerRadius } = attrs\n    let { width, height } = attrs.clientRect\n    attrs.center = [width / 2, height / 2]\n    attrs.radiusPx = (Math.min(width, height) * radius) / 2\n    attrs.innerRadiusPx = (Math.min(width, height) * innerRadius) / 2\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { rings } = this.getRenderData()\n    let { center } = this.renderAttrs\n    let arr = rings.map((item, ind) => {\n      if (ind === 0) {\n        return {\n          from: { startAngle: 0, endAngle: 0, pos: center },\n          to: { ...item, pos: center }\n        }\n      }\n      let pervAngle = rings[ind - 1].endAngle\n      return {\n        from: { startAngle: pervAngle, endAngle: pervAngle, pos: center },\n        to: { ...item, pos: center }\n      }\n    })\n    this.computeLine(arr)\n    return arr\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    let { rings } = this.getRenderData()\n    let { center } = this.renderAttrs\n    let oldRings = this.renderRings\n    let arr = rings.map((item, ind) => {\n      let curPos = [center[0] + item.offsetPos[0], center[1] + item.offsetPos[1]]\n      let attrs = filterClone(item, ['startAngle', 'endAngle'])\n      if (ind === this.hoverIndex) {\n        return {\n          from: { ...oldRings[ind].to },\n          to: { ...attrs, pos: curPos }\n        }\n      } else {\n        return {\n          from: { ...oldRings[ind].to },\n          to: { ...attrs, pos: curPos }\n        }\n      }\n    })\n    this.computeLine(arr)\n    return arr\n  }\n  computeLine(arr) {\n    let { radiusPx } = this.renderAttrs\n    arr.forEach(item => {\n      let { points: fromPoints, labelAnchor: fromAnchor, labelPos: fromPos } = computeLinePos(item.from.startAngle, item.from.endAngle, item.from.pos, radiusPx + 1, 15)\n      let { points: toPoints, labelAnchor: toAnchor, labelPos: toPos } = computeLinePos(item.to.startAngle, item.to.endAngle, item.to.pos, radiusPx + 1, 15)\n      item.line = {\n        from: {\n          points: fromPoints\n        },\n        to: {\n          points: toPoints\n        }\n      }\n      item.label = {\n        from: {\n          pos: fromPos,\n          anchor: fromAnchor\n        },\n        to: {\n          pos: toPos,\n          anchor: toAnchor\n        }\n      }\n    })\n    //计算guideline位置\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    //let { radiusPx, center } = renderAttrs\n    let renderData = this.renderData()\n    let rings = layout.call(this, renderData, renderAttrs)\n    return { rings }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'pie',\n      radius: 1,\n      innerRadius: 0,\n      startAngle: 0,\n      endAngle: 360,\n      lineWidth: 1,\n      //选中偏移量基数\n      activeOffset: 10,\n      //饼图上文字偏移量\n      labelOffset: 20\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n  }\n  mousemove(event, el) {\n    let renderData = this.renderData()\n    let ind = el.attr('_index')\n    if (ind !== this.hoverIndex) {\n      let curData = renderData[ind]\n      renderData.forEach(row => {\n        if (row.state === 'hover') {\n          row.state = 'default'\n        }\n      })\n      curData.state = 'hover'\n      this.hoverIndex = ind\n    }\n  }\n  mouseleave() {\n    let renderData = this.renderData()\n    renderData.forEach(row => {\n      if (row.state === 'hover') {\n        row.state = 'default'\n      }\n    })\n    this.hoverIndex = -1\n  }\n  renderData() {\n    let renderAttrs = this.renderAttrs\n    return this.dataset[renderAttrs.layoutBy]\n  }\n  render(rings) {\n    //console.log(rings)\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderRings = rings\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\n          {rings.map((ring, ind) => {\n            let style = getStyle(this, 'sector', [{ strokeColor: colors[ind], fillColor: colors[ind], innerRadius: innerRadiusPx, outerRadius: radiusPx, _index: ind }, styles.sector], [this.dataset.rows[ind], ind])\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMousemove={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\n          })}\n        </Group>\n        <Group class=\"line-group\">\n          {rings.map((ring, ind) => {\n            let style = getStyle(this, 'guideline', [{ strokeColor: colors[ind] }, styles.guideline], [this.dataset.rows[ind], ind])\n            let hide = false\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\n              hide = true\n            }\n            return hide || style === false ? <Node /> : <Polyline {...style} animation={{ from: ring.line.from, to: ring.line.to }} />\n          })}\n        </Group>\n        <Group class=\"label-group\">\n          {rings.map((ring, ind) => {\n            let name = this.dataset.rows[ind].name\n            let style = getStyle(this, 'guideText', [{ fillColor: '#666', fontSize: 12 }, styles.guideline], [this.dataset.rows[ind], ind])\n            let hide = false\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\n              hide = true\n            }\n            return hide || style === false ? <Node /> : <Label text={name} {...style} pos={ring.label.from.pos} animation={{ from: ring.label.from, to: ring.label.to }} />\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\n\nexport default Pie\n","import Line from '../Line'\nimport { deepObjectMerge } from '@qcharts/utils'\nclass Area extends Line {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'area'\n  }\n  defaultAttrs() {\n    return deepObjectMerge({}, super.defaultAttrs(), {\n      stack: true,\n      animation: {\n        duration: 700,\n        easing: 'bounceOut'\n      },\n      layer: 'area'\n    })\n  }\n}\nexport default Area\n","/**\n * 根据给定角度和长度获取极坐标值\n * @param {Number} radian 角度\n * @param {Number} length 长度\n * @returns {Array} [x,y]\n */\nconst getPointCoordinate = (radian, length) => {\n  let x = Math.cos(radian) * length\n  let y = Math.sin(radian) * length\n  return [x, y]\n}\n\n/**\n * 获取数组中最大数除以层级后的整数\n * @param {Array} data\n * @param {Number} splitNumber\n * @returns {Number}\n */\nconst getMax = (data, splitNumber) => {\n  const indicatorMax = Math.max(...data)\n  if (indicatorMax < splitNumber * 10) {\n    return Math.ceil(indicatorMax / splitNumber) * splitNumber\n  } else {\n    return Math.ceil(indicatorMax / 10 / splitNumber) * 10 * splitNumber\n  }\n}\n\n/**\n * 根据给定的数据，返回绘制雷达图所需要的数据\n * @param {Array} dataset 数据集\n * @param {Number} radius 雷达图半径\n * @param {Number} splitNumber  雷达图背景层级\n * @param {Number} startAngle 雷达图起始轴角度\n * @param {Number} labelOffset 雷达图文字偏移值\n * @returns {Object} { sectionAttrs, borderAttrs, axisAttrs, gridAttrs }\n */\nexport default function layout(data, radius, splitNumber, startAngle, labelOffset) {\n  let bgPoints = [] // 最外层背景多边形\n  let gridAttrs = [] // 蜘蛛网图背景\n  let axisAttrs = [] // 坐标轴\n  let sectionAttrs = [] // 多边形数据\n\n  if (data.some((d) => d.length === 0)) {\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  const allDataValue = data.reduce((t, row) => {\n    return t.concat(row.map((cell) => cell.value))\n  }, [])\n\n  const max = getMax(allDataValue, splitNumber)\n\n  // 每个类别的弧度\n  const dimension = data[0].length\n  const perRadian = (Math.PI * 2) / dimension\n  // 起始角度->转弧度\n  const startRadian = (Math.PI / 180) * startAngle\n  for (let i = 0; i < dimension; i++) {\n    // 根据角度和半径，计算对应的坐标\n    let currentRadian = i * perRadian + startRadian\n    let point = getPointCoordinate(currentRadian, radius)\n\n    bgPoints.push({\n      point,\n      radian: currentRadian,\n    })\n\n    // 类别指示坐标\n    const labelPos = getPointCoordinate(currentRadian, radius + labelOffset)\n    const label = data[0][i].text\n    // 坐标轴属性\n    axisAttrs.push({\n      points: [[0, 0], point],\n      lineWidth: 1,\n      lineDash: [3, 2],\n      strokeColor: '#DDE0E5',\n      label,\n      labelPos,\n      radian: currentRadian,\n      maxScale: max,\n      splitNumber: splitNumber,\n    })\n  }\n\n  data.forEach((row, index) => {\n    const categoryPoints = row.map((d, i) => {\n      const value = d.value\n      const radian = bgPoints[i].radian\n      return getPointCoordinate(radian, (value / max) * radius)\n    })\n\n    sectionAttrs.push({\n      index: index,\n      name: row.name,\n      dataOrigin: row.data,\n      lineWidth: 1,\n      points: categoryPoints,\n      state: row.state,\n      close: true,\n    })\n  })\n\n  // 背景网格多边形坐标\n  const gridPoints = bgPoints.map((p) => p.point)\n  for (let i = 0; i < splitNumber; i++) {\n    let scale = 1 - i / splitNumber\n    gridAttrs.push({\n      scale,\n      radius,\n      points: gridPoints,\n      index: i,\n      close: true,\n      lineWidth: 1,\n      strokeColor: '#DDE0E5',\n      anchor: [0.5, 0.5],\n    })\n  }\n\n  return { sectionAttrs, axisAttrs, gridAttrs }\n}\n","import { Sprite, Path, Ellipse, Rect, Triangle, Parallel, Regular, Star } from 'spritejs'\n/**\n * 根据pointType返回对应的TargetName，pointType可选值为：'sprite','path','ellipse','rect','triangle','parallel','regular','star'\n * @param {Object} style {pointType:'ellipse'} \n */\nexport default function getPointSymbol(style) {\n  // 默认椭圆\n  let targetName = Ellipse\n  if (style && style.pointType) {\n    const allSymbol = {\n      sprite: Sprite,\n      path: Path,\n      ellipse: Ellipse,\n      rect: Rect,\n      triangle: Triangle,\n      parallel: Parallel,\n      regular: Regular,\n      star: Star\n    }\n\n    if (!Object.keys(allSymbol).includes(style.pointType)) {\n      throw new Error(\n        `pointType should be one of 'sprite','path','ellipse','rect','triangle','parallel','regular','star' but it is ${style.pointType}`\n      )\n    }\n    targetName = allSymbol[style.pointType]\n  }\n  return targetName\n}\n","import { Group, Polyline, Label, Sprite } from 'spritejs'\nimport { deepObjectMerge, throttle, jsType } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\nimport layout from './layout'\nimport getPointSymbol from '../../utils/getPointSymbol'\n\nclass Radar extends BaseVisual {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'radar'\n    this.sectionData = []\n    this.scaleEl = []\n  }\n\n  //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    const { height, width } = attrs.clientRect\n    const center = [width / 2, height / 2]\n\n    const { radius } = attrs\n    const len = Math.min(...center) * radius\n\n    return { ...attrs, center, len }\n  }\n\n  // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n  defaultAttrs() {\n    return {\n      layer: 'radar',\n      gridType: 'polygon', // 网格类型,polygon,circle\n      splitNumber: 4, // 网格层次\n      startAngle: 270, // 起始角度\n      radius: 0.6, // 雷达图半径\n      labelOffset: 7 // 文字偏移\n    }\n  }\n\n  getPolylineAnimation(toPoints, state, index) {\n    let preData = this.sectionData[index]\n    const zeroPoints = new Array(toPoints.length).fill([0, 0])\n\n    // disabled的时候缩回原点并透明\n    if (state === 'disabled') {\n      return {\n        from: { points: preData.animation.to.points, opacity: 1 },\n        to: { points: zeroPoints, opacity: 0 }\n      }\n    }\n    if (!preData) {\n      preData = {\n        animation: {\n          to: {\n            points: zeroPoints\n          }\n        }\n      }\n    }\n    return {\n      from: { points: preData.animation.to.points },\n      to: { points: toPoints }\n    }\n  }\n\n  getRenderData() {\n    const dataSet = this.dataset\n    // // FIXME 数据筛选之前先按照label进行排序?是否需要？\n    const { len, splitNumber, startAngle, labelOffset } = this.renderAttrs\n    const { sectionAttrs, axisAttrs, gridAttrs } = layout([...dataSet.rows], len, splitNumber, startAngle, labelOffset)\n\n    const colors = this.theme.colors\n\n    sectionAttrs.forEach((s, i) => {\n      s.strokeColor = colors[i]\n      s.fillColor = colors[i]\n    })\n\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  processData() {\n    const { sectionAttrs, ...otherData } = this.getRenderData()\n    const processSectionAttrs = sectionAttrs.map((attr, i) => {\n      const { points, state, ...otherAttrs } = attr\n      const { style, hoverStyle } = this.getStyle('section', attr, { ...attr.dataOrigin }, i)\n      let stateStyle = { lineWidth: attr.lineWidth }\n      if (state === 'hover') {\n        stateStyle = { ...hoverStyle, lineWidth: attr.lineWidth + 1 }\n      }\n\n      let animation = this.getPolylineAnimation(points, state, i)\n      const opacity = jsType(style.opacity) === 'number' ? style.opacity : 1\n      if (state === 'disabled') {\n        animation.from.opacity = opacity\n      } else {\n        animation.to.opacity = opacity\n      }\n      return deepObjectMerge(otherAttrs, { state }, { animation }, style, stateStyle)\n    })\n    return { ...otherData, sectionAttrs: processSectionAttrs }\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const updateData = this.processData()\n    if (updateData.sectionAttrs) {\n      const len = Math.max(this.sectionData.length, updateData.sectionAttrs.length)\n      for (let i = 0; i < len; i++) {\n        this.sectionData[i] = updateData.sectionAttrs[i]\n      }\n    }\n    this.sectionData = [...updateData.sectionAttrs]\n    return updateData\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const renderData = this.processData()\n    this.sectionData = [...renderData.sectionAttrs]\n    return renderData\n  }\n\n  rendered() {}\n\n  getScaleAnimation(toScale) {\n    return {\n      from: { scale: 0 },\n      to: { scale: toScale }\n    }\n  }\n\n  getStyle(type, attr, data, index) {\n    return {\n      style: this.style(type)(attr, data, index) || {},\n      hoverStyle: this.style(`${type}:hover`)(attr, data, index) || {}\n    }\n  }\n\n  isSamePoints(fromPts, toPts) {\n    return fromPts.toString() === toPts.toString()\n  }\n\n  renderGrid(gridAttrs) {\n    const { gridType } = this.renderAttrs\n    const GridShape = gridType === 'circle' ? Arc : Polyline\n    return gridAttrs.map((attr, i) => {\n      const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(attr.scale)\n      const { style, ...other } = this.getStyle('grid', attr, null, i)\n      if (style === false) {\n        return\n      }\n      let gridAttr = { ...attr }\n      if (gridType === 'circle') {\n        gridAttr = {\n          lineWidth: attr.lineWidth,\n          strokeColor: attr.strokeColor,\n          radius: attr.radius,\n          scale: attr.scale\n        }\n      }\n      return <GridShape {...gridAttr} {...style} {...other} animation={animation} />\n    })\n  }\n\n  renderAxisLabel(attrs, i) {\n    const calcAnchor = (radian) => {\n      const x = 0.5 - Math.cos(radian)\n      const y = 0.5 - Math.sin(radian)\n      return [x, y]\n    }\n    const { label, labelPos, radian } = attrs\n    const anchor = calcAnchor(radian)\n    const attr = {\n      text: label,\n      pos: labelPos,\n      color: '#67728C',\n      radian,\n      anchor,\n      fontSize: 12\n    }\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\n    const { style, ...other } = this.getStyle('label', attr, { text: attr.label, radian }, i)\n    if (style === false) {\n      return\n    }\n    return <Label {...attr} {...style} {...other} animation={animation} />\n  }\n\n  renderAxisScale(attrs, index) {\n    const getPt = (attrs) => {\n      const { points, splitNumber, maxScale } = attrs\n      const [x, y] = points[1]\n      const perNum = maxScale / splitNumber\n      return [[x / splitNumber, y / splitNumber], perNum]\n    }\n    const [[perX, perY], perNum] = getPt(attrs)\n    let labels = []\n    const display = index === 0 ? 'block' : 'none'\n    const common = {\n      fontSize: 12,\n      anchor: [1, 0.5],\n      translate: [-5, 0],\n      display\n    }\n    for (let i = 0; i < attrs.splitNumber + 1; i++) {\n      let point = [perX * i, perY * i]\n      let text = perNum * i\n      let attr = {\n        text,\n        color: '#67728C',\n        pos: point,\n        ...common\n      }\n      const { style, ...other } = this.getStyle('scale', attr, { text, index }, i)\n      if (style === false) {\n        return\n      }\n      if (attr.display !== 'none') {\n        let animation = {}\n        const elIndex = index * attrs.splitNumber + i\n        const preEl = this.scaleEl[elIndex]\n        if (preEl) {\n          const { text: preText } = preEl\n          if (preText !== text) {\n            animation = {\n              from: { text: preText },\n              to: { text },\n              formatter: (attr) => {\n                attr.text = attr.text.toFixed(0)\n                return attr\n              }\n            }\n          }\n        } else {\n          animation = {\n            from: { pos: [0, 0] },\n            to: { pos: point }\n          }\n        }\n        this.scaleEl[i] = { text: Number(text.toFixed(0)) }\n        labels.push(<Label {...attr} {...style} {...other} animation={animation} />)\n      }\n    }\n    return labels\n  }\n\n  renderAxis(axisAttrs) {\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\n    return axisAttrs.map((attr, i) => {\n      const { style, ...other } = this.getStyle('axis', attr, { text: attr.label }, i)\n      if (style === false) {\n        return\n      }\n      return (\n        <Group>\n          <Polyline {...attr} {...style} {...other} animation={animation} />\n          {this.renderAxisLabel(attr, i)}\n          {this.renderAxisScale(attr, i)}\n        </Group>\n      )\n    })\n  }\n\n  renderPoints(sectionAttrs) {\n    const allPoints = sectionAttrs.map((attrs) => {\n      const { animation: secAnimation, dataOrigin, strokeColor, state } = attrs\n      const prePoints = secAnimation && secAnimation.from && secAnimation.from.points\n      const toPoints = secAnimation && secAnimation.to && secAnimation.to.points\n      return toPoints.map((point, i) => {\n        let animation = {\n          from: { pos: [0, 0], opacity: 1 },\n          to: { pos: point, opacity: 1 }\n        }\n\n        if (prePoints && prePoints[i]) {\n          if (!this.isSamePoints(prePoints[i], point)) {\n            animation.from.pos = prePoints[i]\n          } else {\n            animation.from.pos = point\n          }\n        }\n        if (state === 'disabled') {\n          animation.to.opacity = 0\n        }\n\n        const attr = {\n          pos: point,\n          fillColor: strokeColor,\n          radius: 2,\n          dataOrigin: dataOrigin[i]\n        }\n        const { style, hoverStyle } = this.getStyle('point', attr, { ...attr.dataOrigin }, i)\n        if (style === false) {\n          return\n        }\n        const TargetName = getPointSymbol(style)\n        return <TargetName {...attr} {...style} {...hoverStyle} animation={animation} zIndex={99} />\n      })\n    })\n\n    return allPoints.reduce((pre, cur) => pre.concat(cur), [])\n  }\n\n  renderSection(sectionAttrs) {\n    return sectionAttrs.map((attr, i) => {\n      const { animation, ...otherAttr } = attr\n      return (\n        <Polyline\n          zIndex={9 + i}\n          {...otherAttr}\n          animation={animation}\n          onMouseenter={this.onMouseenter}\n          onMouseleave={this.onMouseleave}\n        />\n      )\n    })\n  }\n\n  onMouseenter = throttle(\n    (event, el) => {\n      this.dataset.resetState()\n      const name = el.attributes.name\n      this.dataset.rows\n        .filter((row) => row.state !== 'disabled')\n        .forEach((row) => {\n          row.state = row.name === name ? 'hover' : 'default'\n        })\n    },\n    16,\n    true\n  )\n  onMouseleave() {\n    this.dataset.resetState()\n    this.dataset.rows.filter((row) => row.state !== 'disabled').forEach((row) => row.state === 'default')\n  }\n\n  render({ sectionAttrs, axisAttrs, gridAttrs }) {\n    const { center, clientRect } = this.renderAttrs\n    return (\n      <Group pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group pos={center}>\n          {this.renderGrid(gridAttrs)}\n          {this.renderAxis(axisAttrs)}\n          {this.renderSection(sectionAttrs)}\n          {this.renderPoints(sectionAttrs)}\n        </Group>\n      </Group>\n    )\n  }\n}\n\nexport default Radar\n","import Base from \"../../base/BaseVisual\";\nimport { Group, Sprite } from \"spritejs\";\nimport { deepObjectMerge, throttle } from \"@qcharts/utils\";\nimport layout from \"./layout\";\nclass Bar extends Base {\n  constructor(attrs) {\n    super(attrs);\n    this.type = \"bar\";\n    this.pillars = null;\n    this.groups = null;\n    this.fromTos = null;\n    this.hoverIndex = -1;\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs;\n    return attrs;\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base---------before\n    let { arrLayout } = this.getRenderData();\n    let barData = arrLayout.barData.map((item) => {\n      return {\n        attrs: item,\n        from: {\n          size: this.renderAttrs.transpose\n            ? [0, item.size[1]]\n            : [item.size[0], 0],\n        },\n        to: {\n          size: item.size,\n        },\n      };\n    });\n    this.pillars = barData;\n    this.groups = arrLayout.groupData;\n    return { barData, groupData: arrLayout.groupData };\n  }\n  beforeUpdate() {\n    const pillars = this.pillars;\n    let { arrLayout } = this.getRenderData();\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1];\n      if (!prev) {\n        prev = {\n          size: [0, 0],\n          pos: nextPillar.pos,\n          labelAttrs: null,\n        };\n      }\n      return {\n        attrs: nextPillar,\n        from: {\n          size: prev.attrs.disable\n            ? this.attr(\"transpose\")\n              ? [0, prev.attrs.size[1]]\n              : [prev.attrs.size[0], 0]\n            : prev.attrs.size,\n          pos: prev.attrs.pos,\n        },\n        to: {\n          size: nextPillar.size,\n          pos: nextPillar.pos,\n        },\n      };\n    });\n    this.pillars = barData;\n    this.groups = arrLayout.groupData;\n    return { barData, groupData: arrLayout.groupData };\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs;\n    let renderData = this.dataset[renderAttrs.layoutBy];\n    const dataLength =\n      renderData.length > 1 ? renderData.length : renderData[0].length;\n    let arrLayout = layout(renderData, renderAttrs);\n    let colors = this.theme.colors;\n    let styles = this.renderStyles;\n    arrLayout.barData = arrLayout.barData.map((bar, i) => {\n      let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\n      let barStyle = deepObjectMerge(\n        { bgcolor: bar.bgcolor || colors[i % dataLength] },\n        styles.bar,\n        style\n      );\n      bar = deepObjectMerge(bar, barStyle);\n      return bar;\n    });\n    return { arrLayout };\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    let renderData = this.dataset[\"rows\"];\n    let stateArray = Array.from(\n      { length: renderData[0].length },\n      () => \"defalut\"\n    );\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: \"bar\",\n      bgpillarState: stateArray,\n      states: {\n        bgpillar: {\n          animation: { duration: 20 },\n          default: { opacity: 0.01 },\n          hover: { opacity: 0.1 },\n        },\n      },\n    };\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {};\n  }\n  onMousemove = throttle(\n    (event, el) => {\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\n        let curInd = 0;\n        let [x, y] = el.getOffsetPosition(event.x, event.y);\n        if (!this.renderAttrs.transpose) {\n          //获取 x轴坐标的刻度\n          let width = this.groups[0].size[0];\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(x / width);\n        } else {\n          let width = this.groups[0].size[1];\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(y / width);\n        }\n        if (curInd < 1) {\n          curInd = 0;\n        } else if (curInd > this.groups.length - 1) {\n          curInd = this.groups.length - 1;\n        }\n        if (this.hoverIndex !== curInd) {\n          let { bgpillarState } = this.renderAttrs;\n          bgpillarState[curInd] = \"hover\";\n          bgpillarState[this.hoverIndex] = \"defualt\";\n          this.attr(\"bgpillarState\", bgpillarState);\n          this.dataset.resetState();\n          this.dataset.cols[curInd].state = \"hover\";\n          this.hoverIndex = curInd;\n        }\n      }\n    },\n    16,\n    true\n  );\n  onMouseleave(e, el) {\n    this.dataset.resetState();\n    let { bgpillarState } = this.renderAttrs;\n    bgpillarState[this.hoverIndex] = \"defualt\";\n    this.attr(\"bgpillarState\", bgpillarState);\n    this.hoverIndex = -1;\n  }\n  myClick = function() {\n    console.log(\"myclick\");\n  };\n\n  render(data) {\n    let { clientRect, bgpillarState, states } = this.renderAttrs;\n    return (\n      <Group\n        class=\"container\"\n        ref=\"wrap\"\n        pos={[clientRect.left, clientRect.top]}\n        size={[clientRect.width, clientRect.height]}\n        onMouseleave={this.onMouseleave}\n        onMouseenter={this.onMousemove}\n        onMousemove={this.onMousemove}\n        onClick={this.myClick}\n        // onMousemove={throttle(this.onMousemove)}\n      >\n        <Group ref=\"pillars\" class=\"pillars-group\">\n          {data.barData.map((pillar, ind) => {\n            return (\n              <Sprite\n                {...pillar.attrs}\n                {...pillar.from}\n                animation={{ from: pillar.from, to: pillar.to }}\n              />\n            );\n          })}\n        </Group>\n        <Group ref=\"bgpillar\" class=\"bgpillars-group\">\n          {data.groupData.map((pillar, ind) => {\n            return (\n              <Sprite\n                state={bgpillarState[ind]}\n                states={states.bgpillar}\n                {...pillar}\n              />\n            );\n          })}\n        </Group>\n      </Group>\n    );\n  }\n}\nexport default Bar;\n","import { axis } from \"../../utils/axis\";\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr;\n  const { stack, splitNumber, clientRect } = attrs;\n  const { width, height } = clientRect;\n  const barSize = [width, height];\n  const transpose = attrs.transpose || false;\n  const groupGap = attrs.groupGap || 0;\n  const stackGap = attrs.stackGap || 0;\n  let barWidth = attrs.barWidth || 0;\n  // 输出\n  const barData = [];\n  const groupData = [];\n\n  const bgPillarAttr = { opacity: 0, bgcolor: \"#000\" };\n\n  const valueAxis = axis({ dataSet: data, stack, splitNumber });\n  if (!valueAxis || !valueAxis.length) {\n    return { barData, groupData };\n  }\n  const tableSize = transpose\n    ? { label: barSize[1], value: barSize[0] }\n    : { label: barSize[0], value: barSize[1] };\n  const axisValueMax = Math.max.apply(this, valueAxis);\n  const axisValueMin = Math.min.apply(this, valueAxis);\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin); // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data); // 图例显示个数\n\n  const GROUP_NUM = data[0].length;\n  let gap = 0;\n  // 柱子宽度，根据数据绘制类型计算，是否分组，是否旋转\n  if (barWidth === 0) {\n    barWidth = stack\n      ? (tableSize.label * 0.5) / GROUP_NUM\n      : (tableSize.label * 0.5) / (GROUP_NUM * GROUP_BAR_NUM);\n\n    gap = stack ? barWidth : barWidth * GROUP_BAR_NUM;\n  } else {\n    gap = stack\n      ? (tableSize.label - barWidth * GROUP_NUM) / GROUP_NUM\n      : (tableSize.label -\n          barWidth * GROUP_BAR_NUM * GROUP_NUM -\n          groupGap * (GROUP_BAR_NUM - 1) * GROUP_NUM) /\n        GROUP_NUM;\n  }\n\n  const BAR_HEIGHT_FACTOR = tableSize.value / (axisValueMax - axisValueMin);\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0; // 计算当前柱子前面有几根被隐藏\n      let value = 0;\n      let gpData = { rects: [] };\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].state !== \"disabled\") {\n        //   data[j][i].state = \"default\";\n        // }\n\n        value = data[j][i].value;\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value);\n        let rect = {\n          anchor: [\n            transpose && value < 0 ? 1 : 0,\n            transpose || value < 0 ? 0 : 1,\n          ],\n          size: transpose\n            ? [barHeight, barWidth - 1]\n            : [barWidth - 1, barHeight],\n          pos: transpose\n            ? [\n                tableSize.value * (1 - POSITIVE_RATIO),\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i,\n              ]\n            : [\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i,\n                tableSize.value * POSITIVE_RATIO,\n              ],\n\n          labelAttrs: {\n            opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\n            text: value,\n            anchor: [transpose && value < 0 ? 1 : 0, 0.5],\n            pos: transpose\n              ? [\n                  tableSize.value * (1 - POSITIVE_RATIO),\n                  gap / 2 +\n                    (barWidth + groupGap) * (j - flag) +\n                    (barWidth * GROUP_BAR_NUM +\n                      groupGap * (GROUP_BAR_NUM - 1) +\n                      gap) *\n                      i +\n                    barWidth * 0.5,\n                ]\n              : [\n                  gap / 2 +\n                    (barWidth + groupGap) * (j - flag) +\n                    (barWidth * GROUP_BAR_NUM +\n                      groupGap * (GROUP_BAR_NUM - 1) +\n                      gap) *\n                      i +\n                    barWidth * 0.5,\n                  tableSize.value * POSITIVE_RATIO,\n                ],\n            rotate: transpose ? 0 : value < 0 ? 90 : 270,\n          },\n\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n        };\n        if (rect.state === \"disabled\") {\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0];\n          flag++;\n        } else {\n          gpData.rects.push(rect);\n        }\n        barData.push(rect);\n      }\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        // title: data[0][i]['_x'],\n        pos: transpose\n          ? [\n              0,\n              (gap +\n                barWidth * GROUP_BAR_NUM +\n                groupGap * (GROUP_BAR_NUM - 1)) *\n                i,\n            ]\n          : [\n              (gap +\n                barWidth * GROUP_BAR_NUM +\n                groupGap * (GROUP_BAR_NUM - 1)) *\n                i,\n              0,\n            ],\n        size: transpose\n          ? [\n              tableSize.value,\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\n            ]\n          : [\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\n              tableSize.value,\n            ],\n        ...bgPillarAttr,\n      });\n      groupData.push(gpData);\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0;\n      let heightSumDown = 0;\n      let value = 0;\n      let gpData = { rects: [] };\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        let stackGapTemp = stackGap;\n        // if (data[j][i].state !== \"disabled\") {\n        //   data[j][i].state = \"default\";\n        // }\n        value = data[j][i].value;\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value);\n        if (barHeight === 0) {\n          stackGapTemp = 0;\n        }\n        let posY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown\n            : tableSize.value * POSITIVE_RATIO - heightSumUp;\n        let posX =\n          value < 0\n            ? tableSize.value * (1 - POSITIVE_RATIO) - heightSumDown\n            : tableSize.value * (1 - POSITIVE_RATIO) + heightSumUp;\n        let posLabelY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown + barHeight\n            : tableSize.value * POSITIVE_RATIO - heightSumUp;\n        let rect = {\n          anchor: [\n            transpose && value < 0 ? 1 : 0,\n            transpose || value < 0 ? 0 : 1,\n          ],\n          size: transpose\n            ? [barHeight - stackGapTemp, barWidth]\n            : [barWidth, barHeight - stackGapTemp],\n          pos: transpose\n            ? [posX, gap / 2 + (barWidth + gap) * i]\n            : [gap / 2 + (barWidth + gap) * i, posY],\n          index: j,\n          labelAttrs: {\n            opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\n            text: value,\n            anchor: transpose ? (value < 0 ? [1, 0.5] : [0, 0.5]) : [0.5, 1],\n            pos: transpose\n              ? [posX, +(gap + barWidth) / 2 + (barWidth + gap) * i]\n              : [(gap + barWidth) / 2 + (barWidth + gap) * i, posLabelY],\n          },\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n        };\n        if (rect.state === \"disabled\") {\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0];\n        } else {\n          value < 0\n            ? (heightSumDown = heightSumDown + barHeight)\n            : (heightSumUp = heightSumUp + barHeight);\n          gpData.rects.push(rect);\n        }\n        barData.push(rect);\n      }\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        pos: transpose ? [0, (gap + barWidth) * i] : [(gap + barWidth) * i, 0],\n        size: transpose\n          ? [tableSize.value, barWidth + gap]\n          : [barWidth + gap, tableSize.value],\n        ...bgPillarAttr,\n      });\n      groupData.push(gpData);\n    }\n  }\n\n  return { barData, groupData };\n}\n\nfunction computerLegend(data) {\n  let flag = 0;\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++;\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1;\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Ring } from 'spritejs'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport layout from './layout'\nimport { getStyle } from '@/utils/getStyle'\nimport filterClone from 'filter-clone'\nclass PolarBar extends Base {\n  constructor(attrs) {\n    super(attrs);\n    this.type = \"polarbar\";\n    this.pillars = [];\n    this.hoverIndex = -1;\n    this.timer = null;\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let { height, width, top, left } = attrs.clientRect\n    attrs.pos = [left + width / 2, top + height / 2]\n    return attrs\n  }\n\n  beforeRender() {\n\n    //渲染前的处理函数，返回rings,继承base\n    let { arrLayout } = this.getRenderData();\n    this.pillars = arrLayout.barData;\n    let barData = arrLayout.barData.map((item) => {\n      return {\n        from: {\n          endAngle: item.startAngle\n        },\n        to: item,\n      };\n    });\n    return { barData };\n  }\n  beforeUpdate() {\n    const pillars = this.pillars\n    let { pos } = this.renderAttrs\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let curPos = [\n        pos[0] + nextPillar.offsetPos[0],\n        pos[1] + nextPillar.offsetPos[1],\n      ];\n      nextPillar.pos = curPos;\n      return {\n        from: { ...pillars[i] },\n        to: { ...nextPillar },\n      };\n    });\n    this.pillars = arrLayout.barData;\n    return { barData };\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    if (!renderData || renderData.length === 0) {\n      return { barData: [] };\n    }\n    const dataLength = renderData.length > 1 ? renderData.length : renderData[0].length\n    this.legendArr = Array.from({ length: renderData.length }, () => {\n      return 1;\n    });\n    let arrLayout = layout(renderData, renderAttrs);\n    let colors = this.theme.colors;\n    let styles = this.renderStyles;\n\n    arrLayout.barData.forEach((bar, i) => {\n      let style = this.style('pillar')(bar.attrs, this.dataset.rows[i], i)\n      bar.fillColor = bar.fillColor || colors[i % dataLength]\n      bar.strokeColor = renderAttrs.strokeColor || '#FFF'\n      bar.pos = renderAttrs.pos\n      if (!bar.hasOwnProperty('startAngle') || !bar.hasOwnProperty('endAngle')) {\n        bar.lineWidth = 0\n      } else {\n        bar.lineWidth = 1\n      }\n      let barStyle = deepObjectMerge({ bgcolor: bar.bgcolor || colors[i % dataLength] }, styles.bar, style)\n      bar = deepObjectMerge(bar, barStyle)\n    })\n    return { arrLayout }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'bar',\n      //选中偏移量基数\n      activeOffset: 10\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n\n  mouseleave() {\n    this.timer = setTimeout(() => {\n      this.dataset.resetState();\n      this.hoverIndex = -1;\n    }, 100);\n  }\n\n  mousemove(e, el) {\n    clearTimeout(this.timer);\n    // let fun = throttle(function(e, el) {\n    let renderData = this.renderData();\n    let ind = el.attr(\"_index\");\n    let groupInd = Math.floor(ind / renderData.length);\n    if (groupInd !== this.hoverIndex) {\n      this.dataset.resetState();\n      this.dataset[this.renderAttrs.layoutBy === \"rows\" ? \"cols\" : \"rows\"][\n        groupInd\n      ].state = \"hover\";\n      this.hoverIndex = groupInd;\n    }\n    // }, 30).bind(this);\n    // fun(e, el);\n  }\n  groupMousemove(e, el) {\n    console.log(el)\n  }\n  renderData() {\n    let renderAttrs = this.renderAttrs\n    return this.dataset[renderAttrs.layoutBy]\n  }\n  render(data) {\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n    return (\n      <Group class=\"container\" ref=\"wrap\">\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\n          {data.barData.map((ring, ind) => {\n            let style = getStyle(\n              this,\n              'sector',\n              [\n                {\n                  _index: ind\n                },\n                styles.sector\n              ],\n              [this.dataset.rows[ind], ind]\n            );\n            return ring.state === \"disabled\" || style === false ? (\n              <Node />\n            ) : (\n              <Ring\n                onMousemove={this.mousemove}\n                {...style}\n                animation={{ from: ring.from, to: ring.to }}\n              />\n            );\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default PolarBar\n","import { axis } from \"../../utils/axis\";\n\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr;\n  const { stack, splitNumber, clientRect, groupPadAngle, activeOffset } = attrs;\n  const { width, height } = clientRect;\n  const barSize = [width, height];\n  const groupGap = groupPadAngle || 0;\n  const stackGap = attrs.stackGap || 0;\n\n  const radius = attrs.radius || 1;\n  const barInnerRadius = attrs.innerRadius || 0;\n  const padAngle = attrs.padAngle;\n  // 输出\n  const barData = [];\n\n  const bgPillarAttr = { opacity: 0.01, fillColor: \"#FF0000\" };\n\n  // const valueAxis = getAxis(stack, data)\n  const valueAxis = axis({ dataSet: data, stack, splitNumber });\n  if (!valueAxis || !valueAxis.length) {\n    return { barData };\n  }\n\n  const tableSize = Math.min(barSize[0], barSize[1]);\n  const axisValueMax = Math.max.apply(this, valueAxis);\n  const axisValueMin = Math.min.apply(this, valueAxis);\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin); // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data); // 图例显示个数\n\n  const GROUP_NUM = data[0].length;\n  const BAR_MAX_HEIGHT = 0.5 * radius * tableSize;\n  const BAR_HEIGHT_FACTOR = BAR_MAX_HEIGHT / (axisValueMax - axisValueMin);\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0; // 计算当前柱子前面有几根被隐藏\n      let value = 0;\n      let gpData = { rects: [] };\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].disabled !== true) {\n        //   data[j][i].disabled = false;\n        // }\n        let barAngle = groupAngle / GROUP_BAR_NUM;\n        let startAngle =\n          (groupAngle + groupGap) * i + barAngle * (j - flag) - Math.PI * 0.5;\n        value = data[j][i].value;\n        let barHeight = BAR_HEIGHT_FACTOR * value;\n        let innerRadius =\n          BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) +\n          barInnerRadius * tableSize * 0.5;\n        //默认中心坐标偏移量0\n        let offsetPos = [0, 0];\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: innerRadius + barHeight,\n          startAngle: (startAngle * 180) / Math.PI,\n          endAngle: ((startAngle + barAngle) * 180) / Math.PI,\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n          id: i * lenj + j,\n          offsetPos: offsetPos,\n        };\n        if (rect.state === \"hover\") {\n          let curAngle = ((rect.startAngle + rect.endAngle) / 2) % 360;\n          rect.bisectorRadian = transRadius(curAngle);\n          //角平分,角度转弧度,默认是顺时针，角度为相反\n          rect.offsetPos = [\n            activeOffset * Math.cos(rect.bisectorRadian),\n            activeOffset * Math.sin(rect.bisectorRadian),\n          ];\n          //选中状态\n        }\n        if (rect.state === \"disabled\") {\n          rect.endAngle = rect.startAngle;\n          rect.radius = 0;\n          rect.opacity = 0;\n          flag++;\n        } else {\n          rect.opacity = 1;\n          gpData.rects.push(rect);\n        }\n        if (GROUP_NUM < 2) {\n          delete rect.startAngle;\n          delete rect.endAngle;\n        }\n        barData.push(rect);\n      }\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0;\n      let heightSumDown = 0;\n      let value = 0;\n      let gpData = { rects: [] };\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].disabled !== true) {\n        //   data[j][i].disabled = false;\n        // }\n        let startAngle = (groupAngle + groupGap) * i - Math.PI * 0.5;\n        value = data[j][i].value;\n        let barHeight = BAR_HEIGHT_FACTOR * value;\n        let innerRadius =\n          value < 0\n            ? BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) - heightSumDown\n            : BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + heightSumUp;\n        innerRadius = innerRadius + barInnerRadius * tableSize * 0.5;\n        let offsetPos = [0, 0];\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: innerRadius + barHeight - stackGap,\n          startAngle: (startAngle * 180) / Math.PI,\n          endAngle: ((startAngle + groupAngle) * 180) / Math.PI,\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n          offsetPos: offsetPos,\n        };\n\n        if (rect.state === \"hover\") {\n          rect.strokeColor = \"#F00\";\n        } else {\n          delete rect.strokeColor;\n        }\n        if (rect.state === \"disabled\") {\n          rect.opacity = 0;\n        } else {\n          rect.opacity = 1;\n          value < 0\n            ? (heightSumDown = heightSumDown - barHeight)\n            : (heightSumUp = heightSumUp + barHeight);\n          gpData.rects.push(rect);\n        }\n        barData.push(rect);\n      }\n    }\n  }\n  // attachPadAngleOfArr(barData, padAngle)\n  return { barData };\n}\n\nfunction computerLegend(data) {\n  let flag = 0;\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++;\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1;\n}\nexport function transRadius(angle) {\n  return (angle / 180) * Math.PI;\n}\n","import { axis } from \"../../utils/axis\";\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr;\n  const { align, pyramid, clientRect } = attrs;\n  const { width, height } = clientRect;\n  // 输出\n  const polygons = [];\n\n  const max = arr[0][0].value;\n  const widthFactory = width / max;\n  const POLYGON_NUM = computerLegend(data); // 图例显示个数\n  let flag = 0; // 计算当前polygon前面有几个被隐藏\n  for (let i = 0, len = data.length; i < len; i++) {\n    let polygon = { colse: true, lineWidth: 3, points: [] };\n    const value = data[i][0].value;\n    let offset = 0;\n    let textAnchor = [0, 0.5];\n    if (align === \"center\") {\n      textAnchor = [0.5, 0.5];\n      offset = 0.5;\n    } else if (align === \"right\") {\n      offset = 1;\n      textAnchor = [1, 0.5];\n    }\n    polygon.points.push(\n      (max - value) * offset * widthFactory,\n      (height * (i - flag)) / POLYGON_NUM\n    );\n    polygon.points.push(\n      (max * offset + value * (1 - offset)) * widthFactory,\n      (height * (i - flag)) / POLYGON_NUM\n    );\n    if (i - flag + 1 < POLYGON_NUM) {\n      let counter = 1;\n\n      while (data[i + counter][0].state === \"disabled\") {\n        counter++;\n      }\n      const nextValue = data[i + counter][0].value;\n\n      polygon.points.push(\n        (max * offset + nextValue * (1 - offset)) * widthFactory,\n        (height * (i - flag + 1)) / POLYGON_NUM\n      );\n      polygon.points.push(\n        (max - nextValue) * offset * widthFactory,\n        (height * (i - flag + 1)) / POLYGON_NUM\n      );\n    } else {\n      if (pyramid) {\n        polygon.points.push(offset * width, height);\n      } else {\n        polygon.points.push(\n          (max * offset + value * (1 - offset)) * widthFactory,\n          (height * (i - flag + 1)) / POLYGON_NUM\n        );\n        polygon.points.push(\n          (max - value) * offset * widthFactory,\n          (height * (i - flag + 1)) / POLYGON_NUM\n        );\n      }\n    }\n    polygon.opacity = 1;\n    if (data[i][0].state === \"disabled\") {\n      polygon.points[6] = polygon.points[0];\n      polygon.points[7] = polygon.points[1];\n\n      polygon.points[4] = polygon.points[2];\n      polygon.points[5] = polygon.points[3];\n\n      polygon.opacity = 0;\n      flag++;\n    }\n    polygon.labelAttrs = {\n      opacity: !data[i][0].state === \"disabled\" ? 1 : 0,\n      text: Math.round((100 * value) / max) + \"%\",\n      anchor: textAnchor,\n      pos: [\n        width * offset + (0.5 - offset) * 10,\n        ((i - flag + 0.5) * height) / POLYGON_NUM,\n      ],\n      fillColor: \"#FFF\",\n      fontSize: \"12px\",\n    };\n    polygons.push(polygon);\n  }\n\n  return polygons;\n}\n\nfunction computerLegend(data) {\n  let flag = 0;\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++;\n    }\n  }\n  if (flag === 0) {\n    console.warn(\"data invalid!\");\n  }\n  return flag || 1;\n}\n","import Base from \"../../base/BaseVisual\";\nimport { Group, Polyline } from \"spritejs\";\nimport { deepObjectMerge, throttle } from \"@qcharts/utils\";\nimport layout from \"./layout\";\nclass Funnel extends Base {\n  constructor(attrs) {\n    super(attrs);\n    this.type = \"funnel\";\n    this.polygons = null;\n\n    this.hoverIndex = -1;\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs;\n    return attrs;\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base---------before\n    let { polygons } = this.getRenderData();\n    polygons = polygons.map((plg) => {\n      return {\n        from: {\n          points:\n            plg.points.length === 8\n              ? [\n                  plg.points[6],\n                  plg.points[7],\n                  plg.points[4],\n                  plg.points[5],\n                  plg.points[4],\n                  plg.points[5],\n                  plg.points[6],\n                  plg.points[7],\n                ]\n              : [\n                  plg.points[4],\n                  plg.points[5],\n                  plg.points[4],\n                  plg.points[5],\n                  plg.points[4],\n                  plg.points[5],\n                ],\n        },\n        to: {\n          pos: [0, 0],\n          ...plg,\n        },\n      };\n    });\n    this.polygons = polygons;\n    return { polygons };\n  }\n  beforeUpdate() {\n    let oldPolygons = this.polygons;\n    let { polygons } = this.getRenderData();\n    polygons = polygons.map((polygon, i) => {\n      return {\n        from: {\n          points: oldPolygons[i].to.points,\n        },\n        to: {\n          ...polygon,\n        },\n      };\n    });\n    this.polygons = polygons;\n    return { polygons };\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs;\n    let renderData = this.dataset[renderAttrs.layoutBy];\n    let polygons = layout(renderData, renderAttrs);\n    let colors = this.theme.colors;\n    let styles = this.renderStyles;\n    polygons = polygons.map((plg, i) => {\n      let style = this.style(\"polygon\")(plg.attrs, this.dataset.rows[i], i);\n      let plgStyle = deepObjectMerge(\n        { fillColor: plg.bgcolor || colors[i] },\n        styles.funnel,\n        style\n      );\n      plg = deepObjectMerge(plg, plgStyle);\n      return plg;\n    });\n    return { polygons };\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    let renderData = this.dataset[\"rows\"];\n    let stateArray = Array.from(\n      { length: renderData[0].length },\n      () => \"defalut\"\n    );\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: \"bar\",\n      bgpillarState: stateArray,\n      states: {\n        bgpillar: {\n          animation: { duration: 20 },\n          default: { opacity: 0.01 },\n          hover: { opacity: 0.1 },\n        },\n      },\n    };\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {};\n  }\n  onMousemove = throttle(\n    (event, el) => {\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\n        let curInd = 0;\n        let [x, y] = el.getOffsetPosition(event.x, event.y);\n        if (!this.renderAttrs.transpose) {\n          //获取 x轴坐标的刻度\n          let width = this.groups[0].size[0];\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(x / width);\n        } else {\n          let width = this.groups[0].size[1];\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(y / width);\n        }\n        if (curInd < 1) {\n          curInd = 0;\n        } else if (curInd > this.groups.length - 1) {\n          curInd = this.groups.length - 1;\n        }\n        if (this.hoverIndex !== curInd) {\n          let { bgpillarState } = this.renderAttrs;\n          bgpillarState[curInd] = \"hover\";\n          bgpillarState[this.hoverIndex] = \"defualt\";\n          this.attr(\"bgpillarState\", bgpillarState);\n          this.dataset.resetState();\n          this.dataset.cols[curInd].state = \"hover\";\n          this.hoverIndex = curInd;\n        }\n      }\n    },\n    16,\n    true\n  );\n  onMouseleave(e, el) {\n    this.dataset.resetState();\n    let { bgpillarState } = this.renderAttrs;\n    bgpillarState[this.hoverIndex] = \"defualt\";\n    this.attr(\"bgpillarState\", bgpillarState);\n    this.hoverIndex = -1;\n  }\n  myClick = function() {\n    console.log(\"myclick\");\n  };\n\n  render(data) {\n    let { clientRect, bgpillarState, states } = this.renderAttrs;\n\n    return (\n      <Group\n        class=\"container\"\n        ref=\"wrap\"\n        pos={[clientRect.left, clientRect.top]}\n        size={[clientRect.width, clientRect.height]}\n      >\n        <Group ref=\"pillars\" class=\"pillars-group\" bgcolor={\"#FF0\"}>\n          {data.polygons.map((pillar, ind) => {\n            return (\n              <Polyline\n                {...pillar.from}\n                animation={{ from: pillar.from, to: pillar.to }}\n              />\n            );\n          })}\n        </Group>\n        {/* <Group class=\"label-group\">\n        </Group>\n        <Group class=\"line-group\">\n        </Group> */}\n      </Group>\n    );\n  }\n}\nexport default Funnel;\n","import { axis } from '../../utils/axis'\nimport { scaleLinear } from '../../utils/scaleLinear'\nimport { jsType } from '@qcharts/utils'\n\nconst getDataRange = (data) => {\n  if (data.length === 0) {\n    return [0, 1]\n  }\n  const min = Math.min(...data)\n  const max = Math.max(...data)\n  return [min, max]\n}\n\nconst getBigRange = (data) => {\n  if (data.length === 0) {\n    return [0, 1]\n  }\n  const [min, max] = getDataRange(data)\n  const n = Math.round(min / 10) - 1\n  const m = Math.round(max / 10) + 1\n  return [n * 10, m * 10]\n}\n\nconst updateSectionVal = (section, newSection) => {\n  const { min, max } = newSection\n  if (jsType(min) === 'number') {\n    section[0] = min\n  }\n  if (jsType(max) === 'number') {\n    section[1] = max\n  }\n}\n\nexport default function layout(dataSet, size, layoutWay) {\n  const [width, height] = size\n\n  const { text: textField, value: valueField } = dataSet.option\n  const allData = [...dataSet]\n\n  // 如果X轴是文本框，则进行均分\n  const maxLen = getDataRange(dataSet.rows.map((d) => d.length))[1]\n\n  let xDomain = [0, maxLen - 1]\n  let xSection = [0, maxLen - 1]\n  const xIsTextData = allData.some((d) => jsType(d.text) === 'string')\n  if (!xIsTextData) {\n    xSection = getBigRange(allData.map((d) => d.text))\n    const xScales = axis({\n      dataSet: data,\n      stack: false,\n      field: textField,\n      section: xSection,\n    })\n    xDomain = getDataRange(xScales)\n  }\n\n  const yIsTextData = allData.some((d) => jsType(d.value) === 'string')\n  if (yIsTextData) {\n    throw new Error(\"Scatter's value category data should be Number!\")\n  }\n  let ySection = getBigRange(allData.map((d) => d.value))\n  const yScales = axis({\n    dataSet: data,\n    stack: false,\n    field: valueField,\n    section: ySection,\n  })\n  const yDomain = getDataRange(yScales)\n\n  if (layoutWay) {\n    if (layoutWay[textField]) {\n      updateSectionVal(xSection, layoutWay[textField])\n    }\n    if (layoutWay[valueField]) {\n      updateSectionVal(ySection, layoutWay[valueField])\n    }\n  }\n\n  const newLayoutWay = {}\n  newLayoutWay[textField] = { min: xSection[0], max: xSection[1] }\n  newLayoutWay[valueField] = { min: ySection[0], max: ySection[1] }\n\n  const xLinear = scaleLinear()\n    .domain(xDomain)\n    .range([0, width])\n  const yLinear = scaleLinear()\n    .domain(yDomain)\n    .range([0, height])\n\n  const resultData = dataSet.rows.map((dArry) => {\n    const attrs = dArry.map((d, i) => {\n      const x = xIsTextData ? i : d.text\n      const y = d.value\n      const pos = [xLinear(x), height - yLinear(y)]\n      return {\n        pos,\n        radius: 5,\n        anchor: [1, 1],\n        dataOrigin: { ...d.data },\n        state: d.state,\n        name: dArry.name,\n        col: d.col,\n        row: d.row,\n      }\n    })\n    return {\n      name: dArry.name,\n      state: dArry.state,\n      attrs,\n    }\n  })\n  return { data: resultData, layoutWay: newLayoutWay }\n}\n","import { Group, Polyline, Label } from 'spritejs'\nimport BaseVisual from '../../base/BaseVisual'\nimport { scaleLinear } from '../../utils/scaleLinear'\nimport { hexToRgba } from '../../utils/color'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport layout from './layout'\nimport getPointSymbol from '../../utils/getPointSymbol'\n\nclass Scatter extends BaseVisual {\n  constructor(attrs = {}) {\n    super(attrs)\n    this.type = 'scatter'\n    this.scatterData = []\n    this.guideLineData = []\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'scatter',\n      labelField: null,\n      areaField: null,\n      areaRange: null,\n      showGuideLine: false,\n      layoutWay: null\n    }\n  }\n\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    return { ...attrs }\n  }\n\n  processData() {\n    const dataSet = this.dataset\n    const { layoutWay, clientRect } = this.renderAttrs\n    const { data, layoutWay: newLayoutWay } = layout(dataSet, [clientRect.width, clientRect.height], layoutWay)\n    deepObjectMerge(this.renderAttrs.layoutWay || {}, newLayoutWay)\n\n    data.forEach((item, i) => {\n      const color = this.theme.colors[i]\n      const fillColor = hexToRgba(color, 0.3)\n      item.attrs.forEach((di) => {\n        di.strokeColor = color\n        di.fillColor = fillColor\n      })\n    })\n    return data\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const updateData = this.processData()\n    const temp = updateData.map((row) => deepObjectMerge({}, row))\n    updateData.forEach((row, ind) => {\n      const oldRow = this.scatterData[ind]\n      row.attrs.forEach((cell, cInd) => {\n        const radius = this.getRealRadius({ ...cell })\n        if (oldRow && oldRow.attrs[cInd]) {\n          const oldCell = oldRow.attrs[cInd]\n          const toPos = [...cell.pos]\n          const fromPos =\n            oldCell.animation.to && oldCell.animation.to.pos ? [...oldCell.animation.to.pos] : [...oldCell.pos]\n          // 位置相同\n          if (toPos.toString() === fromPos.toString()) {\n            let fromRadius = radius\n            let toRadius = radius\n            //default-> disabled\n            if (cell.state === 'disabled') {\n              toRadius = 0\n            }\n            if (oldCell.animation.to.radius == 0) {\n              fromRadius = 0\n            }\n            cell.animation = {\n              from: { radius: fromRadius },\n              to: { radius: toRadius }\n            }\n          } else {\n            cell.animation = {\n              from: { pos: fromPos },\n              to: { pos: toPos }\n            }\n          }\n        } else {\n          cell.animation = {\n            from: { radius: 0 },\n            to: { radius: radius }\n          }\n        }\n      })\n    })\n    this.scatterData = temp\n    return updateData\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const renderData = this.processData()\n    this.scatterData = renderData.map((row) => deepObjectMerge({}, row))\n    renderData.forEach((row) => {\n      row.attrs.forEach((cell) => {\n        const radius = this.getRealRadius({ ...cell })\n        cell.animation = {\n          from: { radius: 0 },\n          to: { radius }\n        }\n      })\n    })\n    return renderData\n  }\n\n  rendered() {}\n\n  getRealRadius(attr) {\n    const { areaRange, areaField } = this.renderAttrs\n    const { radius, dataOrigin } = attr\n    // 面积字段未定义，直接返回半径\n    if (!areaField || !dataOrigin.hasOwnProperty(areaField)) {\n      return radius\n    }\n    // 面积范围未定义，直接返回数据中的面积\n    if (!areaRange) {\n      return dataOrigin[areaField]\n    }\n    const allData = [...this.dataset].filter((cell) => cell.state !== 'disabled').sort((a, b) => a - b)\n    const linear = scaleLinear()\n      .domain([allData[0], allData[allData.length - 1]])\n      .range(areaRange)\n    const realArea = linear(dataOrigin[areaField])\n    return realArea\n  }\n\n  onMouseenter(event, el) {\n    this.dataset.resetState()\n    const { row: rowInd, col: colInd } = el.attributes\n    this.dataset.forEach((cell) => {\n      cell.state = cell.row === rowInd && cell.col === colInd ? 'hover' : 'default'\n    })\n    const { showGuideLine } = this.renderAttrs\n    if (showGuideLine) {\n      const pos = el.attr('pos')\n      const { height, width } = this.renderAttrs.clientRect\n      this.guideLineData = [\n        [\n          [0, pos[1]],\n          [width, pos[1]]\n        ],\n        [\n          [pos[0], 0],\n          [pos[0], height]\n        ]\n      ]\n    }\n  }\n  onMouseleave() {\n    this.dataset.resetState()\n    this.guideLineData = []\n  }\n\n  renderGuideLine() {\n    if (this.guideLineData.length > 0) {\n      return this.guideLineData.map((points) => {\n        return <Polyline points={points} strokeColor={'#ddd'} lineWidth={1} translate={[0.5, 0.5]} />\n      })\n    }\n    return\n  }\n\n  renderLabel(data) {\n    const { labelField } = this.renderAttrs\n    if (labelField) {\n      const labels = data.map((item) => {\n        return item.attrs.map((attr, i) => {\n          const style = this.style('label')(attr, { ...attr.dataOrigin }, i)\n          if (style === false) {\n            return\n          }\n          const dataOrigin = attr.dataOrigin\n          if (dataOrigin.hasOwnProperty(labelField)) {\n            const { strokeColor, ...other } = attr\n            const text = dataOrigin[labelField]\n            const labelAttr = deepObjectMerge(\n              other,\n              {\n                fillColor: strokeColor,\n                text,\n                anchor: [0.5, 0.5],\n                fontSize: '12px'\n              },\n              style\n            )\n            return <Label {...labelAttr} />\n          }\n        })\n      })\n      return labels.reduce((pre, cur) => {\n        return pre.concat(cur)\n      }, [])\n    }\n  }\n\n  renderScatter(data) {\n    const scatters = data.map((item) => {\n      return item.attrs.map((attr, i) => {\n        let style = this.style('point')(attr, { ...attr.dataOrigin }, i)\n        if (style === false) {\n          return\n        }\n\n        const { radius } = attr\n\n        const hStyle = this.style('point:hover')(attr, attr.dataOrigin, i) || { radius: radius + 1 }\n        if (attr.state === 'hover') {\n          style = deepObjectMerge(style || {}, hStyle)\n        } else {\n          style = deepObjectMerge(style || {}, { radius })\n        }\n        const TargetName = getPointSymbol(style)\n        return <TargetName {...attr} {...style} onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave} />\n      })\n    })\n    return scatters.reduce((pre, cur) => {\n      return pre.concat(cur)\n    }, [])\n  }\n\n  render(data) {\n    const { height, width, left, top } = this.renderAttrs.clientRect\n    return (\n      <Group size={[width, height]} pos={[left, top]} zIndex={10}>\n        {this.renderScatter(data)}\n        {this.renderLabel(data)}\n        {this.renderGuideLine()}\n      </Group>\n    )\n  }\n}\n\nexport default Scatter\n","export function hexToRgba(hex, opacity) {\n  // 16进制颜色转rgba\n  if (/^rgba\\(.+\\)$/.test(hex)) {\n    return hex;\n  }\n  var c\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\n    c = hex.substring(1).split('')\n    if (c.length === 3) {\n      c = [c[ 0 ], c[ 0 ], c[ 1 ], c[ 1 ], c[ 2 ], c[ 2 ]]\n    }\n    c = '0x' + c.join('')\n    return (\n      'rgba(' +\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') +\n      ',' +\n      opacity +\n      ')'\n    )\n  }\n  throw new Error('Bad Hex')\n}\nexport function randomHexColor() {\n  // 随机生成十六进制颜色\n  let random = Math.floor(Math.random() * 16777216).toString(16) // 生成ffffff以内16进制数\n  while (random.length < 6) {\n    // while循环判断hex位数，少于6位前面加0凑够6位\n    random = `0${random}`\n  }\n  return `#${random}`\n}\n","//通过圆生成path\nfunction ellipse2path(cx, cy, rx, ry) {\n  //非数值单位计算，如当宽度像100%则移除\n  if (isNaN(cx - cy + rx - ry)) return\n  var path = 'M' + (cx - rx) + ' ' + cy + 'a' + rx + ' ' + ry + ' 0 1 0 ' + 2 * rx + ' 0' + 'a' + rx + ' ' + ry + ' 0 1 0 ' + -2 * rx + ' 0' + 'z'\n  return path\n}\nexport default ellipse2path\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Path, requestAnimationFrame, Label, Node } from 'spritejs'\nimport ellipse2path from '../../utils/ellipse2path'\nimport { getStyle } from '@/utils/getStyle'\nclass Wave extends Base {\n  constructor(attrs) {\n    super(attrs)\n    //波纹振偏移量\n    this.offsetR = 50\n    this.tickId = ''\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let clientRect = attrs.clientRect\n    let width = Math.floor(clientRect.width)\n    let height = Math.floor(clientRect.height)\n    attrs.center = [width / 2, height / 2]\n    if (!attrs.shape) {\n      attrs.shape = ellipse2path(attrs.center[0], attrs.center[1], attrs.radius, attrs.radius)\n    }\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    return []\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    return []\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n  }\n  rendered() {\n    //path的高宽\n    this.wave()\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      amplitude: 8, //振幅\n      wavelength: 300, //波长`\n      radius: 150,\n      percent: 0.65,\n      formatter: per => {\n        return per * 100 + '%'\n      }\n    }\n  }\n  wave() {\n    let currentR = 0\n    let per = 4\n    let clipWave = this.$refs['clipWave']\n    let clipPath = this.$refs['clipPath'] || clipWave\n    let pathHeight = clipPath.originalContentRect[3]\n    let { percent, wavelength, amplitude, clientRect, animation, shape } = this.renderAttrs\n    let perR = 24 / animation.duration\n    let currentX = 0 - clientRect.left\n    //以路径的top为起点，计算百分比\n    let startY = pathHeight * (1 - percent) + clipPath.originalContentRect[1]\n    this.tickId = requestAnimationFrame(_ => {\n      this.offsetR += perR\n      let points = [[currentX, startY + pathHeight]]\n      points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\n      while (currentX < clientRect.width + clientRect.left + clientRect.right) {\n        points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\n        currentX += wavelength / (per * 2)\n        currentR += Math.PI / per\n      }\n      let lastY = amplitude * Math.sin(currentR + this.offsetR)\n      points.push([currentX, startY + lastY])\n      points.push([currentX, startY + lastY])\n      points.push([currentX, startY + pathHeight])\n      clipWave.attr({ points: points, clipPath: ' ' + shape })\n      if (this.offsetR >= 2 * Math.PI) {\n        this.offsetR = this.offsetR % (2 * Math.PI)\n      }\n      this.wave()\n    })\n  }\n  render() {\n    let { clientRect, shape, center, formatter, percent } = this.renderAttrs\n    let renderStyles = this.renderStyles\n    let waveStyle = getStyle(this, 'wave', renderStyles.wave)\n    let shapeStyle = getStyle(this, 'shape', renderStyles.shape)\n    let textStyle = getStyle(this, 'text', renderStyles.text)\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Path ref=\"clipPath1\" d={shape} fillColor={shapeStyle.fillColor} />\n        <Polyline ref=\"clipWave\" {...waveStyle} clipPath={shape} smooth={true} />\n        <Path ref=\"clipPath\" d={shape} strokeColor={shapeStyle.strokeColor} lineWidth={shapeStyle.lineWidth} />\n        {textStyle === false ? <Node /> : <Label text={formatter(percent)} {...textStyle} pos={center} anchor={[0.5]} />}\n      </Group>\n    )\n  }\n}\nexport default Wave\n","import { Group, Polyline, Label, Arc, Gradient } from 'spritejs'\nimport { jsType } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\n\n/**\n * 根据给定参数，生成仪表盘刻度的坐标以及刻度文字标注的坐标\n * @param {Number} radius 仪表盘半径\n * @param {Number} angle 刻度的角度 单位度\n * @param {Number} tickLength 刻度的长度\n * @param {Number} labelOffset 刻度文字的偏移值\n * @param {Boolean} isInner 刻度是否在仪表盘内部\n */\nfunction tickLine(radius, angle, tickLength, labelOffset, isInner) {\n  const radian = (angle * Math.PI) / 180\n  const cos = Math.cos(radian)\n  const sin = Math.sin(radian)\n  // 起点\n  const [x, y] = [cos * radius, sin * radius]\n  // 中点\n  const [cX0, cY0] = isInner\n    ? [x - tickLength * cos, y - tickLength * sin]\n    : [x + tickLength * cos, y + tickLength * sin]\n  const labelPos = isInner\n    ? [x - (tickLength + labelOffset) * cos, y - (tickLength + labelOffset) * sin]\n    : [x + (tickLength + labelOffset) * cos, y + (tickLength + labelOffset) * sin]\n\n  let anchorX = isInner ? cos : -cos\n  let anchorY = isInner ? sin : -sin\n  let anchor = [0.5, 0.5]\n\n  if (Math.abs(anchorX) > Math.abs(anchorY)) {\n    anchor[0] = anchorX < 0 ? 0 : anchorX\n  } else {\n    anchor[1] = anchorY > 0 ? anchorY : 0\n  }\n  return {\n    points: [\n      [x, y],\n      [cX0, cY0]\n    ],\n    labelPos,\n    anchor\n  }\n}\n\nclass Gauge extends BaseVisual {\n  constructor(attrs) {\n    super(attrs)\n    this.gaugeAnimations = []\n    this.type = 'Gauge'\n    this.style('tickText', true)\n    this.style('tickLine', true)\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'gauge',\n      min: 0, // 刻度最小值\n      max: 100, // 刻度最大值\n      percent: 50, // 指针值\n      lineCap: 'round',\n      _useBuiltInColors: false, // 默认颜色不使用渐变色\n      lineWidth: 10, // 仪表盘圆弧宽度\n      startAngle: 140, // 仪表盘弧度起始角度，arc 角度顺时针增加，0度为屏幕X轴方向\n      endAngle: 400, // 仪表盘弧度终止角度\n      strokeBgcolor: '#dde3ea', // 仪表盘弧度的背景色\n      title: (d) => d,\n      tickStep: 10, // tick 步进，生成 tick 的数量为 (max - min) / tickStep\n      tickLength: 10, // 刻度长度，为负值时向外绘制\n      labelOffset: 5,\n      tickFormatter: (d) => d // 刻度文本格式化\n    }\n  }\n\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    // 仪表盘半径\n    const { clientRect } = attrs\n    const { height, width } = clientRect\n    const size = [width, height]\n\n    const radius = ~~Math.min.apply(\n      size,\n      size.map((v) => v / 2)\n    )\n    // 指针宽度\n    const pointerWidth = radius / 10\n    // 绘图中心\n    const center = [width / 2, height / 2]\n\n    return {\n      ...attrs,\n      radius,\n      pointerWidth,\n      center\n    }\n  }\n\n  get ticks() {\n    let {\n      min,\n      max,\n      radius,\n      startAngle,\n      endAngle,\n      lineWidth,\n      tickStep,\n      tickLength,\n      labelOffset,\n      tickFormatter\n    } = this.renderAttrs\n    const count = Math.abs(max - min) / tickStep\n\n    let total = endAngle - startAngle\n\n    const isInner = tickLength > 0\n    const perAngle = total / count\n    const ticks = []\n    let tickRadius = isInner ? radius - lineWidth / 2 : radius + lineWidth / 2\n    let angle = 0\n    let i = -1\n\n    while (++i <= count) {\n      angle = i * perAngle + startAngle\n      const ret = tickLine(tickRadius, angle, Math.abs(tickLength), Math.abs(labelOffset), isInner)\n      ticks.push({\n        points: ret.points,\n        label: {\n          text: tickFormatter(i * tickStep).toFixed(0),\n          pos: ret.labelPos,\n          anchor: ret.anchor\n        }\n      })\n    }\n\n    if ((ticks[0].angle + ticks[ticks.length - 1].angle) % (Math.PI * 2) === 0) {\n      ticks.pop()\n    }\n\n    return ticks\n  }\n\n  transform() {\n    const { radius, startAngle, endAngle, min, max, percent } = this.renderAttrs\n    const total = Math.abs(max - min)\n\n    return {\n      dataOrigin: percent,\n      startAngle,\n      radius,\n      endAngle: ((endAngle - startAngle) * percent) / total + startAngle,\n      strokeColor: this.color(0)\n    }\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const arc = this.transform()\n    this.gaugeAnimations = {\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\n    }\n    return arc\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const arc = this.transform()\n    const animation = {\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\n    }\n    if (this.gaugeAnimations) {\n      animation.from = { ...this.gaugeAnimations.to }\n    }\n\n    this.gaugeAnimations = { ...animation }\n    return arc\n  }\n\n  color(i) {\n    return this.theme.colors[i]\n  }\n\n  /**\n   * 渲染指针\n   * @param {Number} angle 角度\n   */\n  renderPointer(d, maxTickTextFontSize) {\n    const style = this.style('pointer')(d, d.dataOrigin, 0)\n    if (style === false) {\n      return\n    }\n    // 动画\n    let { from, to } = this.gaugeAnimations\n    // rotate角度起始位置为屏幕Y轴方向，arc角度为X轴方向\n    const fromRotate = from.endAngle + 90\n    const toRotate = to.endAngle + 90\n    const pointerAnimation = {\n      from: { rotate: fromRotate },\n      to: { rotate: toRotate }\n    }\n    // 半径\n    const { radius, pointerWidth, center, tickLength, labelOffset, lineWidth } = this.renderAttrs\n    // 指针顶部离仪表盘的距离\n    let pointerTopOffset = tickLength + lineWidth + labelOffset + maxTickTextFontSize\n    if (tickLength < 0) {\n      pointerTopOffset = pointerTopOffset - tickLength - labelOffset\n    }\n    // 指针长度\n    const pointerLen = radius - pointerTopOffset\n    // 指针宽度\n    let pWidth = radius / 10\n\n    // 指针颜色\n    const color = this.color(0)\n\n    const [x, y] = center\n    const attr = {\n      fillColor: color,\n      rotate: fromRotate,\n      transformOrigin: center,\n      zIndex: 11,\n      points: [\n        [x, y],\n        [x - pWidth / 2, y - pointerLen * 0.1],\n        [x, y - pointerLen],\n        [x + pWidth / 2, y - pointerLen * 0.1],\n        [x, y]\n      ],\n      close: true\n    }\n    return <Polyline {...attr} {...style} animation={pointerAnimation} />\n  }\n\n  isStyleExist(name) {\n    const style = this.style(`${name}`)\n    return Boolean(style)\n  }\n\n  render(data = {}) {\n    const {\n      _useBuiltInColors,\n      title,\n      percent,\n      center,\n      radius,\n      startAngle,\n      endAngle,\n      lineWidth,\n      lineCap,\n      strokeBgcolor,\n      clientRect\n    } = this.renderAttrs\n    const labelCenter = [center[0], center[1] * 1.25]\n    const ticks = this.ticks\n    const tickLine = this.isStyleExist('tickLine')\n    const tickText = this.isStyleExist('tickText')\n    const realTitle = title || percent\n\n    let gradientColor = null // 默认使用内置的渐变配色方案\n\n    if (_useBuiltInColors !== false) {\n      const colors = this.theme.colors.reverse()\n      const gradientOpt = {\n        vector: [0, 0, center[0] * 2, center[1] * 2],\n        colors: [\n          { color: colors[0], offset: 0 },\n          { color: colors[1], offset: 0.3 },\n          { color: colors[2], offset: 1 }\n        ]\n      }\n      gradientColor = new Gradient(gradientOpt)\n    }\n\n    let maxTickTextFontSize = 16\n    if (tickText !== false) {\n      ticks.map((tick, j) => {\n        const style = this.style('tickText')(data, data.dataOrigin, j)\n        if (style && style.fontSize) {\n          if (jsType(style.fontSize) === 'number' && maxTickTextFontSize < style.fontSize) {\n            maxTickTextFontSize = style.fontSize\n          }\n          if (jsType(style.fontSize) === 'string') {\n            const realSize = Number(style.fontSize.replace('px', ''))\n            if (jsType(realSize) === 'number' && maxTickTextFontSize < realSize) {\n              maxTickTextFontSize = realSize\n            }\n          }\n        }\n      })\n    }\n    const gPos = [clientRect.left, clientRect.top]\n    const gSize = [clientRect.width, clientRect.height]\n    return (\n      <Group pos={gPos} size={gSize}>\n        <Arc\n          pos={center}\n          lineWidth={lineWidth}\n          lineCap={lineCap}\n          startAngle={startAngle}\n          endAngle={endAngle}\n          strokeColor={strokeBgcolor}\n          radius={radius}\n          zIndex={10}\n        />\n        <Arc\n          pos={center}\n          lineCap={lineCap}\n          lineWidth={lineWidth}\n          {...data}\n          animation={this.gaugeAnimations}\n          {...(gradientColor ? { strokeColor: gradientColor } : { strokeColor: this.color(0) })}\n          {...this.style('arc')(data, data.dataOrigin, 0)}\n          zIndex={11}\n        />\n        {this.renderPointer(data, maxTickTextFontSize)}\n        {realTitle ? (\n          <Label\n            text={jsType(realTitle) === 'function' ? realTitle(data.dataOrigin) : realTitle}\n            pos={labelCenter}\n            textAlign=\"center\"\n            zIndex={10}\n            anchor={[0.5, 1]}\n            {...this.style('title')(data, data.dataOrigin, 0)}\n          />\n        ) : null}\n        {tickLine !== false || tickText !== false\n          ? ticks.map((tick, j) => (\n              <Group pos={center} anchor={[0, 0]} zIndex={1010}>\n                {tickLine !== false ? (\n                  <Polyline\n                    points={tick.points}\n                    strokeColor={strokeBgcolor}\n                    {...this.style('tickLine')(data, data.dataOrigin, j)}\n                  />\n                ) : null}\n                {tickText !== false ? <Label {...tick.label} {...this.style('tickText')(data, data.dataOrigin, j)} /> : null}\n              </Group>\n            ))\n          : null}\n      </Group>\n    )\n  }\n\n  rendered() {\n    this.on('resize', () => this.forceUpdate())\n  }\n}\n\nexport default Gauge\n","import { Group, Arc } from 'spritejs'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\n\n// 数据拷贝\nconst flattern = (arr) => [].concat.apply([], arr)\n\nclass RadialBar extends BaseVisual {\n  constructor(attrs = {}) {\n    super(attrs)\n    this.type = 'RadialBar'\n    this.animators = []\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'radialBar',\n      radius: 0.8,\n      innerRadius: 0,\n      startAngle: -90,\n      endAngle: 270,\n      lineWidth: 5,\n      strokeBgcolor: '#f5f5f5'\n    }\n  }\n\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    const { clientRect } = attrs\n    const size = [clientRect.width, clientRect.height]\n    return {\n      ...attrs,\n      size,\n    }\n  }\n\n  get maxOuterRadius() {\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\n    const [width, height] = size\n\n    if (endAngle - startAngle === 90) {\n      return Math.min(width, height) * radius\n    } else {\n      return (Math.min(width, height) / 2) * radius\n    }\n  }\n\n  get center() {\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\n    const angle = (endAngle + startAngle) / 2\n    const [width, height] = size\n    const maxRadius = this.maxOuterRadius\n    let [x, y] = [width / 2 - maxRadius, height / 2 - maxRadius]\n\n    if (endAngle - startAngle === 90) {\n      // 区分象限\n      const cos = Math.cos(angle)\n      const sin = Math.sin(angle)\n      const maxWidth = radius * width\n      const maxHeight = radius * height\n      x += cos < 0 ? maxWidth / 2 : -(maxWidth / 2)\n      y += sin < 0 ? maxHeight / 2 : -(maxHeight / 2)\n    }\n\n    return [x, y]\n  }\n\n  get innerRadius() {\n    let { radius, innerRadius } = this.renderAttrs\n    return innerRadius <= 0 ? 0 : (this.maxOuterRadius / radius) * innerRadius\n  }\n\n  transform(data) {\n    const { startAngle, endAngle, max, min, lineWidth, colors } = this.renderAttrs\n    let total = 0\n    if (!isNaN(max) && !isNaN(min)) {\n      total = max - min\n    } else {\n      let cloneData = deepObjectMerge(data)\n      cloneData.sort((a, b) => b.value - a.value)\n      total = cloneData[0].value * 1.3\n    }\n    const angle = endAngle - startAngle\n    const innerRadius = this.innerRadius\n    const outerRadius = this.maxOuterRadius\n    const arcOffset = 0.5\n    const len = data.length\n    const perRadius =\n      ((outerRadius - innerRadius) * 2 - lineWidth * (lineWidth >= 5 ? 1 : len - 1)) / ((len * 2 - 1) * (1 + arcOffset))\n    let value = null\n\n    data.forEach((d, i) => {\n      value = +d.value\n\n      d.pos = [outerRadius, outerRadius]\n      d.anchor = [0.5, 0.5]\n      d.lineWidth = lineWidth\n      d.startAngle = startAngle\n      d.endAngle = d.state === 'disabled' ? startAngle : startAngle + (angle * value) / total\n      d.innerRadius = innerRadius + i * (1 + arcOffset) * perRadius\n      d.radius = d.innerRadius + 1 * perRadius\n      d.strokeColor = colors[i]\n\n      const normalStyle = this.style('arc')(d, d.dataOrigin, d.index)\n\n      Object.assign(d, normalStyle)\n    })\n    return data\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const { startAngle } = this.renderAttrs\n    let data = flattern(this.dataset)\n    data = this.transform(data)\n    this.animators = data.map((d) => ({\n      from: {\n        startAngle,\n        endAngle: startAngle,\n      },\n      to: {\n        startAngle,\n        endAngle: d.endAngle,\n      },\n    }))\n    return data\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const { startAngle } = this.renderAttrs\n    let data = flattern(this.dataset)\n    data = this.transform(data)\n    this.animators = data.map((d, i) => {\n      if (d.anticlockwise) {\n        return d.disabled ? { from: { opacity: 1 }, to: { opacity: 0 } } : { from: { opacity: 1 }, to: { opacity: 1 } }\n      } else {\n        let prev = this.animators[i] ? this.animators[i].to : data[i - 1]\n\n        if (!prev) {\n          prev = {\n            startAngle: startAngle,\n            endAngle: startAngle,\n          }\n        }\n\n        return {\n          from: {\n            startAngle: prev.startAngle,\n            endAngle: prev.endAngle,\n          },\n          to: {\n            startAngle: d.startAngle,\n            endAngle: d.endAngle,\n          },\n        }\n      }\n    })\n    return data\n  }\n\n  render(data = []) {\n    const { strokeBgcolor } = this.renderAttrs\n\n    return (\n      <Group>\n        {data.map((d, i) => {\n          return (\n            <Group pos={this.center} size={[this.maxOuterRadius * 2, this.maxOuterRadius * 2]}>\n              <Arc {...d} startAngle={0} endAngle={360} strokeColor={strokeBgcolor} />\n              <Arc\n                {...d}\n                animation={{\n                  ...this.animators[i],\n                  duration: 300,\n                  delay: 0,\n                }}\n                {...this.style('arc:hover')(d, d.dataOrigin, d.index)}\n              />\n            </Group>\n          )\n        })}\n      </Group>\n    )\n  }\n\n  rendered() {}\n}\n\nexport default RadialBar\n","import Base from './Base'\nimport theme from '../theme/default'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nexport default class BasePlugin extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.plugins[this.constructor.name]\n    //如果当前对象设置了theme，不继承theme\n    this.theme.set = obj => {\n      if (this.theme === theme.visuals[this.constructor.name]) {\n        this.theme = filterClone(this.theme)\n      }\n      this.theme = deepObjectMerge(this.theme, obj)\n    }\n  }\n}\n","import { scaleLinear } from '../../utils/scaleLinear'\nimport { axis } from '../../utils/axis'\nimport { emptyObject } from '@qcharts/utils'\nexport default function layout(arr, attrs) {\n  let res = {\n    scales: [],\n    labels: [],\n    grids: [],\n    axisPoints: [],\n    orient: attrs.orient\n  }\n  let defaultAttrs = {\n    top: {\n      label: {\n        anchor: [0.5, 1],\n        padding: [0, 0, 6, 0],\n        textAlign: 'center'\n      },\n      scale: {\n        anchor: [0.5, 1],\n        width: 1,\n        height: 4\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'category'\n    },\n    bottom: {\n      scale: {\n        anchor: [0.5, 0],\n        width: 1,\n        height: 4\n      },\n      label: {\n        anchor: [0.5, 0],\n        padding: [6, 0, 0, 0],\n        textAlign: 'center'\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'category'\n    },\n    left: {\n      label: {\n        padding: [0, 8, 0, 0],\n        anchor: [1, 0.5],\n        textAlign: 'right'\n      },\n      scale: {\n        anchor: [1, 0.5],\n        width: 4,\n        height: 1\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'value'\n    },\n    right: {\n      label: {\n        anchor: [0, 0.5],\n        padding: [0, 0, 0, 8]\n      },\n      scale: {\n        anchor: [0, 0.5],\n        width: 4,\n        height: 1\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'value'\n    }\n  }\n  const { stack, splitNumber, clientRect, orient, axisGap, transpose } = attrs\n  if (transpose) {\n    ;['top', 'bottom', 'right', 'left'].forEach(str => {\n      defaultAttrs[str].type = defaultAttrs[str].type === 'value' ? 'category' : 'value'\n    })\n  }\n  const { width, height } = clientRect\n  let scales = axis({ dataSet: arr, stack, splitNumber })\n  let maxVal = Math.max.apply(this, scales)\n  let minVal = Math.min.apply(this, scales)\n  let type = attrs.type || defaultAttrs[orient].type\n  let distance = orient === 'left' || orient === 'right' ? height : width\n  if (type === 'value') {\n    let scaleFY = scaleLinear()\n      .domain([minVal, maxVal])\n      .range([0, distance])\n    scales.forEach(num => {\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, { text: '' + num }, num, scaleFY, clientRect)\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n      res.grids.push(gridAttr)\n    })\n  } else if (type === 'category') {\n    let curArr = arr[0]\n    let len = axisGap ? curArr.length : curArr.length - 1\n    let scaleFY = scaleLinear()\n      .domain([0, len])\n      .range([0, distance])\n    curArr.forEach((cell, ind) => {\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, cell, ind, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n      res.grids.push(gridAttr)\n    })\n    if (axisGap) {\n      // 如果是axisGap为true，需要添加一个点\n      let { scaleAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, {}, curArr.length, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n      res.grids.push(gridAttr)\n    }\n  }\n  if (orient === 'left' || orient === 'right') {\n    let dx = orient === 'left' ? 0 : width\n    res.axisPoints = [\n      [dx, height],\n      [dx, 0]\n    ]\n    res.nameAttr = { pos: [dx, 0], anchor: [0.5, 1], padding: [10] }\n  } else if (orient === 'bottom' || orient === 'top') {\n    let dy = orient === 'bottom' ? height : 0\n    res.axisPoints = [\n      [0, dy],\n      [width, dy]\n    ]\n    res.nameAttr = { pos: [width, dy], anchor: [0, 1] }\n  }\n  return res\n}\nfunction getItemAttrs(defaultAttrs, orient, cell, value, scaleF, clientRect, axisGap) {\n  let res = emptyObject()\n  let { width, height, left, top } = clientRect\n  let labelPosValue = axisGap ? value + 0.5 : value\n  if (orient === 'left' || orient === 'right') {\n    let x = orient === 'left' ? 0 : width\n    let yv = scaleF(value)\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [x, height - yv] }\n    res.gridAttr = {\n      ...defaultAttrs[orient].grid,\n      points: [\n        [x, height - yv],\n        [width, height - yv]\n      ]\n    }\n    res.labelAttr = { ...defaultAttrs[orient].label, width: left, text: '' + cell.text, pos: [x, height - scaleF(labelPosValue)] }\n  } else if (orient === 'top' || orient === 'bottom') {\n    let y = orient === 'top' ? 0 : height\n    let xv = scaleF(value)\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [xv, y] }\n    res.gridAttr = {\n      ...defaultAttrs[orient].grid,\n      points: [\n        [xv, 0],\n        [xv, y]\n      ]\n    }\n    res.labelAttr = { ...defaultAttrs[orient].label, width: left, text: '' + cell.text, pos: [scaleF(labelPosValue), y] }\n  }\n  return res\n}\n","import Base from '../../base/BasePlugin'\nimport { Group, Label, Polyline, Node } from 'spritejs'\nimport { emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nimport layout from './layout'\nimport { getStyle } from '@/utils/getStyle'\nclass Axis extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderAxis = emptyObject()\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    let targetVisual = this.chart.visuals[0]\n    if (attrs.axisGap === undefined && targetVisual && targetVisual.constructor.name === 'Bar') {\n      //如果axisGap没有赋值\n      //如果是柱状图\n      attrs.axisGap = true\n    }\n    if (targetVisual && targetVisual.constructor.name === 'Scatter') {\n      attrs.type = 'value'\n    }\n    if (attrs.transpose === undefined && targetVisual) {\n      //坐标轴转换\n      attrs.transpose = targetVisual.renderAttrs.transpose\n    }\n    return attrs\n  }\n  beforeRender() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  beforeUpdate() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    return {\n      layer: 'axis',\n      zIndex: -1,\n      formatter: e => e\n    }\n  }\n  //defaultStyles() {}\n  getRenderData() {\n    //根据axis的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let axis = layout(renderData, renderAttrs)\n    return { axis }\n  }\n  render(axis) {\n    let oldAxis = this.renderAxis || emptyObject()\n    this.renderAxis = axis\n    let { clientRect, formatter, orient, name } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    let axisStyle = getStyle(this, 'axis', styles.axis)\n    //当前主体颜色\n    let arrOrient = this.chart.plugins\n      .map(plugin => {\n        if (plugin.constructor.name === 'Axis') {\n          return plugin.renderAttrs.orient\n        }\n      })\n      .filter(Boolean)\n    let nameStyle = getStyle(this, 'name', [styles.name || {}, filterClone(axis.nameAttr, [], ['pos'])])\n    let oldPos = (oldAxis.nameAttr && oldAxis.nameAttr.pos) || axis.nameAttr.pos\n    let nameAni = { from: { pos: oldPos }, to: { pos: axis.nameAttr.pos } }\n    return (\n      <Group ref=\"wrap\" pos={[clientRect.left, clientRect.top]}>\n        <Polyline {...axisStyle} animation={{ from: { points: oldAxis.axisPoints }, to: { points: axis.axisPoints } }}></Polyline>\n        <Group>\n          {axis.grids.map((grid, ind) => {\n            let fromPoints = (oldAxis.grids && oldAxis.grids[ind] && oldAxis.grids[ind].points) || grid.points\n            let ani = { from: { points: fromPoints }, to: { points: grid.points } }\n            let style = getStyle(this, 'grid', styles.grid, [ind])\n            if (orient === 'left' || orient === 'right') {\n              if ((ind === 0 && arrOrient.includes('bottom')) || (ind = axis.grids.length - 1 && arrOrient.includes('top'))) {\n                return <Node />\n              }\n            } else if (orient === 'top' || orient === 'bottom') {\n              if ((ind === 0 && arrOrient.includes('left')) || (ind = axis.grids.length - 1 && arrOrient.includes('right'))) {\n                return <Node />\n              }\n            }\n            return style === false ? <Node /> : <Polyline {...style} points={ani.from.points} animation={ani} />\n          })}\n          {axis.scales.map((scale, ind) => {\n            let fromPos = (oldAxis.scales && oldAxis.scales[ind] && oldAxis.scales[ind].pos) || scale.pos\n            let ani = { from: { pos: fromPos }, to: { pos: scale.pos } }\n            // 排除pos属性，pos属性用来处理动画，其它属性直接赋值\n            let style = getStyle(this, 'scale', styles.scale, [scale, ind])\n            return style === false ? <Node /> : <Group {...filterClone(scale, [], ['pos'])} {...style} animation={ani}></Group>\n          })}\n          {axis.labels.map((label, ind) => {\n            let fromPos = (oldAxis.labels && oldAxis.labels[ind] && oldAxis.labels[ind].pos) || label.pos\n            let style = getStyle(this, 'label', styles.label, [label, ind])\n            let ani = { from: { pos: fromPos }, to: { pos: label.pos } }\n            return style === false ? <Node /> : <Label {...filterClone(label, [], ['pos', 'text'])} {...style} text={formatter(label.text)} animation={ani}></Label>\n          })}\n        </Group>\n        {nameStyle === false || name === undefined || name.length === 0 ? <Node /> : <Label {...nameStyle} text={name} animation={nameAni} />}\n      </Group>\n    )\n  }\n}\nexport default Axis\n","import Base from '../../base/BasePlugin'\n//import { debounce } from '@qcharts/utils'\nclass Legend extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.$el = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    attrs.clientRect = {\n      bottom: 0,\n      width: '100%',\n      left: 0,\n      right: ''\n    }\n    return attrs\n  }\n  defaultAttrs() {\n    return {}\n  }\n  beforeRender() {\n    //let dataset = this.dataset\n    return this.dataset.rows\n  }\n  itemClick() {\n    console.log(click)\n  }\n  beforeUpdate() {}\n\n  rendered() {\n    let clickAble = this.renderAttrs.clickAble\n    if (clickAble !== false) {\n      let items = this.$el.querySelectorAll('.legend-item')\n      items.forEach(item => {\n        item.style.cursor = 'pointer'\n      })\n      let dataset = this.dataset\n      let $el = this.$el\n      $el.addEventListener(\n        'click',\n        e => {\n          let target = e.target\n          let $dom = getParent($el, target, '.legend-item')\n          if ($dom) {\n            let ind = $dom.getAttribute('data-id')\n            let state = dataset.rows[ind].state\n            dataset.rows[ind].state = state === 'disabled' ? 'default' : 'disabled'\n          }\n          this.render(dataset.rows)\n        },\n        false\n      )\n    }\n  }\n  render(arr) {\n    if (arr) {\n      let { colors, clientRect } = this.renderAttrs\n      let { left, top, width, height, right, bottom } = clientRect\n      if (!this.$el) {\n        this.$el = document.createElement('div')\n        this.$el.className = 'qcharts-legend'\n        this.$el.style.cssText = `text-align:center;position:absolute;font-size:12px;left:${left};top:${top};width:${width};height:${height};right:${right};bottom:${bottom};z-index:10`\n        this.chart.$el.appendChild(this.$el)\n      }\n      let html = ''\n      arr.forEach((row, ind) => {\n        let state = this.dataset.rows[ind].state\n        let curColor = state !== 'disabled' ? colors[ind] : '#ddd'\n        html += `<div style=\"display:inline-block;padding:0 4px;cursor:pointer\" class=\"legend-item\" data-id=\"${ind}\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${curColor}\"></span><span class=\"text\" style=\"color:#666\">${row.name}</span></div>`\n      })\n      this.$el.innerHTML = html\n    }\n  }\n}\nfunction getParent(wrap, dom, selector) {\n  let arr = wrap.querySelectorAll(selector)\n  if (dom === wrap) {\n    return\n  } else if ([].indexOf.call(arr, dom) !== -1) {\n    return dom\n  } else {\n    return getParent(wrap, dom.parentNode, selector)\n  }\n}\nexport default Legend\n","import Base from '../../base/BasePlugin'\nimport { debounce } from '@qcharts/utils'\nclass Tooltip extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.$el = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {}\n  beforeUpdate() {}\n  tipMousemove = debounce(\n    e => {\n      let maxLeft = window.innerWidth - this.$el.getBoundingClientRect().width - 5\n      let maxTop = window.innerWidth - this.$el.getBoundingClientRect().height - 5\n      let tarTop = e.y > maxTop ? maxTop : e.y\n      let tarLeft = e.x > maxLeft ? maxLeft : e.x\n      this.$el.style.left = tarLeft + 'px'\n      this.$el.style.top = tarTop + 'px'\n    },\n    100,\n    1\n  )\n  rendered() {\n    let { colors, sort, formatter } = this.renderAttrs\n    this.chart.dataset.on('change', data => {\n      let { option } = data\n      this.$el.innerHTML = ''\n      if (option.value === 'hover') {\n        let arr = [].concat(this.chart.dataset).filter(item => item.state === 'hover')\n        if (sort) {\n          arr.sort(sort)\n        }\n        if (arr.length) {\n          let innerHtml = ''\n          let $div = document.createElement('div')\n          $div.style.cssText = 'white-space:nowrap;padding:6px 10px;background-color:rgba(0,0,0,0.5);color:#fff;'\n          arr.forEach((item, ind) => {\n            let text = `${item.text}：${item.value}`\n            if (formatter) {\n              text = formatter(item.data) || text\n            }\n            let html = `<div class=\"tooltip-item\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${colors[ind]}\"></span><span class=\"text\">${text}</span></div>`\n            innerHtml += html\n          })\n          $div.innerHTML = innerHtml\n          this.$el.appendChild($div)\n        }\n      } else if (option.name === 'reset') {\n        this.$el.innerHTML = ''\n      }\n    })\n    document.body.addEventListener('mousemove', this.tipMousemove)\n  }\n  render() {\n    if (!this.$el) {\n      this.$el = document.createElement('div')\n      this.$el.className = 'qcharts-tooltip'\n      this.$el.style.cssText = 'transition:top 300ms ease-out,left 300ms ease-out;position:absolute;pointEvents:none;pointer-events:none;font-size:14px;'\n    }\n    document.body.appendChild(this.$el)\n  }\n}\nexport default Tooltip\n","let platform = window\nexport default platform\n","import Base from './base/Base'\nimport { jsType, emptyObject, throttle } from '@qcharts/utils'\nimport platform from './base/platform'\nimport BaseVisual from './base/BaseVisual'\nimport BasePlugin from './base/BasePlugin'\nimport { Scene } from 'spritejs'\nimport { Wave, Gauge } from './index'\nclass Chart extends Base {\n  constructor(attr) {\n    super()\n    let { container } = attr\n    if (jsType(container) === 'string') {\n      container = document.querySelector(container)\n    }\n    this.$el = container\n    this.visuals = []\n    this.plugins = []\n    this.children = []\n    this.scene = new Scene({ container, displayRatio: platform.devicePixelRatio })\n    this.scene.addEventListener('resize', (_) => {\n      //舞台变化的时候\n      this.checkUpdate()\n    })\n    this.checkUpdate = throttle((_) => {\n      this.children.forEach((node) => {\n        node.update()\n      })\n    }, 300)\n    this.checkRender = throttle((_) => {\n      this.children.forEach((child) => {\n        child.created()\n        this.dataset.addDep(child)\n      })\n      this.__store.__isCreated__ = true\n      this.dispatchEvent('updated', emptyObject())\n    })\n  }\n  update() {\n    //图表发生更新，触发图表内组件更新\n    this.checkUpdate()\n  }\n  append(node) {\n    const notNeedDataSetList = [Wave, Gauge]\n    if (notNeedDataSetList.some((Target) => node instanceof Target)) {\n      //补齐dataset，wave中不用dataset\n      this.source([], {})\n    } else if (!this.dataset) {\n      console.error('Chart should set data before append some graphs')\n      return\n    }\n    if (jsType(node) === 'array') {\n      node.forEach((item) => {\n        this.append(item)\n      })\n      return\n    } else if (node instanceof BaseVisual) {\n      this.visuals.push(node)\n    } else if (node instanceof BasePlugin) {\n      this.plugins.push(node)\n    }\n    this.children.push(node)\n    node.chart = this\n    node.scene = this.scene\n    this.checkRender()\n  }\n  getDataURL() {\n    return this.scene.snapshot().toDataURL()\n  }\n}\n\nexport default Chart\n","import { h, easing } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nimport Line from './visuals/Line/index'\nimport Pie from './visuals/Pie/index'\nimport Area from './visuals/Area/index'\nimport Radar from './visuals/Radar/index'\nimport Bar from './visuals/Bar/index'\nimport PolarBar from './visuals/PolarBar/index'\nimport Funnel from './visuals/Funnel/index'\nimport Scatter from './visuals/Scatter/index'\nimport Wave from './visuals/Wave/index'\nimport Gauge from './visuals/Gauge'\nimport RadialBar from './visuals/RadialBar'\nimport Axis from './plugins/Axis/index'\nimport Legend from './plugins/Legend/index'\nimport Tooltip from './plugins/Tooltip/index'\nimport platform from './base/platform'\nimport Chart from './Chart'\nimport theme from './theme/default'\nconst qcharts = {\n  version: '1.0.0',\n  Line,\n  Pie,\n  Area,\n  Radar,\n  Bar,\n  PolarBar,\n  Funnel,\n  Scatter,\n  Gauge,\n  RadialBar,\n  Legend,\n  Axis,\n  Wave,\n  Tooltip,\n  h,\n  theme,\n  Chart,\n  easing\n}\nif (process.env.NODE_ENV === 'development') {\n  platform.qcharts = qcharts\n}\n\nexport { Dataset, Line, Pie, Area, Wave, Radar, Tooltip, Bar, PolarBar, Funnel, Scatter, Gauge, RadialBar, Axis, Legend, Chart, h, theme, easing }\n\nexport default qcharts\n"],"sourceRoot":""}