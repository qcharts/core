{"version":3,"sources":["webpack://qcharts/webpack/universalModuleDefinition","webpack://qcharts/webpack/bootstrap","webpack://qcharts/external {\"root\":\"spritejs\",\"commonjs2\":\"spritejs/dist/spritejs.min.js\",\"commonjs\":\"spritejs/dist/spritejs.min.js\",\"amd\":\"spritejs\",\"umd\":\"spritejs\"}","webpack://qcharts/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/extends.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/get.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/inherits.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/createClass.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://qcharts/./node_modules/filter-clone/lib/index.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://qcharts/./node_modules/@qcharts/vnode/node_modules/@qcharts/utils/lib/index.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/typeof.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://qcharts/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/h.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/consts.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/diff.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/render.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/easing.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/interpolate.js","webpack://qcharts/./node_modules/@qcharts/vnode/util/index.js","webpack://qcharts/./node_modules/@qcharts/vnode/tween/tween.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/patch.js","webpack://qcharts/./node_modules/@qcharts/vnode/src/nodeHelper.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/state.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/event.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Cell.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Row.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/Dataset.js","webpack://qcharts/./node_modules/@qcharts/dataset/src/index.js","webpack://qcharts/./src/base/mixin.js","webpack://qcharts/./node_modules/@qcharts/utils/src/index.js","webpack://qcharts/./src/base/Base.js","webpack://qcharts/./src/theme/default.js","webpack://qcharts/./src/base/BaseVisual.js","webpack://qcharts/./src/utils/getStyle.js","webpack://qcharts/./src/utils/scaleLinear.js","webpack://qcharts/./src/utils/axis.js","webpack://qcharts/./src/visuals/Line/layout.js","webpack://qcharts/./src/utils/Symbol.js","webpack://qcharts/./src/visuals/Line/index.js","webpack://qcharts/./src/visuals/Pie/layout.js","webpack://qcharts/./src/visuals/Pie/index.js","webpack://qcharts/./src/visuals/Area/index.js","webpack://qcharts/./src/visuals/Radar/layout.js","webpack://qcharts/./src/visuals/Radar/index.js","webpack://qcharts/./src/visuals/Bar/index.js","webpack://qcharts/./src/visuals/Bar/layout.js","webpack://qcharts/./src/visuals/PolarBar/index.js","webpack://qcharts/./src/visuals/PolarBar/layout.js","webpack://qcharts/./src/visuals/Funnel/layout.js","webpack://qcharts/./src/visuals/Funnel/index.js","webpack://qcharts/./src/visuals/Scatter/layout.js","webpack://qcharts/./src/visuals/Scatter/index.js","webpack://qcharts/./src/utils/color.js","webpack://qcharts/./src/utils/ellipse2path.js","webpack://qcharts/./src/visuals/Wave/index.js","webpack://qcharts/./src/visuals/Gauge/index.js","webpack://qcharts/./src/visuals/RadialBar/index.js","webpack://qcharts/./src/base/BasePlugin.js","webpack://qcharts/./src/plugins/Axis/layout.js","webpack://qcharts/./src/plugins/Axis/index.js","webpack://qcharts/./src/plugins/Legend/index.js","webpack://qcharts/./src/plugins/Tooltip/index.js","webpack://qcharts/./src/base/platform.js","webpack://qcharts/./src/Chart.js","webpack://qcharts/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_extends","assign","target","arguments","length","source","apply","this","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","instance","Constructor","TypeError","_typeof","assertThisInitialized","self","subClass","superClass","constructor","writable","configurable","_defineProperties","props","descriptor","protoProps","staticProps","obj","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","arrayWithoutHoles","iterableToArray","nonIterableSpread","iterator","_default","filterClone","include","exclude","res","getType","len","push","j","indexOf","test","str","toString","slice","toLowerCase","ReferenceError","e","default","u","setTimeout","clearTimeout","match","Number","substring","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Array","isArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_setPrototypeOf","arr2","iter","from","sourceKeys","keys","VNode","h","tagName","attrs","children","node","concat","filter","Boolean","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","type","isDiffrentVNode","createElement","vnode","graph","TagName","el","patchAttrs","appendChild","map","forEach","console","log","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","a","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","number","b","array","bl","al","min","x","interpolate","now","performance","Date","requestAnimationFrame","cancelAnimationFrame","startTime","fn","id","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","time","Error","_onComplete","callback","elapseTime","animateTime","timer","delayTime","Promise","resolve","step","start","cancel","then","patche","ref","addRef","error","split","cb","removeAllListeners","addEventListener","evt","addEvent","states","state","oldState","attr","oldstates","oldAttrs","newAttrs","duration","renderAttrs","animation","transition","addAttrs","middle","use","to","delay","useTween","easing","formatter","ani","onUpdate","animate","fill","finished","offset","setAnimation","addAnimate","patch","$el","isRoot","newEl","parent","replaceChild","remove","child","ind","_ind","curNode","curVnode","hide","hover","active","disabled","mixed","mixinEvent","__store","events","on","off","curEvent","splice","once","args","dispatchEvent","option","item","data","dataset","super","row","col","datasets","num","__name","__option","cell","sta","dispatchOption","Row","Col","store","__deps","__rows","sortKey","resArr","list","sort","keySort","curRow","getArrData","cols","colLen","rowKey","dep","lifeCycle","deepObjectMerge","objectMerge","FirstOBJ","SecondOBJ","jsType","emptyObject","throttle","interval","immediately","firstTime","getDistancePx","distance","Base","component","removeEventListener","listener","__attrs","__vnode__","__isCreated__","__refs","__update","update","options","Dataset","opts","render","beforeRender","layer","rendered","_","warn","params","beforeUpdate","updated","event","clientRect","left","top","right","bottom","width","height","opacity","layoutBy","style","styleKey","substr","baseAttrs","defaultAttrs","theme","layerName","zIndex","scene","defaultStyles","styles","canvas","getBoundingClientRect","colors","chart","Node","visuals","Line","line","lineWidth","guideline","strokeColor","point","pointType","radiusX","radiusY","borderWidth","statck","Pie","sector","Area","area","Radar","Bar","bar","groupBar","PolarBar","Funnel","funnel","Scatter","showGuideLine","Wave","wave","fillColor","text","fontSize","shape","Gauge","RadialBar","plugins","Tooltip","Legend","Axis","axis","scale","bgcolor","label","grid","lineDash","orient","set","BaseVisual","getStyle","defaultStyle","oStyle","oArgs","cusStyle","scaleLinear","domain","range","disDomain","disRange","per","dataSet","section","gap","divide","toFixed","sectionAxis","stack","sum","sumDown","leng","dataHandle","upZero","downZero","element","abs","sortUpZero","sortDownZero","maxUpZero","ceil","pop","maxDownZero","maxValue","mixNum","maxNum","splitNumber","getMax","axisArray","round","reverse","unit","unshift","needReverse","Global","datasetReverse","layout","lines","axisGap","scales","maxVal","minVal","scaleFY","prevRow","points","areaPoints","smoothRange","dx","offsetX","curPos","axisPoints","curLine","nextPoints","startPoints","endPoints","transAreaPoint","allSymbol","sprite","Sprite","path","Path","ellipse","Ellipse","rect","Rect","triangle","Triangle","parallel","Parallel","regular","Regular","star","Star","$sprite","renderSymbol","pos","renderAttr","includes","append","Group","renderLines","hoverIndex","getRenderData","arrLayout","maxLen","areaFrom","areaTo","renderData","guidePoints","smooth","resetState","arrX","getOffsetPosition","y","curInd","posX","lineState","renderStyles","class","onMouseleave","guidelineleave","onMouseenter","guidelinemove","onMousemove","size","rows","onClick","lineClick","hoverStyle","rings","arrVal","reduce","totalVal","startAngle","endAngle","activeOffset","minAngle","maxAngle","totalAngle","perAngle","offsetPos","curObj","prevRing","curAngle","bisectorAngle","bisectorRadian","transRadius","angle","computeLinePos","center","radius","disRadius","centerAngle","startPoint","endPoint","labelPos","labelAnchor","renderRings","activeIndex","pervAngle","computeLine","oldRings","radiusPx","fromPoints","fromAnchor","fromPos","toPoints","toAnchor","toPos","anchor","innerRadius","labelOffset","curData","innerRadiusPx","mouseleave","ring","outerRadius","_index","mousemove","getPointCoordinate","radian","bgPoints","gridAttrs","axisAttrs","sectionAttrs","some","indicatorMax","dimension","perRadian","startRadian","currentRadian","maxScale","index","categoryPoints","dataOrigin","close","gridPoints","attributes","sectionData","scaleEl","gridType","zeroPoints","otherData","processSectionAttrs","otherAttrs","stateStyle","getPolylineAnimation","processData","updateData","toScale","fromPts","toPts","GridShape","Arc","Polyline","getScaleAnimation","color","calcAnchor","getPt","perX","perY","perNum","labels","common","translate","display","elIndex","preEl","renderAxisLabel","renderAxisScale","secAnimation","prePoints","isSamePoints","pre","cur","otherAttr","renderGrid","renderAxis","renderSection","renderPoints","groups","isNaN","transpose","floor","bgpillarState","pillars","fromTos","barData","groupData","nextPillar","prev","labelAttrs","disable","dataLength","barSize","groupGap","stackGap","barWidth","bgPillarAttr","valueAxis","tableSize","axisValueMax","axisValueMin","POSITIVE_RATIO","GROUP_BAR_NUM","flag","computerLegend","GROUP_NUM","BAR_HEIGHT_FACTOR","heightSumUp","heightSumDown","gpData","rects","lenj","stackGapTemp","barHeight","posLabelY","rotate","barStyle","bgpillar","myClick","pillar","legendArr","groupPadAngle","barInnerRadius","padAngle","BAR_MAX_HEIGHT","groupAngle","barAngle","groupInd","align","pyramid","polygons","widthFactory","POLYGON_NUM","polygon","colse","textAnchor","counter","nextValue","plg","oldPolygons","plgStyle","getDataRange","getBigRange","updateSectionVal","newSection","layoutWay","textField","valueField","allData","xDomain","xSection","xIsTextData","xScales","field","ySection","yScales","yDomain","newLayoutWay","xLinear","yLinear","dArry","scatterData","guideLineData","labelField","areaField","areaRange","hex","join","hexToRgba","di","temp","oldRow","cInd","getRealRadius","oldCell","fromRadius","toRadius","rowInd","colInd","labelAttr","hStyle","renderScatter","renderLabel","renderGuideLine","ellipse2path","cx","cy","rx","ry","offsetR","tickId","amplitude","wavelength","percent","currentR","clipWave","$refs","clipPath","pathHeight","originalContentRect","perR","currentX","startY","lastY","waveStyle","shapeStyle","textStyle","tickLine","tickLength","isInner","cX0","cY0","anchorX","anchorY","gaugeAnimations","lineCap","_useBuiltInColors","strokeBgcolor","title","tickStep","tickFormatter","arc","transform","maxTickTextFontSize","fromRotate","pointerAnimation","pointerWidth","pointerTopOffset","pointerLen","pWidth","transformOrigin","labelCenter","ticks","isStyleExist","tickText","realTitle","gradientColor","gradientOpt","vector","Gradient","tick","realSize","replace","gPos","gSize","renderPointer","textAlign","forceUpdate","v","count","tickRadius","ret","flattern","animators","total","cloneData","maxOuterRadius","perRadius","normalStyle","anticlockwise","maxRadius","maxWidth","maxHeight","BasePlugin","getItemAttrs","scaleF","labelPosValue","yv","scaleAttr","gridAttr","xv","grids","padding","curArr","nameAttr","dy","oldAxis","axisStyle","arrOrient","plugin","nameStyle","nameAni","targetVisual","click","clickAble","querySelectorAll","cursor","$dom","getParent","wrap","dom","selector","parentNode","getAttribute","document","className","cssText","html","curColor","innerHTML","context","debounce","maxLeft","innerWidth","maxTop","tarTop","tarLeft","innerHtml","$div","body","tipMousemove","platform","Chart","container","querySelector","Scene","displayRatio","devicePixelRatio","checkUpdate","checkRender","created","addDep","Target","snapshot","toDataURL","qcharts","version"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"spritejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qcharts\"] = factory(require(\"spritejs/dist/spritejs.min.js\"));\n\telse\n\t\troot[\"qcharts\"] = factory(root[\"spritejs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 25);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.utils=e():t.utils=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(...t){let e=t[0];if(t.length>1)for(let r=1;r<t.length;r++)n(e,t[r]);return e;function n(t,e){for(var n in e)t[n]=t[n]&&\"[object Object]\"===t[n].toString()?r(t[n],e[n]):t[n]=e[n];return t}}function o(){return Object.create(null)}function u(t){const e=typeof t;return\"object\"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}function i(t,e=16,n=!1){let r=null,o=n;return function(...n){if(o)return t.apply(this,n),o=!1;r||(r=setTimeout(()=>{clearTimeout(r),r=null,t.apply(this,n)},e))}}function c(t,e){return\"string\"===u(t)&&t.match(/%$/)?Number(t.substring(0,t.indexOf(\"%\")))/100*e:t}n.r(e),n.d(e,\"deepObjectMerge\",(function(){return r})),n.d(e,\"emptyObject\",(function(){return o})),n.d(e,\"jsType\",(function(){return u})),n.d(e,\"throttle\",(function(){return i})),n.d(e,\"getDistancePx\",(function(){return c}))}])}));\n//# sourceMappingURL=index.js.map","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  if(TagName) {\n    const el = new TagName()\n  //渲染的spritejs对象放到 visual或者plugin上\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children\n      .map(createElement.bind(this))\n      .filter(Boolean)\n      .forEach(el.appendChild.bind(el))\n  }\n  return el\n  } else {\n    console.log('tagName is undefined:',vnode)\n  }\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","import interpolate from './interpolate'\nimport invariant from './invariant'\ninvariant\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame = window.requestAnimationFrame\nlet cancelAnimationFrame = window.cancelAnimationFrame\nif (!requestAnimationFrame) {\n  const startTime = now()\n  requestAnimationFrame = fn => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = id => {\n    return clearTimeout(id)\n  }\n}\nconst delay = time =>\n  new Promise(resolve =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addAttrs, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs(graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addEvent(graph, el, patche)\n  addAttrs(graph, el, patche)\n  //el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} $el 当前的真实spritejs 节点\n * @param {*} patches 虚拟节点\n * @param {*} isRoot 是否是初节点，用于绑定$el与visual或者plugin\n */\nexport default function patch($el, patche, isRoot = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let graph = this //graph为当前的qcharts对象 visula或者plugin\n  if (!$el && !patche) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      if (newEl) {\n        if (isRoot) {\n          //创建的时候，visual与plugin绑定对应的sprite元素\n          graph.$el = newEl\n        }\n        $el.appendChild(newEl)\n      }\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      $el.parent.replaceChild(newEl, $el)\n      break\n    }\n    case REMOVE: {\n      $el.remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      patchAttrs(graph, $el, attrs)\n      if ($el.children && children.length) {\n        $el.children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        let len = children.length > $el.children.length ? children.length : $el.children.length\n        for (let j = 0; j < len; j++) {\n          let curNode = $el.children.filter(child => child._ind === j)[0]\n          let curVnode = children.filter(child => child._ind === j)[0]\n          if (curVnode && curVnode.type === 'CREATE') {\n            //如果是create需要传父级$el\n            patch.bind(graph)($el, curVnode)\n          } else {\n            patch.bind(graph)(curNode, curVnode)\n          }\n        }\n      }\n      break\n    }\n  }\n}\n","import { Tween } from '../tween'\nimport { deepObjectMerge, emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n\n  const { from, middle, use, to, delay, duration, useTween, easing, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n  if (from) {\n    //如果存在from，一开始就设置，防止出现抖动\n    el.attr(from)\n  }\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween(easing)\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAttrs(graph, el, attrs = {}) {\n  let states = attrs['states']\n  let state = attrs['state']\n  if (states && state) {\n    let oldState = el.attr('state')\n    if (state !== oldState) {\n      //不相当就处理，相当上一次已经处理完毕\n      let oldstates = el.attr('states') || emptyObject()\n      let oldAttrs = deepObjectMerge(emptyObject(), attrs, oldstates[oldState])\n      let newAttrs = deepObjectMerge(emptyObject(), attrs, states[state])\n      el.attr(oldAttrs)\n      let { duration } = deepObjectMerge(emptyObject(), graph.renderAttrs.animation, states.animation)\n      el.transition(duration / 1000).attr(newAttrs)\n    }\n  } else {\n    el.attr(attrs)\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(graph, el, attrs = {}) {\n  //缓存方法，修改方法指针this\n  Object.keys(attrs).forEach(key => {\n    if (!/^on/.test(key)) {\n      return\n    }\n    const type = key.split('on')[1].toLowerCase()\n    const cb = attrs[key] || (() => {})\n    let newF = evt => cb.call(graph, evt, el)\n    el.removeAllListeners(type)\n    el.addEventListener(type, newF)\n    delete attrs[key]\n  })\n}\n","export default {\n  default: 'default', //默认\n  hide: 'hide', //数据隐藏\n  hover: 'hover', //次激活模式，类似css中的hover\n  active: 'active', //激活模式，如选中等场景\n  disabled: 'disabled', //禁用模式\n  mixed: 'mixed' //混合模式,比如一个row或者col里面有多种状态\n}\n","function mixinEvent(target) {\n  if (target.__store) {\n    target.__store.events = []\n    let events = target.__store.events\n    target.on = function(type, cb) {\n      events.push({ type, cb })\n      return target\n    }\n    target.off = function(type, cb) {\n      for (let i = 0; i < events.length; i++) {\n        if (cb === undefined) {\n          events = []\n        } else {\n          let curEvent = events[i]\n          if (curEvent.type === type && curEvent.cb === cb) {\n            events.splice(i, 1)\n            i--\n          }\n        }\n      }\n      return target\n    }\n    target.once = function(type, cb) {\n      const listener = function(...args) {\n        fn.apply(target, args)\n        self.off(type, cb)\n      }\n      return target.on(type, listener)\n    }\n    target.dispatchEvent = function(type, option) {\n      events.forEach(item => {\n        if (item.type === type) {\n          item.cb.call(target, { type, option })\n        }\n      })\n      return target\n    }\n  }\n}\nexport { mixinEvent }\n","import state from './state'\nimport { mixinEvent } from './event'\nclass Cell extends Object {\n  constructor(data, option, dataset) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.state = state['default']\n    this.__store.row = undefined\n    this.__store.col = undefined\n    this.__store.option = option\n    this.__store.data = data\n    this.__store.datasets = [dataset]\n    mixinEvent(this)\n  }\n  get datasets() {\n    return this.__store.datasets\n  }\n  get data() {\n    return this, this.__store.data\n  }\n  get value() {\n    return this.__store.data[this.__store.option['value']]\n  }\n  get text() {\n    return this.__store.data[this.__store.option['text']]\n  }\n  set row(num) {\n    if (this.__store.row === undefined) {\n      this.__store.row = num\n    }\n  }\n  get row() {\n    return this.__store.row\n  }\n  set col(num) {\n    if (this.__store.col === undefined) {\n      this.__store.col = num\n    }\n  }\n  get col() {\n    return this.__store.col\n  }\n  get option() {\n    return this.__store.option\n  }\n  get state() {\n    return this.__store.state\n  }\n  set state(name) {\n    if (state[name] && this.__store.state !== state[name]) {\n      this.dispatchEvent('change', { name: 'cell', value: state[name], data: this })\n      this.datasets.forEach(dataset => {\n        dataset.dispatchEvent('change', { name: 'cell', value: state[name], data: this })\n      })\n    }\n    this.__store.state = state[name]\n  }\n}\nexport default Cell\n","import { mixinEvent } from './event'\nimport state from './state'\nclass List extends Array {\n  constructor(name, option) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.__name = name\n    this.__store.__option = option\n    this.__store.dataset = null\n    mixinEvent(this)\n  }\n  get data() {\n    let arr = []\n    this.forEach(cell => {\n      arr.push(cell.data)\n    })\n    return arr\n  }\n  set dataset(arr) {\n    this.__store.dataset = arr\n  }\n  get dataset() {\n    return this.__store.dataset\n  }\n  get name() {\n    return this.__store.__name\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get state() {\n    //遍历子项，查看状态是否统一\n    let sta = this[0].state\n    for (let i = 1; i < this.length; i++) {\n      if (this[i].state !== sta) {\n        sta = 'mixed'\n        break\n      }\n    }\n    return sta\n  }\n  set state(name) {\n    if (state[name] && this.state !== state[name]) {\n      //给所有子项设置state\n      this.forEach(cell => {\n        //如果disabled的状态，必须先设置位default,disabled的state不能直接修改位其它状态\n        if (cell.state === 'disabled' && name !== 'default') {\n          return\n        }\n        cell.state = state[name]\n      })\n      let dispatchOption = null\n      if (this instanceof Row) {\n        dispatchOption = { name: 'row', value: state[name], data: this }\n      } else if (this instanceof Col) {\n        dispatchOption = { name: 'col', value: state[name], data: this }\n      }\n      this.dispatchEvent('change', dispatchOption)\n      this.dataset && this.dataset.dispatchEvent('change', dispatchOption)\n    }\n  }\n}\nclass Row extends List {}\nclass Col extends List {}\nexport { Row, Col }\n","import Cell from './Cell'\nimport { Row, Col } from './Row'\nimport { mixinEvent } from './event'\nclass Dataset extends Array {\n  constructor(data, option) {\n    super()\n    data.forEach((item, i) => {\n      let cell = item\n      if (!(item instanceof Cell)) {\n        cell = new Cell(item, option, this)\n      } else {\n        cell.datasets.push(this)\n      }\n      this[i] = cell\n    })\n    this.__store = Object.create(null)\n    let store = this.__store\n    store.__option = option\n    store.__deps = []\n    store.__rows = []\n    store.__rows = getArrData(this, option)\n    mixinEvent(this)\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get cols() {\n    let cols = []\n    let colLen = 0\n    this.__store.__rows.forEach(row => {\n      if (row.length > colLen) {\n        colLen = row.length\n      }\n    })\n    for (let i = 0; i < colLen; i++) {\n      let arr = new Col()\n      arr.dataset = this\n      this.__store.__rows.forEach(item => {\n        arr.push(item[i])\n      })\n      cols.push(arr)\n    }\n    return cols\n  }\n  get rows() {\n    return this.__store.__rows\n  }\n  resetState(state = 'default') {\n    let res = []\n    this.forEach(cell => {\n      //reset的时候不处理disabled\n      if (cell.state !== state && cell.state !== 'disabled') {\n        res.push(cell)\n        cell.state = state\n      }\n    })\n    this.dispatchEvent('change', { name: 'reset', data: res })\n  }\n  selectRows(name) {\n    let rowKey = this.option.row\n    let arr = []\n    this.forEach(item => {\n      if (name.indexOf(item.data[rowKey]) !== -1) {\n        arr.push(item)\n      }\n    })\n    return new Dataset(arr, this.option)\n  }\n  addDep(dep) {\n    this.__store.__deps.push(dep)\n  }\n}\nfunction getArrData(data = [], option) {\n  let { row: key, col: sortKey } = option\n  let resArr = []\n  if (key === '*') {\n    let list = new Row('*', option)\n    data.forEach(item => {\n      list.push(item)\n    })\n    resArr.push(list.sort(keySort))\n  } else {\n    let keys = Object.create(null)\n    data.forEach(item => {\n      let data = item.__store.data\n      if (!keys[data[key]]) {\n        keys[data[key]] = new Row(data[key], option)\n      }\n      keys[data[key]].push(item)\n    })\n    for (let key in keys) {\n      let curRow = keys[key].sort(keySort)\n      resArr.push(curRow)\n    }\n  }\n  resArr.forEach((list, m) => {\n    list.dataset = data\n    list.forEach((cell, n) => {\n      cell.row = m\n      cell.col = n\n    })\n  })\n  return resArr\n  function keySort(a, b) {\n    if (sortKey) {\n      return a.data[sortKey] > b.data[sortKey] ? 1 : -1\n    }\n  }\n}\n\nexport default Dataset\n","import Dataset from './Dataset'\nexport default Dataset\n","const lifeCycle = {\r\n  beforeCreate: 'beforeCreate', //创建前\r\n  created: 'created', // 图表创建\r\n  beforeRender: 'beforeRender', //图表渲染前\r\n  rendered: 'rendered', // 图表渲染结束\r\n  beforeUpdate: 'beforeUpdate', // 图表更新前\r\n  updated: 'updated', // 图表更新\r\n  beforeDestroy: 'beforeDestroy', // 图表卸载前\r\n  destroyed: 'destroyed' // 图表卸载\r\n}\r\nfunction mixin(component) {\r\n  component.on = component.addEventListener\r\n  component.off = component.removeEventListener\r\n  component.once = function(type, fn) {\r\n    const listener = (...args) => {\r\n      fn.apply(this, args)\r\n      this.off(type, listener)\r\n    }\r\n    return this.on(type, listener)\r\n  }\r\n}\r\n\r\nexport { lifeCycle, mixin }\r\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      if (FirstOBJ[key] && FirstOBJ[key].toString() === '[object Object]' && SecondOBJ[key].toString() === '[object Object]') {\n        //对象处理\n        deepObjectMerge(FirstOBJ[key], SecondOBJ[key])\n      } else if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'array' && jsType(SecondOBJ[key]) === 'array') {\n        //数组处理\n        FirstOBJ[key].splice(0, FirstOBJ[key].length, ...SecondOBJ[key])\n      } else {\n        FirstOBJ[key] = SecondOBJ[key]\n      }\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null\n      ? null\n      : Object.prototype.toString\n          .call(value)\n          .slice(8, -1)\n          .toLowerCase()\n  }\n  return str\n}\n\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function(...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction debounce(fn, delay = 16, immediately = false) {\n  let timer = null\n  return function() {\n    let args = arguments\n    let context = this\n    if (timer) {\n      clearTimeout(timer)\n      timer = setTimeout(function() {\n        fn.apply(context, args)\n      }, delay)\n    } else {\n      if (immediately) {\n        fn.apply(context, args)\n      }\n      timer = setTimeout(function() {\n        fn.apply(context, args)\n      }, delay)\n    }\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, debounce, getDistancePx }\n","import { Node } from 'spritejs'\r\nimport { lifeCycle, mixin } from './mixin'\r\nimport { emptyObject, deepObjectMerge, jsType, getDistancePx, throttle } from '@qcharts/utils'\r\nimport { patch, diff } from '@qcharts/vnode'\r\nimport Dataset from '@qcharts/dataset'\r\nclass Base extends Node {\r\n  constructor(attrs) {\r\n    super()\r\n    this.dispatchEvent(lifeCycle.beforeCreate)\r\n    mixin(this)\r\n    this['__store'] = emptyObject()\r\n    let store = this['__store']\r\n    store.__attrs = emptyObject()\r\n    store.__vnode__ = null\r\n    store.__isCreated__ = false\r\n    store.__refs = emptyObject()\r\n    store.dataset = null\r\n    this.attr(attrs)\r\n    this.__update = throttle(args => {\r\n      if (store.__isCreated__) {\r\n        this.update(args)\r\n      }\r\n    })\r\n  }\r\n  get store() {\r\n    return this['__store']\r\n  }\r\n  get layer() {\r\n    let { layer: layerName, zIndex = 0 } = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\r\n    return this.scene.layer(layerName).attr({ zIndex })\r\n  }\r\n  get $refs() {\r\n    return this['__store'].__refs\r\n  }\r\n  get renderStyles() {\r\n    let styles = deepObjectMerge({}, this.defaultStyles(), this.theme.styles)\r\n    return styles\r\n  }\r\n  get renderAttrs() {\r\n    //attrs转换\r\n    let attrs = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\r\n    let { animation, clientRect } = attrs\r\n    //动画数据转换\r\n    if (jsType(animation) === 'boolean') {\r\n      animation = { use: animation ? true : false }\r\n    }\r\n    //处理layer支持多layer\r\n    let { width, height } = this.layer.canvas.getBoundingClientRect()\r\n    //计算布局数据\r\n    for (let key in clientRect) {\r\n      if (['left', 'right', 'width'].indexOf(key) !== -1) {\r\n        clientRect[key] = getDistancePx(clientRect[key], width)\r\n      } else if (['top', 'bottom', 'height'].indexOf(key) !== -1) {\r\n        clientRect[key] = getDistancePx(clientRect[key], height)\r\n      }\r\n    }\r\n    if (clientRect.width === undefined) {\r\n      clientRect.width = width - clientRect.left - clientRect.right\r\n    } else {\r\n      clientRect.right = width - clientRect.left - clientRect.width\r\n    }\r\n    if (clientRect.height === undefined) {\r\n      clientRect.height = height - clientRect.top - clientRect.bottom\r\n    } else {\r\n      clientRect.bottom = height - clientRect.top - clientRect.height\r\n    }\r\n    attrs.colors = this.theme.colors\r\n    return attrs\r\n  }\r\n  get dataset() {\r\n    return this['__store'].dataset || (this.chart && this.chart.dataset)\r\n  }\r\n  source(data, options) {\r\n    let store = this['__store']\r\n    if (!(data instanceof Dataset)) {\r\n      let opts = options\r\n      if (store.dataset) {\r\n        opts = deepObjectMerge({}, store.dataset.option, options)\r\n      }\r\n      store.dataset = new Dataset(data, opts)\r\n    } else {\r\n      store.dataset = data\r\n    }\r\n    if (store.dataset && store.__isCreated__) {\r\n      //如果以前存在，则更新\r\n      this.__update({ type: 'source' })\r\n    }\r\n    return this\r\n  }\r\n  created() {\r\n    //初始化创建的时候执行\r\n    let store = this['__store']\r\n    this.dispatchEvent(lifeCycle.created)\r\n    store.__vnode__ = this.render(this.beforeRender({ type: 'create' }))\r\n    const patches = diff(null, store.__vnode__)\r\n    this.dispatchEvent(lifeCycle.beforeRender)\r\n    patch.bind(this)(this.$el || this.layer, patches, 1)\r\n    this.dispatchEvent(lifeCycle.rendered)\r\n    this.rendered()\r\n    store.__isCreated__ = true\r\n    this.dataset.on('change', _ => {\r\n      this.__update({ type: 'state' })\r\n    })\r\n  }\r\n  beforeRender() {\r\n    //图表初始化准备数据\r\n    return this.renderAttrs\r\n  }\r\n  render() {\r\n    console.warn('this function must be rewrited')\r\n  }\r\n  beforeUpdate() {\r\n    return this.renderAttrs\r\n  }\r\n  update(params) {\r\n    //图表更新准备数据\r\n    let store = this['__store']\r\n    this.dispatchEvent(lifeCycle.beforeUpdate)\r\n    let vnode = this.render(this.beforeUpdate(params))\r\n    const patches = diff(store.__vnode__, vnode)\r\n    patch.bind(this)(this.$el || this.layer, patches)\r\n    store.__vnode__ = vnode\r\n    this.dispatchEvent(lifeCycle.updated)\r\n    this.updated()\r\n  }\r\n  updated() {}\r\n  dispatchEvent(event, obj = emptyObject()) {\r\n    super.dispatchEvent(event, obj)\r\n  }\r\n  defaultAttrs() {\r\n    return emptyObject()\r\n  }\r\n  defaultStyles() {\r\n    return emptyObject()\r\n  }\r\n  baseAttrs() {\r\n    let attrs = {\r\n      //动画类型\r\n      animation: {\r\n        use: true,\r\n        duration: 700,\r\n        useTween: true,\r\n        easing: 'bounceOut'\r\n      },\r\n      //位置布局信息\r\n      clientRect: {\r\n        left: '10%',\r\n        top: '10%',\r\n        right: '10%',\r\n        bottom: '10%',\r\n        width: undefined,\r\n        height: undefined\r\n      },\r\n      //透明度\r\n      opacity: 1,\r\n      layer: 'default',\r\n      layoutBy: 'rows' //按照哪个数据布局 ['rows','cols']\r\n    }\r\n    return attrs\r\n  }\r\n  attr(name, val) {\r\n    //属性设置\r\n    let store = this['__store']\r\n    if (jsType(name) === 'object') {\r\n      for (let key in name) {\r\n        this.attr(key, name[key])\r\n      }\r\n    } else if (name === undefined) {\r\n      let res = emptyObject()\r\n      for (let key in store.__attrs) {\r\n        //过滤style属性\r\n        if (key.indexOf('style@') !== 0) {\r\n          res[key] = store.__attrs[key]\r\n        }\r\n      }\r\n      return res\r\n    } else if (val === undefined) {\r\n      //获取属性\r\n      return store.__attrs[name]\r\n    } else if (name !== undefined) {\r\n      store.__attrs[name] = val\r\n      store.__isCreated__ && this.__update({ type: 'attr' })\r\n    }\r\n  }\r\n  addRef(ref, el) {\r\n    this['__store'].__refs[ref] = el\r\n    //在vnode中调用，存储到this.__refs中\r\n  }\r\n  style(type, style) {\r\n    //样式设置，样式用attr逻辑存储，添加@符号\r\n    if (jsType(type) === 'object') {\r\n      //多样式赋值\r\n      for (let key in type) {\r\n        this.style(key, type[key])\r\n      }\r\n    } else if (type !== undefined && style === undefined) {\r\n      //获取样式，统一返回成函数\r\n      const style = this.attr('style@' + type)\r\n      return (...args) => {\r\n        if (jsType(style) === 'function') {\r\n          return style.apply(this, args)\r\n        } else {\r\n          return style\r\n        }\r\n      }\r\n    } else if (type !== undefined && style !== undefined) {\r\n      //赋值\r\n      this.attr('style@' + type, style)\r\n      return this\r\n    } else if (type === undefined && style === undefined) {\r\n      //获取全部样式\r\n      let res = emptyObject()\r\n      let attrs = this['__store'].__attrs\r\n      for (let key in attrs) {\r\n        if (key.indexOf('style@') === 0) {\r\n          let styleKey = key.substr(6)\r\n          res[styleKey] = this.style(styleKey)\r\n        }\r\n      }\r\n      return res\r\n    }\r\n  }\r\n}\r\nexport default Base\r\n","import { deepObjectMerge } from '@qcharts/utils'\r\nconst theme = {\r\n  colors: ['#47A1FF', '#6CD3FF', '#A2E5FF', '#4DCCCB', '#3FDDC7', '#84E0BE', '#59CB74', '#ADDF84', '#FBD54A', '#FFB952', '#F79452', '#E37474', '#FC6980', '#ED8CCE', '#DA65CC', '#9861E5', '#9F8CF1', '#6367EC', '#5982F6', '#659AEC']\r\n}\r\ntheme.visuals = {\r\n  Line: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      line: { lineWidth: 1 },\r\n      guideline: { strokeColor: '#ddd' },\r\n      point: {\r\n        pointType: 'ellipse',\r\n        radiusX: 4,\r\n        radiusY: 4,\r\n        strokeColor: '#fff',\r\n        borderWidth: 1\r\n      }\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Pie: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      sector: { lineWidth: 1, strokeColor: '#fff' }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Area: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      area: { opacity: 0.5 },\r\n      guideline: { strokeColor: '#ddd' }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Radar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      area: { opacity: 0.5 }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Bar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      bar: {},\r\n      groupBar: { opacity: 0.1 }\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  PolarBar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      bar: {}\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Funnel: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      funnel: {}\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Scatter: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      point: {}\r\n    },\r\n    attrs: {\r\n      showGuideLine: false\r\n    }\r\n  },\r\n  Wave: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      wave: { fillColor: '#37c', strokeColor: '#37c', lineWidth: 0 },\r\n      text: { fillColor: '#333', fontSize: 24 },\r\n      shape: { fillColor: '#e6f3ff', lineWidth: 3, strokeColor: '#156cbd' }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Gauge: {\r\n    colors: theme.colors,\r\n    attrs: {}\r\n  },\r\n  RadialBar: {\r\n    colors: theme.colors,\r\n    attrs: {}\r\n  }\r\n}\r\ntheme.plugins = {\r\n  Tooltip: {\r\n    colors: theme.colors,\r\n    styles: {},\r\n    attrs: {}\r\n  },\r\n  Legend: {\r\n    colors: theme.colors,\r\n    styles: {},\r\n    attrs: {}\r\n  },\r\n  Axis: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      axis: {\r\n        strokeColor: '#ccc',\r\n        lineWidth: 1\r\n      },\r\n      scale: {\r\n        bgcolor: '#ccc'\r\n      },\r\n      label: {\r\n        fontSize: 12,\r\n        fillColor: '#666'\r\n      },\r\n      grid: {\r\n        strokeColor: '#ddd',\r\n        lineDash: [3, 3]\r\n      },\r\n      name: {\r\n        fontSize: 12,\r\n        fillColor: '#666'\r\n      }\r\n    },\r\n    attrs: {\r\n      orient: 'bottom'\r\n    }\r\n  }\r\n}\r\ntheme.set = function(obj) {\r\n  //合并样式\r\n  deepObjectMerge(theme, obj)\r\n}\r\nexport default theme\r\n","import Base from './Base'\r\nimport theme from '../theme/default'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nexport default class BaseVisual extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.theme = theme.visuals[this.constructor.name]\r\n    //如果当前对象设置了theme，不继承theme\r\n    this.theme.set = obj => {\r\n      if (this.theme === theme.visuals[this.constructor.name]) {\r\n        this.theme = filterClone(this.theme)\r\n      }\r\n      this.theme = deepObjectMerge(this.theme, obj)\r\n    }\r\n  }\r\n}\r\n","// merge style\r\nimport { deepObjectMerge, jsType } from '@qcharts/utils'\r\n/**\r\n * chart:当前的图表\r\n * key:当前的样式名称\r\n * defaultstyle:为数组或者对象，表示默认的样式\r\n * args:调用style方法的时候，style以后的参数\r\n */\r\nexport function getStyle(chart, key, defaultStyle, args) {\r\n  //合并样式\r\n  let oStyle = defaultStyle\r\n  let oArgs = args\r\n  if (jsType(defaultStyle) === 'array') {\r\n    oStyle = deepObjectMerge.apply(this, defaultStyle)\r\n  }\r\n  if (jsType(args) !== 'array') {\r\n    oArgs = [args]\r\n  }\r\n  let cusStyle = chart.style(key)(oStyle, ...oArgs)\r\n  if (cusStyle === false) {\r\n    return false\r\n  }\r\n  return deepObjectMerge({}, oStyle, cusStyle)\r\n}\r\n","function scaleLinear() {\r\n  let domain = [0, 1]\r\n  let range = [0, 1]\r\n  function scale(num) {\r\n    let disDomain = domain[1] - domain[0]\r\n    let disRange = range[1] - range[0]\r\n    let per = (num - domain[0]) / disDomain || 0\r\n    return range[0] + disRange * per\r\n  }\r\n  scale.domain = function(arr) {\r\n    domain = arr\r\n    return this\r\n  }\r\n  scale.range = function(arr) {\r\n    range = arr\r\n    return this\r\n  }\r\n  return scale\r\n}\r\n\r\n// const data = [80, 40, 30, 60, 70]\r\n// const s = scaleLinear().domain([0, 100]).range([0, 100])\r\n// console.log(data.map(s))\r\n\r\nexport { scaleLinear }\r\n","//import { Global } from '../core/Global'\r\nexport function axis(attr) {\r\n  // 计算坐标轴刻度\r\n  if (!Array.isArray(attr.dataSet) && !attr.hasOwnProperty('section')) {\r\n    return []\r\n  }\r\n  if (attr.section !== undefined) {\r\n    return sectionAxis(attr.section)\r\n  }\r\n  const data = dataHandle(attr)\r\n  let upZero = [] // 大于零的数\r\n  let downZero = [] // 小于零的数\r\n  for (const element of data) {\r\n    if (element < 0) {\r\n      downZero.push(Math.abs(element))\r\n    } else {\r\n      upZero.push(element)\r\n    }\r\n  }\r\n  let length = 5 // 刻度数量\r\n  let sortUpZero = upZero.sort((a, b) => {\r\n    return a - b\r\n  })\r\n  let sortDownZero = downZero.sort((a, b) => {\r\n    return a - b\r\n  })\r\n  let maxUpZero = sortUpZero.length && Math.ceil(sortUpZero.pop() / 0.95)\r\n  let maxDownZero = sortDownZero.length && Math.ceil(sortDownZero.pop() / 0.95)\r\n  let maxValue = maxUpZero - maxDownZero >= 0 ? maxUpZero : maxDownZero\r\n  let mixNum = 4\r\n  let maxNum = 7\r\n  if (maxDownZero && maxUpZero) {\r\n    mixNum = 3\r\n    maxNum = 5\r\n  }\r\n  if (attr.splitNumber) {\r\n    mixNum = attr.splitNumber\r\n    maxNum = mixNum + 1\r\n  }\r\n  let getMax = false\r\n  const len = maxValue.toString().length // 最大值位数\r\n  let max = len < 3 ? Math.ceil(maxValue / Math.pow(10, len - 1)) : Math.ceil(maxValue / Math.pow(10, len - 2))\r\n  do {\r\n    for (let i = mixNum; i < maxNum; i++) {\r\n      if (max % i === 0) {\r\n        length = i\r\n        maxValue = len < 3 ? max * Math.pow(10, len - 1) : max * Math.pow(10, len - 2)\r\n        getMax = true\r\n        break\r\n      }\r\n    }\r\n    max++\r\n  } while (!getMax)\r\n\r\n  let axisArray = new Array(length + 1)\r\n  axisArray[0] = 0\r\n  for (let i = 1; i < length + 1; i++) {\r\n    axisArray[i] = maxUpZero >= maxDownZero ? Math.round((maxValue / length) * i) : -1 * Math.round((maxValue / length) * i)\r\n  }\r\n\r\n  // 处理0-1之间的数据\r\n  if ((maxDownZero <= 1 && maxDownZero > 0) || (maxUpZero <= 1 && maxUpZero > 0) || (maxUpZero === 0 && maxDownZero === 0)) {\r\n    axisArray = new Array(6)\r\n    axisArray[0] = 0\r\n    maxValue = 1\r\n    for (let i = 1; i < 6; i++) {\r\n      axisArray[i] = maxUpZero >= maxDownZero ? (2 * maxValue * i) / 10 : (-2 * maxValue * i) / 10\r\n    }\r\n  }\r\n\r\n  if (maxUpZero < maxDownZero) {\r\n    axisArray.reverse()\r\n  }\r\n  if (maxDownZero.length === 0 || maxUpZero.length === 0) {\r\n    return axisArray\r\n  }\r\n  if (maxUpZero >= maxDownZero) {\r\n    const unit = axisArray[1] * 10\r\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxDownZero) / maxUpZero); i < len + 1; i++) {\r\n      axisArray.unshift((-1 * unit * i) / 10)\r\n    }\r\n  } else {\r\n    const unit = axisArray[axisArray.length - 2] * 10\r\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxUpZero) / maxDownZero); i < len + 1; i++) {\r\n      axisArray.push((-1 * unit * i) / 10)\r\n    }\r\n  }\r\n  if (attr.needReverse) {\r\n    axisArray = axisArray.map((value) => {\r\n      return Global.datasetReverse ? Math.round(Global.datasetReverse(value)) : value\r\n    })\r\n  }\r\n  return axisArray\r\n}\r\n\r\nfunction dataHandle(attr) {\r\n  const stack = attr.stack || false\r\n  const data = attr.dataSet || []\r\n  const arr = []\r\n\r\n  if (stack && data.length !== 0 && data[0].length) {\r\n    for (let i = 0, len = data[0].length; i < len; i++) {\r\n      let sum = 0\r\n      let sumDown = 0\r\n      for (let j = 0, leng = data.length; j < leng; j++) {\r\n        let val = data[j][i].value\r\n        if (data[j][i].disabled === true || val === undefined) {\r\n          continue\r\n        }\r\n        if (val < 0) {\r\n          sumDown = sumDown + val\r\n        } else {\r\n          sum = sum + val\r\n        }\r\n      }\r\n      sum && arr.push(sum)\r\n      sumDown && arr.push(sumDown)\r\n    }\r\n  } else {\r\n    for (let m = 0; m < data.length; m++) {\r\n      for (let n = 0; n < data[m].length; n++) {\r\n        let val = data[m][n].value\r\n        if (data[m][n].disabled === true || val === undefined) {\r\n          continue\r\n        }\r\n        arr.push(val)\r\n      }\r\n    }\r\n  }\r\n  return arr\r\n}\r\n\r\nfunction sectionAxis(section) {\r\n  if (section && Array.isArray(section)) {\r\n    const gap = section[1] - section[0]\r\n    const arr = []\r\n    let divide = 4\r\n    arr.push(section[0])\r\n    for (let i = 4; i < 8; i++) {\r\n      if (gap % i === 0) {\r\n        divide = i\r\n        break\r\n      }\r\n    }\r\n    for (let j = 1; j <= divide; j++) {\r\n      arr.push((section[0] + (gap * j) / divide).toFixed(2))\r\n    }\r\n    return arr\r\n  }\r\n  return []\r\n}\r\n","import { scaleLinear } from '../../utils/scaleLinear'\r\nimport { axis } from '../../utils/axis'\r\nexport default function layout(arr, attrs) {\r\n  let type = this.type\r\n  let lines = []\r\n  const { stack, splitNumber, clientRect, axisGap } = attrs\r\n  const { width, height } = clientRect\r\n  let scales = axis({ dataSet: arr, stack, splitNumber })\r\n  let maxVal = Math.max.apply(this, scales)\r\n  let minVal = Math.min.apply(this, scales)\r\n  let scaleFY = scaleLinear()\r\n    .domain([minVal, maxVal])\r\n    .range([0, height])\r\n  let prevRow = null\r\n  arr.forEach(row => {\r\n    let line = { points: [], areaPoints: [], smoothRange: [], state: row.state }\r\n    row.forEach((cell, i) => {\r\n      let val = cell.value\r\n      if (cell.value !== undefined) {\r\n        //如果为undefined 不渲染\r\n        let dx = width / (row.length - 1)\r\n        let offsetX = 0\r\n        if (axisGap) {\r\n          dx = width / row.length\r\n          offsetX = dx / 2\r\n        }\r\n        let curPos = [dx * i + offsetX, height - scaleFY(val)]\r\n        if (stack && prevRow) {\r\n          //如果是堆叠并且前一个row存在，则叠加\r\n          curPos = [dx * i + offsetX, height - scaleFY(val + prevRow[i].value)]\r\n        }\r\n        line.points.push(curPos)\r\n      }\r\n    })\r\n    line.axisPoints = [\r\n      [line.points[0][0], height - scaleFY(0)],\r\n      [line.points[line.points.length - 1][0], height - scaleFY(0)]\r\n    ]\r\n    if (line.state !== 'disabled') {\r\n      prevRow = row\r\n    }\r\n    lines.push(line)\r\n  })\r\n  if (type === 'area') {\r\n    let curLine = null\r\n    lines.forEach((line, ind) => {\r\n      let nextPoints = []\r\n        .concat(line.points)\r\n        .reverse()\r\n        .map(point => [point[0], height])\r\n      if (curLine && attrs.stack) {\r\n        nextPoints = [].concat(lines[ind - 1].points).reverse()\r\n      }\r\n      let res = transAreaPoint(line.points, nextPoints)\r\n      line.areaPoints = res.areaPoints\r\n      line.smoothRange = res.smoothRange\r\n      if (line.state !== 'disabled') {\r\n        curLine = line\r\n      }\r\n    })\r\n  }\r\n  return lines\r\n}\r\nfunction transAreaPoint(startPoints, endPoints) {\r\n  let res = {\r\n    areaPoints: [],\r\n    smoothRange: []\r\n  }\r\n  res.areaPoints = []\r\n    .concat([startPoints[0]])\r\n    .concat(startPoints)\r\n    .concat([startPoints[startPoints.length - 1]])\r\n    .concat([endPoints[0]])\r\n    .concat(endPoints)\r\n    .concat([endPoints[endPoints.length - 1]])\r\n  res.smoothRange = [1, startPoints.length, startPoints.length + 3, startPoints.length + endPoints.length + 2]\r\n  return res\r\n}\r\n","import { Sprite, Path, Ellipse, Rect, Triangle, Parallel, Regular, Star, Group } from 'spritejs'\r\nimport { jsType } from '@qcharts/utils'\r\n\r\nconst allSymbol = {\r\n  sprite: Sprite,\r\n  path: Path,\r\n  ellipse: Ellipse,\r\n  rect: Rect,\r\n  triangle: Triangle,\r\n  parallel: Parallel,\r\n  regular: Regular,\r\n  star: Star\r\n}\r\nclass Symbol extends Group {\r\n  constructor(attrs = {}) {\r\n    super()\r\n    this.pointType = null\r\n    this.$sprite = null\r\n    this.attr({ pointType: 'ellipse', ...attrs })\r\n  }\r\n  attr(name, val) {\r\n    let attrs = name\r\n    if (jsType(name) !== 'object') {\r\n      attrs = {}\r\n      attrs[name] = val\r\n    }\r\n    this.renderSymbol(attrs)\r\n  }\r\n  renderSymbol(attrs) {\r\n    const { pointType, pos, ...renderAttr } = attrs\r\n\r\n    if (pointType && pointType !== this.pointType) {\r\n      if (!Object.keys(allSymbol).includes(pointType)) {\r\n        throw new Error(\r\n          `pointType should be one of 'sprite','path','ellipse','rect','triangle','parallel','regular','star' but it is ${pointType}`\r\n        )\r\n      }\r\n      this.$sprite && this.$sprite.remove()\r\n      this.$sprite = new allSymbol[pointType](renderAttr)\r\n      this.append(this.$sprite)\r\n    } else {\r\n      this.$sprite.attr(renderAttr)\r\n    }\r\n    if (pos && pos.length) {\r\n      super.attr('pos', pos)\r\n    }\r\n\r\n    this.pointType = pointType\r\n  }\r\n}\r\nexport default Symbol\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Polyline, Node } from 'spritejs'\r\nimport { getStyle } from '@/utils/getStyle'\r\nimport layout from './layout'\r\nimport Symbol from '../../utils/Symbol'\r\nclass Line extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderLines = []\r\n    this.type = 'line'\r\n    this.hoverIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    let { arrLayout, maxLen } = this.getRenderData()\r\n    let lines = arrLayout.map(item => {\r\n      return {\r\n        smoothRange: item.smoothRange,\r\n        areaFrom: { points: item.areaPoints },\r\n        areaTo: { points: item.areaPoints },\r\n        from: { points: item.points, lineDash: [1, maxLen] },\r\n        to: { points: item.points, lineDash: [maxLen, maxLen] }\r\n      }\r\n    })\r\n    return lines\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    let { arrLayout, maxLen } = this.getRenderData()\r\n    let renderLines = this.renderLines\r\n    let lines = arrLayout.map((item, i) => {\r\n      let from = { points: item.points }\r\n      if (renderLines[i]) {\r\n        from = { points: renderLines[i].to.points }\r\n      }\r\n      if (!renderLines[i] || renderLines[i].state === 'disabled') {\r\n        from.lineDash = [4, maxLen]\r\n      }\r\n      return {\r\n        state: item.state,\r\n        smoothRange: item.smoothRange,\r\n        areaFrom: (renderLines[i] && renderLines[i].areaTo) || item.areaPoints,\r\n        areaTo: {\r\n          points: item.areaPoints\r\n        },\r\n        from,\r\n        to: {\r\n          points: item.points,\r\n          lineDash: [maxLen, maxLen]\r\n        }\r\n      }\r\n    })\r\n    return lines\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    let arrLayout = layout.call(this, renderData, renderAttrs)\r\n    let { height, width } = renderAttrs.clientRect\r\n    //对角线长度的2保证会大于曲线的长度\r\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 5\r\n    return { width, height, arrLayout, maxLen }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      guidePoints: [],\r\n      layer: 'line'\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {\r\n      smooth: false\r\n    }\r\n  }\r\n  guidelineleave(event, el) {\r\n    this.attr('guidePoints', [])\r\n    this.dataset.resetState()\r\n  }\r\n  guidelinemove(event, el) {\r\n    if (this.renderLines.length) {\r\n      //获取 x轴坐标的刻度\r\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\r\n      //转换cancas坐标到当前group的相对坐标\r\n      let [x] = el.getOffsetPosition(event.x, event.y)\r\n      let curInd = 0\r\n      //查找当前位置\r\n      for (let i = 0; i < arrX.length; i++) {\r\n        if (x > arrX[i] && x < arrX[i + 1]) {\r\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\r\n          break\r\n        }\r\n      }\r\n      //重置所有的dateset的状态\r\n      if (this.hoverIndex !== curInd) {\r\n        this.dataset.resetState()\r\n        //设置当前列的state为hover\r\n        this.dataset.cols[curInd].state = 'hover'\r\n        let { clientRect } = this.renderAttrs\r\n        let posX = arrX[curInd]\r\n        this.hoverIndex = curInd\r\n        this.attr({\r\n          guidePoints: [\r\n            [posX, 0],\r\n            [posX, clientRect.height]\r\n          ],\r\n          lineState: 'default'\r\n        })\r\n      }\r\n    }\r\n  }\r\n  render(lines) {\r\n    let { clientRect, smooth, guidePoints } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    //当前主体颜色\r\n    let colors = this.theme.colors\r\n    this.renderLines = lines\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} onMouseleave={this.guidelineleave} onMouseenter={this.guidelinemove} onMousemove={this.guidelinemove} size={[clientRect.width, clientRect.height]}>\r\n        <Group class=\"lines-group\">\r\n          {lines.map((line, ind) => {\r\n            let style = getStyle(this, 'line', [{ strokeColor: colors[ind], smooth }, styles.line], [this.dataset.rows[ind], ind])\r\n            return line.state === 'disabled' || style === false ? <Node /> : <Polyline onClick={this.lineClick} {...style} animation={{ from: line.from, to: line.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"line-points\">\r\n          {lines.map((line, ind) => {\r\n            return line.state === 'disabled' ? (\r\n              <Node />\r\n            ) : (\r\n              <Group>\r\n                {line.to.points.map((p, j) => {\r\n                  const animation = { from: { pos: line.from.points[j] }, to: { pos: p } }\r\n                  const style = getStyle(this, 'point', [{ fillColor: colors[ind] }, styles.point], [this.dataset.rows[ind], ind, j])\r\n                  const hoverStyle = getStyle(this, 'point:hover', [{ fillColor: colors[ind] }, styles['point:hover']], [this.dataset.rows[ind], ind, j])\r\n                  if (this.dataset.rows[ind][j].state === 'hover') {\r\n                    return <Symbol {...style} {...hoverStyle} animation={animation} />\r\n                  }\r\n                  return <Symbol {...style} animation={animation} />\r\n                })}\r\n              </Group>\r\n            )\r\n          })}\r\n        </Group>\r\n        <Group class=\"areas-group\">\r\n          {this.type !== 'area'\r\n            ? null\r\n            : lines.map((line, ind) => {\r\n                let style = getStyle(this, 'area', [{ fillColor: colors[ind], smooth }, styles.area], [this.dataset.rows[ind], ind])\r\n                return line.state === 'disabled' || style === false ? <Node /> : <Polyline smoothRange={line.smoothRange} {...style} animation={{ from: line.areaFrom, to: line.areaTo }} />\r\n              })}\r\n        </Group>\r\n        <Group class=\"guide-line-group\">\r\n          {guidePoints.length ? (\r\n            (_ => {\r\n              let style = getStyle(this, 'guideline', styles.guideline)\r\n              return style === false ? <Node /> : <Polyline points={guidePoints} {...style} />\r\n            })()\r\n          ) : (\r\n            <Node />\r\n          )}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Line\r\n","export default function layout(arr, attrs) {\r\n  let rings = []\r\n  let arrVal = arr.map(row => row.reduce((val, item) => (row.state !== 'disabled' ? val + item.value : val), 0))\r\n  //当totalVal为0的时候，会造成分母为0 如果totalVal为0 处理成1\r\n  let totalVal = arrVal.reduce((val, item) => val + item, 0) || 1\r\n  let { startAngle, endAngle, activeOffset } = attrs\r\n  let minAngle = Math.min(startAngle, endAngle)\r\n  let maxAngle = Math.max(startAngle, endAngle)\r\n  if (maxAngle > minAngle + 360) {\r\n    maxAngle = minAngle + 360\r\n  }\r\n  let totalAngle = maxAngle - minAngle\r\n  arrVal.forEach((num, ind) => {\r\n    let curPercent = num / totalVal\r\n    let perAngle = curPercent * totalAngle\r\n    //默认中心坐标偏移量0\r\n    let offsetPos = [0, 0]\r\n\r\n    let curObj = { startAngle: minAngle, endAngle: minAngle + perAngle, offsetPos }\r\n    if (ind !== 0) {\r\n      let prevRing = rings[ind - 1]\r\n      curObj = { startAngle: prevRing.endAngle, endAngle: prevRing.endAngle + perAngle, offsetPos }\r\n    }\r\n    let curAngle = ((curObj.startAngle + curObj.endAngle) / 2) % 360\r\n    curObj.bisectorAngle = curAngle\r\n    curObj.bisectorRadian = transRadius(curAngle)\r\n    if (arr[ind].state === 'hover') {\r\n      //角平分,角度转弧度,默认是顺时针，角度为相反\r\n      curObj.offsetPos = [activeOffset * Math.cos(curObj.bisectorRadian), activeOffset * Math.sin(curObj.bisectorRadian)]\r\n      //选中状态\r\n    }\r\n    rings.push(curObj)\r\n  })\r\n  return rings\r\n}\r\nexport function transRadius(angle) {\r\n  return (angle / 180) * Math.PI\r\n}\r\nexport function computeLinePos(startAngle, endAngle, center, radius, disRadius) {\r\n  let points = []\r\n  let centerAn = ((startAngle + endAngle) / 2) % 360\r\n  let centerAngle = transRadius(centerAn)\r\n  let labelAnchor = [0, 0]\r\n  let startPoint = [radius * Math.cos(centerAngle), radius * Math.sin(centerAngle)]\r\n  let endPoint = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius) * Math.sin(centerAngle)]\r\n  let labelPos = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius + 5) * Math.sin(centerAngle)]\r\n  labelPos = [center[0] + labelPos[0], center[1] + labelPos[1]]\r\n  points.push([center[0] + startPoint[0], center[1] + startPoint[1]])\r\n  points.push([center[0] + endPoint[0], center[1] + endPoint[1]])\r\n  labelAnchor = [Math.sin(centerAngle / 2), 1 - Math.cos(centerAngle / 4)]\r\n  return { points, labelAnchor, labelPos: labelPos }\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Node, Ring, Polyline, Label } from 'spritejs'\r\nimport filterClone from 'filter-clone'\r\nimport layout from './layout'\r\nimport { computeLinePos } from './layout'\r\nimport { getStyle } from '@/utils/getStyle'\r\nclass Pie extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderRings = []\r\n    this.hoverIndex = -1\r\n    this.activeIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let { radius, innerRadius } = attrs\r\n    let { width, height } = attrs.clientRect\r\n    attrs.center = [width / 2, height / 2]\r\n    attrs.radiusPx = (Math.min(width, height) * radius) / 2\r\n    attrs.innerRadiusPx = (Math.min(width, height) * innerRadius) / 2\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    let { rings } = this.getRenderData()\r\n    let { center } = this.renderAttrs\r\n    let arr = rings.map((item, ind) => {\r\n      if (ind === 0) {\r\n        return {\r\n          from: { startAngle: 0, endAngle: 0, pos: center },\r\n          to: { ...item, pos: center }\r\n        }\r\n      }\r\n      let pervAngle = rings[ind - 1].endAngle\r\n      return {\r\n        from: { startAngle: pervAngle, endAngle: pervAngle, pos: center },\r\n        to: { ...item, pos: center }\r\n      }\r\n    })\r\n    this.computeLine(arr)\r\n    return arr\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    let { rings } = this.getRenderData()\r\n    let { center } = this.renderAttrs\r\n    let oldRings = this.renderRings\r\n    let arr = rings.map((item, ind) => {\r\n      let curPos = [center[0] + item.offsetPos[0], center[1] + item.offsetPos[1]]\r\n      let attrs = filterClone(item, ['startAngle', 'endAngle'])\r\n      if (ind === this.hoverIndex) {\r\n        return {\r\n          from: { ...oldRings[ind].to },\r\n          to: { ...attrs, pos: curPos }\r\n        }\r\n      } else {\r\n        return {\r\n          from: { ...oldRings[ind].to },\r\n          to: { ...attrs, pos: curPos }\r\n        }\r\n      }\r\n    })\r\n    this.computeLine(arr)\r\n    return arr\r\n  }\r\n  computeLine(arr) {\r\n    let { radiusPx } = this.renderAttrs\r\n    arr.forEach(item => {\r\n      let { points: fromPoints, labelAnchor: fromAnchor, labelPos: fromPos } = computeLinePos(item.from.startAngle, item.from.endAngle, item.from.pos, radiusPx + 1, 15)\r\n      let { points: toPoints, labelAnchor: toAnchor, labelPos: toPos } = computeLinePos(item.to.startAngle, item.to.endAngle, item.to.pos, radiusPx + 1, 15)\r\n      item.line = {\r\n        from: {\r\n          points: fromPoints\r\n        },\r\n        to: {\r\n          points: toPoints\r\n        }\r\n      }\r\n      item.label = {\r\n        from: {\r\n          pos: fromPos,\r\n          anchor: fromAnchor\r\n        },\r\n        to: {\r\n          pos: toPos,\r\n          anchor: toAnchor\r\n        }\r\n      }\r\n    })\r\n    //计算guideline位置\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    //let { radiusPx, center } = renderAttrs\r\n    let renderData = this.renderData()\r\n    let rings = layout.call(this, renderData, renderAttrs)\r\n    return { rings }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'pie',\r\n      radius: 1,\r\n      innerRadius: 0,\r\n      startAngle: 0,\r\n      endAngle: 360,\r\n      lineWidth: 1,\r\n      //选中偏移量基数\r\n      activeOffset: 10,\r\n      //饼图上文字偏移量\r\n      labelOffset: 20\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n  }\r\n  mousemove(event, el) {\r\n    let renderData = this.renderData()\r\n    let ind = el.attr('_index')\r\n    if (ind !== this.hoverIndex) {\r\n      let curData = renderData[ind]\r\n      renderData.forEach(row => {\r\n        if (row.state === 'hover') {\r\n          row.state = 'default'\r\n        }\r\n      })\r\n      curData.state = 'hover'\r\n      this.hoverIndex = ind\r\n    }\r\n  }\r\n  mouseleave() {\r\n    let renderData = this.renderData()\r\n    renderData.forEach(row => {\r\n      if (row.state === 'hover') {\r\n        row.state = 'default'\r\n      }\r\n    })\r\n    this.hoverIndex = -1\r\n  }\r\n  renderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    return this.dataset[renderAttrs.layoutBy]\r\n  }\r\n  render(rings) {\r\n    //console.log(rings)\r\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    //当前主体颜色\r\n    let colors = this.theme.colors\r\n    this.renderRings = rings\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\r\n          {rings.map((ring, ind) => {\r\n            let style = getStyle(this, 'sector', [{ strokeColor: colors[ind], fillColor: colors[ind], innerRadius: innerRadiusPx, outerRadius: radiusPx, _index: ind }, styles.sector], [this.dataset.rows[ind], ind])\r\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMousemove={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"line-group\">\r\n          {rings.map((ring, ind) => {\r\n            let style = getStyle(this, 'guideline', [{ strokeColor: colors[ind] }, styles.guideline], [this.dataset.rows[ind], ind])\r\n            let hide = false\r\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\r\n              hide = true\r\n            }\r\n            return hide || style === false ? <Node /> : <Polyline {...style} animation={{ from: ring.line.from, to: ring.line.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"label-group\">\r\n          {rings.map((ring, ind) => {\r\n            let name = this.dataset.rows[ind].name\r\n            let style = getStyle(this, 'guideText', [{ fillColor: '#666', fontSize: 12 }, styles.guideline], [this.dataset.rows[ind], ind])\r\n            let hide = false\r\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\r\n              hide = true\r\n            }\r\n            return hide || style === false ? <Node /> : <Label text={name} {...style} pos={ring.label.from.pos} animation={{ from: ring.label.from, to: ring.label.to }} />\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Pie\r\n","import Line from '../Line'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nclass Area extends Line {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'area'\r\n  }\r\n  defaultAttrs() {\r\n    return deepObjectMerge({}, super.defaultAttrs(), {\r\n      stack: true,\r\n      animation: {\r\n        duration: 700,\r\n        easing: 'bounceOut'\r\n      },\r\n      layer: 'area'\r\n    })\r\n  }\r\n}\r\nexport default Area\r\n","/**\r\n * 根据给定角度和长度获取极坐标值\r\n * @param {Number} radian 角度\r\n * @param {Number} length 长度\r\n * @returns {Array} [x,y]\r\n */\r\nconst getPointCoordinate = (radian, length) => {\r\n  let x = Math.cos(radian) * length\r\n  let y = Math.sin(radian) * length\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 获取数组中最大数除以层级后的整数\r\n * @param {Array} data\r\n * @param {Number} splitNumber\r\n * @returns {Number}\r\n */\r\nconst getMax = (data, splitNumber) => {\r\n  const indicatorMax = Math.max(...data)\r\n  if (indicatorMax < splitNumber * 10) {\r\n    return Math.ceil(indicatorMax / splitNumber) * splitNumber\r\n  } else {\r\n    return Math.ceil(indicatorMax / 10 / splitNumber) * 10 * splitNumber\r\n  }\r\n}\r\n\r\n/**\r\n * 根据给定的数据，返回绘制雷达图所需要的数据\r\n * @param {Array} dataset 数据集\r\n * @param {Number} radius 雷达图半径\r\n * @param {Number} splitNumber  雷达图背景层级\r\n * @param {Number} startAngle 雷达图起始轴角度\r\n * @param {Number} labelOffset 雷达图文字偏移值\r\n * @param {Array} colors 雷达图主题颜色\r\n * @returns {Object} { sectionAttrs, borderAttrs, axisAttrs, gridAttrs }\r\n */\r\nexport default function layout(data, radius, splitNumber, startAngle, labelOffset, colors) {\r\n  let bgPoints = [] // 最外层背景多边形\r\n  let gridAttrs = [] // 蜘蛛网图背景\r\n  let axisAttrs = [] // 坐标轴\r\n  let sectionAttrs = [] // 多边形数据\r\n\r\n  if (data.some((d) => d.length === 0)) {\r\n    return { sectionAttrs, axisAttrs, gridAttrs }\r\n  }\r\n\r\n  const allDataValue = data.reduce((t, row) => {\r\n    return t.concat(row.map((cell) => cell.value))\r\n  }, [])\r\n\r\n  const max = getMax(allDataValue, splitNumber)\r\n\r\n  // 每个类别的弧度\r\n  const dimension = data[0].length\r\n  const perRadian = (Math.PI * 2) / dimension\r\n  // 起始角度->转弧度\r\n  const startRadian = (Math.PI / 180) * startAngle\r\n  for (let i = 0; i < dimension; i++) {\r\n    // 根据角度和半径，计算对应的坐标\r\n    let currentRadian = i * perRadian + startRadian\r\n    let point = getPointCoordinate(currentRadian, radius)\r\n\r\n    bgPoints.push({\r\n      point,\r\n      radian: currentRadian\r\n    })\r\n\r\n    // 类别指示坐标\r\n    const labelPos = getPointCoordinate(currentRadian, radius + labelOffset)\r\n    const label = data[0][i].text\r\n    // 坐标轴属性\r\n    axisAttrs.push({\r\n      points: [[0, 0], point],\r\n      lineWidth: 1,\r\n      lineDash: [3, 2],\r\n      strokeColor: '#DDE0E5',\r\n      label,\r\n      labelPos,\r\n      radian: currentRadian,\r\n      maxScale: max,\r\n      splitNumber: splitNumber\r\n    })\r\n  }\r\n\r\n  data.forEach((row, index) => {\r\n    const categoryPoints = row.map((d, i) => {\r\n      const value = d.value\r\n      const radian = bgPoints[i].radian\r\n      return getPointCoordinate(radian, (value / max) * radius)\r\n    })\r\n\r\n    sectionAttrs.push({\r\n      index: index,\r\n      name: row.name,\r\n      dataOrigin: row.data,\r\n      lineWidth: 1,\r\n      points: categoryPoints,\r\n      state: row.state,\r\n      close: true,\r\n      strokeColor: colors[index],\r\n      fillColor: colors[index]\r\n    })\r\n  })\r\n\r\n  // 背景网格多边形坐标\r\n  const gridPoints = bgPoints.map((p) => p.point)\r\n  for (let i = 0; i < splitNumber; i++) {\r\n    let scale = 1 - i / splitNumber\r\n    gridAttrs.push({\r\n      scale,\r\n      radius,\r\n      points: gridPoints,\r\n      index: i,\r\n      close: true,\r\n      lineWidth: 1,\r\n      strokeColor: '#DDE0E5',\r\n      anchor: [0.5, 0.5]\r\n    })\r\n  }\r\n\r\n  return { sectionAttrs, axisAttrs, gridAttrs }\r\n}\r\n","import { Group, Polyline, Arc, Label } from 'spritejs'\r\nimport { deepObjectMerge, throttle, jsType } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\nimport layout from './layout'\r\nimport Symbol from '../../utils/Symbol'\r\n\r\nclass Radar extends BaseVisual {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'radar'\r\n    this.sectionData = []\r\n    this.scaleEl = []\r\n  }\r\n\r\n  //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    const { height, width } = attrs.clientRect\r\n    const center = [width / 2, height / 2]\r\n\r\n    const len = Math.min(...center) * attrs.radius\r\n\r\n    return { ...attrs, center, len }\r\n  }\r\n\r\n  // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'radar',\r\n      gridType: 'polygon', // 网格类型,polygon,circle\r\n      splitNumber: 4, // 网格层次\r\n      startAngle: 270, // 起始角度\r\n      radius: 0.6, // 雷达图半径\r\n      labelOffset: 7 // 文字偏移\r\n    }\r\n  }\r\n\r\n  getPolylineAnimation(toPoints, state, index) {\r\n    const zeroPoints = new Array(toPoints.length).fill([0, 0])\r\n    const preData = this.sectionData[index] || { animation: { to: { points: zeroPoints } } }\r\n    const animation = {\r\n      from: { points: preData.animation.to.points },\r\n      to: { points: toPoints }\r\n    }\r\n    // disabled的时候缩回原点并透明\r\n    if (state === 'disabled') {\r\n      animation.to.points = zeroPoints\r\n    }\r\n    return animation\r\n  }\r\n\r\n  getRenderData() {\r\n    const dataSet = this.dataset\r\n    // // FIXME 数据筛选之前先按照label进行排序?是否需要？\r\n    const { len, splitNumber, startAngle, labelOffset } = this.renderAttrs\r\n    const colors = this.theme.colors\r\n\r\n    const { sectionAttrs, axisAttrs, gridAttrs } = layout(\r\n      [...dataSet.rows],\r\n      len,\r\n      splitNumber,\r\n      startAngle,\r\n      labelOffset,\r\n      colors\r\n    )\r\n\r\n    return { sectionAttrs, axisAttrs, gridAttrs }\r\n  }\r\n\r\n  processData() {\r\n    const { sectionAttrs, ...otherData } = this.getRenderData()\r\n    const processSectionAttrs = sectionAttrs.map((attr, i) => {\r\n      const { points, state, ...otherAttrs } = attr\r\n      const { style, hoverStyle } = this.getStyle('section', attr, { ...attr.dataOrigin }, i)\r\n      let stateStyle = state === 'hover' ? hoverStyle : {}\r\n      const animation = this.getPolylineAnimation(points, state, i)\r\n      return deepObjectMerge(otherAttrs, { state }, { animation }, style, stateStyle)\r\n    })\r\n    return { ...otherData, sectionAttrs: processSectionAttrs }\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const renderData = this.processData()\r\n    this.sectionData = [...renderData.sectionAttrs]\r\n    return renderData\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const updateData = this.processData()\r\n    if (updateData.sectionAttrs) {\r\n      const len = Math.max(this.sectionData.length, updateData.sectionAttrs.length)\r\n      for (let i = 0; i < len; i++) {\r\n        this.sectionData[i] = updateData.sectionAttrs[i]\r\n      }\r\n    }\r\n    this.sectionData = [...updateData.sectionAttrs]\r\n    return updateData\r\n  }\r\n\r\n  rendered() {}\r\n\r\n  getScaleAnimation(toScale) {\r\n    return {\r\n      from: { scale: 0 },\r\n      to: { scale: toScale }\r\n    }\r\n  }\r\n\r\n  getStyle(type, attr, data, index) {\r\n    return {\r\n      style: this.style(type)(attr, data, index) || {},\r\n      hoverStyle: this.style(`${type}:hover`)(attr, data, index) || {}\r\n    }\r\n  }\r\n\r\n  isSamePoints(fromPts, toPts) {\r\n    return fromPts.toString() === toPts.toString()\r\n  }\r\n\r\n  renderGrid(gridAttrs) {\r\n    const { gridType } = this.renderAttrs\r\n    const GridShape = gridType === 'circle' ? Arc : Polyline\r\n    return gridAttrs.map((attr, i) => {\r\n      const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(attr.scale)\r\n      const { style } = this.getStyle('grid', attr, null, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      return <GridShape {...attr} {...style} animation={animation} />\r\n    })\r\n  }\r\n\r\n  renderAxisLabel(attrs, i) {\r\n    const calcAnchor = (radian) => {\r\n      const x = 0.5 - Math.cos(radian)\r\n      const y = 0.5 - Math.sin(radian)\r\n      return [x, y]\r\n    }\r\n    const { label, labelPos, radian } = attrs\r\n    const anchor = calcAnchor(radian)\r\n    const attr = {\r\n      text: label,\r\n      pos: labelPos,\r\n      color: '#67728C',\r\n      radian,\r\n      anchor,\r\n      fontSize: 12\r\n    }\r\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\r\n    const { style } = this.getStyle('label', attr, { text: attr.label, radian }, i)\r\n    if (style === false) {\r\n      return\r\n    }\r\n    return <Label {...attr} {...style} animation={animation} />\r\n  }\r\n\r\n  renderAxisScale(attrs, index) {\r\n    const getPt = (attrs) => {\r\n      const { points, splitNumber, maxScale } = attrs\r\n      const [x, y] = points[1]\r\n      const perNum = maxScale / splitNumber\r\n      return [[x / splitNumber, y / splitNumber], perNum]\r\n    }\r\n    const [[perX, perY], perNum] = getPt(attrs)\r\n    let labels = []\r\n    const display = index === 0 ? 'block' : 'none'\r\n    const common = {\r\n      fontSize: 12,\r\n      anchor: [1, 0.5],\r\n      translate: [-5, 0],\r\n      display\r\n    }\r\n    for (let i = 0; i < attrs.splitNumber + 1; i++) {\r\n      let point = [perX * i, perY * i]\r\n      let text = perNum * i\r\n      let attr = {\r\n        text,\r\n        color: '#67728C',\r\n        pos: point,\r\n        ...common\r\n      }\r\n      const { style } = this.getStyle('scale', attr, { text, index }, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      if (attr.display !== 'none') {\r\n        let animation = {}\r\n        const elIndex = index * attrs.splitNumber + i\r\n        const preEl = this.scaleEl[elIndex]\r\n        if (preEl) {\r\n          if (preEl.text !== text) {\r\n            animation = {\r\n              from: { text: preEl.text },\r\n              to: { text },\r\n              formatter: (attr) => {\r\n                attr.text = attr.text.toFixed(0)\r\n                return attr\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          animation = {\r\n            from: { pos: [0, 0] },\r\n            to: { pos: point }\r\n          }\r\n        }\r\n        this.scaleEl[i] = { text: Number(text.toFixed(0)) }\r\n        labels.push(<Label {...attr} {...style} animation={animation} />)\r\n      }\r\n    }\r\n    return labels\r\n  }\r\n\r\n  renderAxis(axisAttrs) {\r\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\r\n    return axisAttrs.map((attr, i) => {\r\n      const { style } = this.getStyle('axis', attr, { text: attr.label }, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      return (\r\n        <Group>\r\n          <Polyline {...attr} {...style} animation={animation} />\r\n          {this.renderAxisLabel(attr, i)}\r\n          {this.renderAxisScale(attr, i)}\r\n        </Group>\r\n      )\r\n    })\r\n  }\r\n\r\n  renderPoints(sectionAttrs) {\r\n    const allPoints = sectionAttrs.map((attrs) => {\r\n      const { animation: secAnimation, dataOrigin, strokeColor, state } = attrs\r\n      const prePoints = secAnimation && secAnimation.from && secAnimation.from.points\r\n      const toPoints = secAnimation && secAnimation.to && secAnimation.to.points\r\n      return toPoints.map((point, i) => {\r\n        const attr = {\r\n          pos: point,\r\n          fillColor: strokeColor,\r\n          radius: 2,\r\n          dataOrigin: dataOrigin[i]\r\n        }\r\n        const { style, hoverStyle } = this.getStyle('point', attr, { ...attr.dataOrigin }, i)\r\n        if (style === false) {\r\n          return\r\n        }\r\n\r\n        let animation = {\r\n          from: { pos: [0, 0], opacity: 1 },\r\n          to: { pos: point, opacity: 1 }\r\n        }\r\n\r\n        if (prePoints && prePoints[i]) {\r\n          if (!this.isSamePoints(prePoints[i], point)) {\r\n            animation.from.pos = prePoints[i]\r\n          } else {\r\n            animation.from.pos = point\r\n          }\r\n        }\r\n        if (state === 'disabled') {\r\n          animation.to.opacity = 0\r\n        }\r\n        const stateStyle = state === 'hover' ? hoverStyle : {}\r\n        return <Symbol {...attr} {...style} {...stateStyle} animation={animation} zIndex={99} />\r\n      })\r\n    })\r\n\r\n    return allPoints.reduce((pre, cur) => pre.concat(cur), [])\r\n  }\r\n\r\n  renderSection(sectionAttrs) {\r\n    return sectionAttrs.map((attr, i) => {\r\n      const { animation, ...otherAttr } = attr\r\n      return (\r\n        <Polyline\r\n          zIndex={9 + i}\r\n          {...otherAttr}\r\n          animation={animation}\r\n          onMouseenter={this.onMouseenter}\r\n          onMouseleave={this.onMouseleave}\r\n        />\r\n      )\r\n    })\r\n  }\r\n\r\n  onMouseenter = throttle(\r\n    (event, el) => {\r\n      this.dataset.resetState()\r\n      const name = el.attributes.name\r\n      this.dataset.rows\r\n        .filter((row) => row.state !== 'disabled')\r\n        .forEach((row) => {\r\n          row.state = row.name === name ? 'hover' : 'default'\r\n        })\r\n    },\r\n    16,\r\n    true\r\n  )\r\n  onMouseleave() {\r\n    this.dataset.resetState()\r\n    this.dataset.rows.filter((row) => row.state !== 'disabled').forEach((row) => row.state === 'default')\r\n  }\r\n\r\n  render({ sectionAttrs, axisAttrs, gridAttrs }) {\r\n    const { center, clientRect } = this.renderAttrs\r\n    return (\r\n      <Group pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Group pos={center}>\r\n          {this.renderGrid(gridAttrs)}\r\n          {this.renderAxis(axisAttrs)}\r\n          {this.renderSection(sectionAttrs)}\r\n          {this.renderPoints(sectionAttrs)}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Radar\r\n","import Base from \"../../base/BaseVisual\";\r\nimport { Group, Sprite } from \"spritejs\";\r\nimport { deepObjectMerge, throttle } from \"@qcharts/utils\";\r\nimport layout from \"./layout\";\r\nclass Bar extends Base {\r\n  constructor(attrs) {\r\n    super(attrs);\r\n    this.type = \"bar\";\r\n    this.pillars = null;\r\n    this.groups = null;\r\n    this.fromTos = null;\r\n    this.hoverIndex = -1;\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs;\r\n    return attrs;\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base---------before\r\n    let { arrLayout } = this.getRenderData();\r\n    let barData = arrLayout.barData.map((item) => {\r\n      return {\r\n        attrs: item,\r\n        from: {\r\n          size: this.renderAttrs.transpose\r\n            ? [0, item.size[1]]\r\n            : [item.size[0], 0],\r\n        },\r\n        to: {\r\n          size: item.size,\r\n        },\r\n      };\r\n    });\r\n    this.pillars = barData;\r\n    this.groups = arrLayout.groupData;\r\n    return { barData, groupData: arrLayout.groupData };\r\n  }\r\n  beforeUpdate() {\r\n    const pillars = this.pillars;\r\n    let { arrLayout } = this.getRenderData();\r\n    let barData = arrLayout.barData.map((nextPillar, i) => {\r\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1];\r\n      if (!prev) {\r\n        prev = {\r\n          size: [0, 0],\r\n          pos: nextPillar.pos,\r\n          labelAttrs: null,\r\n        };\r\n      }\r\n      return {\r\n        attrs: nextPillar,\r\n        from: {\r\n          size: prev.attrs.disable\r\n            ? this.attr(\"transpose\")\r\n              ? [0, prev.attrs.size[1]]\r\n              : [prev.attrs.size[0], 0]\r\n            : prev.attrs.size,\r\n          pos: prev.attrs.pos,\r\n        },\r\n        to: {\r\n          size: nextPillar.size,\r\n          pos: nextPillar.pos,\r\n        },\r\n      };\r\n    });\r\n    this.pillars = barData;\r\n    this.groups = arrLayout.groupData;\r\n    return { barData, groupData: arrLayout.groupData };\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs;\r\n    let renderData = this.dataset[renderAttrs.layoutBy];\r\n    const dataLength =\r\n      renderData.length > 1 ? renderData.length : renderData[0].length;\r\n    let arrLayout = layout(renderData, renderAttrs);\r\n    let colors = this.theme.colors;\r\n    let styles = this.renderStyles;\r\n    arrLayout.barData = arrLayout.barData.map((bar, i) => {\r\n      let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\r\n      let barStyle = deepObjectMerge(\r\n        { bgcolor: bar.bgcolor || colors[i % dataLength] },\r\n        styles.bar,\r\n        style\r\n      );\r\n      bar = deepObjectMerge(bar, barStyle);\r\n      return bar;\r\n    });\r\n    return { arrLayout };\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    let renderData = this.dataset[\"rows\"];\r\n    let stateArray = Array.from(\r\n      { length: renderData[0].length },\r\n      () => \"defalut\"\r\n    );\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: \"bar\",\r\n      bgpillarState: stateArray,\r\n      states: {\r\n        bgpillar: {\r\n          animation: { duration: 20 },\r\n          default: { opacity: 0.01 },\r\n          hover: { opacity: 0.1 },\r\n        },\r\n      },\r\n    };\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {};\r\n  }\r\n  onMousemove = throttle(\r\n    (event, el) => {\r\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\r\n        let curInd = 0;\r\n        let [x, y] = el.getOffsetPosition(event.x, event.y);\r\n        if (!this.renderAttrs.transpose) {\r\n          //获取 x轴坐标的刻度\r\n          let width = this.groups[0].size[0];\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(x / width);\r\n        } else {\r\n          let width = this.groups[0].size[1];\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(y / width);\r\n        }\r\n        if (curInd < 1) {\r\n          curInd = 0;\r\n        } else if (curInd > this.groups.length - 1) {\r\n          curInd = this.groups.length - 1;\r\n        }\r\n        if (this.hoverIndex !== curInd) {\r\n          let { bgpillarState } = this.renderAttrs;\r\n          bgpillarState[curInd] = \"hover\";\r\n          bgpillarState[this.hoverIndex] = \"defualt\";\r\n          this.attr(\"bgpillarState\", bgpillarState);\r\n          this.dataset.resetState();\r\n          this.dataset.cols[curInd].state = \"hover\";\r\n          this.hoverIndex = curInd;\r\n        }\r\n      }\r\n    },\r\n    16,\r\n    true\r\n  );\r\n  onMouseleave(e, el) {\r\n    this.dataset.resetState();\r\n    let { bgpillarState } = this.renderAttrs;\r\n    bgpillarState[this.hoverIndex] = \"defualt\";\r\n    this.attr(\"bgpillarState\", bgpillarState);\r\n    this.hoverIndex = -1;\r\n  }\r\n  myClick = function() {\r\n    console.log(\"myclick\");\r\n  };\r\n\r\n  render(data) {\r\n    let { clientRect, bgpillarState, states } = this.renderAttrs;\r\n    return (\r\n      <Group\r\n        class=\"container\"\r\n        ref=\"wrap\"\r\n        pos={[clientRect.left, clientRect.top]}\r\n        size={[clientRect.width, clientRect.height]}\r\n        onMouseleave={this.onMouseleave}\r\n        onMouseenter={this.onMousemove}\r\n        onMousemove={this.onMousemove}\r\n        onClick={this.myClick}\r\n        // onMousemove={throttle(this.onMousemove)}\r\n      >\r\n        <Group ref=\"pillars\" class=\"pillars-group\">\r\n          {data.barData.map((pillar, ind) => {\r\n            return (\r\n              <Sprite\r\n                {...pillar.attrs}\r\n                {...pillar.from}\r\n                animation={{ from: pillar.from, to: pillar.to }}\r\n              />\r\n            );\r\n          })}\r\n        </Group>\r\n        <Group ref=\"bgpillar\" class=\"bgpillars-group\">\r\n          {data.groupData.map((pillar, ind) => {\r\n            return (\r\n              <Sprite\r\n                state={bgpillarState[ind]}\r\n                states={states.bgpillar}\r\n                {...pillar}\r\n              />\r\n            );\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    );\r\n  }\r\n}\r\nexport default Bar;\r\n","import { axis } from \"../../utils/axis\";\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr;\r\n  const { stack, splitNumber, clientRect } = attrs;\r\n  const { width, height } = clientRect;\r\n  const barSize = [width, height];\r\n  const transpose = attrs.transpose || false;\r\n  const groupGap = attrs.groupGap || 0;\r\n  const stackGap = attrs.stackGap || 0;\r\n  let barWidth = attrs.barWidth || 0;\r\n  // 输出\r\n  const barData = [];\r\n  const groupData = [];\r\n\r\n  const bgPillarAttr = { opacity: 0, bgcolor: \"#000\" };\r\n\r\n  const valueAxis = axis({ dataSet: data, stack, splitNumber });\r\n  if (!valueAxis || !valueAxis.length) {\r\n    return { barData, groupData };\r\n  }\r\n  const tableSize = transpose\r\n    ? { label: barSize[1], value: barSize[0] }\r\n    : { label: barSize[0], value: barSize[1] };\r\n  const axisValueMax = Math.max.apply(this, valueAxis);\r\n  const axisValueMin = Math.min.apply(this, valueAxis);\r\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin); // 正负柱子高度比例\r\n  const GROUP_BAR_NUM = computerLegend(data); // 图例显示个数\r\n\r\n  const GROUP_NUM = data[0].length;\r\n  let gap = 0;\r\n  // 柱子宽度，根据数据绘制类型计算，是否分组，是否旋转\r\n  if (barWidth === 0) {\r\n    barWidth = stack\r\n      ? (tableSize.label * 0.5) / GROUP_NUM\r\n      : (tableSize.label * 0.5) / (GROUP_NUM * GROUP_BAR_NUM);\r\n\r\n    gap = stack ? barWidth : barWidth * GROUP_BAR_NUM;\r\n  } else {\r\n    gap = stack\r\n      ? (tableSize.label - barWidth * GROUP_NUM) / GROUP_NUM\r\n      : (tableSize.label -\r\n          barWidth * GROUP_BAR_NUM * GROUP_NUM -\r\n          groupGap * (GROUP_BAR_NUM - 1) * GROUP_NUM) /\r\n        GROUP_NUM;\r\n  }\r\n\r\n  const BAR_HEIGHT_FACTOR = tableSize.value / (axisValueMax - axisValueMin);\r\n  if (!stack) {\r\n    // 分组柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let flag = 0; // 计算当前柱子前面有几根被隐藏\r\n      let value = 0;\r\n      let gpData = { rects: [] };\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        // if (data[j][i].state !== \"disabled\") {\r\n        //   data[j][i].state = \"default\";\r\n        // }\r\n\r\n        value = data[j][i].value;\r\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value);\r\n        let rect = {\r\n          anchor: [\r\n            transpose && value < 0 ? 1 : 0,\r\n            transpose || value < 0 ? 0 : 1,\r\n          ],\r\n          size: transpose\r\n            ? [barHeight, barWidth - 1]\r\n            : [barWidth - 1, barHeight],\r\n          pos: transpose\r\n            ? [\r\n                tableSize.value * (1 - POSITIVE_RATIO),\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i,\r\n              ]\r\n            : [\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i,\r\n                tableSize.value * POSITIVE_RATIO,\r\n              ],\r\n\r\n          labelAttrs: {\r\n            opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\r\n            text: value,\r\n            anchor: [transpose && value < 0 ? 1 : 0, 0.5],\r\n            pos: transpose\r\n              ? [\r\n                  tableSize.value * (1 - POSITIVE_RATIO),\r\n                  gap / 2 +\r\n                    (barWidth + groupGap) * (j - flag) +\r\n                    (barWidth * GROUP_BAR_NUM +\r\n                      groupGap * (GROUP_BAR_NUM - 1) +\r\n                      gap) *\r\n                      i +\r\n                    barWidth * 0.5,\r\n                ]\r\n              : [\r\n                  gap / 2 +\r\n                    (barWidth + groupGap) * (j - flag) +\r\n                    (barWidth * GROUP_BAR_NUM +\r\n                      groupGap * (GROUP_BAR_NUM - 1) +\r\n                      gap) *\r\n                      i +\r\n                    barWidth * 0.5,\r\n                  tableSize.value * POSITIVE_RATIO,\r\n                ],\r\n            rotate: transpose ? 0 : value < 0 ? 90 : 270,\r\n          },\r\n\r\n          value: data[j][i].value,\r\n          text: data[j][i].text,\r\n          state: data[j][i].state,\r\n          data: data[j][i].data,\r\n        };\r\n        if (rect.state === \"disabled\") {\r\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0];\r\n          flag++;\r\n        } else {\r\n          gpData.rects.push(rect);\r\n        }\r\n        barData.push(rect);\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        // title: data[0][i]['_x'],\r\n        pos: transpose\r\n          ? [\r\n              0,\r\n              (gap +\r\n                barWidth * GROUP_BAR_NUM +\r\n                groupGap * (GROUP_BAR_NUM - 1)) *\r\n                i,\r\n            ]\r\n          : [\r\n              (gap +\r\n                barWidth * GROUP_BAR_NUM +\r\n                groupGap * (GROUP_BAR_NUM - 1)) *\r\n                i,\r\n              0,\r\n            ],\r\n        size: transpose\r\n          ? [\r\n              tableSize.value,\r\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\r\n            ]\r\n          : [\r\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\r\n              tableSize.value,\r\n            ],\r\n        ...bgPillarAttr,\r\n      });\r\n      groupData.push(gpData);\r\n    }\r\n  } else {\r\n    // 堆叠柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let heightSumUp = 0;\r\n      let heightSumDown = 0;\r\n      let value = 0;\r\n      let gpData = { rects: [] };\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        let stackGapTemp = stackGap;\r\n        // if (data[j][i].state !== \"disabled\") {\r\n        //   data[j][i].state = \"default\";\r\n        // }\r\n        value = data[j][i].value;\r\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value);\r\n        if (barHeight === 0) {\r\n          stackGapTemp = 0;\r\n        }\r\n        let posY =\r\n          value < 0\r\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown\r\n            : tableSize.value * POSITIVE_RATIO - heightSumUp;\r\n        let posX =\r\n          value < 0\r\n            ? tableSize.value * (1 - POSITIVE_RATIO) - heightSumDown\r\n            : tableSize.value * (1 - POSITIVE_RATIO) + heightSumUp;\r\n        let posLabelY =\r\n          value < 0\r\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown + barHeight\r\n            : tableSize.value * POSITIVE_RATIO - heightSumUp;\r\n        let rect = {\r\n          anchor: [\r\n            transpose && value < 0 ? 1 : 0,\r\n            transpose || value < 0 ? 0 : 1,\r\n          ],\r\n          size: transpose\r\n            ? [barHeight - stackGapTemp, barWidth]\r\n            : [barWidth, barHeight - stackGapTemp],\r\n          pos: transpose\r\n            ? [posX, gap / 2 + (barWidth + gap) * i]\r\n            : [gap / 2 + (barWidth + gap) * i, posY],\r\n          index: j,\r\n          labelAttrs: {\r\n            opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\r\n            text: value,\r\n            anchor: transpose ? (value < 0 ? [1, 0.5] : [0, 0.5]) : [0.5, 1],\r\n            pos: transpose\r\n              ? [posX, +(gap + barWidth) / 2 + (barWidth + gap) * i]\r\n              : [(gap + barWidth) / 2 + (barWidth + gap) * i, posLabelY],\r\n          },\r\n          value: data[j][i].value,\r\n          text: data[j][i].text,\r\n          state: data[j][i].state,\r\n          data: data[j][i].data,\r\n        };\r\n        if (rect.state === \"disabled\") {\r\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0];\r\n        } else {\r\n          value < 0\r\n            ? (heightSumDown = heightSumDown + barHeight)\r\n            : (heightSumUp = heightSumUp + barHeight);\r\n          gpData.rects.push(rect);\r\n        }\r\n        barData.push(rect);\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        pos: transpose ? [0, (gap + barWidth) * i] : [(gap + barWidth) * i, 0],\r\n        size: transpose\r\n          ? [tableSize.value, barWidth + gap]\r\n          : [barWidth + gap, tableSize.value],\r\n        ...bgPillarAttr,\r\n      });\r\n      groupData.push(gpData);\r\n    }\r\n  }\r\n\r\n  return { barData, groupData };\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0;\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].state !== \"disabled\") {\r\n      flag++;\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    // console.warn('data invalid!')\r\n  }\r\n  return flag || 1;\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Ring } from 'spritejs'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport layout from './layout'\r\nimport { getStyle } from '@/utils/getStyle'\r\nimport filterClone from 'filter-clone'\r\nclass PolarBar extends Base {\r\n  constructor(attrs) {\r\n    super(attrs);\r\n    this.type = \"polarbar\";\r\n    this.pillars = [];\r\n    this.hoverIndex = -1;\r\n    this.timer = null;\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let { height, width, top, left } = attrs.clientRect\r\n    attrs.pos = [left + width / 2, top + height / 2]\r\n    return attrs\r\n  }\r\n\r\n  beforeRender() {\r\n\r\n    //渲染前的处理函数，返回rings,继承base\r\n    let { arrLayout } = this.getRenderData();\r\n    this.pillars = arrLayout.barData;\r\n    let barData = arrLayout.barData.map((item) => {\r\n      return {\r\n        from: {\r\n          endAngle: item.startAngle\r\n        },\r\n        to: item,\r\n      };\r\n    });\r\n    return { barData };\r\n  }\r\n  beforeUpdate() {\r\n    const pillars = this.pillars\r\n    let { pos } = this.renderAttrs\r\n    let { arrLayout } = this.getRenderData()\r\n    let barData = arrLayout.barData.map((nextPillar, i) => {\r\n      let curPos = [\r\n        pos[0] + nextPillar.offsetPos[0],\r\n        pos[1] + nextPillar.offsetPos[1],\r\n      ];\r\n      nextPillar.pos = curPos;\r\n      return {\r\n        from: { ...pillars[i] },\r\n        to: { ...nextPillar },\r\n      };\r\n    });\r\n    this.pillars = arrLayout.barData;\r\n    return { barData };\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    if (!renderData || renderData.length === 0) {\r\n      return { barData: [] };\r\n    }\r\n    const dataLength = renderData.length > 1 ? renderData.length : renderData[0].length\r\n    this.legendArr = Array.from({ length: renderData.length }, () => {\r\n      return 1;\r\n    });\r\n    let arrLayout = layout(renderData, renderAttrs);\r\n    let colors = this.theme.colors;\r\n    let styles = this.renderStyles;\r\n\r\n    arrLayout.barData.forEach((bar, i) => {\r\n      let style = this.style('pillar')(bar.attrs, this.dataset.rows[i], i)\r\n      bar.fillColor = bar.fillColor || colors[i % dataLength]\r\n      bar.strokeColor = renderAttrs.strokeColor || '#FFF'\r\n      bar.pos = renderAttrs.pos\r\n      if (!bar.hasOwnProperty('startAngle') || !bar.hasOwnProperty('endAngle')) {\r\n        bar.lineWidth = 0\r\n      } else {\r\n        bar.lineWidth = 1\r\n      }\r\n      let barStyle = deepObjectMerge({ bgcolor: bar.bgcolor || colors[i % dataLength] }, styles.bar, style)\r\n      bar = deepObjectMerge(bar, barStyle)\r\n    })\r\n    return { arrLayout }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'bar',\r\n      //选中偏移量基数\r\n      activeOffset: 10\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {}\r\n  }\r\n\r\n  mouseleave() {\r\n    this.timer = setTimeout(() => {\r\n      this.dataset.resetState();\r\n      this.hoverIndex = -1;\r\n    }, 100);\r\n  }\r\n\r\n  mousemove(e, el) {\r\n    clearTimeout(this.timer);\r\n    // let fun = throttle(function(e, el) {\r\n    let renderData = this.renderData();\r\n    let ind = el.attr(\"_index\");\r\n    let groupInd = Math.floor(ind / renderData.length);\r\n    if (groupInd !== this.hoverIndex) {\r\n      this.dataset.resetState();\r\n      this.dataset[this.renderAttrs.layoutBy === \"rows\" ? \"cols\" : \"rows\"][\r\n        groupInd\r\n      ].state = \"hover\";\r\n      this.hoverIndex = groupInd;\r\n    }\r\n    // }, 30).bind(this);\r\n    // fun(e, el);\r\n  }\r\n  groupMousemove(e, el) {\r\n    console.log(el)\r\n  }\r\n  renderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    return this.dataset[renderAttrs.layoutBy]\r\n  }\r\n  render(data) {\r\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\r\n    let colors = this.theme.colors\r\n    let styles = this.renderStyles\r\n    return (\r\n      <Group class=\"container\" ref=\"wrap\">\r\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\r\n          {data.barData.map((ring, ind) => {\r\n            let style = getStyle(\r\n              this,\r\n              'sector',\r\n              [\r\n                {\r\n                  _index: ind\r\n                },\r\n                styles.sector\r\n              ],\r\n              [this.dataset.rows[ind], ind]\r\n            );\r\n            return ring.state === \"disabled\" || style === false ? (\r\n              <Node />\r\n            ) : (\r\n              <Ring\r\n                onMousemove={this.mousemove}\r\n                {...style}\r\n                animation={{ from: ring.from, to: ring.to }}\r\n              />\r\n            );\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default PolarBar\r\n","import { axis } from \"../../utils/axis\";\r\n\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr;\r\n  const { stack, splitNumber, clientRect, groupPadAngle, activeOffset } = attrs;\r\n  const { width, height } = clientRect;\r\n  const barSize = [width, height];\r\n  const groupGap = groupPadAngle || 0;\r\n  const stackGap = attrs.stackGap || 0;\r\n\r\n  const radius = attrs.radius || 1;\r\n  const barInnerRadius = attrs.innerRadius || 0;\r\n  const padAngle = attrs.padAngle;\r\n  // 输出\r\n  const barData = [];\r\n\r\n  const bgPillarAttr = { opacity: 0.01, fillColor: \"#FF0000\" };\r\n\r\n  // const valueAxis = getAxis(stack, data)\r\n  const valueAxis = axis({ dataSet: data, stack, splitNumber });\r\n  if (!valueAxis || !valueAxis.length) {\r\n    return { barData };\r\n  }\r\n\r\n  const tableSize = Math.min(barSize[0], barSize[1]);\r\n  const axisValueMax = Math.max.apply(this, valueAxis);\r\n  const axisValueMin = Math.min.apply(this, valueAxis);\r\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin); // 正负柱子高度比例\r\n  const GROUP_BAR_NUM = computerLegend(data); // 图例显示个数\r\n\r\n  const GROUP_NUM = data[0].length;\r\n  const BAR_MAX_HEIGHT = 0.5 * radius * tableSize;\r\n  const BAR_HEIGHT_FACTOR = BAR_MAX_HEIGHT / (axisValueMax - axisValueMin);\r\n  if (!stack) {\r\n    // 分组柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let flag = 0; // 计算当前柱子前面有几根被隐藏\r\n      let value = 0;\r\n      let gpData = { rects: [] };\r\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        // if (data[j][i].disabled !== true) {\r\n        //   data[j][i].disabled = false;\r\n        // }\r\n        let barAngle = groupAngle / GROUP_BAR_NUM;\r\n        let startAngle =\r\n          (groupAngle + groupGap) * i + barAngle * (j - flag) - Math.PI * 0.5;\r\n        value = data[j][i].value;\r\n        let barHeight = BAR_HEIGHT_FACTOR * value;\r\n        let innerRadius =\r\n          BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) +\r\n          barInnerRadius * tableSize * 0.5;\r\n        //默认中心坐标偏移量0\r\n        let offsetPos = [0, 0];\r\n        let rect = {\r\n          innerRadius: innerRadius,\r\n          outerRadius: innerRadius + barHeight,\r\n          startAngle: (startAngle * 180) / Math.PI,\r\n          endAngle: ((startAngle + barAngle) * 180) / Math.PI,\r\n          value: data[j][i].value,\r\n          text: data[j][i].text,\r\n          state: data[j][i].state,\r\n          data: data[j][i].data,\r\n          id: i * lenj + j,\r\n          offsetPos: offsetPos,\r\n        };\r\n        if (rect.state === \"hover\") {\r\n          let curAngle = ((rect.startAngle + rect.endAngle) / 2) % 360;\r\n          rect.bisectorRadian = transRadius(curAngle);\r\n          //角平分,角度转弧度,默认是顺时针，角度为相反\r\n          rect.offsetPos = [\r\n            activeOffset * Math.cos(rect.bisectorRadian),\r\n            activeOffset * Math.sin(rect.bisectorRadian),\r\n          ];\r\n          //选中状态\r\n        }\r\n        if (rect.state === \"disabled\") {\r\n          rect.endAngle = rect.startAngle;\r\n          rect.radius = 0;\r\n          rect.opacity = 0;\r\n          flag++;\r\n        } else {\r\n          rect.opacity = 1;\r\n          gpData.rects.push(rect);\r\n        }\r\n        if (GROUP_NUM < 2) {\r\n          delete rect.startAngle;\r\n          delete rect.endAngle;\r\n        }\r\n        barData.push(rect);\r\n      }\r\n    }\r\n  } else {\r\n    // 堆叠柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let heightSumUp = 0;\r\n      let heightSumDown = 0;\r\n      let value = 0;\r\n      let gpData = { rects: [] };\r\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        // if (data[j][i].disabled !== true) {\r\n        //   data[j][i].disabled = false;\r\n        // }\r\n        let startAngle = (groupAngle + groupGap) * i - Math.PI * 0.5;\r\n        value = data[j][i].value;\r\n        let barHeight = BAR_HEIGHT_FACTOR * value;\r\n        let innerRadius =\r\n          value < 0\r\n            ? BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) - heightSumDown\r\n            : BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + heightSumUp;\r\n        innerRadius = innerRadius + barInnerRadius * tableSize * 0.5;\r\n        let offsetPos = [0, 0];\r\n        let rect = {\r\n          innerRadius: innerRadius,\r\n          outerRadius: innerRadius + barHeight - stackGap,\r\n          startAngle: (startAngle * 180) / Math.PI,\r\n          endAngle: ((startAngle + groupAngle) * 180) / Math.PI,\r\n          value: data[j][i].value,\r\n          text: data[j][i].text,\r\n          state: data[j][i].state,\r\n          data: data[j][i].data,\r\n          offsetPos: offsetPos,\r\n        };\r\n\r\n        if (rect.state === \"hover\") {\r\n          rect.strokeColor = \"#F00\";\r\n        } else {\r\n          delete rect.strokeColor;\r\n        }\r\n        if (rect.state === \"disabled\") {\r\n          rect.opacity = 0;\r\n        } else {\r\n          rect.opacity = 1;\r\n          value < 0\r\n            ? (heightSumDown = heightSumDown - barHeight)\r\n            : (heightSumUp = heightSumUp + barHeight);\r\n          gpData.rects.push(rect);\r\n        }\r\n        barData.push(rect);\r\n      }\r\n    }\r\n  }\r\n  // attachPadAngleOfArr(barData, padAngle)\r\n  return { barData };\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0;\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].state !== \"disabled\") {\r\n      flag++;\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    // console.warn('data invalid!')\r\n  }\r\n  return flag || 1;\r\n}\r\nexport function transRadius(angle) {\r\n  return (angle / 180) * Math.PI;\r\n}\r\n","import { axis } from \"../../utils/axis\";\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr;\r\n  const { align, pyramid, clientRect } = attrs;\r\n  const { width, height } = clientRect;\r\n  // 输出\r\n  const polygons = [];\r\n\r\n  const max = arr[0][0].value;\r\n  const widthFactory = width / max;\r\n  const POLYGON_NUM = computerLegend(data); // 图例显示个数\r\n  let flag = 0; // 计算当前polygon前面有几个被隐藏\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    let polygon = { colse: true, lineWidth: 3, points: [] };\r\n    const value = data[i][0].value;\r\n    let offset = 0;\r\n    let textAnchor = [0, 0.5];\r\n    if (align === \"center\") {\r\n      textAnchor = [0.5, 0.5];\r\n      offset = 0.5;\r\n    } else if (align === \"right\") {\r\n      offset = 1;\r\n      textAnchor = [1, 0.5];\r\n    }\r\n    polygon.points.push(\r\n      (max - value) * offset * widthFactory,\r\n      (height * (i - flag)) / POLYGON_NUM\r\n    );\r\n    polygon.points.push(\r\n      (max * offset + value * (1 - offset)) * widthFactory,\r\n      (height * (i - flag)) / POLYGON_NUM\r\n    );\r\n    if (i - flag + 1 < POLYGON_NUM) {\r\n      let counter = 1;\r\n\r\n      while (data[i + counter][0].state === \"disabled\") {\r\n        counter++;\r\n      }\r\n      const nextValue = data[i + counter][0].value;\r\n\r\n      polygon.points.push(\r\n        (max * offset + nextValue * (1 - offset)) * widthFactory,\r\n        (height * (i - flag + 1)) / POLYGON_NUM\r\n      );\r\n      polygon.points.push(\r\n        (max - nextValue) * offset * widthFactory,\r\n        (height * (i - flag + 1)) / POLYGON_NUM\r\n      );\r\n    } else {\r\n      if (pyramid) {\r\n        polygon.points.push(offset * width, height);\r\n      } else {\r\n        polygon.points.push(\r\n          (max * offset + value * (1 - offset)) * widthFactory,\r\n          (height * (i - flag + 1)) / POLYGON_NUM\r\n        );\r\n        polygon.points.push(\r\n          (max - value) * offset * widthFactory,\r\n          (height * (i - flag + 1)) / POLYGON_NUM\r\n        );\r\n      }\r\n    }\r\n    polygon.opacity = 1;\r\n    if (data[i][0].state === \"disabled\") {\r\n      polygon.points[6] = polygon.points[0];\r\n      polygon.points[7] = polygon.points[1];\r\n\r\n      polygon.points[4] = polygon.points[2];\r\n      polygon.points[5] = polygon.points[3];\r\n\r\n      polygon.opacity = 0;\r\n      flag++;\r\n    }\r\n    polygon.labelAttrs = {\r\n      opacity: !data[i][0].state === \"disabled\" ? 1 : 0,\r\n      text: Math.round((100 * value) / max) + \"%\",\r\n      anchor: textAnchor,\r\n      pos: [\r\n        width * offset + (0.5 - offset) * 10,\r\n        ((i - flag + 0.5) * height) / POLYGON_NUM,\r\n      ],\r\n      fillColor: \"#FFF\",\r\n      fontSize: \"12px\",\r\n    };\r\n    polygons.push(polygon);\r\n  }\r\n\r\n  return polygons;\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0;\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].state !== \"disabled\") {\r\n      flag++;\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    console.warn(\"data invalid!\");\r\n  }\r\n  return flag || 1;\r\n}\r\n","import Base from \"../../base/BaseVisual\";\r\nimport { Group, Polyline } from \"spritejs\";\r\nimport { deepObjectMerge, throttle } from \"@qcharts/utils\";\r\nimport layout from \"./layout\";\r\nclass Funnel extends Base {\r\n  constructor(attrs) {\r\n    super(attrs);\r\n    this.type = \"funnel\";\r\n    this.polygons = null;\r\n\r\n    this.hoverIndex = -1;\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs;\r\n    return attrs;\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base---------before\r\n    let { polygons } = this.getRenderData();\r\n    polygons = polygons.map((plg) => {\r\n      return {\r\n        from: {\r\n          points:\r\n            plg.points.length === 8\r\n              ? [\r\n                  plg.points[6],\r\n                  plg.points[7],\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                  plg.points[6],\r\n                  plg.points[7],\r\n                ]\r\n              : [\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                  plg.points[4],\r\n                  plg.points[5],\r\n                ],\r\n        },\r\n        to: {\r\n          pos: [0, 0],\r\n          ...plg,\r\n        },\r\n      };\r\n    });\r\n    this.polygons = polygons;\r\n    return { polygons };\r\n  }\r\n  beforeUpdate() {\r\n    let oldPolygons = this.polygons;\r\n    let { polygons } = this.getRenderData();\r\n    polygons = polygons.map((polygon, i) => {\r\n      return {\r\n        from: {\r\n          points: oldPolygons[i].to.points,\r\n        },\r\n        to: {\r\n          ...polygon,\r\n        },\r\n      };\r\n    });\r\n    this.polygons = polygons;\r\n    return { polygons };\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs;\r\n    let renderData = this.dataset[renderAttrs.layoutBy];\r\n    let polygons = layout(renderData, renderAttrs);\r\n    let colors = this.theme.colors;\r\n    let styles = this.renderStyles;\r\n    polygons = polygons.map((plg, i) => {\r\n      let style = this.style(\"polygon\")(plg.attrs, this.dataset.rows[i], i);\r\n      let plgStyle = deepObjectMerge(\r\n        { fillColor: plg.bgcolor || colors[i] },\r\n        styles.funnel,\r\n        style\r\n      );\r\n      plg = deepObjectMerge(plg, plgStyle);\r\n      return plg;\r\n    });\r\n    return { polygons };\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    let renderData = this.dataset[\"rows\"];\r\n    let stateArray = Array.from(\r\n      { length: renderData[0].length },\r\n      () => \"defalut\"\r\n    );\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: \"bar\",\r\n      bgpillarState: stateArray,\r\n      states: {\r\n        bgpillar: {\r\n          animation: { duration: 20 },\r\n          default: { opacity: 0.01 },\r\n          hover: { opacity: 0.1 },\r\n        },\r\n      },\r\n    };\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {};\r\n  }\r\n  onMousemove = throttle(\r\n    (event, el) => {\r\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\r\n        let curInd = 0;\r\n        let [x, y] = el.getOffsetPosition(event.x, event.y);\r\n        if (!this.renderAttrs.transpose) {\r\n          //获取 x轴坐标的刻度\r\n          let width = this.groups[0].size[0];\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(x / width);\r\n        } else {\r\n          let width = this.groups[0].size[1];\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(y / width);\r\n        }\r\n        if (curInd < 1) {\r\n          curInd = 0;\r\n        } else if (curInd > this.groups.length - 1) {\r\n          curInd = this.groups.length - 1;\r\n        }\r\n        if (this.hoverIndex !== curInd) {\r\n          let { bgpillarState } = this.renderAttrs;\r\n          bgpillarState[curInd] = \"hover\";\r\n          bgpillarState[this.hoverIndex] = \"defualt\";\r\n          this.attr(\"bgpillarState\", bgpillarState);\r\n          this.dataset.resetState();\r\n          this.dataset.cols[curInd].state = \"hover\";\r\n          this.hoverIndex = curInd;\r\n        }\r\n      }\r\n    },\r\n    16,\r\n    true\r\n  );\r\n  onMouseleave(e, el) {\r\n    this.dataset.resetState();\r\n    let { bgpillarState } = this.renderAttrs;\r\n    bgpillarState[this.hoverIndex] = \"defualt\";\r\n    this.attr(\"bgpillarState\", bgpillarState);\r\n    this.hoverIndex = -1;\r\n  }\r\n  myClick = function() {\r\n    console.log(\"myclick\");\r\n  };\r\n\r\n  render(data) {\r\n    let { clientRect, bgpillarState, states } = this.renderAttrs;\r\n\r\n    return (\r\n      <Group\r\n        class=\"container\"\r\n        ref=\"wrap\"\r\n        pos={[clientRect.left, clientRect.top]}\r\n        size={[clientRect.width, clientRect.height]}\r\n      >\r\n        <Group ref=\"pillars\" class=\"pillars-group\" bgcolor={\"#FF0\"}>\r\n          {data.polygons.map((pillar, ind) => {\r\n            return (\r\n              <Polyline\r\n                {...pillar.from}\r\n                animation={{ from: pillar.from, to: pillar.to }}\r\n              />\r\n            );\r\n          })}\r\n        </Group>\r\n        {/* <Group class=\"label-group\">\r\n        </Group>\r\n        <Group class=\"line-group\">\r\n        </Group> */}\r\n      </Group>\r\n    );\r\n  }\r\n}\r\nexport default Funnel;\r\n","import { axis } from '../../utils/axis'\r\nimport { scaleLinear } from '../../utils/scaleLinear'\r\nimport { jsType } from '@qcharts/utils'\r\n\r\nconst getDataRange = (data) => {\r\n  if (data.length === 0) {\r\n    return [0, 1]\r\n  }\r\n  const min = Math.min(...data)\r\n  const max = Math.max(...data)\r\n  return [min, max]\r\n}\r\n\r\nconst getBigRange = (data) => {\r\n  if (data.length === 0) {\r\n    return [0, 1]\r\n  }\r\n  const [min, max] = getDataRange(data)\r\n  const n = Math.round(min / 10) - 1\r\n  const m = Math.round(max / 10) + 1\r\n  return [n * 10, m * 10]\r\n}\r\n\r\nconst updateSectionVal = (section, newSection) => {\r\n  const { min, max } = newSection\r\n  if (jsType(min) === 'number') {\r\n    section[0] = min\r\n  }\r\n  if (jsType(max) === 'number') {\r\n    section[1] = max\r\n  }\r\n}\r\n\r\nexport default function layout(dataSet, size, layoutWay) {\r\n  const [width, height] = size\r\n\r\n  const { text: textField, value: valueField } = dataSet.option\r\n  const allData = [...dataSet]\r\n\r\n  // 如果X轴是文本框，则进行均分\r\n  const maxLen = getDataRange(dataSet.rows.map((d) => d.length))[1]\r\n\r\n  let xDomain = [0, maxLen - 1]\r\n  let xSection = [0, maxLen - 1]\r\n  const xIsTextData = allData.some((d) => jsType(d.text) === 'string')\r\n  if (!xIsTextData) {\r\n    xSection = getBigRange(allData.map((d) => d.text))\r\n    const xScales = axis({\r\n      dataSet: data,\r\n      stack: false,\r\n      field: textField,\r\n      section: xSection,\r\n    })\r\n    xDomain = getDataRange(xScales)\r\n  }\r\n\r\n  const yIsTextData = allData.some((d) => jsType(d.value) === 'string')\r\n  if (yIsTextData) {\r\n    throw new Error(\"Scatter's value category data should be Number!\")\r\n  }\r\n  let ySection = getBigRange(allData.map((d) => d.value))\r\n  const yScales = axis({\r\n    dataSet: data,\r\n    stack: false,\r\n    field: valueField,\r\n    section: ySection,\r\n  })\r\n  const yDomain = getDataRange(yScales)\r\n\r\n  if (layoutWay) {\r\n    if (layoutWay[textField]) {\r\n      updateSectionVal(xSection, layoutWay[textField])\r\n    }\r\n    if (layoutWay[valueField]) {\r\n      updateSectionVal(ySection, layoutWay[valueField])\r\n    }\r\n  }\r\n\r\n  const newLayoutWay = {}\r\n  newLayoutWay[textField] = { min: xSection[0], max: xSection[1] }\r\n  newLayoutWay[valueField] = { min: ySection[0], max: ySection[1] }\r\n\r\n  const xLinear = scaleLinear()\r\n    .domain(xDomain)\r\n    .range([0, width])\r\n  const yLinear = scaleLinear()\r\n    .domain(yDomain)\r\n    .range([0, height])\r\n\r\n  const resultData = dataSet.rows.map((dArry) => {\r\n    const attrs = dArry.map((d, i) => {\r\n      const x = xIsTextData ? i : d.text\r\n      const y = d.value\r\n      const pos = [xLinear(x), height - yLinear(y)]\r\n      return {\r\n        pos,\r\n        radius: 5,\r\n        anchor: [1, 1],\r\n        dataOrigin: { ...d.data },\r\n        state: d.state,\r\n        name: dArry.name,\r\n        col: d.col,\r\n        row: d.row,\r\n      }\r\n    })\r\n    return {\r\n      name: dArry.name,\r\n      state: dArry.state,\r\n      attrs,\r\n    }\r\n  })\r\n  return { data: resultData, layoutWay: newLayoutWay }\r\n}\r\n","import { Group, Polyline, Arc, Label } from 'spritejs'\r\nimport BaseVisual from '../../base/BaseVisual'\r\nimport { scaleLinear } from '../../utils/scaleLinear'\r\nimport { hexToRgba } from '../../utils/color'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport layout from './layout'\r\n\r\nclass Scatter extends BaseVisual {\r\n  constructor(attrs = {}) {\r\n    super(attrs)\r\n    this.type = 'scatter'\r\n    this.scatterData = []\r\n    this.guideLineData = []\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'scatter',\r\n      labelField: null,\r\n      areaField: null,\r\n      areaRange: null,\r\n      showGuideLine: false,\r\n      layoutWay: null\r\n    }\r\n  }\r\n\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    return { ...attrs }\r\n  }\r\n\r\n  processData() {\r\n    const dataSet = this.dataset\r\n    const { layoutWay, clientRect } = this.renderAttrs\r\n    const { data, layoutWay: newLayoutWay } = layout(dataSet, [clientRect.width, clientRect.height], layoutWay)\r\n    deepObjectMerge(this.renderAttrs.layoutWay || {}, newLayoutWay)\r\n\r\n    data.forEach((item, i) => {\r\n      const color = this.theme.colors[i]\r\n      const fillColor = hexToRgba(color, 0.3)\r\n      item.attrs.forEach((di) => {\r\n        di.strokeColor = color\r\n        di.fillColor = fillColor\r\n      })\r\n    })\r\n    return data\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const updateData = this.processData()\r\n    const temp = updateData.map((row) => deepObjectMerge({}, row))\r\n    updateData.forEach((row, ind) => {\r\n      const oldRow = this.scatterData[ind]\r\n      row.attrs.forEach((cell, cInd) => {\r\n        const radius = this.getRealRadius({ ...cell })\r\n        if (oldRow && oldRow.attrs[cInd]) {\r\n          const oldCell = oldRow.attrs[cInd]\r\n          const toPos = [...cell.pos]\r\n          const fromPos =\r\n            oldCell.animation.to && oldCell.animation.to.pos ? [...oldCell.animation.to.pos] : [...oldCell.pos]\r\n          // 位置相同\r\n          if (toPos.toString() === fromPos.toString()) {\r\n            let fromRadius = radius\r\n            let toRadius = radius\r\n            //default-> disabled\r\n            if (cell.state === 'disabled') {\r\n              toRadius = 0\r\n            }\r\n            if (oldCell.animation.to.radius == 0) {\r\n              fromRadius = 0\r\n            }\r\n            cell.animation = {\r\n              from: { radius: fromRadius },\r\n              to: { radius: toRadius }\r\n            }\r\n          } else {\r\n            cell.animation = {\r\n              from: { pos: fromPos },\r\n              to: { pos: toPos }\r\n            }\r\n          }\r\n        } else {\r\n          cell.animation = {\r\n            from: { radius: 0 },\r\n            to: { radius: radius }\r\n          }\r\n        }\r\n      })\r\n    })\r\n    this.scatterData = temp\r\n    return updateData\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const renderData = this.processData()\r\n    this.scatterData = renderData.map((row) => deepObjectMerge({}, row))\r\n    renderData.forEach((row) => {\r\n      row.attrs.forEach((cell) => {\r\n        const radius = this.getRealRadius({ ...cell })\r\n        cell.animation = {\r\n          from: { radius: 0 },\r\n          to: { radius }\r\n        }\r\n      })\r\n    })\r\n    return renderData\r\n  }\r\n\r\n  rendered() {}\r\n\r\n  getRealRadius(attr) {\r\n    const { areaRange, areaField } = this.renderAttrs\r\n    const { radius, dataOrigin } = attr\r\n    // 面积字段未定义，直接返回半径\r\n    if (!areaField || !dataOrigin.hasOwnProperty(areaField)) {\r\n      return radius\r\n    }\r\n    // 面积范围未定义，直接返回数据中的面积\r\n    if (!areaRange) {\r\n      return dataOrigin[areaField]\r\n    }\r\n    const allData = [...this.dataset].filter((cell) => cell.state !== 'disabled').sort((a, b) => a - b)\r\n    const linear = scaleLinear()\r\n      .domain([allData[0], allData[allData.length - 1]])\r\n      .range(areaRange)\r\n    const realArea = linear(dataOrigin[areaField])\r\n    return realArea\r\n  }\r\n\r\n  onMouseenter(event, el) {\r\n    this.dataset.resetState()\r\n    const { row: rowInd, col: colInd } = el.attributes\r\n    this.dataset.forEach((cell) => {\r\n      cell.state = cell.row === rowInd && cell.col === colInd ? 'hover' : 'default'\r\n    })\r\n    const { showGuideLine } = this.renderAttrs\r\n    if (showGuideLine) {\r\n      const pos = el.attr('pos')\r\n      const { height, width } = this.renderAttrs.clientRect\r\n      this.guideLineData = [\r\n        [\r\n          [0, pos[1]],\r\n          [width, pos[1]]\r\n        ],\r\n        [\r\n          [pos[0], 0],\r\n          [pos[0], height]\r\n        ]\r\n      ]\r\n    }\r\n  }\r\n  onMouseleave() {\r\n    this.dataset.resetState()\r\n    this.guideLineData = []\r\n  }\r\n\r\n  renderGuideLine() {\r\n    if (this.guideLineData.length > 0) {\r\n      return this.guideLineData.map((points) => {\r\n        return <Polyline points={points} strokeColor={'#ddd'} lineWidth={1} translate={[0.5, 0.5]} />\r\n      })\r\n    }\r\n    return\r\n  }\r\n\r\n  renderLabel(data) {\r\n    const { labelField } = this.renderAttrs\r\n    if (labelField) {\r\n      const labels = data.map((item) => {\r\n        return item.attrs.map((attr, i) => {\r\n          const style = this.style('label')(attr, { ...attr.dataOrigin }, i)\r\n          if (style === false) {\r\n            return\r\n          }\r\n          const dataOrigin = attr.dataOrigin\r\n          if (dataOrigin.hasOwnProperty(labelField)) {\r\n            const { strokeColor, ...other } = attr\r\n            const text = dataOrigin[labelField]\r\n            const labelAttr = deepObjectMerge(\r\n              other,\r\n              {\r\n                fillColor: strokeColor,\r\n                text,\r\n                anchor: [0.5, 0.5],\r\n                fontSize: '12px'\r\n              },\r\n              style\r\n            )\r\n            return <Label {...labelAttr} />\r\n          }\r\n        })\r\n      })\r\n      return labels.reduce((pre, cur) => {\r\n        return pre.concat(cur)\r\n      }, [])\r\n    }\r\n  }\r\n\r\n  renderScatter(data) {\r\n    const scatters = data.map((item) => {\r\n      return item.attrs.map((attr, i) => {\r\n        let style = this.style('point')(attr, { ...attr.dataOrigin }, i)\r\n        if (style === false) {\r\n          return\r\n        }\r\n        \r\n        const hStyle = this.style('point:hover')(attr, attr.dataOrigin, i) || {}\r\n        const stateStyle = attr.state === 'hover' ? hStyle : {}\r\n  \r\n        return <Arc {...attr} {...style} {...stateStyle} onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave} />\r\n      })\r\n    })\r\n    return scatters.reduce((pre, cur) => {\r\n      return pre.concat(cur)\r\n    }, [])\r\n  }\r\n\r\n  render(data) {\r\n    const { height, width, left, top } = this.renderAttrs.clientRect\r\n    return (\r\n      <Group size={[width, height]} pos={[left, top]} zIndex={10}>\r\n        {this.renderScatter(data)}\r\n        {this.renderLabel(data)}\r\n        {this.renderGuideLine()}\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Scatter\r\n","export function hexToRgba(hex, opacity) {\r\n  // 16进制颜色转rgba\r\n  if (/^rgba\\(.+\\)$/.test(hex)) {\r\n    return hex;\r\n  }\r\n  var c\r\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n    c = hex.substring(1).split('')\r\n    if (c.length === 3) {\r\n      c = [c[ 0 ], c[ 0 ], c[ 1 ], c[ 1 ], c[ 2 ], c[ 2 ]]\r\n    }\r\n    c = '0x' + c.join('')\r\n    return (\r\n      'rgba(' +\r\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') +\r\n      ',' +\r\n      opacity +\r\n      ')'\r\n    )\r\n  }\r\n  throw new Error('Bad Hex')\r\n}\r\nexport function randomHexColor() {\r\n  // 随机生成十六进制颜色\r\n  let random = Math.floor(Math.random() * 16777216).toString(16) // 生成ffffff以内16进制数\r\n  while (random.length < 6) {\r\n    // while循环判断hex位数，少于6位前面加0凑够6位\r\n    random = `0${random}`\r\n  }\r\n  return `#${random}`\r\n}\r\n","//通过圆生成path\r\nfunction ellipse2path(cx, cy, rx, ry) {\r\n  //非数值单位计算，如当宽度像100%则移除\r\n  if (isNaN(cx - cy + rx - ry)) return\r\n  var path = 'M' + (cx - rx) + ' ' + cy + 'a' + rx + ' ' + ry + ' 0 1 0 ' + 2 * rx + ' 0' + 'a' + rx + ' ' + ry + ' 0 1 0 ' + -2 * rx + ' 0' + 'z'\r\n  return path\r\n}\r\nexport default ellipse2path\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Polyline, Path, requestAnimationFrame, Label, Node } from 'spritejs'\r\nimport ellipse2path from '../../utils/ellipse2path'\r\nimport { getStyle } from '@/utils/getStyle'\r\nclass Wave extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    //波纹振偏移量\r\n    this.offsetR = 50\r\n    this.tickId = ''\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let clientRect = attrs.clientRect\r\n    let width = Math.floor(clientRect.width)\r\n    let height = Math.floor(clientRect.height)\r\n    attrs.center = [width / 2, height / 2]\r\n    if (!attrs.shape) {\r\n      attrs.shape = ellipse2path(attrs.center[0], attrs.center[1], attrs.radius, attrs.radius)\r\n    }\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    return []\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    return []\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n  }\r\n  rendered() {\r\n    //path的高宽\r\n    this.wave()\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      amplitude: 8, //振幅\r\n      wavelength: 300, //波长`\r\n      radius: 150,\r\n      percent: 0.65,\r\n      formatter: per => {\r\n        return per * 100 + '%'\r\n      }\r\n    }\r\n  }\r\n  wave() {\r\n    let currentR = 0\r\n    let per = 4\r\n    let clipWave = this.$refs['clipWave']\r\n    let clipPath = this.$refs['clipPath'] || clipWave\r\n    let pathHeight = clipPath.originalContentRect[3]\r\n    let { percent, wavelength, amplitude, clientRect, animation, shape } = this.renderAttrs\r\n    let perR = 24 / animation.duration\r\n    let currentX = 0 - clientRect.left\r\n    //以路径的top为起点，计算百分比\r\n    let startY = pathHeight * (1 - percent) + clipPath.originalContentRect[1]\r\n    this.tickId = requestAnimationFrame(_ => {\r\n      this.offsetR += perR\r\n      let points = [[currentX, startY + pathHeight]]\r\n      points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\r\n      while (currentX < clientRect.width + clientRect.left + clientRect.right) {\r\n        points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\r\n        currentX += wavelength / (per * 2)\r\n        currentR += Math.PI / per\r\n      }\r\n      let lastY = amplitude * Math.sin(currentR + this.offsetR)\r\n      points.push([currentX, startY + lastY])\r\n      points.push([currentX, startY + lastY])\r\n      points.push([currentX, startY + pathHeight])\r\n      clipWave.attr({ points: points, clipPath: ' ' + shape })\r\n      if (this.offsetR >= 2 * Math.PI) {\r\n        this.offsetR = this.offsetR % (2 * Math.PI)\r\n      }\r\n      this.wave()\r\n    })\r\n  }\r\n  render() {\r\n    let { clientRect, shape, center, formatter, percent } = this.renderAttrs\r\n    let renderStyles = this.renderStyles\r\n    let waveStyle = getStyle(this, 'wave', renderStyles.wave)\r\n    let shapeStyle = getStyle(this, 'shape', renderStyles.shape)\r\n    let textStyle = getStyle(this, 'text', renderStyles.text)\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Path ref=\"clipPath1\" d={shape} fillColor={shapeStyle.fillColor} />\r\n        <Polyline ref=\"clipWave\" {...waveStyle} clipPath={shape} smooth={true} />\r\n        <Path ref=\"clipPath\" d={shape} strokeColor={shapeStyle.strokeColor} lineWidth={shapeStyle.lineWidth} />\r\n        {textStyle === false ? <Node /> : <Label text={formatter(percent)} {...textStyle} pos={center} anchor={[0.5]} />}\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Wave\r\n","import { Group, Polyline, Label, Arc, Gradient } from 'spritejs'\r\nimport { jsType } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\n\r\n/**\r\n * 根据给定参数，生成仪表盘刻度的坐标以及刻度文字标注的坐标\r\n * @param {Number} radius 仪表盘半径\r\n * @param {Number} angle 刻度的角度 单位度\r\n * @param {Number} tickLength 刻度的长度\r\n * @param {Number} labelOffset 刻度文字的偏移值\r\n * @param {Boolean} isInner 刻度是否在仪表盘内部\r\n */\r\nfunction tickLine(radius, angle, tickLength, labelOffset, isInner) {\r\n  const radian = (angle * Math.PI) / 180\r\n  const cos = Math.cos(radian)\r\n  const sin = Math.sin(radian)\r\n  // 起点\r\n  const [x, y] = [cos * radius, sin * radius]\r\n  // 中点\r\n  const [cX0, cY0] = isInner\r\n    ? [x - tickLength * cos, y - tickLength * sin]\r\n    : [x + tickLength * cos, y + tickLength * sin]\r\n  const labelPos = isInner\r\n    ? [x - (tickLength + labelOffset) * cos, y - (tickLength + labelOffset) * sin]\r\n    : [x + (tickLength + labelOffset) * cos, y + (tickLength + labelOffset) * sin]\r\n\r\n  let anchorX = isInner ? cos : -cos\r\n  let anchorY = isInner ? sin : -sin\r\n  let anchor = [0.5, 0.5]\r\n\r\n  if (Math.abs(anchorX) > Math.abs(anchorY)) {\r\n    anchor[0] = anchorX < 0 ? 0 : anchorX\r\n  } else {\r\n    anchor[1] = anchorY > 0 ? anchorY : 0\r\n  }\r\n  return {\r\n    points: [\r\n      [x, y],\r\n      [cX0, cY0]\r\n    ],\r\n    labelPos,\r\n    anchor\r\n  }\r\n}\r\n\r\nclass Gauge extends BaseVisual {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.gaugeAnimations = []\r\n    this.type = 'Gauge'\r\n    this.style('tickText', true)\r\n    this.style('tickLine', true)\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'gauge',\r\n      min: 0, // 刻度最小值\r\n      max: 100, // 刻度最大值\r\n      percent: 50, // 指针值\r\n      lineCap: 'round',\r\n      _useBuiltInColors: false, // 默认颜色不使用渐变色\r\n      lineWidth: 10, // 仪表盘圆弧宽度\r\n      startAngle: 140, // 仪表盘弧度起始角度，arc 角度顺时针增加，0度为屏幕X轴方向\r\n      endAngle: 400, // 仪表盘弧度终止角度\r\n      strokeBgcolor: '#dde3ea', // 仪表盘弧度的背景色\r\n      title: (d) => d,\r\n      tickStep: 10, // tick 步进，生成 tick 的数量为 (max - min) / tickStep\r\n      tickLength: 10, // 刻度长度，为负值时向外绘制\r\n      labelOffset: 5,\r\n      tickFormatter: (d) => d // 刻度文本格式化\r\n    }\r\n  }\r\n\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    // 仪表盘半径\r\n    const { clientRect } = attrs\r\n    const { height, width } = clientRect\r\n    const size = [width, height]\r\n\r\n    const radius = ~~Math.min.apply(\r\n      size,\r\n      size.map((v) => v / 2)\r\n    )\r\n    // 指针宽度\r\n    const pointerWidth = radius / 10\r\n    // 绘图中心\r\n    const center = [width / 2, height / 2]\r\n\r\n    return {\r\n      ...attrs,\r\n      radius,\r\n      pointerWidth,\r\n      center\r\n    }\r\n  }\r\n\r\n  get ticks() {\r\n    let {\r\n      min,\r\n      max,\r\n      radius,\r\n      startAngle,\r\n      endAngle,\r\n      lineWidth,\r\n      tickStep,\r\n      tickLength,\r\n      labelOffset,\r\n      tickFormatter\r\n    } = this.renderAttrs\r\n    const count = Math.abs(max - min) / tickStep\r\n\r\n    let total = endAngle - startAngle\r\n\r\n    const isInner = tickLength > 0\r\n    const perAngle = total / count\r\n    const ticks = []\r\n    let tickRadius = isInner ? radius - lineWidth / 2 : radius + lineWidth / 2\r\n    let angle = 0\r\n    let i = -1\r\n\r\n    while (++i <= count) {\r\n      angle = i * perAngle + startAngle\r\n      const ret = tickLine(tickRadius, angle, Math.abs(tickLength), Math.abs(labelOffset), isInner)\r\n      ticks.push({\r\n        points: ret.points,\r\n        label: {\r\n          text: tickFormatter(i * tickStep + min).toFixed(0),\r\n          pos: ret.labelPos,\r\n          anchor: ret.anchor\r\n        }\r\n      })\r\n    }\r\n\r\n    if ((ticks[0].angle + ticks[ticks.length - 1].angle) % (Math.PI * 2) === 0) {\r\n      ticks.pop()\r\n    }\r\n\r\n    return ticks\r\n  }\r\n\r\n  transform() {\r\n    const { radius, startAngle, endAngle, min, max, percent } = this.renderAttrs\r\n    const total = Math.abs(max - min)\r\n\r\n    return {\r\n      dataOrigin: percent,\r\n      startAngle,\r\n      radius,\r\n      endAngle: ((endAngle - startAngle) * (percent - min)) / total + startAngle,\r\n      strokeColor: this.color(0)\r\n    }\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const arc = this.transform()\r\n    this.gaugeAnimations = {\r\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\r\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\r\n    }\r\n    return arc\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const arc = this.transform()\r\n    const animation = {\r\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\r\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\r\n    }\r\n    if (this.gaugeAnimations) {\r\n      animation.from = { ...this.gaugeAnimations.to }\r\n    }\r\n\r\n    this.gaugeAnimations = { ...animation }\r\n    return arc\r\n  }\r\n\r\n  color(i) {\r\n    return this.theme.colors[i]\r\n  }\r\n\r\n  /**\r\n   * 渲染指针\r\n   * @param {Number} angle 角度\r\n   */\r\n  renderPointer(d, maxTickTextFontSize) {\r\n    const style = this.style('pointer')(d, d.dataOrigin, 0)\r\n    if (style === false) {\r\n      return\r\n    }\r\n    // 动画\r\n    let { from, to } = this.gaugeAnimations\r\n    // rotate角度起始位置为屏幕Y轴方向，arc角度为X轴方向\r\n    const fromRotate = from.endAngle + 90\r\n    const toRotate = to.endAngle + 90\r\n    const pointerAnimation = {\r\n      from: { rotate: fromRotate },\r\n      to: { rotate: toRotate }\r\n    }\r\n    // 半径\r\n    const { radius, pointerWidth, center, tickLength, labelOffset, lineWidth } = this.renderAttrs\r\n    // 指针顶部离仪表盘的距离\r\n    let pointerTopOffset = tickLength + lineWidth + labelOffset + maxTickTextFontSize\r\n    if (tickLength < 0) {\r\n      pointerTopOffset = pointerTopOffset - tickLength - labelOffset\r\n    }\r\n    // 指针长度\r\n    const pointerLen = radius - pointerTopOffset\r\n    // 指针宽度\r\n    let pWidth = radius / 10\r\n\r\n    // 指针颜色\r\n    const color = this.color(0)\r\n\r\n    const [x, y] = center\r\n    const attr = {\r\n      fillColor: color,\r\n      rotate: fromRotate,\r\n      transformOrigin: center,\r\n      zIndex: 11,\r\n      points: [\r\n        [x, y],\r\n        [x - pWidth / 2, y - pointerLen * 0.1],\r\n        [x, y - pointerLen],\r\n        [x + pWidth / 2, y - pointerLen * 0.1],\r\n        [x, y]\r\n      ],\r\n      close: true\r\n    }\r\n    return <Polyline {...attr} {...style} animation={pointerAnimation} />\r\n  }\r\n\r\n  isStyleExist(name) {\r\n    const style = this.style(`${name}`)\r\n    return Boolean(style)\r\n  }\r\n\r\n  render(data = {}) {\r\n    const {\r\n      _useBuiltInColors,\r\n      title,\r\n      percent,\r\n      center,\r\n      radius,\r\n      startAngle,\r\n      endAngle,\r\n      lineWidth,\r\n      lineCap,\r\n      strokeBgcolor,\r\n      clientRect\r\n    } = this.renderAttrs\r\n    const labelCenter = [center[0], center[1] * 1.25]\r\n    const ticks = this.ticks\r\n    const tickLine = this.isStyleExist('tickLine')\r\n    const tickText = this.isStyleExist('tickText')\r\n    const realTitle = title || percent\r\n\r\n    let gradientColor = null // 默认使用内置的渐变配色方案\r\n\r\n    if (_useBuiltInColors !== false) {\r\n      const colors = this.theme.colors.reverse()\r\n      const gradientOpt = {\r\n        vector: [0, 0, center[0] * 2, center[1] * 2],\r\n        colors: [\r\n          { color: colors[0], offset: 0 },\r\n          { color: colors[1], offset: 0.3 },\r\n          { color: colors[2], offset: 1 }\r\n        ]\r\n      }\r\n      gradientColor = new Gradient(gradientOpt)\r\n    }\r\n\r\n    let maxTickTextFontSize = 16\r\n    if (tickText !== false) {\r\n      ticks.map((tick, j) => {\r\n        const style = this.style('tickText')(data, data.dataOrigin, j)\r\n        if (style && style.fontSize) {\r\n          if (jsType(style.fontSize) === 'number' && maxTickTextFontSize < style.fontSize) {\r\n            maxTickTextFontSize = style.fontSize\r\n          }\r\n          if (jsType(style.fontSize) === 'string') {\r\n            const realSize = Number(style.fontSize.replace('px', ''))\r\n            if (jsType(realSize) === 'number' && maxTickTextFontSize < realSize) {\r\n              maxTickTextFontSize = realSize\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n    const gPos = [clientRect.left, clientRect.top]\r\n    const gSize = [clientRect.width, clientRect.height]\r\n    return (\r\n      <Group pos={gPos} size={gSize}>\r\n        <Arc\r\n          pos={center}\r\n          lineWidth={lineWidth}\r\n          lineCap={lineCap}\r\n          startAngle={startAngle}\r\n          endAngle={endAngle}\r\n          strokeColor={strokeBgcolor}\r\n          radius={radius}\r\n          zIndex={10}\r\n        />\r\n        <Arc\r\n          pos={center}\r\n          lineCap={lineCap}\r\n          lineWidth={lineWidth}\r\n          {...data}\r\n          animation={this.gaugeAnimations}\r\n          {...(gradientColor ? { strokeColor: gradientColor } : { strokeColor: this.color(0) })}\r\n          {...this.style('arc')(data, data.dataOrigin, 0)}\r\n          zIndex={11}\r\n        />\r\n        {this.renderPointer(data, maxTickTextFontSize)}\r\n        {realTitle ? (\r\n          <Label\r\n            text={jsType(realTitle) === 'function' ? realTitle(data.dataOrigin) : realTitle}\r\n            pos={labelCenter}\r\n            textAlign=\"center\"\r\n            zIndex={10}\r\n            anchor={[0.5, 1]}\r\n            {...this.style('title')(data, data.dataOrigin, 0)}\r\n          />\r\n        ) : null}\r\n        {tickLine !== false || tickText !== false\r\n          ? ticks.map((tick, j) => (\r\n              <Group pos={center} anchor={[0, 0]} zIndex={1010}>\r\n                {tickLine !== false ? (\r\n                  <Polyline\r\n                    points={tick.points}\r\n                    strokeColor={strokeBgcolor}\r\n                    {...this.style('tickLine')(data, data.dataOrigin, j)}\r\n                  />\r\n                ) : null}\r\n                {tickText !== false ? (\r\n                  <Label {...tick.label} {...this.style('tickText')(data, data.dataOrigin, j)} />\r\n                ) : null}\r\n              </Group>\r\n            ))\r\n          : null}\r\n      </Group>\r\n    )\r\n  }\r\n\r\n  rendered() {\r\n    this.on('resize', () => this.forceUpdate())\r\n  }\r\n}\r\n\r\nexport default Gauge\r\n","import { Group, Arc } from 'spritejs'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\n\r\n// 数据拷贝\r\nconst flattern = (arr) => [].concat.apply([], arr)\r\n\r\nclass RadialBar extends BaseVisual {\r\n  constructor(attrs = {}) {\r\n    super(attrs)\r\n    this.type = 'RadialBar'\r\n    this.animators = []\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'radialBar',\r\n      radius: 0.8,\r\n      innerRadius: 0,\r\n      startAngle: -90,\r\n      endAngle: 270,\r\n      lineWidth: 5,\r\n      strokeBgcolor: '#f5f5f5'\r\n    }\r\n  }\r\n\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    const { clientRect } = attrs\r\n    const size = [clientRect.width, clientRect.height]\r\n    return {\r\n      ...attrs,\r\n      size\r\n    }\r\n  }\r\n\r\n  get maxOuterRadius() {\r\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\r\n    const [width, height] = size\r\n\r\n    if (endAngle - startAngle === 90) {\r\n      return Math.min(width, height) * radius\r\n    } else {\r\n      return (Math.min(width, height) / 2) * radius\r\n    }\r\n  }\r\n\r\n  get center() {\r\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\r\n    const angle = (endAngle + startAngle) / 2\r\n    const [width, height] = size\r\n    const maxRadius = this.maxOuterRadius\r\n    let [x, y] = [width / 2 - maxRadius, height / 2 - maxRadius]\r\n\r\n    if (endAngle - startAngle === 90) {\r\n      // 区分象限\r\n      const cos = Math.cos(angle)\r\n      const sin = Math.sin(angle)\r\n      const maxWidth = radius * width\r\n      const maxHeight = radius * height\r\n      x += cos < 0 ? maxWidth / 2 : -(maxWidth / 2)\r\n      y += sin < 0 ? maxHeight / 2 : -(maxHeight / 2)\r\n    }\r\n\r\n    return [x, y]\r\n  }\r\n\r\n  get innerRadius() {\r\n    let { radius, innerRadius } = this.renderAttrs\r\n    return innerRadius <= 0 ? 0 : (this.maxOuterRadius / radius) * innerRadius\r\n  }\r\n\r\n  transform(data) {\r\n    const { startAngle, endAngle, max, min, lineWidth, colors } = this.renderAttrs\r\n    let total = 0\r\n    if (!isNaN(max) && !isNaN(min)) {\r\n      total = max - min\r\n    } else {\r\n      let cloneData = deepObjectMerge(data)\r\n      cloneData.sort((a, b) => b.value - a.value)\r\n      total = cloneData[0].value * 1.3\r\n    }\r\n    const angle = endAngle - startAngle\r\n    const innerRadius = this.innerRadius\r\n    const outerRadius = this.maxOuterRadius\r\n    const arcOffset = 0.5\r\n    const len = data.length\r\n    const perRadius =\r\n      ((outerRadius - innerRadius) * 2 - lineWidth * (lineWidth >= 5 ? 1 : len - 1)) / ((len * 2 - 1) * (1 + arcOffset))\r\n    let value = null\r\n\r\n    data.forEach((d, i) => {\r\n      value = +d.value\r\n\r\n      d.pos = [outerRadius, outerRadius]\r\n      d.anchor = [0.5, 0.5]\r\n      d.lineWidth = lineWidth\r\n      d.startAngle = startAngle\r\n      d.endAngle = d.state === 'disabled' ? startAngle : startAngle + (angle * value) / total\r\n      d.innerRadius = innerRadius + i * (1 + arcOffset) * perRadius\r\n      d.radius = d.innerRadius + 1 * perRadius\r\n      d.strokeColor = colors[i]\r\n\r\n      const normalStyle = this.style('arc')(d, d.dataOrigin, d.index)\r\n\r\n      Object.assign(d, normalStyle)\r\n    })\r\n    return data\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const { startAngle } = this.renderAttrs\r\n    let data = flattern(this.dataset)\r\n    data = this.transform(data)\r\n    this.animators = data.map((d) => ({\r\n      from: {\r\n        startAngle,\r\n        endAngle: startAngle\r\n      },\r\n      to: {\r\n        startAngle,\r\n        endAngle: d.endAngle\r\n      }\r\n    }))\r\n    return data\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const { startAngle } = this.renderAttrs\r\n    let data = flattern(this.dataset)\r\n    data = this.transform(data)\r\n    this.animators = data.map((d, i) => {\r\n      if (d.anticlockwise) {\r\n        return d.disabled ? { from: { opacity: 1 }, to: { opacity: 0 } } : { from: { opacity: 1 }, to: { opacity: 1 } }\r\n      } else {\r\n        let prev = this.animators[i] ? this.animators[i].to : data[i - 1]\r\n\r\n        if (!prev) {\r\n          prev = {\r\n            startAngle: startAngle,\r\n            endAngle: startAngle\r\n          }\r\n        }\r\n\r\n        return {\r\n          from: {\r\n            startAngle: prev.startAngle,\r\n            endAngle: prev.endAngle\r\n          },\r\n          to: {\r\n            startAngle: d.startAngle,\r\n            endAngle: d.endAngle\r\n          }\r\n        }\r\n      }\r\n    })\r\n    return data\r\n  }\r\n\r\n  onMouseenter(event, el) {\r\n    this.dataset.resetState()\r\n    const { col, row } = el.attributes\r\n    this.dataset.forEach((item) => {\r\n      item.state = item.col === col && item.row === row ? 'hover' : 'default'\r\n    })\r\n  }\r\n\r\n  onMouseleave() {\r\n    this.dataset.resetState()\r\n  }\r\n\r\n  render(data = []) {\r\n    const { strokeBgcolor } = this.renderAttrs\r\n    return (\r\n      <Group>\r\n        {data.map((d, i) => {\r\n          const { col, row, data } = d\r\n          return (\r\n            <Group pos={this.center} size={[this.maxOuterRadius * 2, this.maxOuterRadius * 2]}>\r\n              <Arc {...d} startAngle={0} endAngle={360} strokeColor={strokeBgcolor} />\r\n              <Arc\r\n                {...{ ...d, col, row }}\r\n                animation={{\r\n                  ...this.animators[i],\r\n                  duration: 300,\r\n                  delay: 0\r\n                }}\r\n                zIndex={i}\r\n                {...this.style('arc:hover')(d, data, d.index)}\r\n                onMouseenter={this.onMouseenter}\r\n                onMouseleave={this.onMouseleave}\r\n              />\r\n            </Group>\r\n          )\r\n        })}\r\n      </Group>\r\n    )\r\n  }\r\n\r\n  rendered() {}\r\n}\r\n\r\nexport default RadialBar\r\n","import Base from './Base'\r\nimport theme from '../theme/default'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nexport default class BasePlugin extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.theme = theme.plugins[this.constructor.name]\r\n    //如果当前对象设置了theme，不继承theme\r\n    this.theme.set = obj => {\r\n      if (this.theme === theme.visuals[this.constructor.name]) {\r\n        this.theme = filterClone(this.theme)\r\n      }\r\n      this.theme = deepObjectMerge(this.theme, obj)\r\n    }\r\n  }\r\n}\r\n","import { scaleLinear } from '../../utils/scaleLinear'\r\nimport { axis } from '../../utils/axis'\r\nimport { emptyObject } from '@qcharts/utils'\r\nexport default function layout(arr, attrs) {\r\n  let res = {\r\n    scales: [],\r\n    labels: [],\r\n    grids: [],\r\n    axisPoints: [],\r\n    orient: attrs.orient\r\n  }\r\n  let defaultAttrs = {\r\n    top: {\r\n      label: {\r\n        anchor: [0.5, 1],\r\n        padding: [0, 0, 6, 0],\r\n        textAlign: 'center'\r\n      },\r\n      scale: {\r\n        anchor: [0.5, 1],\r\n        width: 1,\r\n        height: 4\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'category'\r\n    },\r\n    bottom: {\r\n      scale: {\r\n        anchor: [0.5, 0],\r\n        width: 1,\r\n        height: 4\r\n      },\r\n      label: {\r\n        anchor: [0.5, 0],\r\n        padding: [6, 0, 0, 0],\r\n        textAlign: 'center'\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'category'\r\n    },\r\n    left: {\r\n      label: {\r\n        padding: [0, 8, 0, 0],\r\n        anchor: [1, 0.5],\r\n        textAlign: 'right'\r\n      },\r\n      scale: {\r\n        anchor: [1, 0.5],\r\n        width: 4,\r\n        height: 1\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'value'\r\n    },\r\n    right: {\r\n      label: {\r\n        anchor: [0, 0.5],\r\n        padding: [0, 0, 0, 8]\r\n      },\r\n      scale: {\r\n        anchor: [0, 0.5],\r\n        width: 4,\r\n        height: 1\r\n      },\r\n      grid: {\r\n        strokeColor: '#666'\r\n      },\r\n      name: {},\r\n      type: 'value'\r\n    }\r\n  }\r\n  const { stack, splitNumber, clientRect, orient, axisGap, transpose } = attrs\r\n  if (transpose) {\r\n    ;['top', 'bottom', 'right', 'left'].forEach(str => {\r\n      defaultAttrs[str].type = defaultAttrs[str].type === 'value' ? 'category' : 'value'\r\n    })\r\n  }\r\n  const { width, height } = clientRect\r\n  let scales = axis({ dataSet: arr, stack, splitNumber })\r\n  let maxVal = Math.max.apply(this, scales)\r\n  let minVal = Math.min.apply(this, scales)\r\n  let type = attrs.type || defaultAttrs[orient].type\r\n  let distance = orient === 'left' || orient === 'right' ? height : width\r\n  if (type === 'value') {\r\n    let scaleFY = scaleLinear()\r\n      .domain([minVal, maxVal])\r\n      .range([0, distance])\r\n    scales.forEach(num => {\r\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, { text: '' + num }, num, scaleFY, clientRect)\r\n      res.scales.push(scaleAttr)\r\n      res.labels.push(labelAttr)\r\n      res.grids.push(gridAttr)\r\n    })\r\n  } else if (type === 'category') {\r\n    let curArr = arr[0]\r\n    let len = axisGap ? curArr.length : curArr.length - 1\r\n    let scaleFY = scaleLinear()\r\n      .domain([0, len])\r\n      .range([0, distance])\r\n    curArr.forEach((cell, ind) => {\r\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, cell, ind, scaleFY, clientRect, axisGap)\r\n      res.scales.push(scaleAttr)\r\n      res.labels.push(labelAttr)\r\n      res.grids.push(gridAttr)\r\n    })\r\n    if (axisGap) {\r\n      // 如果是axisGap为true，需要添加一个点\r\n      let { scaleAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, {}, curArr.length, scaleFY, clientRect, axisGap)\r\n      res.scales.push(scaleAttr)\r\n      res.grids.push(gridAttr)\r\n    }\r\n  }\r\n  if (orient === 'left' || orient === 'right') {\r\n    let dx = orient === 'left' ? 0 : width\r\n    res.axisPoints = [\r\n      [dx, height],\r\n      [dx, 0]\r\n    ]\r\n    res.nameAttr = { pos: [dx, 0], anchor: [0.5, 1], padding: [10] }\r\n  } else if (orient === 'bottom' || orient === 'top') {\r\n    let dy = orient === 'bottom' ? height : 0\r\n    res.axisPoints = [\r\n      [0, dy],\r\n      [width, dy]\r\n    ]\r\n    res.nameAttr = { pos: [width, dy], anchor: [0, 1] }\r\n  }\r\n  return res\r\n}\r\nfunction getItemAttrs(defaultAttrs, orient, cell, value, scaleF, clientRect, axisGap) {\r\n  let res = emptyObject()\r\n  let { width, height, left, top } = clientRect\r\n  let labelPosValue = axisGap ? value + 0.5 : value\r\n  if (orient === 'left' || orient === 'right') {\r\n    let x = orient === 'left' ? 0 : width\r\n    let yv = scaleF(value)\r\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [x, height - yv] }\r\n    res.gridAttr = {\r\n      ...defaultAttrs[orient].grid,\r\n      points: [\r\n        [x, height - yv],\r\n        [width, height - yv]\r\n      ]\r\n    }\r\n    res.labelAttr = { ...defaultAttrs[orient].label, width: left, text: '' + cell.text, pos: [x, height - scaleF(labelPosValue)] }\r\n  } else if (orient === 'top' || orient === 'bottom') {\r\n    let y = orient === 'top' ? 0 : height\r\n    let xv = scaleF(value)\r\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [xv, y] }\r\n    res.gridAttr = {\r\n      ...defaultAttrs[orient].grid,\r\n      points: [\r\n        [xv, 0],\r\n        [xv, y]\r\n      ]\r\n    }\r\n    res.labelAttr = { ...defaultAttrs[orient].label, width: left, text: '' + cell.text, pos: [scaleF(labelPosValue), y] }\r\n  }\r\n  return res\r\n}\r\n","import Base from '../../base/BasePlugin'\r\nimport { Group, Label, Polyline, Node } from 'spritejs'\r\nimport { emptyObject } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nimport layout from './layout'\r\nimport { getStyle } from '@/utils/getStyle'\r\nclass Axis extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderAxis = emptyObject()\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    let targetVisual = this.chart.visuals[0]\r\n    if (attrs.axisGap === undefined && targetVisual && targetVisual.constructor.name === 'Bar') {\r\n      //如果axisGap没有赋值\r\n      //如果是柱状图\r\n      attrs.axisGap = true\r\n    }\r\n    if (targetVisual && targetVisual.constructor.name === 'Scatter') {\r\n      attrs.type = 'value'\r\n    }\r\n    if (attrs.transpose === undefined && targetVisual) {\r\n      //坐标轴转换\r\n      attrs.transpose = targetVisual.renderAttrs.transpose\r\n    }\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    let { axis } = this.getRenderData()\r\n    return axis\r\n  }\r\n  beforeUpdate() {\r\n    let { axis } = this.getRenderData()\r\n    return axis\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'axis',\r\n      zIndex: -1,\r\n      formatter: e => e\r\n    }\r\n  }\r\n  //defaultStyles() {}\r\n  getRenderData() {\r\n    //根据axis的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    let axis = layout(renderData, renderAttrs)\r\n    return { axis }\r\n  }\r\n  render(axis) {\r\n    let oldAxis = this.renderAxis || emptyObject()\r\n    this.renderAxis = axis\r\n    let { clientRect, formatter, orient, name } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    let axisStyle = getStyle(this, 'axis', styles.axis)\r\n    //当前主体颜色\r\n    let arrOrient = this.chart.plugins\r\n      .map(plugin => {\r\n        if (plugin.constructor.name === 'Axis') {\r\n          return plugin.renderAttrs.orient\r\n        }\r\n      })\r\n      .filter(Boolean)\r\n    let nameStyle = getStyle(this, 'name', [styles.name || {}, filterClone(axis.nameAttr, [], ['pos'])])\r\n    let oldPos = (oldAxis.nameAttr && oldAxis.nameAttr.pos) || axis.nameAttr.pos\r\n    let nameAni = { from: { pos: oldPos }, to: { pos: axis.nameAttr.pos } }\r\n    return (\r\n      <Group ref=\"wrap\" pos={[clientRect.left, clientRect.top]}>\r\n        <Polyline {...axisStyle} animation={{ from: { points: oldAxis.axisPoints }, to: { points: axis.axisPoints } }}></Polyline>\r\n        <Group>\r\n          {axis.grids.map((grid, ind) => {\r\n            let fromPoints = (oldAxis.grids && oldAxis.grids[ind] && oldAxis.grids[ind].points) || grid.points\r\n            let ani = { from: { points: fromPoints }, to: { points: grid.points } }\r\n            let style = getStyle(this, 'grid', styles.grid, [ind])\r\n            if (orient === 'left' || orient === 'right') {\r\n              if ((ind === 0 && arrOrient.includes('bottom')) || (ind = axis.grids.length - 1 && arrOrient.includes('top'))) {\r\n                return <Node />\r\n              }\r\n            } else if (orient === 'top' || orient === 'bottom') {\r\n              if ((ind === 0 && arrOrient.includes('left')) || (ind = axis.grids.length - 1 && arrOrient.includes('right'))) {\r\n                return <Node />\r\n              }\r\n            }\r\n            return style === false ? <Node /> : <Polyline {...style} points={ani.from.points} animation={ani} />\r\n          })}\r\n          {axis.scales.map((scale, ind) => {\r\n            let fromPos = (oldAxis.scales && oldAxis.scales[ind] && oldAxis.scales[ind].pos) || scale.pos\r\n            let ani = { from: { pos: fromPos }, to: { pos: scale.pos } }\r\n            // 排除pos属性，pos属性用来处理动画，其它属性直接赋值\r\n            let style = getStyle(this, 'scale', styles.scale, [scale, ind])\r\n            return style === false ? <Node /> : <Group {...filterClone(scale, [], ['pos'])} {...style} animation={ani}></Group>\r\n          })}\r\n          {axis.labels.map((label, ind) => {\r\n            let fromPos = (oldAxis.labels && oldAxis.labels[ind] && oldAxis.labels[ind].pos) || label.pos\r\n            let style = getStyle(this, 'label', styles.label, [label, ind])\r\n            let ani = { from: { pos: fromPos }, to: { pos: label.pos } }\r\n            return style === false ? <Node /> : <Label {...filterClone(label, [], ['pos', 'text'])} {...style} text={formatter(label.text)} animation={ani}></Label>\r\n          })}\r\n        </Group>\r\n        {nameStyle === false || name === undefined || name.length === 0 ? <Node /> : <Label {...nameStyle} text={name} animation={nameAni} />}\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Axis\r\n","import Base from '../../base/BasePlugin'\r\n//import { debounce } from '@qcharts/utils'\r\nclass Legend extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.$el = null\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    attrs.clientRect = {\r\n      bottom: 0,\r\n      width: '100%',\r\n      left: 0,\r\n      right: ''\r\n    }\r\n    return attrs\r\n  }\r\n  defaultAttrs() {\r\n    return {}\r\n  }\r\n  beforeRender() {\r\n    //let dataset = this.dataset\r\n    return this.dataset.rows\r\n  }\r\n  itemClick() {\r\n    console.log(click)\r\n  }\r\n  beforeUpdate() {}\r\n\r\n  rendered() {\r\n    let clickAble = this.renderAttrs.clickAble\r\n    if (clickAble !== false) {\r\n      let items = this.$el.querySelectorAll('.legend-item')\r\n      items.forEach(item => {\r\n        item.style.cursor = 'pointer'\r\n      })\r\n      let dataset = this.dataset\r\n      let $el = this.$el\r\n      $el.addEventListener(\r\n        'click',\r\n        e => {\r\n          let target = e.target\r\n          let $dom = getParent($el, target, '.legend-item')\r\n          if ($dom) {\r\n            let ind = $dom.getAttribute('data-id')\r\n            let state = dataset.rows[ind].state\r\n            dataset.rows[ind].state = state === 'disabled' ? 'default' : 'disabled'\r\n          }\r\n          this.render(dataset.rows)\r\n        },\r\n        false\r\n      )\r\n    }\r\n  }\r\n  render(arr) {\r\n    if (arr) {\r\n      let { colors, clientRect } = this.renderAttrs\r\n      let { left, top, width, height, right, bottom } = clientRect\r\n      if (!this.$el) {\r\n        this.$el = document.createElement('div')\r\n        this.$el.className = 'qcharts-legend'\r\n        this.$el.style.cssText = `text-align:center;position:absolute;font-size:12px;left:${left};top:${top};width:${width};height:${height};right:${right};bottom:${bottom};z-index:10`\r\n        this.chart.$el.appendChild(this.$el)\r\n      }\r\n      let html = ''\r\n      arr.forEach((row, ind) => {\r\n        let state = this.dataset.rows[ind].state\r\n        let curColor = state !== 'disabled' ? colors[ind] : '#ddd'\r\n        html += `<div style=\"display:inline-block;padding:0 4px;cursor:pointer\" class=\"legend-item\" data-id=\"${ind}\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${curColor}\"></span><span class=\"text\" style=\"color:#666\">${row.name}</span></div>`\r\n      })\r\n      this.$el.innerHTML = html\r\n    }\r\n  }\r\n}\r\nfunction getParent(wrap, dom, selector) {\r\n  let arr = wrap.querySelectorAll(selector)\r\n  if (dom === wrap) {\r\n    return\r\n  } else if ([].indexOf.call(arr, dom) !== -1) {\r\n    return dom\r\n  } else {\r\n    return getParent(wrap, dom.parentNode, selector)\r\n  }\r\n}\r\nexport default Legend\r\n","import Base from '../../base/BasePlugin'\r\nimport { debounce } from '@qcharts/utils'\r\nclass Tooltip extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.$el = null\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {}\r\n  beforeUpdate() {}\r\n  tipMousemove = debounce(\r\n    e => {\r\n      let maxLeft = window.innerWidth - this.$el.getBoundingClientRect().width - 5\r\n      let maxTop = window.innerWidth - this.$el.getBoundingClientRect().height - 5\r\n      let tarTop = e.y > maxTop ? maxTop : e.y\r\n      let tarLeft = e.x > maxLeft ? maxLeft : e.x\r\n      this.$el.style.left = tarLeft + 'px'\r\n      this.$el.style.top = tarTop + 'px'\r\n    },\r\n    100,\r\n    1\r\n  )\r\n  rendered() {\r\n    let { colors, sort, formatter } = this.renderAttrs\r\n    this.chart.dataset.on('change', data => {\r\n      let { option } = data\r\n      this.$el.innerHTML = ''\r\n      if (option.value === 'hover') {\r\n        let arr = [].concat(this.chart.dataset).filter(item => item.state === 'hover')\r\n        if (sort) {\r\n          arr.sort(sort)\r\n        }\r\n        if (arr.length) {\r\n          let innerHtml = ''\r\n          let $div = document.createElement('div')\r\n          $div.style.cssText = 'white-space:nowrap;padding:6px 10px;background-color:rgba(0,0,0,0.5);color:#fff;'\r\n          arr.forEach((item, ind) => {\r\n            let text = `${item.text}：${item.value}`\r\n            if (formatter) {\r\n              text = formatter(item.data) || text\r\n            }\r\n            let html = `<div class=\"tooltip-item\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${colors[ind]}\"></span><span class=\"text\">${text}</span></div>`\r\n            innerHtml += html\r\n          })\r\n          $div.innerHTML = innerHtml\r\n          this.$el.appendChild($div)\r\n        }\r\n      } else if (option.name === 'reset') {\r\n        this.$el.innerHTML = ''\r\n      }\r\n    })\r\n    document.body.addEventListener('mousemove', this.tipMousemove)\r\n  }\r\n  render() {\r\n    if (!this.$el) {\r\n      this.$el = document.createElement('div')\r\n      this.$el.className = 'qcharts-tooltip'\r\n      this.$el.style.cssText = 'transition:top 300ms ease-out,left 300ms ease-out;position:absolute;pointEvents:none;pointer-events:none;font-size:14px;'\r\n    }\r\n    document.body.appendChild(this.$el)\r\n  }\r\n}\r\nexport default Tooltip\r\n","let platform = window\r\nexport default platform\r\n","import Base from './base/Base'\r\nimport { jsType, emptyObject, throttle } from '@qcharts/utils'\r\nimport platform from './base/platform'\r\nimport BaseVisual from './base/BaseVisual'\r\nimport BasePlugin from './base/BasePlugin'\r\nimport { Scene } from 'spritejs'\r\nimport { Wave, Gauge } from './index'\r\nclass Chart extends Base {\r\n  constructor(attr) {\r\n    super()\r\n    let { container } = attr\r\n    if (jsType(container) === 'string') {\r\n      container = document.querySelector(container)\r\n    }\r\n    this.$el = container\r\n    this.visuals = []\r\n    this.plugins = []\r\n    this.children = []\r\n    this.scene = new Scene({ container, displayRatio: platform.devicePixelRatio })\r\n    this.scene.addEventListener('resize', _ => {\r\n      //舞台变化的时候\r\n      this.checkUpdate({ type: 'resize' })\r\n    })\r\n    this.checkUpdate = throttle(args => {\r\n      this.children.forEach(node => {\r\n        node.update(args)\r\n      })\r\n    }, 300)\r\n    this.checkRender = throttle(_ => {\r\n      this.children.forEach(child => {\r\n        child.created()\r\n        this.dataset.addDep(child)\r\n      })\r\n      this.__store.__isCreated__ = true\r\n      this.dispatchEvent('updated', emptyObject())\r\n    })\r\n  }\r\n  update(args) {\r\n    //图表发生更新，触发图表内组件更新\r\n    this.checkUpdate(args)\r\n  }\r\n  append(node) {\r\n    const notNeedDataSetList = [Wave, Gauge]\r\n    if (notNeedDataSetList.some(Target => node instanceof Target)) {\r\n      //补齐dataset，wave中不用dataset\r\n      this.source([], {})\r\n    } else if (!this.dataset) {\r\n      console.error('Chart should set data before append some graphs')\r\n      return\r\n    }\r\n    if (jsType(node) === 'array') {\r\n      node.forEach(item => {\r\n        this.append(item)\r\n      })\r\n      return\r\n    } else if (node instanceof BaseVisual) {\r\n      this.visuals.push(node)\r\n    } else if (node instanceof BasePlugin) {\r\n      this.plugins.push(node)\r\n    }\r\n    this.children.push(node)\r\n    node.chart = this\r\n    node.scene = this.scene\r\n    this.checkRender()\r\n  }\r\n  getDataURL() {\r\n    return this.scene.snapshot().toDataURL()\r\n  }\r\n}\r\n\r\nexport default Chart\r\n","import { h, easing } from '@qcharts/vnode'\r\nimport Dataset from '@qcharts/dataset'\r\nimport Line from './visuals/Line/index'\r\nimport Pie from './visuals/Pie/index'\r\nimport Area from './visuals/Area/index'\r\nimport Radar from './visuals/Radar/index'\r\nimport Bar from './visuals/Bar/index'\r\nimport PolarBar from './visuals/PolarBar/index'\r\nimport Funnel from './visuals/Funnel/index'\r\nimport Scatter from './visuals/Scatter/index'\r\nimport Wave from './visuals/Wave/index'\r\nimport Gauge from './visuals/Gauge'\r\nimport RadialBar from './visuals/RadialBar'\r\nimport Axis from './plugins/Axis/index'\r\nimport Legend from './plugins/Legend/index'\r\nimport Tooltip from './plugins/Tooltip/index'\r\nimport platform from './base/platform'\r\nimport Chart from './Chart'\r\nimport theme from './theme/default'\r\nconst qcharts = {\r\n  version: '1.0.0',\r\n  Line,\r\n  Pie,\r\n  Area,\r\n  Radar,\r\n  Bar,\r\n  PolarBar,\r\n  Funnel,\r\n  Scatter,\r\n  Gauge,\r\n  RadialBar,\r\n  Legend,\r\n  Axis,\r\n  Wave,\r\n  Tooltip,\r\n  h,\r\n  theme,\r\n  Chart,\r\n  easing\r\n}\r\nif (process.env.NODE_ENV === 'development') {\r\n  platform.qcharts = qcharts\r\n}\r\n\r\nexport { Dataset, Line, Pie, Area, Wave, Radar, Tooltip, Bar, PolarBar, Funnel, Scatter, Gauge, RadialBar, Axis, Legend, Chart, h, theme, easing }\r\n\r\nexport default qcharts\r\n"],"sourceRoot":""}