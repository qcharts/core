{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"spritejs\"","webpack://[name]/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://[name]/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://[name]/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://[name]/./node_modules/filter-clone/lib/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://[name]/./node_modules/@qcharts/vnode/node_modules/@qcharts/utils/lib/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://[name]/./node_modules/@babel/runtime/helpers/typeof.js","webpack://[name]/./node_modules/@babel/runtime/helpers/extends.js","webpack://[name]/./node_modules/@babel/runtime/helpers/get.js","webpack://[name]/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://[name]/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://[name]/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://[name]/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://[name]/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://[name]/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://[name]/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://[name]/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://[name]/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://[name]/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://[name]/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://[name]/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://[name]/./node_modules/@babel/runtime/helpers/inherits.js","webpack://[name]/./node_modules/@babel/runtime/helpers/createClass.js","webpack://[name]/./node_modules/@qcharts/vnode/src/h.js","webpack://[name]/./node_modules/@qcharts/vnode/src/consts.js","webpack://[name]/./node_modules/@qcharts/vnode/src/diff.js","webpack://[name]/./node_modules/@qcharts/vnode/src/render.js","webpack://[name]/./node_modules/@qcharts/vnode/tween/easing.js","webpack://[name]/./node_modules/@qcharts/vnode/util/interpolate.js","webpack://[name]/./node_modules/@qcharts/vnode/util/index.js","webpack://[name]/./node_modules/@qcharts/vnode/tween/tween.js","webpack://[name]/./node_modules/@qcharts/vnode/src/patch.js","webpack://[name]/./node_modules/@qcharts/vnode/src/nodeHelper.js","webpack://[name]/./node_modules/@qcharts/dataset/src/state.js","webpack://[name]/./node_modules/@qcharts/dataset/src/event.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Cell.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Row.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Dataset.js","webpack://[name]/./node_modules/@qcharts/dataset/src/index.js","webpack://[name]/./src/base/mixin.js","webpack://[name]/./node_modules/@qcharts/utils/src/index.js","webpack://[name]/./src/theme/default.js","webpack://[name]/./src/base/Base.js","webpack://[name]/./src/base/BaseVisual.js","webpack://[name]/./src/utils/getStyle.js","webpack://[name]/./src/utils/scaleLinear.js","webpack://[name]/./src/utils/axis.js","webpack://[name]/./src/visuals/Line/layout.js","webpack://[name]/./src/utils/Point.js","webpack://[name]/./src/visuals/Line/index.js","webpack://[name]/./src/visuals/Pie/layout.js","webpack://[name]/./src/visuals/Pie/index.js","webpack://[name]/./src/visuals/Area/index.js","webpack://[name]/./src/visuals/Radar/layout.js","webpack://[name]/./src/visuals/Radar/index.js","webpack://[name]/./src/visuals/Bar/layout.js","webpack://[name]/./src/visuals/Bar/index.js","webpack://[name]/./src/visuals/PolarBar/layout.js","webpack://[name]/./src/visuals/PolarBar/index.js","webpack://[name]/./src/visuals/Funnel/layout.js","webpack://[name]/./src/visuals/Funnel/index.js","webpack://[name]/./src/visuals/Scatter/layout.js","webpack://[name]/./src/visuals/Scatter/index.js","webpack://[name]/./src/utils/color.js","webpack://[name]/./src/utils/ellipse2path.js","webpack://[name]/./src/visuals/Wave/index.js","webpack://[name]/./src/visuals/Gauge/index.js","webpack://[name]/./src/visuals/RadialBar/index.js","webpack://[name]/./src/base/BasePlugin.js","webpack://[name]/./src/plugins/Axis/layout.js","webpack://[name]/./src/plugins/Axis/index.js","webpack://[name]/./src/plugins/Legend/index.js","webpack://[name]/./src/plugins/Tooltip/index.js","webpack://[name]/./src/base/platform.js","webpack://[name]/./src/Chart.js","webpack://[name]/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","arrayWithoutHoles","iterableToArray","nonIterableSpread","_typeof","obj","iterator","constructor","_default","filterClone","include","exclude","res","getType","len","length","push","j","indexOf","test","str","toString","slice","toLowerCase","self","ReferenceError","e","default","u","apply","this","setTimeout","clearTimeout","match","Number","substring","objectWithoutPropertiesLoose","source","excluded","target","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_extends","assign","arguments","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","configurable","writable","Array","isArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","TypeError","_setPrototypeOf","arr2","iter","from","instance","Constructor","sourceKeys","keys","assertThisInitialized","subClass","superClass","_defineProperties","props","descriptor","protoProps","staticProps","VNode","h","tagName","attrs","children","node","concat","filter","Boolean","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","type","isDiffrentVNode","createElement","vnode","TagName","el","patchAttrs","appendChild","map","forEach","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","a","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","number","b","array","bl","al","min","x","interpolate","now","performance","Date","requestAnimationFrame","cancelAnimationFrame","startTime","fn","id","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","time","Error","_onComplete","callback","elapseTime","animateTime","timer","delayTime","Promise","resolve","step","start","cancel","then","graph","patche","ref","addRef","console","error","split","cb","removeAllListeners","addEventListener","evt","addEvent","states","state","oldState","attr","oldstates","oldAttrs","newAttrs","duration","renderAttrs","animation","transition","addAttrs","middle","use","to","delay","useTween","easing","formatter","ani","onUpdate","animate","fill","finished","offset","setAnimation","addAnimate","patch","$el","isRoot","newEl","parent","replaceChild","remove","child","ind","_ind","curNode","curVnode","hide","hover","active","disabled","mixed","mixinEvent","__store","events","on","off","curEvent","splice","once","args","dispatchEvent","option","item","data","dataset","super","row","col","datasets","_layoutScaleFunc","layoutScaleFunc","num","__name","__option","cell","sta","dispatchOption","Row","Col","handleLayoutScale","layoutScale","store","__deps","__rows","sort","resArr","list","curRow","getArrData","cols","colLen","rowKey","dep","method","replace","NUM","warn","datasetReverse","lifeCycle","deepObjectMerge","objectMerge","FirstOBJ","SecondOBJ","jsType","emptyObject","throttle","interval","immediately","firstTime","getDistancePx","distance","Base","component","removeEventListener","listener","__attrs","__vnode__","__isCreated__","__refs","__update","update","options","Dataset","opts","_","render","beforeRender","layer","rendered","params","beforeUpdate","updated","event","clientRect","left","top","right","bottom","width","height","opacity","layoutBy","style","styleKey","substr","baseAttrs","defaultAttrs","theme","layerName","zIndex","scene","defaultStyles","styles","canvas","getBoundingClientRect","colors","chart","Node","random","visuals","Line","line","lineWidth","guideline","strokeColor","point","pointType","radiusX","radiusY","borderWidth","statck","Pie","sector","Area","area","Radar","Bar","bar","textureRepeat","groupBar","text","fontSize","fillColor","PolarBar","Funnel","funnel","Scatter","showGuideLine","Wave","wave","shape","Gauge","RadialBar","plugins","Tooltip","Legend","iconSize","Axis","axis","scale","bgcolor","label","grid","lineDash","orient","set","BaseVisual","getStyle","defaultStyle","oStyle","oArgs","cusStyle","scaleLinear","domain","range","disDomain","disRange","per","dataSet","section","gap","divide","toFixed","sectionAxis","stack","sum","sumDown","leng","layoutScaleValue","dataHandle","upZero","downZero","element","abs","sortUpZero","sortDownZero","maxUpZero","ceil","pop","maxDownZero","maxValue","mixNum","maxNum","splitNumber","getMax","axisArray","round","reverse","unit","unshift","layout","lines","axisGap","scales","maxVal","minVal","scaleFY","prevRow","points","areaPoints","smoothRange","dx","offsetX","curPos","axisPoints","curLine","nextPoints","startPoints","endPoints","transAreaPoint","allPoint","sprite","Sprite","path","Path","ellipse","Ellipse","rect","Rect","triangle","Triangle","parallel","Parallel","regular","Regular","star","Star","Point","$sprite","renderSymbol","pos","renderAttr","includes","append","Group","renderLines","hoverIndex","getRenderData","arrLayout","maxLen","areaFrom","areaTo","renderData","guidePoints","smooth","resetState","arrX","getOffsetPosition","y","curInd","posX","lineState","renderStyles","class","onMouseleave","guidelineleave","onMouseenter","guidelinemove","onMousemove","size","rows","onClick","lineClick","styleHover","rings","arrVal","reduce","totalVal","startAngle","endAngle","activeOffset","minAngle","maxAngle","totalAngle","perAngle","offsetPos","curObj","prevRing","curAngle","bisectorAngle","bisectorRadian","transRadius","angle","computeLinePos","center","radius","disRadius","centerAngle","startPoint","endPoint","labelPos","labelAnchor","renderRings","activeIndex","pervAngle","computeLine","oldRings","radiusPx","fromPoints","fromAnchor","fromPos","toPoints","toAnchor","toPos","anchor","innerRadius","curData","innerRadiusPx","mouseleave","ring","outerRadius","_index","mousemove","getPointCoordinate","radian","labelOffset","bgPoints","gridAttrs","axisAttrs","sectionAttrs","some","indicatorMax","dimension","perRadian","startRadian","currentRadian","maxScale","index","categoryPoints","dataOrigin","close","gridPoints","attributes","sectionData","scaleEl","oldPos","gridType","zeroPoints","otherAttrs","hoverStyle","stateStyle","getPolylineAnimation","processData","updateData","toScale","fromPts","toPts","GridShape","Arc","Polyline","getScaleAnimation","color","calcAnchor","getPt","perX","perY","perNum","labels","common","translate","display","elIndex","preEl","renderAxisLabel","renderAxisScale","secAnimation","prePoints","isSamePoints","pre","cur","otherAttr","gAnimation","renderGrid","renderAxis","renderSection","renderPoints","barSize","transpose","groupGap","stackGap","barWidth","barData","groupData","textData","bgPillarAttr","valueAxis","tableSize","axisValueMax","axisValueMin","POSITIVE_RATIO","GROUP_BAR_NUM","flag","computerLegend","GROUP_NUM","BAR_HEIGHT_FACTOR","heightSumUp","heightSumDown","gpData","rects","lenj","stackGapTemp","barHeight","posLabelY","paddingAttrs","rawValue","rotate","paddingLeft","groups","isNaN","floor","bgpillarState","log","pillars","texts","fromTos","nextPillar","prev","labelAttrs","disable","nextText","bgpillar","dataLength","myClick","pillar","barAttrs","textStyle","groupPadAngle","barInnerRadius","padAngle","BAR_MAX_HEIGHT","groupAngle","barAngle","legendArr","barStyle","groupInd","align","pyramid","polygons","widthFactory","POLYGON_NUM","polygon","colse","textAnchor","counter","nextValue","plg","oldPolygons","plgStyle","getDataRange","getBigRange","updateSectionVal","newSection","layoutWay","textField","valueField","allData","xDomain","xSection","xIsTextData","xScales","field","ySection","yScales","yDomain","newLayoutWay","xLinear","yLinear","dArry","scatterData","guideLineData","labelField","areaField","areaRange","hex","join","hexToRgba","di","temp","oldRow","cInd","getRealRadius","oldCell","fromRadius","toRadius","rowInd","colInd","ci","labelAttr","hStyle","renderScatter","renderGuideLine","ellipse2path","cx","cy","rx","ry","offsetR","tickId","oldAttr","amplitude","wavelength","percent","currentR","clipWave","$refs","clipPath","pathHeight","originalContentRect","perR","currentX","startY","lastY","waveStyle","shapeStyle","tickLine","tickLength","isInner","cX0","cY0","anchorX","anchorY","gaugeAnimations","lineCap","_useBuiltInColors","strokeBgcolor","title","tickStep","tickFormatter","arc","transform","maxTickTextFontSize","fromRotate","pointerAnimation","pointerWidth","pointerTopOffset","pointerLen","pWidth","transformOrigin","labelCenter","ticks","isStyleExist","tickText","realTitle","gradientColor","gradientOpt","vector","Gradient","tick","realSize","gPos","gSize","renderPointer","textAlign","forceUpdate","v","count","tickRadius","ret","flattern","animators","total","cloneData","maxOuterRadius","perRadius","normalStyle","anticlockwise","maxRadius","maxWidth","maxHeight","BasePlugin","grids","padding","getItemAttrs","scaleAttr","gridAttr","curArr","nameAttr","dy","scaleF","labelPosValue","yv","xv","oldAxis","axisStyle","arrOrient","plugin","nameStyle","nameAni","targetVisual","page","totalPage","perPageWidthOrHeight","paginationSize","groupSize","twiceRender","animationSwitch","posFrom","currentPos","legendStateArray","textSize","outGap","innerGap","reset","textAttrs","legendsSize","maxTextWidth","iconAttrs","textRect","isVertical","pagePos","onAfterrender","afterrender","textHoverStyle","itemClick","itemLeave","itemMove","pagePrev","marginLeft","changePage","pageText","lineBreak","pageNext","canvasWidth","canvasHeight","isValidLayout","hLocation","numberOrPercent","parseFloat","vLocation","totalPageX","totalPageY","pagePosY","maxLeft","innerWidth","maxTop","innerHeight","tarTop","tarLeft","innerHTML","innerHtml","$div","document","cssText","html","body","tipMousemove","className","platform","Chart","container","querySelector","Scene","displayRatio","devicePixelRatio","checkUpdate","checkRender","created","addDep","Target","snapshot","toDataURL","qcharts","version"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,aACR,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,YAAaJ,GACK,iBAAZC,QACdA,QAAiB,QAAID,EAAQG,QAAQ,aAErCJ,EAAc,QAAIC,EAAQD,EAAe,UAR3C,CASGO,QAAQ,SAASC,GACpB,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,oBAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUT,QAGnC,IAAIC,EAASM,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHX,QAAS,IAUV,OANAY,EAAQH,GAAUI,KAAKZ,EAAOD,QAASC,EAAQA,EAAOD,QAASQ,qBAG/DP,EAAOU,GAAI,EAGJV,EAAOD,QA0Df,OArDAQ,oBAAoBM,EAAIF,EAGxBJ,oBAAoBO,EAAIR,EAGxBC,oBAAoBQ,EAAI,SAAShB,EAASiB,EAAMC,GAC3CV,oBAAoBW,EAAEnB,EAASiB,IAClCG,OAAOC,eAAerB,EAASiB,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,oBAAoBgB,EAAI,SAASxB,GACX,oBAAXyB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAerB,EAASyB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,KAQvDnB,oBAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,oBAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,oBAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,oBAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,oBAAoB2B,EAAI,SAASlC,GAChC,IAAIiB,EAASjB,GAAUA,EAAO6B,WAC7B,WAAwB,OAAO7B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAO,oBAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,oBAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,oBAAoBgC,EAAI,GAIjBhC,oBAAoBA,oBAAoBiC,EAAI,I,kBClFrDxC,EAAOD,QAAUM,G,gBCAjB,SAASoC,gBAAgBvB,GAIvB,OAHAlB,EAAOD,QAAU0C,gBAAkBtB,OAAOuB,eAAiBvB,OAAOwB,eAAiB,SAAyBzB,GAC1G,OAAOA,EAAE0B,WAAazB,OAAOwB,eAAezB,IAEvCuB,gBAAgBvB,GAGzBlB,EAAOD,QAAU0C,iB,mBCPjB,IAAII,EAAiB,EAAQ,IAEzBC,EAAuB,EAAQ,IAE/BC,EAAkB,EAAQ,IAM9B/C,EAAOD,QAJP,SAAwBiD,EAAKvC,GAC3B,OAAOoC,EAAeG,IAAQF,EAAqBE,EAAKvC,IAAMsC,M,mBCPhE,IAAIE,EAAoB,EAAQ,IAE5BC,EAAkB,EAAQ,IAE1BC,EAAoB,EAAQ,IAMhCnD,EAAOD,QAJP,SAA4BiD,GAC1B,OAAOC,EAAkBD,IAAQE,EAAgBF,IAAQG,M,gCCA3D,SAASC,QAAQC,GAAwT,OAAtOD,QAArD,mBAAX5B,QAAoD,iBAApBA,OAAO8B,SAAmC,SAAiBD,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAX7B,QAAyB6B,EAAIE,cAAgB/B,QAAU6B,IAAQ7B,OAAOa,UAAY,gBAAkBgB,IAAyBA,GALxVlC,OAAOC,eAAerB,EAAS,aAAc,CAC3C2B,OAAO,IAET3B,EAAiB,aAAI,EA8DrB,IAAIyD,EA1DJ,SAASC,YAAYJ,EAAKK,EAASC,GACjC,IAAIC,EAAMP,EAEV,GAAoB,UAAhBD,QAAQC,GACV,GAAqB,UAAjBQ,QAAQR,GAAkB,CAC5BO,EAAM,GAEN,IAAK,IAAInD,EAAI,EAAGqD,EAAMT,EAAIU,OAAQtD,EAAIqD,EAAKrD,IACzCmD,EAAII,KAAKP,YAAYJ,EAAI5C,GAAIiD,EAASC,SAEnC,GAAY,OAARN,EAGT,IAAK,IAAIY,KAFTL,EAAMzC,OAAOY,OAAO,MAENsB,EACRK,GAAgC,UAArBG,QAAQH,IAAwBA,EAAQK,QAC1B,GAAvBL,EAAQQ,QAAQD,KAClBL,EAAIK,GAAKR,YAAYJ,EAAIY,GAAIP,EAASC,IAE/BD,GAAgC,WAArBG,QAAQH,GACxBA,EAAQS,KAAKF,KACfL,EAAIK,GAAKR,YAAYJ,EAAIY,GAAIP,EAASC,IAE/BD,GAAgC,aAArBG,QAAQH,GACxBA,EAAQO,EAAGZ,EAAIY,MACjBL,EAAIK,GAAKR,YAAYJ,EAAIY,GAAIP,EAASC,IAE/BA,GAAgC,UAArBE,QAAQF,IAAwBA,EAAQI,QAChC,IAAxBJ,EAAQO,QAAQD,KAClBL,EAAIK,GAAKR,YAAYJ,EAAIY,GAAIP,EAASC,IAE/BA,GAAgC,WAArBE,QAAQF,GACvBA,EAAQQ,KAAKF,KAChBL,EAAIK,GAAKR,YAAYJ,EAAIY,GAAIP,EAASC,IAE/BA,GAAgC,aAArBE,QAAQF,IACvBA,EAAQM,EAAGZ,EAAIY,MAIpBL,EAAIK,GAAKR,YAAYJ,EAAIY,GAAIP,EAASC,IAM9C,OAAOC,EAEP,SAASC,QAAQnC,GACf,IAAI0C,EAAMhB,QAAQ1B,GAElB,MAAY,WAAR0C,EACe,OAAV1C,EAAiB,KAAOP,OAAOkB,UAAUgC,SAASzD,KAAKc,GAAO4C,MAAM,GAAI,GAAGC,cAG7EH,IAKXrE,EAAiB,QAAIyD,G,iBC5DrBxD,EAAOD,QARP,SAAgCyE,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,I,mBCLsLpE,OAA9HJ,EAAOD,QAAiJ,SAAS4B,GAAG,IAAI+C,EAAE,GAAG,SAASxC,EAAEX,GAAG,GAAGmD,EAAEnD,GAAG,OAAOmD,EAAEnD,GAAGxB,QAAQ,IAAImB,EAAEwD,EAAEnD,GAAG,CAACd,EAAEc,EAAEb,GAAE,EAAGX,QAAQ,IAAI,OAAO4B,EAAEJ,GAAGX,KAAKM,EAAEnB,QAAQmB,EAAEA,EAAEnB,QAAQmC,GAAGhB,EAAER,GAAE,EAAGQ,EAAEnB,QAAQ,OAAOmC,EAAErB,EAAEc,EAAEO,EAAEpB,EAAE4D,EAAExC,EAAEnB,EAAE,SAASY,EAAE+C,EAAEnD,GAAGW,EAAEhB,EAAES,EAAE+C,IAAIvD,OAAOC,eAAeO,EAAE+C,EAAE,CAACrD,YAAW,EAAGC,IAAIC,KAAKW,EAAEX,EAAE,SAASI,GAAG,oBAAoBH,QAAQA,OAAOC,aAAaN,OAAOC,eAAeO,EAAEH,OAAOC,YAAY,CAACC,MAAM,WAAWP,OAAOC,eAAeO,EAAE,aAAa,CAACD,OAAM,KAAMQ,EAAEP,EAAE,SAASA,EAAE+C,GAAG,GAAG,EAAEA,IAAI/C,EAAEO,EAAEP,IAAI,EAAE+C,EAAE,OAAO/C,EAAE,GAAG,EAAE+C,GAAG,iBAAiB/C,GAAGA,GAAGA,EAAEE,WAAW,OAAOF,EAAE,IAAIJ,EAAEJ,OAAOY,OAAO,MAAM,GAAGG,EAAEX,EAAEA,GAAGJ,OAAOC,eAAeG,EAAE,UAAU,CAACF,YAAW,EAAGK,MAAMC,IAAI,EAAE+C,GAAG,iBAAiB/C,EAAE,IAAI,IAAIT,KAAKS,EAAEO,EAAEnB,EAAEQ,EAAEL,EAAE,SAASwD,GAAG,OAAO/C,EAAE+C,IAAIzC,KAAK,KAAKf,IAAI,OAAOK,GAAGW,EAAEA,EAAE,SAASP,GAAG,IAAI+C,EAAE/C,GAAGA,EAAEE,WAAW,WAAW,OAAOF,EAAEgD,SAAS,WAAW,OAAOhD,GAAG,OAAOO,EAAEnB,EAAE2D,EAAE,IAAIA,GAAGA,GAAGxC,EAAEhB,EAAE,SAASS,EAAE+C,GAAG,OAAOvD,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAE+C,IAAIxC,EAAEK,EAAE,GAAGL,EAAEA,EAAEM,EAAE,GAAj5B,CAAq5B,CAAC,SAASb,EAAE+C,EAAExC,GAAG,aAAa,SAASX,KAAKI,GAAG,IAAI+C,EAAE/C,EAAE,GAAG,GAAGA,EAAEoC,OAAO,EAAE,IAAI,IAAIxC,EAAE,EAAEA,EAAEI,EAAEoC,OAAOxC,IAAIW,EAAEwC,EAAE/C,EAAEJ,IAAI,OAAOmD,EAAE,SAASxC,EAAEP,EAAE+C,GAAG,IAAI,IAAIxC,KAAKwC,EAAE/C,EAAEO,GAAGP,EAAEO,IAAI,oBAAoBP,EAAEO,GAAGmC,WAAW9C,EAAEI,EAAEO,GAAGwC,EAAExC,IAAIP,EAAEO,GAAGwC,EAAExC,GAAG,OAAOP,GAAG,SAAST,IAAI,OAAOC,OAAOY,OAAO,MAAM,SAAS6C,EAAEjD,GAAG,MAAM+C,SAAS/C,EAAE,MAAM,WAAW+C,EAAE,OAAO/C,EAAE,KAAKR,OAAOkB,UAAUgC,SAASzD,KAAKe,GAAG2C,MAAM,GAAG,GAAGC,cAAcG,EAAE,SAASjE,EAAEkB,EAAE+C,EAAE,GAAGxC,GAAE,GAAI,IAAIX,EAAE,KAAKL,EAAEgB,EAAE,OAAO,YAAYA,GAAG,GAAGhB,EAAE,OAAOS,EAAEkD,MAAMC,KAAK5C,GAAGhB,GAAE,EAAGK,IAAIA,EAAEwD,WAAW,KAAKC,aAAazD,GAAGA,EAAE,KAAKI,EAAEkD,MAAMC,KAAK5C,IAAIwC,KAAK,SAAS5D,EAAEa,EAAE+C,GAAG,MAAM,WAAWE,EAAEjD,IAAIA,EAAEsD,MAAM,MAAMC,OAAOvD,EAAEwD,UAAU,EAAExD,EAAEuC,QAAQ,OAAO,IAAIQ,EAAE/C,EAAEO,EAAEX,EAAEmD,GAAGxC,EAAEnB,EAAE2D,EAAE,mBAAkB,WAAY,OAAOnD,KAAKW,EAAEnB,EAAE2D,EAAE,eAAc,WAAY,OAAOxD,KAAKgB,EAAEnB,EAAE2D,EAAE,UAAS,WAAY,OAAOE,KAAK1C,EAAEnB,EAAE2D,EAAE,YAAW,WAAY,OAAOjE,KAAKyB,EAAEnB,EAAE2D,EAAE,iBAAgB,WAAY,OAAO5D,S,mBCAz9D,IAAIsE,EAA+B,EAAQ,IAqB3CpF,EAAOD,QAnBP,SAAkCsF,EAAQC,GACxC,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIrD,EAAKvB,EADL8E,EAASH,EAA6BC,EAAQC,GAGlD,GAAInE,OAAOqE,sBAAuB,CAChC,IAAIC,EAAmBtE,OAAOqE,sBAAsBH,GAEpD,IAAK5E,EAAI,EAAGA,EAAIgF,EAAiB1B,OAAQtD,IACvCuB,EAAMyD,EAAiBhF,GACnB6E,EAASpB,QAAQlC,IAAQ,GACxBb,OAAOkB,UAAUqD,qBAAqB9E,KAAKyE,EAAQrD,KACxDuD,EAAOvD,GAAOqD,EAAOrD,IAIzB,OAAOuD,I,iBClBT,SAASnC,QAAQC,GAaf,MAVsB,mBAAX7B,QAAoD,iBAApBA,OAAO8B,SAChDtD,EAAOD,QAAUqD,QAAU,SAAiBC,GAC1C,cAAcA,GAGhBrD,EAAOD,QAAUqD,QAAU,SAAiBC,GAC1C,OAAOA,GAAyB,mBAAX7B,QAAyB6B,EAAIE,cAAgB/B,QAAU6B,IAAQ7B,OAAOa,UAAY,gBAAkBgB,GAItHD,QAAQC,GAGjBrD,EAAOD,QAAUqD,S,gBChBjB,SAASuC,WAeP,OAdA3F,EAAOD,QAAU4F,SAAWxE,OAAOyE,QAAU,SAAUL,GACrD,IAAK,IAAI9E,EAAI,EAAGA,EAAIoF,UAAU9B,OAAQtD,IAAK,CACzC,IAAI4E,EAASQ,UAAUpF,GAEvB,IAAK,IAAIuB,KAAOqD,EACVlE,OAAOkB,UAAUC,eAAe1B,KAAKyE,EAAQrD,KAC/CuD,EAAOvD,GAAOqD,EAAOrD,IAK3B,OAAOuD,GAGFI,SAASd,MAAMC,KAAMe,WAG9B7F,EAAOD,QAAU4F,U,kBClBjB,IAAIG,EAAgB,EAAQ,IAE5B,SAASC,KAAKR,EAAQnD,EAAU4D,GAiB9B,MAhBuB,oBAAZC,SAA2BA,QAAQ3E,IAC5CtB,EAAOD,QAAUgG,KAAOE,QAAQ3E,IAEhCtB,EAAOD,QAAUgG,KAAO,SAAcR,EAAQnD,EAAU4D,GACtD,IAAIE,EAAOJ,EAAcP,EAAQnD,GACjC,GAAK8D,EAAL,CACA,IAAIC,EAAOhF,OAAOiF,yBAAyBF,EAAM9D,GAEjD,OAAI+D,EAAK7E,IACA6E,EAAK7E,IAAIV,KAAKoF,GAGhBG,EAAKzE,QAITqE,KAAKR,EAAQnD,EAAU4D,GAAYT,GAG5CvF,EAAOD,QAAUgG,M,gBCPjB/F,EAAOD,QAfP,SAAyBsD,EAAKrB,EAAKN,GAYjC,OAXIM,KAAOqB,EACTlC,OAAOC,eAAeiC,EAAKrB,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZgF,cAAc,EACdC,UAAU,IAGZjD,EAAIrB,GAAON,EAGN2B,I,iBCRTrD,EAAOD,QAJP,SAAyBiD,GACvB,GAAIuD,MAAMC,QAAQxD,GAAM,OAAOA,I,iBC6BjChD,EAAOD,QA9BP,SAA+BiD,EAAKvC,GAClC,GAAMe,OAAO8B,YAAYnC,OAAO6B,IAAgD,uBAAxC7B,OAAOkB,UAAUgC,SAASzD,KAAKoC,GAAvE,CAIA,IAAIyD,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAK/D,EAAIxB,OAAO8B,cAAmBoD,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKzC,KAAK8C,EAAGpF,QAETjB,GAAKgG,EAAK1C,SAAWtD,GAH8CiG,GAAK,IAK9E,MAAOQ,GACPP,GAAK,EACLC,EAAKM,EACL,QACA,IACOR,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,K,iBCvBTzG,EAAOD,QAJP,WACE,MAAM,IAAIoH,UAAU,0D,mBCDtB,IAAIxE,EAAiB,EAAQ,GAW7B3C,EAAOD,QATP,SAAwBoC,EAAQC,GAC9B,MAAQjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAEpC,QADfD,EAASQ,EAAeR,MAI1B,OAAOA,I,iBCRT,SAASiF,gBAAgBlG,EAAGqB,GAM1B,OALAvC,EAAOD,QAAUqH,gBAAkBjG,OAAOuB,gBAAkB,SAAyBxB,EAAGqB,GAEtF,OADArB,EAAE0B,UAAYL,EACPrB,GAGFkG,gBAAgBlG,EAAGqB,GAG5BvC,EAAOD,QAAUqH,iB,iBCCjBpH,EAAOD,QAVP,SAA4BiD,GAC1B,GAAIuD,MAAMC,QAAQxD,GAAM,CACtB,IAAK,IAAIvC,EAAI,EAAG4G,EAAO,IAAId,MAAMvD,EAAIe,QAAStD,EAAIuC,EAAIe,OAAQtD,IAC5D4G,EAAK5G,GAAKuC,EAAIvC,GAGhB,OAAO4G,K,iBCFXrH,EAAOD,QAJP,SAA0BuH,GACxB,GAAI9F,OAAO8B,YAAYnC,OAAOmG,IAAkD,uBAAzCnG,OAAOkB,UAAUgC,SAASzD,KAAK0G,GAAgC,OAAOf,MAAMgB,KAAKD,K,gBCK1HtH,EAAOD,QANP,SAAyByH,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIN,UAAU,uC,iBCExBnH,EAAOD,QAJP,WACE,MAAM,IAAIoH,UAAU,qD,iBCctBnH,EAAOD,QAfP,SAAuCsF,EAAQC,GAC7C,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIrD,EAAKvB,EAFL8E,EAAS,GACTmC,EAAavG,OAAOwG,KAAKtC,GAG7B,IAAK5E,EAAI,EAAGA,EAAIiH,EAAW3D,OAAQtD,IACjCuB,EAAM0F,EAAWjH,GACb6E,EAASpB,QAAQlC,IAAQ,IAC7BuD,EAAOvD,GAAOqD,EAAOrD,IAGvB,OAAOuD,I,kBCZT,IAAInC,EAAU,EAAQ,IAElBwE,EAAwB,EAAQ,IAUpC5H,EAAOD,QARP,SAAoCyE,EAAM5D,GACxC,OAAIA,GAA2B,WAAlBwC,EAAQxC,IAAsC,mBAATA,EAI3CgH,EAAsBpD,GAHpB5D,I,kBCNX,IAAI8B,EAAiB,EAAQ,IAiB7B1C,EAAOD,QAfP,SAAmB8H,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIX,UAAU,sDAGtBU,EAASxF,UAAYlB,OAAOY,OAAO+F,GAAcA,EAAWzF,UAAW,CACrEkB,YAAa,CACX7B,MAAOmG,EACPvB,UAAU,EACVD,cAAc,KAGdyB,GAAYpF,EAAemF,EAAUC,K,gBCd3C,SAASC,kBAAkBxC,EAAQyC,GACjC,IAAK,IAAIvH,EAAI,EAAGA,EAAIuH,EAAMjE,OAAQtD,IAAK,CACrC,IAAIwH,EAAaD,EAAMvH,GACvBwH,EAAW5G,WAAa4G,EAAW5G,aAAc,EACjD4G,EAAW5B,cAAe,EACtB,UAAW4B,IAAYA,EAAW3B,UAAW,GACjDnF,OAAOC,eAAemE,EAAQ0C,EAAWjG,IAAKiG,IAUlDjI,EAAOD,QANP,SAAsB0H,EAAaS,EAAYC,GAG7C,OAFID,GAAYH,kBAAkBN,EAAYpF,UAAW6F,GACrDC,GAAaJ,kBAAkBN,EAAaU,GACzCV,I,4wBCbT,MAAMW,MAAQ,aAGC,SAASC,EAAEC,EAASC,KAAUC,GAC3C,MAAMC,EAAO,IAAIL,MAHFpF,MAOf,OAHAyF,EAAKH,QAAUA,EACfG,EAAKF,MAAQA,GAAS,GACtBE,EAAKD,UANUxF,EAMUwF,EANH,GAAGE,OAAO7D,MAAM,GAAI7B,IAMP2F,OAAOC,SACnCH,ECRF,MCEDI,OAASxF,GAAOA,QAEhByF,kBAAoB,CAACC,EAAUC,KACnC,MAAMC,EAAU,GAEVnF,EAAMoF,KAAKC,IAAIJ,EAASP,SAASzE,OAAQiF,EAASR,SAASzE,QACjE,IAAK,IAAItD,EAAI,EAAGA,EAAIqD,EAAKrD,IAEvBwI,EAAQxI,GAAK2I,KAAKL,EAASP,SAAS/H,GAAIuI,EAASR,SAAS/H,IAE5D,OAAOwI,GAWHI,eAAiB,CAACN,EAAUC,KAChC,IAAIC,EAAU,GACd,MAAMK,EAAgBP,EAASR,MACzBgB,EAAgBP,EAAST,MAK/B,OAFAU,EAFc9H,OAAOyE,OAAO,GAAI0D,EAAeC,GAIxCN,GAwBM,SAASG,KAAKL,EAAUC,GACrC,OAAIH,OAAOE,GACF,CAAES,KDzDS,SCyDKR,YAErBH,OAAOG,GACF,CAAEQ,KDzDS,UCuCE,EAACT,EAAUC,IACL,iBAAbD,GAAyBA,IAAaC,GAAkC,iBAAbA,GAAyBD,IAAaC,GAAaD,EAAST,UAAYU,EAASV,QAmBvJmB,CAAgBV,EAAUC,GACrB,CAAEQ,KD9DU,UC8DKR,YAEtBA,EAASV,QACJ,CACLkB,KDjEgB,SCkEhBhB,SAAUM,kBAAkBC,EAAUC,GACtCT,MAAOc,eAAeN,EAAUC,SAJpC,EChEK,SAASU,cAAcC,GAC5B,IAAKA,EACH,OAGF,IACMrB,QAASsB,EAAO,MAAErB,EAAK,SAAEC,GAAamB,EAC5C,MAAME,EAAK,IAAID,EAAQrB,GAMvB,OAJAuB,WAJYhF,KAIM+E,EAAItB,GAClBsB,EAAGE,aACLvB,EAASwB,IAAIN,cAAczH,KAAK6C,OAAO6D,OAAOC,SAASqB,QAAQJ,EAAGE,YAAY9H,KAAK4H,IAE9EA,ECVT,MAAM,EAAS,CAKbK,OAAQ,SAASC,GACf,OAAOA,GAGTC,OAAOD,GACEA,EAAIA,EAGbE,QAAQF,GACCA,GAAK,EAAIA,GAGlBG,UAAUH,KACCA,GAAK,IAAM,EAAIA,EAAIA,IAAMA,GAAK,EAAIA,GAAK,GAAK,EAQvDI,QAAS,SAASJ,GAChB,OAAOA,EAAIA,EAAIA,GAMjBK,SAAU,SAASL,GACjB,QAASA,EAAIA,EAAIA,EAAI,GAMvBM,WAAY,SAASN,GACnB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,EAAIA,EAEhB,KAAQA,GAAK,GAAKA,EAAIA,EAAI,IAQnCO,UAAW,SAASP,GAClB,OAAOA,EAAIA,EAAIA,EAAIA,GAMrBQ,WAAY,SAASR,GACnB,OAAO,KAAMA,EAAIA,EAAIA,EAAIA,GAM3BS,aAAc,SAAST,GACrB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,EAAIA,EAAIA,GAEnB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAI,IAQxCU,UAAW,SAASV,GAClB,OAAOA,EAAIA,EAAIA,EAAIA,EAAIA,GAMzBW,WAAY,SAASX,GACnB,QAASA,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,GAM/BY,aAAc,SAASZ,GACrB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,EAAIA,EAAIA,EAAIA,EAExB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,IAQ3Ca,aAAc,SAASb,GACrB,OAAO,EAAIjB,KAAK+B,IAAKd,EAAIjB,KAAKgC,GAAM,IAMtCC,cAAe,SAAShB,GACtB,OAAOjB,KAAKkC,IAAKjB,EAAIjB,KAAKgC,GAAM,IAMlCG,gBAAiB,SAASlB,GACxB,MAAO,IAAO,EAAIjB,KAAK+B,IAAI/B,KAAKgC,GAAKf,KAQvCmB,cAAe,SAASnB,GACtB,OAAa,IAANA,EAAU,EAAIjB,KAAKqC,IAAI,KAAMpB,EAAI,IAM1CqB,eAAgB,SAASrB,GACvB,OAAa,IAANA,EAAU,EAAI,EAAIjB,KAAKqC,IAAI,GAAI,GAAKpB,IAM7CsB,iBAAkB,SAAStB,GACzB,OAAU,IAANA,EACK,EAEC,IAANA,EACK,GAEJA,GAAK,GAAK,EACN,GAAMjB,KAAKqC,IAAI,KAAMpB,EAAI,GAE3B,IAAqC,EAA7BjB,KAAKqC,IAAI,GAAI,IAAMpB,EAAI,MAQxCuB,WAAY,SAASvB,GACnB,OAAO,EAAIjB,KAAKyC,KAAK,EAAIxB,EAAIA,IAM/ByB,YAAa,SAASzB,GACpB,OAAOjB,KAAKyC,KAAK,KAAMxB,EAAIA,IAM7B0B,cAAe,SAAS1B,GACtB,OAAKA,GAAK,GAAK,GACL,IAAOjB,KAAKyC,KAAK,EAAIxB,EAAIA,GAAK,GAEjC,IAAOjB,KAAKyC,KAAK,GAAKxB,GAAK,GAAKA,GAAK,IAQ9C2B,UAAW,SAAS3B,GAClB,IAAI3H,EACAuJ,EAAI,GAER,OAAU,IAAN5B,EACK,EAEC,IAANA,EACK,IAEJ4B,GAAKA,EAAI,GACZA,EAAI,EACJvJ,EAAID,IAEJC,EAXM,GAWG0G,KAAK8C,KAAK,EAAID,IAAO,EAAI7C,KAAKgC,KAGvCa,EACA7C,KAAKqC,IAAI,EAAG,IAAMpB,GAAK,IACvBjB,KAAKkC,KAAMjB,EAAI3H,IAAM,EAAI0G,KAAKgC,IAhBxB,MAuBVe,WAAY,SAAS9B,GACnB,IAAI3H,EACAuJ,EAAI,GAER,OAAU,IAAN5B,EACK,EAEC,IAANA,EACK,IAEJ4B,GAAKA,EAAI,GACZA,EAAI,EACJvJ,EAAID,IAEJC,EAXM,GAWG0G,KAAK8C,KAAK,EAAID,IAAO,EAAI7C,KAAKgC,IAGvCa,EAAI7C,KAAKqC,IAAI,GAAI,GAAKpB,GAAKjB,KAAKkC,KAAMjB,EAAI3H,IAAM,EAAI0G,KAAKgC,IAdnD,IAc+D,IAOzEgB,aAAc,SAAS/B,GACrB,IAAI3H,EACAuJ,EAAI,GAER,OAAU,IAAN5B,EACK,EAEC,IAANA,EACK,IAEJ4B,GAAKA,EAAI,GACZA,EAAI,EACJvJ,EAAID,IAEJC,EAXM,GAWG0G,KAAK8C,KAAK,EAAID,IAAO,EAAI7C,KAAKgC,KAEpCf,GAAK,GAAK,EAGV4B,EACC7C,KAAKqC,IAAI,EAAG,IAAMpB,GAAK,IACvBjB,KAAKkC,KAAMjB,EAAI3H,IAAM,EAAI0G,KAAKgC,IAlB5B,KAeH,GAOHa,EACE7C,KAAKqC,IAAI,GAAI,IAAMpB,GAAK,IACxBjB,KAAKkC,KAAMjB,EAAI3H,IAAM,EAAI0G,KAAKgC,IAxB1B,IAyBJ,GACF,IASJiB,OAAQ,SAAShC,GACf,IAAI3H,EAAI,QACR,OAAO2H,EAAIA,IAAM3H,EAAI,GAAK2H,EAAI3H,IAMhC4J,QAAS,SAASjC,GAChB,IAAI3H,EAAI,QACR,QAAS2H,EAAIA,IAAM3H,EAAI,GAAK2H,EAAI3H,GAAK,GAMvC6J,UAAW,SAASlC,GAClB,IAAI3H,EAAI,UACR,OAAK2H,GAAK,GAAK,EACCA,EAAIA,IAAM3H,EAAI,GAAK2H,EAAI3H,GAA9B,GAEF,KAAQ2H,GAAK,GAAKA,IAAM3H,EAAI,GAAK2H,EAAI3H,GAAK,IAQnD8J,SAAU,SAASnC,GACjB,OAAO,EAAI,EAAOoC,UAAU,EAAIpC,IAMlCoC,UAAW,SAASpC,GAClB,OAAIA,EAAI,EAAI,KACH,OAASA,EAAIA,EACXA,EAAI,EAAI,KACV,QAAUA,GAAK,IAAM,MAAQA,EAAI,IAC/BA,EAAI,IAAM,KACZ,QAAUA,GAAK,KAAO,MAAQA,EAAI,MAElC,QAAUA,GAAK,MAAQ,MAAQA,EAAI,SAO9CqC,YAAa,SAASrC,GACpB,OAAIA,EAAI,GAC0B,GAAzB,EAAOmC,SAAa,EAAJnC,GAEY,GAA9B,EAAOoC,UAAc,EAAJpC,EAAQ,GAAW,KAIhC,Q,QC9Uf,MACMsC,OAAS,CAACV,EAAGW,IAAM/K,GAAKoK,GAAKW,EAAIX,GAAKpK,EACtCgL,MAAQ,CAACZ,EAAGW,KAChB,MAAME,EAAKF,EAAIA,EAAE3I,OAAS,EACpB8I,EAAKd,EAAI7C,KAAK4D,IAAIF,EAAIb,EAAEhI,QAAU,EAClCgJ,EAAI,IAAIxG,MAAMsG,GACd/L,EAAI,IAAIyF,MAAMqG,GACpB,IAAInM,EAEJ,IAAKA,EAAI,EAAGA,EAAIoM,IAAMpM,EACpBsM,EAAEtM,GAAKuM,YAAYjB,EAAEtL,GAAIiM,EAAEjM,IAG7B,KAAOA,EAAImM,IAAMnM,EACfK,EAAEL,GAAKiM,EAAEjM,GAGX,OAAOkB,IACL,IAAKlB,EAAI,EAAGA,EAAIoM,IAAMpM,EACpBK,EAAEL,GAAKsM,EAAEtM,GAAGkB,GAGd,OAAOb,IAGLqB,OAAS,CAAC4J,EAAGW,KACjB,IAEIvC,EAFA1J,EAAI,GACJK,EAAI,GAWR,IAAKqJ,KARA4B,GAAoB,YAAd,iBAAOA,KAChBA,EAAI,IAGDW,GAAoB,YAAd,iBAAOA,KAChBA,EAAI,IAGIA,EACJvC,KAAK4B,EACPtL,EAAE0J,GAAK6C,YAAYjB,EAAE5B,GAAIuC,EAAEvC,IAE3BrJ,EAAEqJ,GAAKuC,EAAEvC,GAIb,OAAOxI,IACL,IAAKwI,KAAK1J,EACRK,EAAEqJ,GAAK1J,EAAE0J,GAAGxI,GAGd,OAAOb,IAII,SAASkM,YAAYjB,EAAGW,GACrC,IAAIlD,SAAckD,EAClB,OAAa,OAANA,GAAuB,WAATlD,GAA8B,YAATA,GAzD3BuD,EAyDyDL,EAzDpD,IAAMK,IAyD6D,WAATvD,EAAoBiD,OAAuB,UAAd,iBAAOC,GAAiBC,MAAQxK,QAAQ4J,EAAGW,GAzDvIK,MCCjB,SAASE,MACP,MAA8B,oBAAhBC,YAA8BA,YAAYD,MAAQE,KAAKF,MAGvE,IAAIG,EAAwBhN,OAAOgN,sBAC/BC,EAAuBjN,OAAOiN,qBAClC,IAAKD,EAAuB,CAC1B,MAAME,EAAYL,MAClBG,EAAwBG,GACfxI,WAAW,KAChBwI,EAAGN,MAAQK,IACV,IAELD,EAAuBG,GACdxI,aAAawI,GCfxB,SAASC,MAAMzM,EAAO,UAYpB,OAXA8D,KAAK4I,OAAS,KACd5I,KAAK6I,KAAO,KACZ7I,KAAK8I,OAAS,EAEd9I,KAAK+I,WAAY,EACjB/I,KAAKgJ,UAAY,EACjBhJ,KAAKiJ,QAAU,EAAO/M,GAAQ,EAAOA,GAAQ,EAAOkJ,OAEpDpF,KAAKkJ,UAAY,OACjBlJ,KAAKmJ,SAAW,OAETnJ,KAGT2I,MAAMpL,UAAY,CAChB,KAAK6L,GAEH,OADApJ,KAAK4I,OAASQ,EACPpJ,MAGT,GAAGoJ,GAED,OADApJ,KAAK6I,KAAOO,EACLpJ,MAGT,SAASqJ,GACP,GAAoB,iBAATA,EACT,MAAM,IAAIC,MAAM,kCAGlB,OADAtJ,KAAKgJ,UAAYK,EACVrJ,MAGT,MAAMqJ,GAEJ,OADArJ,KAAK8I,OAASO,EACPrJ,MAGT,OAAOyI,GACL,GAAkB,mBAAPA,EACT,MAAM,IAAIa,MAAM,sCAGlB,OADAtJ,KAAKiJ,QAAUR,EACRzI,MAGT,QAAQyI,GACN,GAAkB,mBAAPA,EACT,MAAM,IAAIa,MAAM,qCAGlB,OADAtJ,KAAKmJ,SAAWV,EACTzI,MAGT,SAASyI,GACP,GAAkB,mBAAPA,EACT,MAAM,IAAIa,MAAM,sCAGlB,OADAtJ,KAAKkJ,UAAYT,EACVzI,MAGT,WAAWyI,GACT,GAAkB,mBAAPA,EACT,MAAM,IAAIa,MAAM,wCAGlB,OADAtJ,KAAKuJ,YAAcd,EACZzI,MAET,QAEE,MAAMJ,EAAII,KAAKiJ,QACTtN,EAAIuM,YAAYlI,KAAK4I,OAAQ5I,KAAK6I,MAClCW,EAAWxJ,KAAKkJ,UACtB,IAAIO,EAAa,EACbC,EAAc1J,KAAKgJ,UACnBW,EAAQ,KACRC,EAAY5J,KAAK8I,OACjBN,EAAY,EAEhB,OAAO,IAAIqB,QAAQC,IACjB,MAAMC,KAAO,KACXN,EAAatB,MAAQK,EACrB,MAAM3L,EAAI+C,EAAEwE,KAAK4D,IAAI,EAAKyB,EAAaC,IACnCD,GAAcC,GAChBF,EAAS7N,EAAE,IACXmO,EAAQ9J,MACRuI,EAAqBoB,KAErBH,EAAS7N,EAAEkB,IACX8M,EAAQrB,EAAsByB,QAI5BC,MAAQ,KACZxB,EAAYL,MACZnI,KAAKmJ,SAASnJ,KAAK4I,OAAQ5I,KAAK6I,MAChCc,EAAQrB,EAAsByB,ODhFxBV,MCmFRrJ,KAAKiK,OAAS,KACZ1B,EAAqBoB,IAGnBC,GAAaA,EAAY,GDvFrBP,ECwFAO,EDvFZ,IAAIC,QAAQC,GACV7J,WAAW,KACT6J,KACCT,KCoFkBa,KAAKF,OAEtBA,YAMO,Y,iBChHR,SAAShF,WAAWmF,EAAOpF,EAAIqF,GAC/BrF,GAGA1I,OAAOwG,KAAKuH,GAAQnL,SCqDpB,SAAgBkL,EAAOpF,EAAItB,GAChC,MAAM4G,EAAM5G,EAAM4G,IAElB,UADO5G,EAAM4G,IACTA,GAAOtF,EACT,IACEoF,EAAMG,OAAOD,EAAKtF,GAClB,MAAOnF,GACP2K,QAAQC,MAAM5K,IDzDlB0K,CAAOH,EAAOpF,EAAIqF,GCyFb,SAAkBD,EAAOpF,EAAItB,EAAQ,IAE1CpH,OAAOwG,KAAKY,GAAO0B,QAAQjI,IACzB,IAAK,MAAMmC,KAAKnC,GACd,OAEF,MAAMwH,EAAOxH,EAAIuN,MAAM,MAAM,GAAGhL,cAC1BiL,EAAKjH,EAAMvG,IAAQ,SAEzB6H,EAAG4F,mBAAmBjG,GACtBK,EAAG6F,iBAAiBlG,EAFTmG,GAAOH,EAAG5O,KAAKqO,EAAOU,EAAK9F,WAG/BtB,EAAMvG,KDnGf4N,CAASX,EAAOpF,EAAIqF,GCiEf,SAAkBD,EAAOpF,EAAItB,EAAQ,IAC1C,IAAIsH,EAAStH,EAAc,OACvBuH,EAAQvH,EAAa,MACzB,GAAIsH,GAAUC,EAAO,CACnB,IAAIC,EAAWlG,EAAGmG,KAAK,SACvB,GAAIF,IAAUC,EAAU,CAEtB,IAAIE,EAAYpG,EAAGmG,KAAK,WAAa,wBACjCE,EAAW,0BAAgB,wBAAe3H,EAAO0H,EAAUF,IAC3DI,EAAW,0BAAgB,wBAAe5H,EAAOsH,EAAOC,IAC5DjG,EAAGmG,KAAKE,GACR,IAAI,SAAEE,GAAa,0BAAgB,wBAAenB,EAAMoB,YAAYC,UAAWT,EAAOS,WACtFzG,EAAG0G,WAAWH,EAAW,KAAMJ,KAAKG,SAGtCtG,EAAGmG,KAAKzH,GD/EViI,CAASvB,EAAOpF,EAAIqF,GCJf,SAAoBD,EAAOpF,EAAItB,GACpC,IAAKsB,IAAOtB,EAAM+H,UAChB,OAEF,MAAMA,EAAY,0BAAgBrB,EAAMoB,YAAYC,UAAW/H,EAAM+H,YAE/D,KAAE/I,EAAI,OAAEkJ,EAAM,IAAEC,EAAG,GAAEC,EAAE,MAAEC,EAAK,SAAER,EAAQ,SAAES,EAAQ,OAAEC,EAAM,UAAEC,EAAYhQ,IAAKA,IAAMuP,EAEzF,IAAK/I,IAASoJ,IAAOD,EACnB,OAEEnJ,GAEFsC,EAAGmG,KAAKzI,GAEV,IAAIyJ,EAAM,IAAYV,EAAW,KAAM,CAAC,OAAQ,KAAM,YAAa,QAE9C,MACnB,GAAKO,EAeH,IAAI,EAAMC,GACPvJ,KAAKA,GACLoJ,GAAGA,GACHC,MAAMA,GACNR,SAASA,GACTa,SAASjB,IACRnG,EAAGmG,KAAKe,EAAUf,MAEnBlB,YAvBU,CACb,IAAInH,EAAO,KAETA,EADE8I,EACK,CAAClJ,EAAMkJ,EAAQE,GAEf,CAACpJ,EAAMoJ,GAEhB9G,EAAGqH,QAAQvJ,EAAM,CACfwJ,KAAM,UACHH,IACFI,SAASpC,KAAK,YACR2B,EAAGU,OACVxH,EAAGmG,KAAKW,OAcdW,GDtCAC,CAAWtC,EAAOpF,EAAIqF,IAQT,SAASsC,MAAMC,EAAKvC,EAAQwC,EAAS,GAElD,IAAIzC,EAAQnK,KACZ,GAAK2M,GAAQvC,EAGb,OAAQA,EAAO1F,MACb,IP9BkB,SO8BL,CACX,MAAM,SAAER,GAAakG,EACfyC,EAAQjI,cAAczH,KAAKgN,EAAnBvF,CAA0BV,GACpC2I,IACED,IAEFzC,EAAMwC,IAAME,GAEdF,EAAI1H,YAAY4H,IAElB,MAEF,IPzCmB,UOyCL,CACZ,MAAM,SAAE3I,GAAakG,EACfyC,EAAQjI,cAAczH,KAAKgN,EAAnBvF,CAA0BV,GACxCyI,EAAIG,OAAOC,aAAaF,EAAOF,GAC/B,MAEF,IP7CkB,SO8ChBA,EAAIK,SACJ,MAEF,IPlDkB,SOkDL,CACX,MAAM,MAAEvJ,EAAK,SAAEC,GAAa0G,EAG5B,GADApF,WAAWmF,EAAOwC,EAAKlJ,GACnBkJ,EAAIjJ,UAAYA,EAASzE,OAAQ,CACnC0N,EAAIjJ,SAASyB,QAAQ,CAAC8H,EAAOC,KAC3BD,EAAME,KAAOD,IAEfxJ,EAASyB,QAAQ,CAAC8H,EAAOC,KACvBD,EAAME,KAAOD,IAEf,IAAIlO,EAAM0E,EAASzE,OAAS0N,EAAIjJ,SAASzE,OAASyE,EAASzE,OAAS0N,EAAIjJ,SAASzE,OACjF,IAAK,IAAIE,EAAI,EAAGA,EAAIH,EAAKG,IAAK,CAC5B,IAAIiO,EAAUT,EAAIjJ,SAASG,OAAOoJ,GAASA,EAAME,OAAShO,GAAG,GACzDkO,EAAW3J,EAASG,OAAOoJ,GAASA,EAAME,OAAShO,GAAG,GACtDkO,GAA8B,WAAlBA,EAAS3I,KAEvBgI,MAAMvP,KAAKgN,EAAXuC,CAAkBC,EAAKU,GAEvBX,MAAMvP,KAAKgN,EAAXuC,CAAkBU,EAASC,IAIjC,QE3ES,OACbxN,QAAS,UACTyN,KAAM,OACNC,MAAO,QACPC,OAAQ,SACRC,SAAU,WACVC,MAAO,SCNT,SAASC,WAAWlN,GAClB,GAAIA,EAAOmN,QAAS,CAClBnN,EAAOmN,QAAQC,OAAS,GACxB,IAAIA,EAASpN,EAAOmN,QAAQC,OAC5BpN,EAAOqN,GAAK,SAASpJ,EAAMgG,GAEzB,OADAmD,EAAO3O,KAAK,CAAEwF,OAAMgG,OACbjK,GAETA,EAAOsN,IAAM,SAASrJ,EAAMgG,GAC1B,IAAK,IAAI/O,EAAI,EAAGA,EAAIkS,EAAO5O,OAAQtD,IACjC,QAAWoG,IAAP2I,EACFmD,EAAS,OACJ,CACL,IAAIG,EAAWH,EAAOlS,GAClBqS,EAAStJ,OAASA,GAAQsJ,EAAStD,KAAOA,IAC5CmD,EAAOI,OAAOtS,EAAG,GACjBA,KAIN,OAAO8E,GAETA,EAAOyN,KAAO,SAASxJ,EAAMgG,GAK3B,OAAOjK,EAAOqN,GAAGpJ,GAJA,YAAYyJ,GAC3B1F,GAAG1I,MAAMU,EAAQ0N,GACjBzO,KAAKqO,IAAIrJ,EAAMgG,OAInBjK,EAAO2N,cAAgB,SAAS1J,EAAM2J,GAMpC,OALAR,EAAO1I,QAAQmJ,IACTA,EAAK5J,OAASA,GAChB4J,EAAK5D,GAAG5O,KAAK2E,EAAQ,CAAEiE,OAAM2J,aAG1B5N,ICqCE,MAtEf,cAAmBpE,OACjB,YAAYkS,EAAMF,EAAQG,GACxBC,QACAzO,KAAK4N,QAAUvR,OAAOY,OAAO,MAC7B+C,KAAK4N,QAAQ5C,MAAQ,EAAe,QACpChL,KAAK4N,QAAQc,SAAM3M,EACnB/B,KAAK4N,QAAQe,SAAM5M,EACnB/B,KAAK4N,QAAQS,OAASA,EACtBrO,KAAK4N,QAAQW,KAAOA,EACpBvO,KAAK4N,QAAQgB,SAAW,CAACJ,GACzBxO,KAAK6O,iBAAmBL,EAAQM,gBAChCnB,WAAW3N,MAEb,eACE,OAAOA,KAAK4N,QAAQgB,SAEtB,WACE,OAAa5O,KAAK4N,QAAQW,KAE5B,YACE,OAAOvO,KAAK4N,QAAQW,KAAKvO,KAAK4N,QAAQS,OAAc,OAEtD,uBACE,MAAwC,mBAA1BrO,KAAK6O,iBACf7O,KAAK6O,iBAAiB7O,KAAK4N,QAAQW,KAAKvO,KAAK4N,QAAQS,OAAc,QACnErO,KAAK4N,QAAQW,KAAKvO,KAAK4N,QAAQS,OAAc,OAEnD,WACE,OAAOrO,KAAK4N,QAAQW,KAAKvO,KAAK4N,QAAQS,OAAa,MAErD,QAAQU,QACmBhN,IAArB/B,KAAK4N,QAAQc,MACf1O,KAAK4N,QAAQc,IAAMK,GAGvB,UACE,OAAO/O,KAAK4N,QAAQc,IAEtB,QAAQK,QACmBhN,IAArB/B,KAAK4N,QAAQe,MACf3O,KAAK4N,QAAQe,IAAMI,GAGvB,UACE,OAAO/O,KAAK4N,QAAQe,IAEtB,aACE,OAAO3O,KAAK4N,QAAQS,OAEtB,YACE,OAAOrO,KAAK4N,QAAQ5C,MAEtB,UAAU9O,GACJ,EAAMA,IAAS8D,KAAK4N,QAAQ5C,QAAU,EAAM9O,KAC9C8D,KAAK4N,QAAQ5C,MAAQ,EAAM9O,GAC3B8D,KAAKoO,cAAc,SAAU,CAC3BlS,KAAM,OACNU,MAAO,EAAMV,GACbqS,KAAMvO,OAERA,KAAK4O,SAASzJ,QAASqJ,IACrBA,EAAQJ,cAAc,SAAU,CAC9BlS,KAAM,OACNU,MAAO,EAAMV,GACbqS,KAAMvO,YChEhB,MAAM,iBAAayB,MACjB,YAAYvF,EAAMmS,GAChBI,QACAzO,KAAK4N,QAAUvR,OAAOY,OAAO,MAC7B+C,KAAK4N,QAAQoB,OAAS9S,EACtB8D,KAAK4N,QAAQqB,SAAWZ,EACxBrO,KAAK4N,QAAQY,QAAU,KACvBb,WAAW3N,MAEb,WACE,IAAI9B,EAAM,GAIV,OAHA8B,KAAKmF,QAAQ+J,IACXhR,EAAIgB,KAAKgQ,EAAKX,QAETrQ,EAET,YAAYA,GACV8B,KAAK4N,QAAQY,QAAUtQ,EAEzB,cACE,OAAO8B,KAAK4N,QAAQY,QAEtB,WACE,OAAOxO,KAAK4N,QAAQoB,OAEtB,aACE,OAAOhP,KAAK4N,QAAQqB,SAEtB,YAEE,IAAIE,EAAMnP,KAAK,GAAGgL,MAClB,IAAK,IAAIrP,EAAI,EAAGA,EAAIqE,KAAKf,OAAQtD,IAC/B,GAAIqE,KAAKrE,GAAGqP,QAAUmE,EAAK,CACzBA,EAAM,QACN,MAGJ,OAAOA,EAET,UAAUjT,GACR,GAAI,EAAMA,IAAS8D,KAAKgL,QAAU,EAAM9O,GAAO,CAE7C8D,KAAKmF,QAAQ+J,IAEQ,aAAfA,EAAKlE,OAAiC,YAAT9O,IAGjCgT,EAAKlE,MAAQ,EAAM9O,MAErB,IAAIkT,EAAiB,KACjBpP,gBAAgBqP,IAClBD,EAAiB,CAAElT,KAAM,MAAOU,MAAO,EAAMV,GAAOqS,KAAMvO,MACjDA,gBAAgBsP,MACzBF,EAAiB,CAAElT,KAAM,MAAOU,MAAO,EAAMV,GAAOqS,KAAMvO,OAE5DA,KAAKoO,cAAc,SAAUgB,GAC7BpP,KAAKwO,SAAWxO,KAAKwO,QAAQJ,cAAc,SAAUgB,KAI3D,MAAMC,YAAY,UAClB,MAAMC,YAAY,UC5DlB,MAAM,wBAAgB7N,MACpB,YAAY8M,EAAMF,GAChBI,QACAzO,KAAK8O,gBAAkB9O,KAAKuP,kBAAkBlB,EAAOmB,aACrDjB,EAAKpJ,QAAQ,CAACmJ,EAAM3S,KAClB,IAAIuT,EAAOZ,EACLA,aAAgB,EAGpBY,EAAKN,SAAS1P,KAAKc,MAFnBkP,EAAO,IAAI,EAAKZ,EAAMD,EAAQrO,MAIhCA,KAAKrE,GAAKuT,IAEZlP,KAAK4N,QAAUvR,OAAOY,OAAO,MAC7B,IAAIwS,EAAQzP,KAAK4N,QACjB6B,EAAMR,SAAWZ,EACjBoB,EAAMC,OAAS,GACfD,EAAME,OAAS,GACfF,EAAME,OAiHV,SAAoBpB,EAAO,GAAIF,GAC7B,IAAMK,IAAKxR,EAAG,KAAE0S,GAASvB,EACrBwB,EAAS,GACb,GAAY,MAAR3S,EAAa,CACf,IAAI4S,EAAO,IAAIT,IAAI,IAAKhB,GACxBE,EAAKpJ,QAAQmJ,IACXwB,EAAK5Q,KAAKoP,KAERsB,GACFE,EAAKF,KAAK,CAAC3I,EAAGW,IAAMgI,EAAK3I,EAAEsH,KAAM3G,EAAE2G,OAErCsB,EAAO3Q,KAAK4Q,OACP,CACL,IAAIjN,EAAOxG,OAAOY,OAAO,MACzBsR,EAAKpJ,QAAQmJ,IACX,IAAIC,EAAOD,EAAKV,QAAQW,KACnB1L,EAAK0L,EAAKrR,MACb2F,EAAK0L,EAAKrR,IAAQ,IAAImS,IAAId,EAAKrR,GAAMmR,IAEvCxL,EAAK0L,EAAKrR,IAAMgC,KAAKoP,KAEvB,IAAK,IAAIpR,KAAO2F,EAAM,CACpB,IAAIkN,EAASlN,EAAK3F,GACd0S,GACFG,EAAOH,KAAK,CAAC3I,EAAGW,IAAMgI,EAAK3I,EAAEsH,KAAM3G,EAAE2G,OAEvCsB,EAAO3Q,KAAK6Q,IAUhB,OAPAF,EAAO1K,QAAQ,CAAC2K,EAAM/T,KACpB+T,EAAKtB,QAAUD,EACfuB,EAAK3K,QAAQ,CAAC+J,EAAM9R,KAClB8R,EAAKR,IAAM3S,EACXmT,EAAKP,IAAMvR,MAGRyS,EArJUG,CAAWhQ,KAAMqO,GAChCV,WAAW3N,MAEb,aACE,OAAOA,KAAK4N,QAAQqB,SAEtB,WACE,IAAIgB,EAAO,GACPC,EAAS,EACblQ,KAAK4N,QAAQ+B,OAAOxK,QAAQuJ,IACtBA,EAAIzP,OAASiR,IACfA,EAASxB,EAAIzP,UAGjB,IAAK,IAAItD,EAAI,EAAGA,EAAIuU,EAAQvU,IAAK,CAC/B,IAAIuC,EAAM,IAAIoR,IACdpR,EAAIsQ,QAAUxO,KACdA,KAAK4N,QAAQ+B,OAAOxK,QAAQmJ,IAC1BpQ,EAAIgB,KAAKoP,EAAK3S,MAEhBsU,EAAK/Q,KAAKhB,GAEZ,OAAO+R,EAET,WACE,OAAOjQ,KAAK4N,QAAQ+B,OAEtB,WAAW3E,EAAQ,WACjB,IAAIlM,EAAM,GACVkB,KAAKmF,QAAQ+J,IAEPA,EAAKlE,QAAUA,GAAwB,aAAfkE,EAAKlE,QAC/BlM,EAAII,KAAKgQ,GACTA,EAAKlE,MAAQA,KAGjBhL,KAAKoO,cAAc,SAAU,CAAElS,KAAM,QAASqS,KAAMzP,IAEtD,WAAW5C,GACT,IAAIiU,EAASnQ,KAAKqO,OAAOK,IACrBxQ,EAAM,GAMV,OALA8B,KAAKmF,QAAQmJ,KAC8B,IAArCpS,EAAKkD,QAAQkP,EAAKC,KAAK4B,KACzBjS,EAAIgB,KAAKoP,KAGN,IAAI,gBAAQpQ,EAAK8B,KAAKqO,QAE/B,OAAO+B,GACLpQ,KAAK4N,QAAQ8B,OAAOxQ,KAAKkR,GAE3B,kBAAkBZ,GAChB,GAA2B,iBAAhBA,EAA0B,CACnC,IAAIa,EAASb,EAAYc,QAAQ,OAAQ,IACrCC,EAAM,EACV,GAAe,SAAXF,GAAgC,QAAXA,GAA+B,QAAXA,EAE3C,OADA9F,QAAQiG,KAAK,0BACN,SAAU5T,GACf,OAAOA,GAIX,IAAI+K,EAAS6H,EAAYc,QAAQ,UAAW,IAC5C,GAAI3I,EAAQ,CAEV,IADe,aAAatI,KAAKsI,GAG/B,OADA4C,QAAQiG,KAAK,0BACN,SAAU5T,GACf,OAAOA,GAGT2T,EAAMnQ,OAAOuH,GAIjB,OAAQ0I,GACN,IAAK,OAIH,OAHArQ,KAAKyQ,eAAiB,SAAU7T,GAC9B,OAAOwH,KAAKqC,IAAI7J,EAAO2T,IAElB,SAAU3T,GACf,OAAOwH,KAAKqC,IAAI7J,EAAO,EAAI2T,IAE/B,IAAK,MAIH,OAHAvQ,KAAKyQ,eAAiB,SAAU7T,GAC9B,OAAOwH,KAAKqC,IAAI7J,EAAO,EAAI2T,IAEtB,SAAU3T,GACf,OAAOwH,KAAKqC,IAAI7J,EAAO2T,IAE3B,IAAK,MACH,OAAY,IAARA,GAAqB,KAARA,GACfhG,QAAQiG,KAAK,0BACN,SAAU5T,GACf,OAAOA,KAGXoD,KAAKyQ,eAAiB,SAAU7T,GAC9B,OAAOwH,KAAKqC,IAAI8J,EAAK3T,IAEhB,SAAUA,GACf,OAAOwH,KAAK,MAAQmM,GAAK3T,KAE7B,QAEE,OADA2N,QAAQiG,KAAK,0BACN,SAAU5T,GACf,OAAOA,IAIf,OAAO4S,GA0CI,IC5KA,ED4KA,gB,yJE7KTkB,EACU,eADVA,EAEK,UAFLA,EAGU,eAHVA,EAIM,WAJNA,EAKU,eALVA,EAMK,UCNX,SAASC,mBAAmBxC,GAE1B,IAAIrP,EAAMqP,EAAK,GACf,GAAIA,EAAKlP,OAAS,EAChB,IAAK,IAAItD,EAAI,EAAGA,EAAIwS,EAAKlP,OAAQtD,IAC/BiV,YAAY9R,EAAKqP,EAAKxS,IAG1B,OAAOmD,EACP,SAAS8R,YAAYC,EAAUC,GAC7B,IAAK,IAAI5T,KAAO4T,EACVD,EAAS3T,IAAkC,WAA1B6T,OAAOF,EAAS3T,KAAiD,WAA3B6T,OAAOD,EAAU5T,IAE1EyT,gBAAgBE,EAAS3T,GAAM4T,EAAU5T,IAChC2T,EAAS3T,IAAkC,UAA1B6T,OAAOF,EAAS3T,KAAgD,UAA3B6T,OAAOD,EAAU5T,IAEhF2T,EAAS3T,GAAK+Q,OAAO,EAAG4C,EAAS3T,GAAK+B,UAAW6R,EAAU5T,IAE3D2T,EAAS3T,GAAO4T,EAAU5T,GAG9B,OAAO2T,GAIX,SAASG,cAEP,OAAO3U,OAAOY,OAAO,MAGvB,SAAS8T,OAAOnU,GAEd,MAAM0C,SAAa1C,EACnB,MAAY,WAAR0C,EACe,OAAV1C,EAAiB,KAAOP,OAAOkB,UAAUgC,SAASzD,KAAKc,GAAO4C,MAAM,GAAI,GAAGC,cAE7EH,EAGT,SAAS2R,SAASxI,EAAIyI,EAAW,GAAIC,GAAc,GAEjD,IAAIxH,EAAQ,KACRyH,EAAYD,EAChB,OAAO,YAAahD,GAClB,GAAIiD,EAGF,OADA3I,EAAG1I,MAAMC,KAAMmO,GACPiD,GAAY,EAElBzH,IAIJA,EAAQ1J,WAAW,KACjBC,aAAayJ,GACbA,EAAQ,KACRlB,EAAG1I,MAAMC,KAAMmO,IACd+C,KAuBP,SAASG,cAActC,EAAKuC,GAC1B,MAAoB,WAAhBP,OAAOhC,IAAqBA,EAAI5O,MAAM,MAChCC,OAAO2O,EAAI1O,UAAU,EAAG0O,EAAI3P,QAAQ,OAAS,IAAOkS,EAEvDvC,EClFT,I,ICgOewC,E,YA5Nb,cAAY9N,GAAO,MHIN+N,EGJM,gBACjB,kCACKpD,cAAcsC,IHERc,EGDL,QHEE1D,GAAK0D,EAAU5G,iBACzB4G,EAAUzD,IAAMyD,EAAUC,oBAC1BD,EAAUtD,KAAO,SAASxJ,EAAM+D,GAAI,WAKlC,OAAOzI,KAAK8N,GAAGpJ,GAJE,SAAXgN,WAAwB,2BAATvD,EAAS,yBAATA,EAAS,gBAC5B1F,EAAG1I,MAAM,EAAMoO,GACf,EAAKJ,IAAIrJ,EAAMgN,cGNjB,UAAkBV,cAClB,IAAIvB,EAAQ,UALK,OAMjBA,EAAMkC,QAAUX,cAChBvB,EAAMmC,UAAY,KAClBnC,EAAMoC,eAAgB,EACtBpC,EAAMqC,OAASd,cACfvB,EAAMjB,QAAU,KAChB,EAAKtD,KAAKzH,GACV,EAAKsO,SAAWd,UAAS,SAAA9C,GACnBsB,EAAMoC,eACR,EAAKG,OAAO7D,MAdC,E,0DAkEZI,EAAM0D,GAAS,WAChBxC,EAAQzP,KAAA,QACZ,GAAMuO,aAAgB2D,EAOpBzC,EAAMjB,QAAUD,MAPc,CAC9B,IAAI4D,EAAOF,EACPxC,EAAMjB,UACR2D,EAAOxB,gBAAgB,GAAIlB,EAAMjB,QAAQH,OAAQ4D,IAEnDxC,EAAMjB,QAAU,IAAI0D,EAAQ3D,EAAM4D,GAWpC,OAPI1C,EAAMjB,SAAWiB,EAAMoC,gBACzBpC,EAAMjB,QAAQV,GAAG,UAAU,SAACsE,GAC1B,EAAKL,SAAS,CAAErN,KAAM,aAGxB1E,KAAK+R,SAAS,CAAErN,KAAM,YAEjB1E,O,gCAEC,WAEJyP,EAAQzP,KAAA,QACZA,KAAKoO,cAAcsC,GACnBjB,EAAMmC,UAAY5R,KAAKqS,OAAOrS,KAAKsS,aAAa,CAAE5N,KAAM,YACxD,IAAMP,EAAUG,KAAK,KAAMmL,EAAMmC,WACjC5R,KAAKoO,cAAcsC,GACnBhE,MAAMvP,KAAK6C,KAAX0M,CAAiB1M,KAAK2M,KAAO3M,KAAKuS,MAAOpO,EAAS,GAClDnE,KAAKoO,cAAcsC,GACnB1Q,KAAKwS,WACL/C,EAAMoC,eAAgB,EACtB7R,KAAKwO,QAAQV,GAAG,UAAU,SAAAsE,GACxB,EAAKL,SAAS,CAAErN,KAAM,e,qCAKxB,OAAO1E,KAAKuL,c,+BAGZhB,QAAQiG,KAAK,oC,qCAGb,OAAOxQ,KAAKuL,c,6BAEPkH,GAEL,IAAIhD,EAAQzP,KAAA,QACZA,KAAKoO,cAAcsC,GACnB,IAAI7L,EAAQ7E,KAAKqS,OAAOrS,KAAK0S,aAAaD,IACpCtO,EAAUG,KAAKmL,EAAMmC,UAAW/M,GACtC6H,MAAMvP,KAAK6C,KAAX0M,CAAiB1M,KAAK2M,KAAO3M,KAAKuS,MAAOpO,GACzCsL,EAAMmC,UAAY/M,EAClB7E,KAAKoO,cAAcsC,GACnB1Q,KAAK2S,Y,uEAGOC,GAA4B,IAArBrU,EAAqB,uDAAfyS,cACzB,wDAAoB4B,EAAOrU,K,qCAG3B,OAAOyS,gB,sCAGP,OAAOA,gB,kCAyBP,MAtBY,CAEVxF,UAAW,CACTI,KAAK,EACLN,SAAU,IACVS,UAAU,EACVC,OAAQ,aAGV6G,WAAY,CACVC,KAAM,MACNC,IAAK,MACLC,MAAO,MACPC,OAAQ,MACRC,WAAOnR,EACPoR,YAAQpR,GAGVqR,QAAS,EACTb,MAAO,UACPc,SAAU,U,2BAITnX,EAAMkN,GAET,IAAIqG,EAAQzP,KAAA,QACZ,GAAqB,WAAjB+Q,OAAO7U,GACT,IAAK,IAAIgB,KAAOhB,EACd8D,KAAKkL,KAAKhO,EAAKhB,EAAKgB,QAEjB,SAAa6E,IAAT7F,EAAoB,CAC7B,IAAI4C,EAAMkS,cACV,IAAK,IAAI9T,KAAOuS,EAAMkC,QAEU,IAA1BzU,EAAIkC,QAAQ,YACdN,EAAI5B,GAAOuS,EAAMkC,QAAQzU,IAG7B,OAAO4B,EACF,QAAYiD,IAARqH,EAET,OAAOqG,EAAMkC,QAAQzV,QACH6F,IAAT7F,IACTuT,EAAMkC,QAAQzV,GAAQkN,EACtBqG,EAAMoC,eAAiB7R,KAAK+R,SAAS,CAAErN,KAAM,a,6BAG1C2F,EAAKtF,GACV/E,KAAA,QAAgB8R,OAAOzH,GAAOtF,I,4BAG1BL,EAAM4O,GAAO,WAEjB,GAAqB,WAAjBvC,OAAOrM,GAET,IAAK,IAAIxH,KAAOwH,EACd1E,KAAKsT,MAAMpW,EAAKwH,EAAKxH,QAElB,SAAa6E,IAAT2C,QAAgC3C,IAAVuR,EAAqB,CAEpD,IAAMA,EAAQtT,KAAKkL,KAAK,SAAWxG,GACnC,OAAO,WACL,GAAsB,aAAlBqM,OAAOuC,GAAuB,4BADzBnF,EACyB,yBADzBA,EACyB,gBAChC,OAAOmF,EAAMvT,MAAM,EAAMoO,GAEzB,OAAOmF,GAGN,QAAavR,IAAT2C,QAAgC3C,IAAVuR,EAG/B,OADAtT,KAAKkL,KAAK,SAAWxG,EAAM4O,GACpBtT,KACF,QAAa+B,IAAT2C,QAAgC3C,IAAVuR,EAAqB,CAEpD,IAAIxU,EAAMkS,cACNvN,EAAQzD,KAAA,QAAgB2R,QAC5B,IAAK,IAAIzU,KAAOuG,EACd,GAA8B,IAA1BvG,EAAIkC,QAAQ,UAAiB,CAC/B,IAAImU,EAAWrW,EAAIsW,OAAO,GAC1B1U,EAAIyU,GAAYvT,KAAKsT,MAAMC,GAG/B,OAAOzU,M,4BArMT,OAAOkB,KAAA,U,4BAEG,MAC6B2Q,gBAAgB,GAAI3Q,KAAKyT,YAAazT,KAAK0T,eAAgB1T,KAAK2T,MAAMlQ,MAAOzD,KAAKkL,QAA5G0I,EADH,EACJrB,MADI,IACcsB,cADd,MACuB,EADvB,EAEV,OAAO7T,KAAK8T,MAAMvB,MAAMqB,GAAW1I,KAAK,CAAE2I,a,4BAG1C,OAAO7T,KAAA,QAAgB8R,S,mCAIvB,OADanB,gBAAgB,GAAI3Q,KAAK+T,gBAAiB/T,KAAK2T,MAAMK,U,kCAKlE,IAAIvQ,EAAQkN,gBAAgB,GAAI3Q,KAAKyT,YAAazT,KAAK0T,eAAgB1T,KAAK2T,MAAMlQ,MAAOzD,KAAKkL,QACxFM,EAA0B/H,EAA1B+H,UAAWqH,EAAepP,EAAfoP,WAES,YAAtB9B,OAAOvF,KACTA,EAAY,CAAEI,MAAKJ,IANL,MASQxL,KAAKuS,MAAM0B,OAAOC,wBAApChB,EATU,EASVA,MAAOC,EATG,EASHA,OAEb,IAAK,IAAIjW,KAAO2V,GACmC,IAA7C,CAAC,OAAQ,QAAS,SAASzT,QAAQlC,GACrC2V,EAAW3V,GAAOmU,cAAcwB,EAAW3V,GAAMgW,IACM,IAA9C,CAAC,MAAO,SAAU,UAAU9T,QAAQlC,KAC7C2V,EAAW3V,GAAOmU,cAAcwB,EAAW3V,GAAMiW,IAcrD,YAXyBpR,IAArB8Q,EAAWK,MACbL,EAAWK,MAAQA,EAAQL,EAAWC,KAAOD,EAAWG,MAExDH,EAAWG,MAAQE,EAAQL,EAAWC,KAAOD,EAAWK,WAEhCnR,IAAtB8Q,EAAWM,OACbN,EAAWM,OAASA,EAASN,EAAWE,IAAMF,EAAWI,OAEzDJ,EAAWI,OAASE,EAASN,EAAWE,IAAMF,EAAWM,OAE3D1P,EAAM0Q,OAASnU,KAAK2T,MAAMQ,OACnB1Q,I,8BAGP,OAAOzD,KAAA,QAAgBwO,SAAYxO,KAAKoU,OAASpU,KAAKoU,MAAM5F,Y,MAjE7C6F,QDJbF,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACxNxY,EAAI,EAAGA,EAAI,KAAMA,IAExBwY,EAAOjV,KAAK,KAAO,SAA4B,SAAhBkF,KAAKkQ,UAAyB,GAAG/U,SAAS,KAAKiU,QAAQ,IAExF,IAAMG,EAAQ,CACZQ,UAEFR,EAAMY,QAAU,CACdC,KAAM,CACJL,OAAQR,EAAMQ,OACdH,OAAQ,CACNS,KAAM,CAAEC,UAAW,GACnBC,UAAW,CAAEC,YAAa,QAC1BC,MAAO,CACLC,UAAW,UACXC,QAAS,EACTC,QAAS,EACTJ,YAAa,OACbK,YAAa,IAGjBxR,MAAO,CACLyR,QAAQ,IAGZC,IAAK,CACHhB,OAAQR,EAAMQ,OACdH,OAAQ,CACNoB,OAAQ,CAAEV,UAAW,EAAGE,YAAa,SAEvCnR,MAAO,IAET4R,KAAM,CACJlB,OAAQR,EAAMQ,OACdH,OAAQ,CACNsB,KAAM,CAAElC,QAAS,IACjBuB,UAAW,CAAEC,YAAa,QAC1BC,MAAO,CACLC,UAAW,UACXC,QAAS,EACTC,QAAS,EACTJ,YAAa,OACbK,YAAa,IAGjBxR,MAAO,IAET8R,MAAO,CACLpB,OAAQR,EAAMQ,OACdH,OAAQ,CACNsB,KAAM,CAAElC,QAAS,KAEnB3P,MAAO,IAET+R,IAAK,CACHrB,OAAQR,EAAMQ,OACdH,OAAQ,CACNyB,IAAK,CAAEC,eAAe,GACtBC,SAAU,CAAEvC,QAAS,IACrBwC,KAAM,CAAEC,SAAU,GAAIC,UAAW,SAEnCrS,MAAO,CACLyR,QAAQ,IAGZa,SAAU,CACR5B,OAAQR,EAAMQ,OACdH,OAAQ,CACNyB,IAAK,IAEPhS,MAAO,CACLyR,QAAQ,IAGZc,OAAQ,CACN7B,OAAQR,EAAMQ,OACdH,OAAQ,CACNiC,OAAQ,IAEVxS,MAAO,CACLyR,QAAQ,IAGZgB,QAAS,CACP/B,OAAQR,EAAMQ,OACdH,OAAQ,CACNa,MAAO,IAETpR,MAAO,CACL0S,eAAe,IAGnBC,KAAM,CACJjC,OAAQR,EAAMQ,OACdH,OAAQ,CACNqC,KAAM,CAAEP,UAAW,OAAQlB,YAAa,OAAQF,UAAW,GAC3DkB,KAAM,CAAEE,UAAW,OAAQD,SAAU,IACrCS,MAAO,CAAER,UAAW,UAAWpB,UAAW,EAAGE,YAAa,YAE5DnR,MAAO,IAET8S,MAAO,CACLpC,OAAQR,EAAMQ,OACd1Q,MAAO,IAET+S,UAAW,CACTrC,OAAQR,EAAMQ,OACd1Q,MAAO,KAGXkQ,EAAM8C,QAAU,CACdC,QAAS,CACPvC,OAAQR,EAAMQ,OACdH,OAAQ,GACRvQ,MAAO,IAETkT,OAAQ,CACNxC,OAAQR,EAAMQ,OACdH,OAAQ,CACNa,MAAO,CACLC,UAAW,SACX8B,SAAU,CAAC,GAAI,KAEjBhB,KAAM,CACJC,SAAU,OACVC,UAAW,SAGfrS,MAAO,IAEToT,KAAM,CACJ1C,OAAQR,EAAMQ,OACdH,OAAQ,CACN8C,KAAM,CACJlC,YAAa,OACbF,UAAW,GAEbqC,MAAO,CACLC,QAAS,QAEXC,MAAO,CACLpB,SAAU,GACVC,UAAW,QAEboB,KAAM,CACJtC,YAAa,OACbuC,SAAU,CAAC,EAAG,IAEhBjb,KAAM,CACJ2Z,SAAU,GACVC,UAAW,SAGfrS,MAAO,CACL2T,OAAQ,YAIdzD,EAAM0D,IAAM,SAAS9Y,GAEnBoS,gBAAgBgD,EAAOpV,IAEVoV,QEhKM2D,E,YACnB,oBAAY7T,GAAO,mCACjB,qCAAMA,KACDkQ,MAAQA,EAAMY,QAAQ,EAAK9V,YAAYvC,MAE5C,EAAKyX,MAAM0D,IAAM,SAAA9Y,GACX,EAAKoV,QAAUA,EAAMY,QAAQ,EAAK9V,YAAYvC,QAChD,EAAKyX,MAAQhV,IAAY,EAAKgV,QAEhC,EAAKA,MAAQhD,gBAAgB,EAAKgD,MAAOpV,IAR1B,E,qCADmBgT,G,iBCIjC,SAASgG,SAASnD,EAAOlX,EAAKsa,EAAcrJ,GAEjD,IAAIsJ,EAASD,EACTE,EAAQvJ,EACiB,UAAzB4C,OAAOyG,KACTC,EAAS9G,gBAAgB5Q,MAAMC,KAAMwX,IAElB,UAAjBzG,OAAO5C,KACTuJ,EAAQ,CAACvJ,IAEX,IAAIwJ,EAAWvD,EAAMd,MAAMpW,GAAZ,cAAiBua,GAAjB,WAA4BC,KAC3C,OAAiB,IAAbC,GAGGhH,gBAAgB,GAAI8G,EAAQE,GCtBrC,SAASC,cACP,IAAIC,EAAS,CAAC,EAAG,GACbC,EAAQ,CAAC,EAAG,GAChB,SAASf,MAAMhI,GACb,IAAIgJ,EAAYF,EAAO,GAAKA,EAAO,GAC/BG,EAAWF,EAAM,GAAKA,EAAM,GAC5BG,GAAOlJ,EAAM8I,EAAO,IAAME,GAAa,EAC3C,OAAOD,EAAM,GAAKE,EAAWC,EAU/B,OARAlB,MAAMc,OAAS,SAAS3Z,GAEtB,OADA2Z,EAAS3Z,EACF8B,MAET+W,MAAMe,MAAQ,SAAS5Z,GAErB,OADA4Z,EAAQ5Z,EACD8B,MAEF+W,MChBF,SAASD,UAAK5L,GAEnB,IAAKzJ,MAAMC,QAAQwJ,EAAKgN,WAAahN,EAAK1N,eAAe,WACvD,MAAO,GAET,QAAqBuE,IAAjBmJ,EAAKiN,QACP,OAuJJ,SAAqBA,GACnB,GAAIA,GAAW1W,MAAMC,QAAQyW,GAAU,CACrC,IAAMC,EAAMD,EAAQ,GAAKA,EAAQ,GAC3Bja,EAAM,GACRma,EAAS,EACbna,EAAIgB,KAAKiZ,EAAQ,IACjB,IAAK,IAAIxc,EAAI,EAAGA,EAAI,EAAGA,IACrB,GAAIyc,EAAMzc,GAAM,EAAG,CACjB0c,EAAS1c,EACT,MAGJ,IAAK,IAAIwD,EAAI,EAAGA,GAAKkZ,EAAQlZ,IAC3BjB,EAAIgB,MAAMiZ,EAAQ,GAAMC,EAAMjZ,EAAKkZ,GAAQC,QAAQ,IAErD,OAAOpa,EAET,MAAO,GAxKEqa,CAAYrN,EAAKiN,SAE1B,IAAM5J,EAgHR,SAAoBrD,GAClB,IAAMsN,EAAQtN,EAAKsN,QAAS,EACtBjK,EAAOrD,EAAKgN,SAAW,GACvBha,EAAM,GAEZ,GAAIsa,GAAyB,IAAhBjK,EAAKtP,QAAgBsP,EAAK,GAAGtP,OACxC,IAAK,IAAItD,EAAI,EAAGqD,EAAMuP,EAAK,GAAGtP,OAAQtD,EAAIqD,EAAKrD,IAAK,CAGlD,IAFA,IAAI8c,EAAM,EACNC,EAAU,EACLvZ,EAAI,EAAGwZ,EAAOpK,EAAKtP,OAAQE,EAAIwZ,EAAMxZ,IAAK,CACjD,IAAIiK,EAAMmF,EAAKpP,GAAGxD,GAAGid,kBACO,IAAxBrK,EAAKpP,GAAGxD,GAAG8R,eAA6B1L,IAARqH,IAGhCA,EAAM,EACRsP,GAAoBtP,EAEpBqP,GAAYrP,GAGhBqP,GAAOva,EAAIgB,KAAKuZ,GAChBC,GAAWxa,EAAIgB,KAAKwZ,QAGtB,IAAK,IAAI3c,EAAI,EAAGA,EAAIwS,EAAKtP,OAAQlD,IAC/B,IAAK,IAAIqB,EAAI,EAAGA,EAAImR,EAAKxS,GAAGkD,OAAQ7B,IAAK,CACvC,IAAIgM,EAAMmF,EAAKxS,GAAGqB,GAAGwb,kBACO,IAAxBrK,EAAKxS,GAAGqB,GAAGqQ,eAA6B1L,IAARqH,GAGpClL,EAAIgB,KAAKkK,GAIf,OAAOlL,EAlJM2a,CAAW3N,GACpB4N,EAAS,GACTC,EAAW,GAVU,uBAWzB,YAAsBxK,EAAtB,+CAA4B,KAAjByK,EAAiB,QACtBA,EAAU,EACZD,EAAS7Z,KAAKkF,KAAK6U,IAAID,IAEvBF,EAAO5Z,KAAK8Z,IAfS,kFAkBzB,IAAI/Z,EAAS,EACTia,EAAaJ,EAAOlJ,MAAK,SAAC3I,EAAGW,GAC/B,OAAOX,EAAIW,KAETuR,EAAeJ,EAASnJ,MAAK,SAAC3I,EAAGW,GACnC,OAAOX,EAAIW,KAETwR,EAAYF,EAAWja,QAAUmF,KAAKiV,KAAKH,EAAWI,MAAQ,KAC9DC,EAAcJ,EAAala,QAAUmF,KAAKiV,KAAKF,EAAaG,MAAQ,KACpEE,EAAWJ,EAAYG,GAAe,EAAIH,EAAYG,EACtDE,EAAS,EACTC,EAAS,EACTH,GAAeH,IACjBK,EAAS,EACTC,EAAS,GAEPxO,EAAKyO,cAEPD,GADAD,EAASvO,EAAKyO,aACI,GAEpB,IAAIC,GAAS,EACP5a,EAAMwa,EAASja,WAAWN,OAC5BoF,EACFrF,EAAM,EACFoF,KAAKiV,KAAKG,EAAWpV,KAAKqC,IAAI,GAAIzH,EAAM,IACxCoF,KAAKiV,KAAKG,EAAWpV,KAAKqC,IAAI,GAAIzH,EAAM,IAC9C,EAAG,CACD,IAAK,IAAIrD,EAAI8d,EAAQ9d,EAAI+d,EAAQ/d,IAC/B,GAAI0I,EAAM1I,GAAM,EAAG,CACjBsD,EAAStD,EACT6d,EACExa,EAAM,EAAIqF,EAAMD,KAAKqC,IAAI,GAAIzH,EAAM,GAAKqF,EAAMD,KAAKqC,IAAI,GAAIzH,EAAM,GACnE4a,GAAS,EACT,MAGJvV,WACQuV,GAEV,IAAIC,EAAY,IAAIpY,MAAMxC,EAAS,GACnC4a,EAAU,GAAK,EACf,IAAK,IAAIle,EAAI,EAAGA,EAAIsD,EAAS,EAAGtD,IAC9Bke,EAAUle,GACRyd,GAAaG,EACTnV,KAAK0V,MAAON,EAAWva,EAAUtD,IAChC,EAAIyI,KAAK0V,MAAON,EAAWva,EAAUtD,GAI9C,GACG4d,GAAe,GAAKA,EAAc,GAClCH,GAAa,GAAKA,EAAY,GAChB,IAAdA,GAAmC,IAAhBG,EACpB,EACAM,EAAY,IAAIpY,MAAM,IACZ,GAAK,EACf+X,EAAW,EACX,IAAK,IAAI7d,EAAI,EAAGA,EAAI,EAAGA,IACrBke,EAAUle,GACRyd,GAAaG,EACR,EAAIC,EAAW7d,EAAK,IACnB,EAAI6d,EAAW7d,EAAK,GAOhC,GAHIyd,EAAYG,GACdM,EAAUE,UAEe,IAAvBR,EAAYta,QAAqC,IAArBma,EAAUna,OACxC,OAAO4a,EAET,GAAIT,GAAaG,EAEf,IADA,IAAMS,EAAsB,GAAfH,EAAU,GAEjBle,EAAI,EACNqD,EAAMoF,KAAKiV,MAAOQ,EAAU5a,OAAS,GAAKsa,EAAeH,GAC3Dzd,EAAIqD,EAAM,EACVrD,IAEAke,EAAUI,SAAU,EAAID,EAAOre,EAAK,SAItC,IADA,IAAMqe,EAAyC,GAAlCH,EAAUA,EAAU5a,OAAS,GAEpCtD,EAAI,EACNqD,EAAMoF,KAAKiV,MAAOQ,EAAU5a,OAAS,GAAKma,EAAaG,GACzD5d,EAAIqD,EAAM,EACVrD,IAEAke,EAAU3a,MAAO,EAAI8a,EAAOre,EAAK,IAUrC,OAAOke,ECpHM,SAASK,OAAOhc,EAAKuF,GAClC,IAAIiB,EAAO1E,KAAK0E,KACZyV,EAAQ,GACJ3B,EAA4C/U,EAA5C+U,MAAOmB,EAAqClW,EAArCkW,YAAa9G,EAAwBpP,EAAxBoP,WAAYuH,EAAY3W,EAAZ2W,QAChClH,EAAkBL,EAAlBK,MAAOC,EAAWN,EAAXM,OACXkH,EAASvD,UAAKhb,KAAKkE,KAAM,CAAEkY,QAASha,EAAKsa,QAAOmB,gBAChDW,EAASlW,KAAKC,IAAItE,MAAMC,KAAMqa,GAC9BE,EAASnW,KAAK4D,IAAIjI,MAAMC,KAAMqa,GAC9BG,EAAU5C,cACXC,OAAO,CAAC0C,EAAQD,IAChBxC,MAAM,CAAC,EAAG3E,IACTsH,EAAU,KAsCd,GArCAvc,EAAIiH,SAAQ,SAACuJ,GACX,IAAI+F,EAAO,CACTiG,OAAQ,GACRC,WAAY,GACZC,YAAa,GACb5P,MAAO0D,EAAI1D,OAEb0D,EAAIvJ,SAAQ,SAAC+J,EAAMvT,GACjB,IAAIyN,EAAM8F,EAAK0J,iBACf,QAAmB7W,IAAfmN,EAAKtS,MAAqB,CAE5B,IAAIie,EAAK3H,GAASxE,EAAIzP,OAAS,GAC3B6b,EAAU,EACVV,IAEFU,GADAD,EAAK3H,EAAQxE,EAAIzP,QACF,GAEjB,IAAI8b,EAAS,CAACF,EAAKlf,EAAImf,EAAS3H,EAASqH,EAAQpR,IAC7CoP,GAASiC,IAEXM,EAAS,CACPF,EAAKlf,EAAImf,EACT3H,EAASqH,EAAQpR,EAAMqR,EAAQ9e,GAAGid,oBAGtCnE,EAAKiG,OAAOxb,KAAK6b,OAGrBtG,EAAKuG,WAAa,CAChB,CAACvG,EAAKiG,OAAO,GAAG,GAAIvH,EAASqH,EAAQ,IACrC,CAAC/F,EAAKiG,OAAOjG,EAAKiG,OAAOzb,OAAS,GAAG,GAAIkU,EAASqH,EAAQ,KAEzC,aAAf/F,EAAKzJ,QACPyP,EAAU/L,GAEZyL,EAAMjb,KAAKuV,MAEA,SAAT/P,EAAiB,CACnB,IAAIuW,EAAU,KACdd,EAAMhV,SAAQ,SAACsP,EAAMvH,GACnB,IAAIgO,EAAa,GACdtX,OAAO6Q,EAAKiG,QACZX,UACA7U,KAAI,SAAC2P,GAAD,MAAW,CAACA,EAAM,GAAI1B,MACzB8H,GAAWxX,EAAM+U,QACnB0C,EAAa,GAAGtX,OAAOuW,EAAMjN,EAAM,GAAGwN,QAAQX,WAEhD,IAAIjb,EAUV,SAAwBqc,EAAaC,GACnC,IAAItc,EAAM,CACR6b,WAAY,GACZC,YAAa,IAef,OAbA9b,EAAI6b,WAAa,GACd/W,OAAO,CAACuX,EAAY,KACpBvX,OAAOuX,GACPvX,OAAO,CAACuX,EAAYA,EAAYlc,OAAS,KACzC2E,OAAO,CAACwX,EAAU,KAClBxX,OAAOwX,GACPxX,OAAO,CAACwX,EAAUA,EAAUnc,OAAS,KACxCH,EAAI8b,YAAc,CAChB,EACAO,EAAYlc,OACZkc,EAAYlc,OAAS,EACrBkc,EAAYlc,OAASmc,EAAUnc,OAAS,GAEnCH,EA5BOuc,CAAe5G,EAAKiG,OAAQQ,GACtCzG,EAAKkG,WAAa7b,EAAI6b,WACtBlG,EAAKmG,YAAc9b,EAAI8b,YACJ,aAAfnG,EAAKzJ,QACPiQ,EAAUxG,MAIhB,OAAO0F,E,2oBClET,IAAMmB,GAAW,CACfC,OAAQC,SACRC,KAAMC,OACNC,QAASC,UACTC,KAAMC,OACNC,SAAUC,WACVC,SAAUC,WACVC,QAASC,UACTC,KAAMC,QAuCOC,G,YApCb,iBAAwB,MAAZ9Y,EAAY,uDAAJ,GAAI,wBACtB,mCACKqR,UAAY,KACjB,EAAK0H,QAAU,KACf,EAAKtR,KAAL,eAAY4J,UAAW,WAAcrR,IAJf,E,0DAMnBvH,EAAMkN,GACT,IAAI3F,EAAQvH,EACS,WAAjB6U,OAAO7U,MACTuH,EAAQ,IACFvH,GAAQkN,GAEhBpJ,KAAKyc,aAAahZ,K,mCAEPA,GAAO,IACVqR,EAAkCrR,EAAlCqR,UAAW4H,EAAuBjZ,EAAvBiZ,IAAQC,EADT,KACwBlZ,EADxB,qBAGlB,GAAIqR,GAAaA,IAAc9U,KAAK8U,UAAW,CAC7C,IAAKzY,OAAOwG,KAAKyY,IAAUsB,SAAS9H,GAClC,MAAM,IAAIxL,MAAJ,uHAC4GwL,IAGpH9U,KAAKwc,SAAWxc,KAAKwc,QAAQxP,SAC7BhN,KAAKwc,QAAU,IAAIlB,GAASxG,GAAW6H,GACvC3c,KAAK6c,OAAO7c,KAAKwc,cAEjBxc,KAAKwc,QAAQtR,KAAKyR,GAEhBD,GAAOA,EAAIzd,QACb,gDAAW,MAAOyd,GAGpB1c,KAAK8U,UAAYA,M,OAlCDgI,SCqKLtI,G,YA3Kb,cAAY/Q,GAAO,6BACjB,+BAAMA,KACDsZ,YAAc,GACnB,EAAKrY,KAAO,OACZ,EAAKsY,YAAc,EAJF,E,kEAWJ,MAEehd,KAAKid,gBAA3BC,EAFO,EAEPA,UAAWC,EAFJ,EAEIA,OAUjB,OATYD,EAAUhY,KAAI,SAAAoJ,GACxB,MAAO,CACLsM,YAAatM,EAAKsM,YAClBwC,SAAU,CAAE1C,OAAQpM,EAAKqM,YACzB0C,OAAQ,CAAE3C,OAAQpM,EAAKqM,YACvBlY,KAAM,CAAEiY,OAAQpM,EAAKoM,OAAQvD,SAAU,CAAC,EAAGgG,IAC3CtR,GAAI,CAAE6O,OAAQpM,EAAKoM,OAAQvD,SAAU,CAACgG,EAAQA,U,qCAKrC,MAEend,KAAKid,gBAA3BC,EAFO,EAEPA,UAAWC,EAFJ,EAEIA,OACbJ,EAAc/c,KAAK+c,YAuBvB,OAtBYG,EAAUhY,KAAI,SAACoJ,EAAM3S,GAC/B,IAAI8G,EAAO,CAAEiY,OAAQpM,EAAKoM,QAO1B,OANIqC,EAAYphB,KACd8G,EAAO,CAAEiY,OAAQqC,EAAYphB,GAAGkQ,GAAG6O,SAEhCqC,EAAYphB,IAA+B,aAAzBohB,EAAYphB,GAAGqP,QACpCvI,EAAK0U,SAAW,CAAC,EAAGgG,IAEf,CACLnS,MAAOsD,EAAKtD,MACZ4P,YAAatM,EAAKsM,YAClBwC,SAAWL,EAAYphB,IAAMohB,EAAYphB,GAAG0hB,QAAW/O,EAAKqM,WAC5D0C,OAAQ,CACN3C,OAAQpM,EAAKqM,YAEflY,OACAoJ,GAAI,CACF6O,OAAQpM,EAAKoM,OACbvD,SAAU,CAACgG,EAAQA,U,sCAQzB,IAAI5R,EAAcvL,KAAKuL,YACnB+R,EAAatd,KAAKwO,QAAQjD,EAAY8H,UACtC6J,EAAYhD,OAAOpe,KAAKkE,KAAMsd,EAAY/R,GAJhC,EAKUA,EAAYsH,WAA9BM,EALQ,EAKRA,OAAQD,EALA,EAKAA,MAGd,MAAO,CAAEA,QAAOC,SAAQ+J,YAAWC,OADe,EAArC/Y,KAAKyC,KAALzC,KAAA,IAAU+O,EAAU,GAApB/O,KAAA,IAAuB8O,EAAS,O,yEAQ7C,MAAO,CACLqK,YAAa,GACbhL,MAAO,U,sCAKT,MAAO,CACLiL,QAAQ,K,qCAGG5K,EAAO7N,GACpB/E,KAAKkL,KAAK,cAAe,IACzBlL,KAAKwO,QAAQiP,e,oCAED7K,EAAO7N,GACnB,GAAI/E,KAAK+c,YAAY9d,OAAQ,CAO3B,IALA,IAAIye,EAAO1d,KAAK+c,YAAY,GAAGlR,GAAG6O,OAAOxV,KAAI,SAAAwX,GAAG,OAAIA,EAAI,MAF7B,EAIjB3X,EAAG4Y,kBAAkB/K,EAAM3K,EAAG2K,EAAMgL,GAAzC3V,EAJsB,YAKvB4V,EAAS,EAEJliB,EAAI,EAAGA,EAAI+hB,EAAKze,OAAQtD,IAC/B,GAAIsM,EAAIyV,EAAK/hB,IAAMsM,EAAIyV,EAAK/hB,EAAI,GAAI,CAClCkiB,EAASzZ,KAAK6U,IAAIhR,EAAIyV,EAAK/hB,IAAMyI,KAAK6U,IAAIhR,EAAIyV,EAAK/hB,EAAI,IAAMA,EAAIA,EAAI,EACrE,MAIJ,GAAIqE,KAAKgd,aAAea,EAAQ,CAC9B7d,KAAKwO,QAAQiP,aAEbzd,KAAKwO,QAAQyB,KAAK4N,GAAQ7S,MAAQ,QAHJ,IAIxB6H,EAAe7S,KAAKuL,YAApBsH,WACFiL,EAAOJ,EAAKG,GAChB7d,KAAKgd,WAAaa,EAClB7d,KAAKkL,KAAK,CACRqS,YAAa,CACX,CAACO,EAAM,GACP,CAACA,EAAMjL,EAAWM,SAEpB4K,UAAW,gB,6BAKZ5D,GAAO,IA6CE7G,EA7CF,SAC8BtT,KAAKuL,YAAzCsH,EADM,EACNA,WAAY2K,EADN,EACMA,OAAQD,EADd,EACcA,YAEtBvJ,EAAShU,KAAKge,aAEd7J,EAASnU,KAAK2T,MAAMQ,OAExB,OADAnU,KAAK+c,YAAc5C,EAEjB,UAAC,QAAD,CAAOtG,OAAQ,EAAGoK,MAAM,YAAYvB,IAAK,CAAC7J,EAAWC,KAAMD,EAAWE,KAAMmL,aAAcle,KAAKme,eAAgBC,aAAcpe,KAAKqe,cAAeC,YAAate,KAAKqe,cAAeE,KAAM,CAAC1L,EAAWK,MAAOL,EAAWM,SACpN,UAAC,QAAD,CAAO8K,MAAM,eACV9D,EAAMjV,KAAI,SAACuP,EAAMvH,GAChB,IAAIoG,EAAQiE,SAAS,EAAM,OAAQ,CAAC,CAAE3C,YAAaT,EAAOjH,GAAMsQ,UAAUxJ,EAAOS,MAAO,CAAC,EAAKjG,QAAQgQ,KAAKtR,GAAMA,IACjH,MAAsB,aAAfuH,EAAKzJ,QAAkC,IAAVsI,EAAkB,UAAC,OAAD,MAAW,UAAC,WAAD,KAAUmL,QAAS,EAAKC,WAAepL,EAAvC,CAA8C9H,UAAW,CAAE/I,KAAMgS,EAAKhS,KAAMoJ,GAAI4I,EAAK5I,WAG1J,UAAC,QAAD,CAAOoS,MAAM,eACI,SAAdje,KAAK0E,KACF,KACAyV,EAAMjV,KAAI,SAACuP,EAAMvH,GACf,IAAIoG,EAAQiE,SAAS,EAAM,OAAQ,CAAC,CAAEzB,UAAW3B,EAAOjH,GAAMsQ,UAAUxJ,EAAOsB,MAAO,CAAC,EAAK9G,QAAQgQ,KAAKtR,GAAMA,IAC/G,MAAsB,aAAfuH,EAAKzJ,QAAkC,IAAVsI,EAAkB,UAAC,OAAD,MAAW,UAAC,WAAD,KAAUsH,YAAanG,EAAKmG,aAAiBtH,EAA7C,CAAoD9H,UAAW,CAAE/I,KAAMgS,EAAK2I,SAAUvR,GAAI4I,EAAK4I,eAGxK,UAAC,QAAD,CAAOY,MAAM,eACV9D,EAAMjV,KAAI,SAACuP,EAAMvH,GAChB,MAAsB,aAAfuH,EAAKzJ,MACV,UAAC,OAAD,MAEA,UAAC,QAAD,KACGyJ,EAAK5I,GAAG6O,OAAOxV,KAAI,SAACzH,EAAG0B,GACtB,IAAMqM,EAAY,CAAE/I,KAAM,CAAEia,IAAKjI,EAAKhS,KAAKiY,OAAOvb,IAAM0M,GAAI,CAAE6Q,IAAKjf,IAC/D6V,EAAQiE,SAAS,EAAM,QAAS,CAAC,CAAEzB,UAAW3B,EAAOjH,IAAQ8G,EAAOa,OAAQ,CAAC,EAAKrG,QAAQgQ,KAAKtR,GAAMA,EAAK/N,IAC1Gwf,EAAapH,SAAS,EAAM,cAAe,CAACjE,EAAOU,EAAO,gBAAiB,CAAC,EAAKxF,QAAQgQ,KAAKtR,GAAMA,EAAK/N,IAI7G,MAHwC,UAApC,EAAKqP,QAAQgQ,KAAKtR,GAAK/N,GAAG6L,OAC5B2F,gBAAgB2C,EAAOqL,GAElB,UAAC,GAAD,OAAWrL,EAAX,CAAkB9H,UAAWA,aAM9C,UAAC,QAAD,CAAOyS,MAAM,oBACVV,EAAYte,QAGQ,KADbqU,EAAQiE,SAAS,EAAM,YAAavD,EAAOW,YACtB,UAAC,OAAD,MAAW,UAAC,WAAD,KAAU+F,OAAQ6C,GAAiBjK,IAGzE,UAAC,OAAD,U,kCA3JR,OADY,gD,MATG/B,GCNJ,SAAS2I,cAAOhc,EAAKuF,GAClC,IAAImb,EAAQ,GACRC,EAAS3gB,EAAIgH,KAAI,SAAAwJ,GAAG,OAAIA,EAAIoQ,QAAO,SAAC1V,EAAKkF,GAAN,MAA8B,aAAdI,EAAI1D,MAAuB5B,EAAMkF,EAAK1R,MAAQwM,IAAM,MAEvG2V,EAAWF,EAAOC,QAAO,SAAC1V,EAAKkF,GAAN,OAAelF,EAAMkF,IAAM,IAAM,EACxD0Q,EAAuCvb,EAAvCub,WAAYC,EAA2Bxb,EAA3Bwb,SAAUC,EAAiBzb,EAAjByb,aACxBC,EAAW/a,KAAK4D,IAAIgX,EAAYC,GAChCG,EAAWhb,KAAKC,IAAI2a,EAAYC,GAChCG,EAAWD,EAAW,MACxBC,EAAWD,EAAW,KAExB,IAAIE,EAAaD,EAAWD,EAsB5B,OArBAN,EAAO1Z,SAAQ,SAAC4J,EAAK7B,GACnB,IACIoS,EADavQ,EAAMgQ,EACKM,EAExBE,EAAY,CAAC,EAAG,GAEhBC,EAAS,CAAER,WAAYG,EAAUF,SAAUE,EAAWG,EAAUC,aACpE,GAAY,IAARrS,EAAW,CACb,IAAIuS,EAAWb,EAAM1R,EAAM,GAC3BsS,EAAS,CAAER,WAAYS,EAASR,SAAUA,SAAUQ,EAASR,SAAWK,EAAUC,aAEpF,IAAIG,GAAaF,EAAOR,WAAaQ,EAAOP,UAAY,EAAK,IAC7DO,EAAOG,cAAgBD,EACvBF,EAAOI,eAAiBC,YAAYH,GACb,UAAnBxhB,EAAIgP,GAAKlC,QAEXwU,EAAOD,UAAY,CAACL,EAAe9a,KAAK+B,IAAIqZ,EAAOI,gBAAiBV,EAAe9a,KAAKkC,IAAIkZ,EAAOI,kBAGrGhB,EAAM1f,KAAKsgB,MAENZ,EAEF,SAASiB,YAAYC,GAC1B,OAAQA,EAAQ,IAAO1b,KAAKgC,GAEvB,SAAS2Z,eAAef,EAAYC,EAAUe,EAAQC,EAAQC,GACnE,IAAIxF,EAAS,GAETyF,EAAcN,aADDb,EAAaC,GAAY,EAAK,KAG3CmB,EAAa,CAACH,EAAS7b,KAAK+B,IAAIga,GAAcF,EAAS7b,KAAKkC,IAAI6Z,IAChEE,EAAW,EAAEJ,EAASC,GAAa9b,KAAK+B,IAAIga,IAAeF,EAASC,GAAa9b,KAAKkC,IAAI6Z,IAC1FG,EAAW,EAAEL,EAASC,GAAa9b,KAAK+B,IAAIga,IAAeF,EAASC,EAAY,GAAK9b,KAAKkC,IAAI6Z,IAKlG,OAJAG,EAAW,CAACN,EAAO,GAAKM,EAAS,GAAIN,EAAO,GAAKM,EAAS,IAC1D5F,EAAOxb,KAAK,CAAC8gB,EAAO,GAAKI,EAAW,GAAIJ,EAAO,GAAKI,EAAW,KAC/D1F,EAAOxb,KAAK,CAAC8gB,EAAO,GAAKK,EAAS,GAAIL,EAAO,GAAKK,EAAS,KAEpD,CAAE3F,SAAQ6F,YADH,CAACnc,KAAKkC,IAAI6Z,EAAc,GAAI,EAAI/b,KAAK+B,IAAIga,EAAc,IACvCG,SAAUA,G,mnBC0I3BnL,G,YArLb,aAAY1R,GAAO,4BACjB,8BAAMA,KACD+c,YAAc,GACnB,EAAKxD,YAAc,EACnB,EAAKyD,aAAe,EAJH,E,gEAgBJ,IAEP7B,EAAU5e,KAAKid,gBAAf2B,MACAoB,EAAWhgB,KAAKuL,YAAhByU,OACF9hB,EAAM0gB,EAAM1Z,KAAI,SAACoJ,EAAMpB,GACzB,GAAY,IAARA,EACF,MAAO,CACLzK,KAAM,CAAEuc,WAAY,EAAGC,SAAU,EAAGvC,IAAKsD,GACzCnU,GAAI,oBAAKyC,EAAP,CAAaoO,IAAKsD,KAGxB,IAAIU,EAAY9B,EAAM1R,EAAM,GAAG+R,SAC/B,MAAO,CACLxc,KAAM,CAAEuc,WAAY0B,EAAWzB,SAAUyB,EAAWhE,IAAKsD,GACzDnU,GAAI,oBAAKyC,EAAP,CAAaoO,IAAKsD,QAIxB,OADAhgB,KAAK2gB,YAAYziB,GACVA,I,qCAEM,WAEP0gB,EAAU5e,KAAKid,gBAAf2B,MACAoB,EAAWhgB,KAAKuL,YAAhByU,OACFY,EAAW5gB,KAAKwgB,YAChBtiB,EAAM0gB,EAAM1Z,KAAI,SAACoJ,EAAMpB,GACzB,IAAI6N,EAAS,CAACiF,EAAO,GAAK1R,EAAKiR,UAAU,GAAIS,EAAO,GAAK1R,EAAKiR,UAAU,IACpE9b,EAAQ9E,IAAY2P,EAAM,CAAC,aAAc,aAC7C,OAAY,EAAK0O,WACR,CACLva,KAAM,oBAAKme,EAAS1T,GAAKrB,IACzBA,GAAI,oBAAKpI,EAAP,CAAciZ,IAAK3B,QAU3B,OADA/a,KAAK2gB,YAAYziB,GACVA,I,kCAEGA,GAAK,IACT2iB,EAAa7gB,KAAKuL,YAAlBsV,SACN3iB,EAAIiH,SAAQ,SAAAmJ,GAAQ,MACuDyR,eAAezR,EAAK7L,KAAKuc,WAAY1Q,EAAK7L,KAAKwc,SAAU3Q,EAAK7L,KAAKia,IAAKmE,EAAW,EAAG,IAAjJC,EADI,EACZpG,OAAiCqG,EADrB,EACQR,YAAmCS,EAD3C,EACiCV,SADjC,EAEiDP,eAAezR,EAAKzC,GAAGmT,WAAY1Q,EAAKzC,GAAGoT,SAAU3Q,EAAKzC,GAAG6Q,IAAKmE,EAAW,EAAG,IAArII,EAFI,EAEZvG,OAA+BwG,EAFnB,EAEMX,YAAiCY,EAFvC,EAE6Bb,SAC/ChS,EAAKmG,KAAO,CACVhS,KAAM,CACJiY,OAAQoG,GAEVjV,GAAI,CACF6O,OAAQuG,IAGZ3S,EAAK2I,MAAQ,CACXxU,KAAM,CACJia,IAAKsE,EACLI,OAAQL,GAEVlV,GAAI,CACF6Q,IAAKyE,EACLC,OAAQF,S,sCAQd,IAAI3V,EAAcvL,KAAKuL,YAEnB+R,EAAatd,KAAKsd,aAEtB,MAAO,CAAEsB,MADG1E,cAAOpe,KAAKkE,KAAMsd,EAAY/R,M,yEAQ1C,MAAO,CACLgH,MAAO,MACP0N,OAAQ,EACRoB,YAAa,EACbrC,WAAY,EACZC,SAAU,IACVvK,UAAW,EAEXwK,aAAc,M,yEAMRtM,EAAO7N,GACf,IAAIuY,EAAatd,KAAKsd,aAClBpQ,EAAMnI,EAAGmG,KAAK,UAClB,GAAIgC,IAAQlN,KAAKgd,WAAY,CAC3B,IAAIsE,EAAUhE,EAAWpQ,GACzBoQ,EAAWnY,SAAQ,SAAAuJ,GACC,UAAdA,EAAI1D,QACN0D,EAAI1D,MAAQ,cAGhBsW,EAAQtW,MAAQ,QAChBhL,KAAKgd,WAAa9P,K,mCAIHlN,KAAKsd,aACXnY,SAAQ,SAAAuJ,GACC,UAAdA,EAAI1D,QACN0D,EAAI1D,MAAQ,cAGhBhL,KAAKgd,YAAc,I,mCAGnB,IAAIzR,EAAcvL,KAAKuL,YACvB,OAAOvL,KAAKwO,QAAQjD,EAAY8H,Y,6BAE3BuL,GAAO,aAEkC5e,KAAKuL,YAA7CsH,EAFM,EAENA,WAAY0O,EAFN,EAEMA,cAAeV,EAFrB,EAEqBA,SAE7B7M,EAAShU,KAAKge,aAEd7J,EAASnU,KAAK2T,MAAMQ,OAExB,OADAnU,KAAKwgB,YAAc5B,EAEjB,UAAC,QAAD,CAAO/K,OAAQ,EAAGoK,MAAM,YAAYvB,IAAK,CAAC7J,EAAWC,KAAMD,EAAWE,KAAMwL,KAAM,CAAC1L,EAAWK,MAAOL,EAAWM,SAC9G,UAAC,QAAD,CAAO8K,MAAM,cAAcC,aAAcle,KAAKwhB,YAC3C5C,EAAM1Z,KAAI,SAACuc,EAAMvU,GAChB,IAAIoG,EAAQiE,SAAS,EAAM,SAAU,CAAC,CAAE3C,YAAaT,EAAOjH,GAAM4I,UAAW3B,EAAOjH,GAAMmU,YAAaE,EAAeG,YAAab,EAAUc,OAAQzU,GAAO8G,EAAOoB,QAAS,CAAC,EAAK5G,QAAQgQ,KAAKtR,GAAMA,IACrM,MAAsB,aAAfuU,EAAKzW,QAAkC,IAAVsI,EAAkB,UAAC,OAAD,MAAW,UAAC,OAAD,KAAMgL,YAAa,EAAKsD,WAAetO,EAAvC,CAA8C9H,UAAW,CAAE/I,KAAMgf,EAAKhf,KAAMoJ,GAAI4V,EAAK5V,WAG1J,UAAC,QAAD,CAAOoS,MAAM,cACVW,EAAM1Z,KAAI,SAACuc,EAAMvU,GAChB,IAAIoG,EAAQiE,SAAS,EAAM,YAAa,CAAC,CAAE3C,YAAaT,EAAOjH,IAAQ8G,EAAOW,WAAY,CAAC,EAAKnG,QAAQgQ,KAAKtR,GAAMA,IAC/GI,GAAO,EAIX,OAHImU,EAAK5V,GAAGmT,aAAeyC,EAAK5V,GAAGoT,UAA2B,YAAfwC,EAAKzW,QAAiC,IAAVsI,IACzEhG,GAAO,GAEFA,IAAkB,IAAVgG,EAAkB,UAAC,OAAD,MAAW,UAAC,WAAD,OAAcA,EAAd,CAAqB9H,UAAW,CAAE/I,KAAMgf,EAAKhN,KAAKhS,KAAMoJ,GAAI4V,EAAKhN,KAAK5I,WAGtH,UAAC,QAAD,CAAOoS,MAAM,eACVW,EAAM1Z,KAAI,SAACuc,EAAMvU,GAChB,IAAIhR,EAAO,EAAKsS,QAAQgQ,KAAKtR,GAAKhR,KAC9BoX,EAAQiE,SAAS,EAAM,YAAa,CAAC,CAAEzB,UAAW,OAAQD,SAAU,IAAM7B,EAAOW,WAAY,CAAC,EAAKnG,QAAQgQ,KAAKtR,GAAMA,IACtHI,GAAO,EAIX,OAHImU,EAAK5V,GAAGmT,aAAeyC,EAAK5V,GAAGoT,UAA2B,YAAfwC,EAAKzW,QAAiC,IAAVsI,IACzEhG,GAAO,GAEFA,IAAkB,IAAVgG,EAAkB,UAAC,OAAD,MAAW,UAAC,QAAD,KAAOsC,KAAM1Z,GAAUoX,EAAvB,CAA8BoJ,IAAK+E,EAAKxK,MAAMxU,KAAKia,IAAKlR,UAAW,CAAE/I,KAAMgf,EAAKxK,MAAMxU,KAAMoJ,GAAI4V,EAAKxK,MAAMpL,c,kCArK/J,IAAIpI,EAAQ,2CACNwc,EAAwBxc,EAAxBwc,OAAQoB,EAAgB5d,EAAhB4d,YAHE,EAIQ5d,EAAMoP,WAAxBK,EAJU,EAIVA,MAAOC,EAJG,EAIHA,OAIb,OAHA1P,EAAMuc,OAAS,CAAC9M,EAAQ,EAAGC,EAAS,GACpC1P,EAAMod,SAAYzc,KAAK4D,IAAIkL,EAAOC,GAAU8M,EAAU,EACtDxc,EAAM8d,cAAiBnd,KAAK4D,IAAIkL,EAAOC,GAAUkO,EAAe,EACzD5d,M,KAfO8N,GCYH8D,G,YAfb,cAAY5R,GAAO,6BACjB,+BAAMA,KACDiB,KAAO,OAFK,E,kEAKjB,OAAOiM,gBAAgB,GAAD,IAAC,oDAA0B,CAC/C6H,OAAO,EACPhN,UAAW,CACTF,SAAU,IACVU,OAAQ,aAEVuG,MAAO,a,MAZMiC,ICIbqN,mBAAqB,SAACC,EAAQ7iB,GAGlC,MAAO,CAFCmF,KAAK+B,IAAI2b,GAAU7iB,EACnBmF,KAAKkC,IAAIwb,GAAU7iB,IA6Bd,SAASib,oBAAO3L,EAAM0R,EAAQtG,EAAaqF,EAAY+C,EAAa5N,GACjF,IAAI6N,EAAW,GACXC,EAAY,GACZC,EAAY,GACZC,EAAe,GAEnB,GAAI5T,EAAK6T,MAAK,SAACnmB,GAAD,OAAoB,IAAbA,EAAEgD,UACrB,MAAO,CAAEkjB,eAAcD,YAAWD,aAcpC,IAXA,IAIM5d,EAjCO,SAACkK,EAAMoL,GACpB,IAAM0I,EAAeje,KAAKC,IAAL,MAAAD,KAAI,IAAQmK,IACjC,OAAI8T,EAA6B,GAAd1I,EACVvV,KAAKiV,KAAKgJ,EAAe1I,GAAeA,EAEK,GAA7CvV,KAAKiV,KAAKgJ,EAAe,GAAK1I,GAAoBA,EA4B/CC,CAJSrL,EAAKuQ,QAAO,SAACjiB,EAAG6R,GACnC,OAAO7R,EAAE+G,OAAO8K,EAAIxJ,KAAI,SAACgK,GAAD,OAAUA,EAAKtS,YACtC,IAE8B+c,GAG3B2I,EAAY/T,EAAK,GAAGtP,OACpBsjB,EAAuB,EAAVne,KAAKgC,GAAUkc,EAE5BE,EAAepe,KAAKgC,GAAK,IAAO4Y,EAC7BrjB,EAAI,EAAGA,EAAI2mB,EAAW3mB,IAAK,CAElC,IAAI8mB,EAAgB9mB,EAAI4mB,EAAYC,EAChC3N,EAAQgN,mBAAmBY,EAAexC,GAE9C+B,EAAS9iB,KAAK,CACZ2V,QACAiN,OAAQW,IAIV,IAAMnC,EAAWuB,mBAAmBY,EAAexC,EAAS8B,GACtD9K,EAAQ1I,EAAK,GAAG5S,GAAGia,KAEzBsM,EAAUhjB,KAAK,CACbwb,OAAQ,CAAC,CAAC,EAAG,GAAI7F,GACjBH,UAAW,EACXyC,SAAU,CAAC,EAAG,GACdvC,YAAa,UACbqC,QACAqJ,WACAwB,OAAQW,EACRC,SAAUre,EACVsV,YAAaA,IAIjBpL,EAAKpJ,SAAQ,SAACuJ,EAAKiU,GACjB,IAAMC,EAAiBlU,EAAIxJ,KAAI,SAACjJ,EAAGN,GACjC,IAAMiB,EAAQX,EAAEW,MACVklB,EAASE,EAASrmB,GAAGmmB,OAC3B,OAAOD,mBAAmBC,EAASllB,EAAQyH,EAAO4b,MAGpDkC,EAAajjB,KAAK,CAChByjB,MAAOA,EACPzmB,KAAMwS,EAAIxS,KACV2mB,WAAYnU,EAAIH,KAChBmG,UAAW,EACXgG,OAAQkI,EACR5X,MAAO0D,EAAI1D,MACX8X,OAAO,EACPlO,YAAaT,EAAOwO,GACpB7M,UAAW3B,EAAOwO,QAMtB,IADA,IAAMI,EAAaf,EAAS9c,KAAI,SAACzH,GAAD,OAAOA,EAAEoX,SAChClZ,EAAI,EAAGA,EAAIge,EAAahe,IAAK,CACpC,IAAIob,EAAQ,EAAIpb,EAAIge,EACpBsI,EAAU/iB,KAAK,CACb6X,QACAkJ,SACAvF,OAAQqI,EACRJ,MAAOhnB,EACPmnB,OAAO,EACPpO,UAAW,EACXE,YAAa,UACbwM,OAAQ,CAAC,GAAK,MAIlB,MAAO,CAAEe,eAAcD,YAAWD,a,2nBCqMrB1M,G,YAvTb,eAAY9R,GAAO,6BACjB,gCAAMA,IADW,2BAiRJwN,UACb,SAAC2B,EAAO7N,GACN,EAAKyJ,QAAQiP,aACb,IAAMvhB,EAAO6I,EAAGie,WAAW9mB,KAC3B,EAAKsS,QAAQgQ,KACV3a,QAAO,SAAA6K,GAAG,MAAkB,aAAdA,EAAI1D,SAClB7F,SAAQ,SAAAuJ,GACPA,EAAI1D,MAAQ0D,EAAIxS,OAASA,EAAO,QAAU,eAGhD,IACA,IA1RA,EAAKwI,KAAO,QACZ,EAAKue,YAAc,GACnB,EAAKC,QAAU,GACf,EAAKC,OAAS,KALG,E,oEAqBjB,MAAO,CACL5Q,MAAO,QACP6Q,SAAU,UACVzJ,YAAa,EACbqF,WAAY,IACZiB,OAAQ,GACR8B,YAAa,K,2CAIId,EAAUjW,EAAO2X,GACpC,IAAMU,EAAa,IAAI5hB,MAAMwf,EAAShiB,QAAQoN,KAAK,CAAC,EAAG,IAEjDb,EAAY,CAChB/I,KAAM,CAAEiY,QAFM1a,KAAKijB,YAAYN,IAAU,CAAEnX,UAAW,CAAEK,GAAI,CAAE6O,OAAQ2I,MAE9C7X,UAAUK,GAAG6O,QACrC7O,GAAI,CAAE6O,OAAQuG,IAMhB,MAHc,aAAVjW,IACFQ,EAAUK,GAAG6O,OAAS2I,GAEjB7X,I,sCAIP,IAAM0M,EAAUlY,KAAKwO,QADP,EAGwCxO,KAAKuL,YAAnDvM,EAHM,EAGNA,IAAK2a,EAHC,EAGDA,YAAaqF,EAHZ,EAGYA,WAAY+C,EAHxB,EAGwBA,YAChC5N,EAASnU,KAAK2T,MAAMQ,OAJZ,EAMiC+F,oBAAO,IAChDhC,EAAQsG,MACZxf,EACA2a,EACAqF,EACA+C,EACA5N,GAGF,MAAO,CAAEgO,aAfK,EAMNA,aASeD,UAfT,EAMQA,UASYD,UAfpB,EAMmBA,a,oCAYrB,aAC2BjiB,KAAKid,gBAApCkF,EADI,EACJA,aAQR,6BATY,yBASZ,CAAuBA,aAPKA,EAAajd,KAAI,SAACgG,EAAMvP,GAAM,IAChD+e,EAAiCxP,EAAjCwP,OAAQ1P,EAAyBE,EAAzBF,MAAUsY,EAD8B,KACfpY,EADe,sBAE1B,EAAKqM,SAAS,UAAWrM,EAAzB,IAAmCA,EAAK2X,YAAalnB,GAA3E2X,EAFgD,EAEhDA,MAAOiQ,EAFyC,EAEzCA,WACXC,EAAuB,UAAVxY,EAAoBuY,EAAa,GAElD,OAAO5S,gBAAgB2S,EAAY,CAAEtY,SAAS,CAAEQ,UAD9B,EAAKiY,qBAAqB/I,EAAQ1P,EAAOrP,IACE2X,EAAOkQ,U,qCAMtE,yDACA,IAAMlG,EAAatd,KAAK0jB,cAExB,OADA1jB,KAAKijB,YAAL,IAAuB3F,EAAW6E,cAC3B7E,I,qCAIP,yDACA,IAAMqG,EAAa3jB,KAAK0jB,cACxB,GAAIC,EAAWxB,aAEb,IADA,IAAMnjB,EAAMoF,KAAKC,IAAIrE,KAAKijB,YAAYhkB,OAAQ0kB,EAAWxB,aAAaljB,QAC7DtD,EAAI,EAAGA,EAAIqD,EAAKrD,IACvBqE,KAAKijB,YAAYtnB,GAAKgoB,EAAWxB,aAAaxmB,GAIlD,OADAqE,KAAKijB,YAAL,IAAuBU,EAAWxB,cAC3BwB,I,4EAKSC,GAChB,MAAO,CACLnhB,KAAM,CAAEsU,MAAO,GACflL,GAAI,CAAEkL,MAAO6M,M,+BAIRlf,EAAMwG,EAAMqD,EAAMoU,GACzB,MAAO,CACLrP,MAAOtT,KAAKsT,MAAM5O,EAAX1E,CAAiBkL,EAAMqD,EAAMoU,IAAU,GAC9CY,WAAYvjB,KAAKsT,MAAL,UAAc5O,EAAd,UAAA1E,CAA4BkL,EAAMqD,EAAMoU,IAAU,M,mCAIrDkB,EAASC,GACpB,OAAOD,EAAQtkB,aAAeukB,EAAMvkB,a,iCAG3B0iB,GAAW,WAEd8B,EAAyB,WADV/jB,KAAKuL,YAAlB6X,SACkCY,MAAMC,WAChD,OAAOhC,EAAU/c,KAAI,SAACgG,EAAMvP,GAC1B,IAAM6P,EAAY,EAAK0X,QAAQjkB,OAAS,EAAI,GAAK,EAAKilB,kBAAkBhZ,EAAK6L,OACrEzD,EAAU,EAAKiE,SAAS,OAAQrM,EAAM,KAAMvP,GAA5C2X,MACR,IAAc,IAAVA,EAGJ,OAAO,UAACyQ,EAAD,OAAe7Y,EAAUoI,EAAzB,CAAgC9H,UAAWA,U,sCAItC/H,EAAO9H,GACrB,IAKQsb,EAA4BxT,EAA5BwT,MAAOqJ,EAAqB7c,EAArB6c,SAAUwB,EAAWre,EAAXqe,OAEnB5W,EAAO,CACX0K,KAAMqB,EACNyF,IAAK4D,EACL6D,MAAO,UACPrC,SACAV,OAZiB,SAAAU,GAGjB,MAAO,CAFG,GAAM1d,KAAK+B,IAAI2b,GACf,GAAM1d,KAAKkC,IAAIwb,IAIZsC,CAAWtC,GAOxBjM,SAAU,IAENrK,EAAYxL,KAAKkjB,QAAQjkB,OAAS,EAAI,GAAKe,KAAKkkB,kBAAkB,GAChE5Q,EAAUtT,KAAKuX,SAAS,QAASrM,EAAM,CAAE0K,KAAM1K,EAAK+L,MAAO6K,UAAUnmB,GAArE2X,MACR,IAAc,IAAVA,EAGJ,OAAO,UAAC,QAAD,OAAWpI,EAAUoI,EAArB,CAA4B9H,UAAWA,O,sCAGhC/H,EAAOkf,GAgBrB,IAfA,IAD4B,EACd,SAAAlf,GAAS,IACbiX,EAAkCjX,EAAlCiX,OAAQf,EAA0BlW,EAA1BkW,YAAa+I,EAAajf,EAAbif,SADR,MAENhI,EAAO,GAFD,GAIrB,MAAO,CAAC,CAJa,KAIRf,EAJQ,KAISA,GADf+I,EAAW/I,GAGG0K,CAAM5gB,GAPT,yBAOpB6gB,EAPoB,KAOdC,EAPc,KAOPC,EAPO,KAQxBC,EAAS,GAEPC,EAAS,CACb7O,SAAU,GACVuL,OAAQ,CAAC,EAAG,IACZuD,UAAW,EAAE,EAAG,GAChBC,QALwB,IAAVjC,EAAc,QAAU,QAO/BhnB,EAAI,EAAGA,EAAI8H,EAAMkW,YAAc,EAAGhe,IAAK,CAC9C,IAAIkZ,EAAQ,CAACyP,EAAO3oB,EAAG4oB,EAAO5oB,GAC1Bia,EAAO4O,EAAS7oB,EAChBuP,EAAO,oBACT0K,OACAuO,MAAO,UACPzH,IAAK7H,GACF6P,GAEGpR,EAAUtT,KAAKuX,SAAS,QAASrM,EAAM,CAAE0K,OAAM+M,SAAShnB,GAAxD2X,MACR,IAAc,IAAVA,EACF,OAEF,GAAqB,SAAjBpI,EAAK0Z,QAAoB,CAC3B,IAAIpZ,EAAY,GACVqZ,EAAUlC,EAAQlf,EAAMkW,YAAche,EACtCmpB,EAAQ9kB,KAAKkjB,QAAQ2B,GACvBC,EACEA,EAAMlP,OAASA,IACjBpK,EAAY,CACV/I,KAAM,CAAEmT,KAAMkP,EAAMlP,MACpB/J,GAAI,CAAE+J,QACN3J,UAAW,SAAAf,GAET,OADAA,EAAK0K,KAAO1K,EAAK0K,KAAK0C,QAAQ,GACvBpN,KAKbM,EAAY,CACV/I,KAAM,CAAEia,IAAK,CAAC,EAAG,IACjB7Q,GAAI,CAAE6Q,IAAK7H,IAGf7U,KAAKkjB,QAAQvnB,GAAK,CAAEia,KAAMxV,OAAOwV,EAAK0C,QAAQ,KAC9CmM,EAAOvlB,KAAK,UAAC,QAAD,OAAWgM,EAAUoI,EAArB,CAA4B9H,UAAWA,OAGvD,OAAOiZ,I,iCAGEvC,GAAW,WACd1W,EAAYxL,KAAKkjB,QAAQjkB,OAAS,EAAI,GAAKe,KAAKkkB,kBAAkB,GACxE,OAAOhC,EAAUhd,KAAI,SAACgG,EAAMvP,GAAM,IACxB2X,EAAU,EAAKiE,SAAS,OAAQrM,EAAM,CAAE0K,KAAM1K,EAAK+L,OAAStb,GAA5D2X,MACR,IAAc,IAAVA,EAGJ,OACE,UAAC,QAAD,KACE,UAAC,WAAD,OAAcpI,EAAUoI,EAAxB,CAA+B9H,UAAWA,KACzC,EAAKuZ,gBAAgB7Z,EAAMvP,GAC3B,EAAKqpB,gBAAgB9Z,EAAMvP,S,mCAMvBwmB,GAAc,WAqCzB,OApCkBA,EAAajd,KAAI,SAAAzB,GAAS,IACvBwhB,EAAiDxhB,EAA5D+H,UAAyBqX,EAAmCpf,EAAnCof,WAAYjO,EAAuBnR,EAAvBmR,YAAa5J,EAAUvH,EAAVuH,MACpDka,EAAYD,GAAgBA,EAAaxiB,MAAQwiB,EAAaxiB,KAAKiY,OAEzE,OADiBuK,GAAgBA,EAAapZ,IAAMoZ,EAAapZ,GAAG6O,QACpDxV,KAAI,SAAC2P,EAAOlZ,GAC1B,IAAMuP,EAAO,CACXwR,IAAK7H,EACLiB,UAAWlB,EACXqL,OAAQ,EACR4C,WAAYA,EAAWlnB,IALO,EAOF,EAAK4b,SAAS,QAASrM,EAAvB,sBAAkCA,EAAK2X,YAAclnB,GAA3E2X,EAPwB,EAOxBA,MAAOiQ,EAPiB,EAOjBA,WACf,IAAc,IAAVjQ,EAAJ,CAIA,IAAI9H,EAAY,CACd/I,KAAM,CAAEia,IAAK,CAAC,EAAG,GAAItJ,QAAS,GAC9BvH,GAAI,CAAE6Q,IAAK7H,EAAOzB,QAAS,IAGzB8R,GAAaA,EAAUvpB,KACpB,EAAKwpB,aAAaD,EAAUvpB,GAAIkZ,GAGnCrJ,EAAU/I,KAAKia,IAAM7H,EAFrBrJ,EAAU/I,KAAKia,IAAMwI,EAAUvpB,IAKrB,aAAVqP,IACFQ,EAAUK,GAAGuH,QAAU,GAEzB,IAAMoQ,EAAuB,UAAVxY,EAAoBuY,EAAa,GACpD,OAAO,UAAC,GAAD,OAAWrY,EAAUoI,EAAWkQ,EAAhC,CAA4ChY,UAAWA,EAAWqI,OAAQ,aAIpEiL,QAAO,SAACsG,EAAKC,GAAN,OAAcD,EAAIxhB,OAAOyhB,KAAM,M,oCAG3ClD,GAAc,WAC1B,OAAOA,EAAajd,KAAI,SAACgG,EAAMvP,GAAM,IAC3B6P,EAA4BN,EAA5BM,UAAc8Z,EADa,KACCpa,EADD,eAEnC,OAAO,UAAC,WAAD,KAAU2I,OAAQ,EAAIlY,GAAO2pB,EAA7B,CAAwC9Z,UAAWA,EAAW4S,aAAc,EAAKA,aAAcF,aAAc,EAAKA,qB,qCAkB3Hle,KAAKwO,QAAQiP,aACbzd,KAAKwO,QAAQgQ,KAAK3a,QAAO,SAAA6K,GAAG,MAAkB,aAAdA,EAAI1D,SAAsB7F,SAAQ,SAAAuJ,GAAG,MAAkB,YAAdA,EAAI1D,W,gCAGhC,IAAtCmX,EAAsC,EAAtCA,aAAcD,EAAwB,EAAxBA,UAAWD,EAAa,EAAbA,UAAa,EACdjiB,KAAKuL,YAA5ByU,EADqC,EACrCA,OAAQnN,EAD6B,EAC7BA,WACV0S,EAAa,CACjB9iB,KAAM,CAAEia,IAAK1c,KAAKmjB,OAASnjB,KAAKmjB,OAASnD,GACzCnU,GAAI,CAAE6Q,IAAKsD,IAGb,OADAhgB,KAAKmjB,OAASnD,EAEZ,UAAC,QAAD,CAAOtD,IAAK,CAAC7J,EAAWC,KAAMD,EAAWE,KAAMwL,KAAM,CAAC1L,EAAWK,MAAOL,EAAWM,SACjF,UAAC,QAAD,CAAOuJ,IAAKsD,EAAQxU,UAAW+Z,GAC5BvlB,KAAKwlB,WAAWvD,GAChBjiB,KAAKylB,WAAWvD,GAChBliB,KAAK0lB,cAAcvD,GACnBniB,KAAK2lB,aAAaxD,O,kCAtSzB,IAAM1e,EAAQ,6CADE,EAEUA,EAAMoP,WAAxBM,EAFQ,EAERA,OACF6M,EAAS,CAHC,EAEA9M,MACQ,EAAGC,EAAS,GAIpC,6BAAY1P,EAAZ,CAAmBuc,SAAQhhB,IAFfoF,KAAK4D,IAAL,MAAA5D,KAAY4b,GAAUvc,EAAMwc,a,OAfxB3I,G,2nBCLL,SAAS4C,kBAAOhc,EAAKuF,GAElC,IAAM8K,EAAOrQ,EACLsa,EAAmC/U,EAAnC+U,MAAOmB,EAA4BlW,EAA5BkW,YAAa9G,EAAepP,EAAfoP,WAEtB+S,EAAU,CADU/S,EAAlBK,MAAkBL,EAAXM,QAET0S,EAAYpiB,EAAMoiB,YAAa,EAC/BC,EAAWriB,EAAMqiB,UAAY,EAC7BC,EAAWtiB,EAAMsiB,UAAY,EAC/BC,EAAWviB,EAAMuiB,UAAY,EAE3BC,EAAU,GACVC,EAAY,GACZC,EAAW,GACXC,EAAe,CAAEhT,QAAS,EAAG4D,QAAS,QAEtCqP,EAAYvP,UAAKhb,KAAKkE,KAAM,CAAEkY,QAAS3J,EAAMiK,QAAOmB,gBAC1D,IAAK0M,IAAcA,EAAUpnB,OAC3B,MAAO,CAAEgnB,UAASC,YAAWC,YAE/B,IAAMG,EAAYT,EACd,CAAE5O,MAAO2O,EAAQ,GAAIhpB,MAAOgpB,EAAQ,IACpC,CAAE3O,MAAO2O,EAAQ,GAAIhpB,MAAOgpB,EAAQ,IAClCW,EAAeniB,KAAKC,IAAItE,MAAMC,KAAMqmB,GACpCG,EAAepiB,KAAK4D,IAAIjI,MAAMC,KAAMqmB,GACpCI,EAAiBF,GAAgBA,EAAeC,GAChDE,EAmNR,SAAwBnY,GAEtB,IADA,IAAIoY,EAAO,EACFhrB,EAAI,EAAGqD,EAAMuP,EAAKtP,OAAQtD,EAAIqD,EAAKrD,IACjB,aAArB4S,EAAK5S,GAAG,GAAGqP,OACb2b,IAMJ,OAAOA,GAAQ,EA7NOC,CAAerY,GAE/BsY,EAAYtY,EAAK,GAAGtP,OACtBmZ,EAAM,EAEO,IAAb4N,GACFA,EAAWxN,EACY,GAAlB8N,EAAUrP,MAAe4P,EACP,GAAlBP,EAAUrP,OAAgB4P,EAAYH,GAE3CtO,EAAMI,EAAQwN,EAAWA,EAAWU,GAEpCtO,EAAMI,GACD8N,EAAUrP,MAAQ+O,EAAWa,GAAaA,GAC1CP,EAAUrP,MACT+O,EAAWU,EAAgBG,EAC3Bf,GAAYY,EAAgB,GAAKG,GACnCA,EAGN,IAAMC,EAAoBR,EAAU1pB,OAAS2pB,EAAeC,GAC5D,GAAKhO,EAiHH,IAAK,IAAI7c,EAAI,EAAGqD,EAAM6nB,EAAWlrB,EAAIqD,EAAKrD,IAAK,CAM7C,IALA,IAAIorB,EAAc,EACdC,EAAgB,EAChBpqB,EAAQ,EACRqqB,EAAS,CAAEC,MAAO,IAEb/nB,EAAI,EAAGgoB,EAAO5Y,EAAKtP,OAAQE,EAAIgoB,EAAMhoB,IAAK,CACjD,IAAIioB,EAAerB,EAInBnpB,EAAQ2R,EAAKpP,GAAGxD,GAAGid,iBACnB,IAAIyO,EAAYP,EAAoB1iB,KAAK6U,IAAIrc,GAC3B,IAAdyqB,IACFD,EAAe,GAEjB,IAIItJ,EACFlhB,EAAQ,EACJ0pB,EAAU1pB,OAAS,EAAI6pB,GAAkBO,EACzCV,EAAU1pB,OAAS,EAAI6pB,GAAkBM,EAC3CO,EACF1qB,EAAQ,EACJ0pB,EAAU1pB,MAAQ6pB,EAAiBO,EAAgBK,EACnDf,EAAU1pB,MAAQ6pB,EAAiBM,EACrClL,EAAO,CACTuF,OAAQ,CACNyE,GAAajpB,EAAQ,EAAI,EAAI,EAC7BipB,GAAajpB,EAAQ,EAAI,EAAI,GAE/B2hB,KAAMsH,EACF,CAACwB,EAAYD,EAAcpB,GAC3B,CAACA,EAAUqB,EAAYD,GAC3B1K,IAAKmJ,EACD,CAAC/H,EAAM1F,EAAM,GAAK4N,EAAW5N,GAAOzc,GACpC,CAACyc,EAAM,GAAK4N,EAAW5N,GAAOzc,EArBlCiB,EAAQ,EACJ0pB,EAAU1pB,MAAQ6pB,EAAiBO,EACnCV,EAAU1pB,MAAQ6pB,EAAiBM,GAoBvCpE,MAAOxjB,GAELooB,EAAe1B,EAAY,cAAgB,gBAC3C5O,EAAQ,CACV7D,QAA8B,aAArB7E,EAAKpP,GAAGxD,GAAGqP,MAAuB,EAAI,EAC/C4K,KAAMhZ,EAAM2C,WACZ6hB,OAAQyE,EAAajpB,EAAQ,EAAI,CAAC,EAAG,IAAO,CAAC,EAAG,IAAQ,CAAC,GAAK,GAC9D8f,IAAKmJ,EACD,CAAC/H,IAAQ1F,EAAM4N,GAAY,GAAKA,EAAW5N,GAAOzc,GAClD,EAAEyc,EAAM4N,GAAY,GAAKA,EAAW5N,GAAOzc,EAAG2rB,IAEpDrQ,EAAMsQ,GAAgB,EACG,aAArBhZ,EAAKpP,GAAGxD,GAAGqP,MACb6Q,EAAK0C,KAAOsH,EAAY,CAAC,EAAGhK,EAAK0C,KAAK,IAAM,CAAC1C,EAAK0C,KAAK,GAAI,IAE3D3hB,EAAQ,EACHoqB,GAAgCK,EAChCN,GAA4BM,EACjCJ,EAAOC,MAAMhoB,KAAK2c,IAEpBsK,EAASjnB,KAAK+X,GACdgP,EAAQ/mB,KAAK2c,GAGfoL,EAAS5qB,OAAOyE,OAAOmmB,EAAd,qBACPvK,IAAKmJ,EAAY,CAAC,GAAIzN,EAAM4N,GAAYrqB,GAAK,EAAEyc,EAAM4N,GAAYrqB,EAAG,GACpE4iB,KAAMsH,EACF,CAACS,EAAU1pB,MAAOopB,EAAW5N,GAC7B,CAAC4N,EAAW5N,EAAKkO,EAAU1pB,QAC5BwpB,IAELF,EAAUhnB,KAAK+nB,QArLjB,IAAK,IAAItrB,EAAI,EAAGqD,EAAM6nB,EAAWlrB,EAAIqD,EAAKrD,IAAK,CAM7C,IALA,IAAIgrB,EAAO,EACP/pB,EAAQ,EACR4qB,EAAW,EACXP,EAAS,CAAEC,MAAO,IAEb/nB,EAAI,EAAGgoB,EAAO5Y,EAAKtP,OAAQE,EAAIgoB,EAAMhoB,IAAK,CAIjDqoB,EAAWjZ,EAAKpP,GAAGxD,GAAGiB,MACtBA,EAAQ2R,EAAKpP,GAAGxD,GAAGid,iBACnB,IAAIyO,GAAYP,EAAoB1iB,KAAK6U,IAAIrc,GACzCif,GAAO,CACTuF,OAAQ,CACNyE,GAAajpB,EAAQ,EAAI,EAAI,EAC7BipB,GAAajpB,EAAQ,EAAI,EAAI,GAE/B2hB,KAAMsH,EACF,CAACwB,GAAWrB,EAAW,GACvB,CAACA,EAAW,EAAGqB,IACnB3K,IAAKmJ,EACD,CACES,EAAU1pB,OAAS,EAAI6pB,GACvBrO,EAAM,GACH4N,EAAWF,IAAa3mB,EAAIwnB,IAC5BX,EAAWU,EACVZ,GAAYY,EAAgB,GAC5BtO,GACAzc,GAEN,CACEyc,EAAM,GACH4N,EAAWF,IAAa3mB,EAAIwnB,IAC5BX,EAAWU,EACVZ,GAAYY,EAAgB,GAC5BtO,GACAzc,EACJ2qB,EAAU1pB,MAAQ6pB,IAGD,aAArBlY,EAAKpP,GAAGxD,GAAGqP,OACb6Q,GAAK0C,KAAOsH,EAAY,CAAC,EAAGhK,GAAK0C,KAAK,IAAM,CAAC1C,GAAK0C,KAAK,GAAI,GAC3DoI,KAEAM,EAAOC,MAAMhoB,KAAK2c,IAEpB,IAAI5E,GAAQ,CACV7D,QAA8B,aAArB7E,EAAKpP,GAAGxD,GAAGqP,MAAuB,EAAI,EAC/C4K,KAAM4R,EAASjoB,WACf6hB,OAAQ,CAACyE,GAAajpB,EAAQ,EAAI,EAAI,EAAG,IACzC8f,IAAKmJ,EACD,CACES,EAAU1pB,OAAS,EAAI6pB,GACvBrO,EAAM,GACH4N,EAAWF,IAAa3mB,EAAIwnB,IAC5BX,EAAWU,EACVZ,GAAYY,EAAgB,GAC5BtO,GACAzc,EACS,GAAXqqB,GAEJ,CACE5N,EAAM,GACH4N,EAAWF,IAAa3mB,EAAIwnB,IAC5BX,EAAWU,EACVZ,GAAYY,EAAgB,GAC5BtO,GACAzc,EACS,GAAXqqB,EACFM,EAAU1pB,MAAQ6pB,GAExBgB,OAAQ5B,EAAY,EAAIjpB,EAAQ,EAAI,GAAK,IACzC8qB,YAAa,GAEfzB,EAAQ/mB,KAAK2c,IACbsK,EAASjnB,KAAK+X,IAGhBgQ,EAAS5qB,OAAOyE,OAAOmmB,EAAd,qBAEPvK,IAAKmJ,EACD,CACE,GACCzN,EACC4N,EAAWU,EACXZ,GAAYY,EAAgB,IAC5B/qB,GAEJ,EACGyc,EACC4N,EAAWU,EACXZ,GAAYY,EAAgB,IAC5B/qB,EACF,GAEN4iB,KAAMsH,EACF,CACES,EAAU1pB,MACVopB,EAAWU,EAAgBZ,GAAYY,EAAgB,GAAKtO,GAE9D,CACE4N,EAAWU,EAAgBZ,GAAYY,EAAgB,GAAKtO,EAC5DkO,EAAU1pB,QAEbwpB,IAELF,EAAUhnB,KAAK+nB,GA8EnB,MAAO,CAAEd,WAAUF,UAASC,a,mnBC0Ef1Q,G,YA9Sb,aAAY/R,GAAO,2BACjB,8BAAMA,IADW,0BA+ILwN,UACZ,SAAC2B,EAAO7N,GACN,GAAI,EAAK4iB,OAAO1oB,SAAW2oB,MAAMhV,EAAM3K,KAAO2f,MAAMhV,EAAMgL,GAAI,CAC5D,IAAIC,EAAS,EAD+C,EAE/C9Y,EAAG4Y,kBAAkB/K,EAAM3K,EAAG2K,EAAMgL,GAFW,WAEvD3V,EAFuD,KAEpD2V,EAFoD,KAG5D,GAAK,EAAKrS,YAAYsa,UAKf,CACL,IAAI3S,EAAQ,EAAKyU,OAAO,GAAGpJ,KAAK,GAEhCV,EAASzZ,KAAKyjB,MAAMjK,EAAI1K,OARO,CAE/B,IAAIA,EAAQ,EAAKyU,OAAO,GAAGpJ,KAAK,GAEhCV,EAASzZ,KAAKyjB,MAAM5f,EAAIiL,GAW1B,GALI2K,EAAS,EACXA,EAAS,EACAA,EAAS,EAAK8J,OAAO1oB,OAAS,IACvC4e,EAAS,EAAK8J,OAAO1oB,OAAS,GAE5B,EAAK+d,aAAea,EAAQ,KACxBiK,EAAkB,EAAKvc,YAAvBuc,cACNA,EAAcjK,GAAU,QACxBiK,EAAc,EAAK9K,YAAc,UACjC,EAAK9R,KAAK,gBAAiB4c,GAC3B,EAAKtZ,QAAQiP,aACb,EAAKjP,QAAQyB,KAAK4N,GAAQ7S,MAAQ,QAClC,EAAKgS,WAAaa,MAIxB,IACA,IA/KiB,uBAwLT,WACRtT,QAAQwd,IAAI,cAvLZ,EAAKrjB,KAAO,MACZ,EAAKsjB,QAAU,KACf,EAAKC,MAAQ,KACb,EAAKN,OAAS,KACd,EAAKO,QAAU,KACf,EAAKlL,YAAc,EAPF,E,gEAcJ,WAEPE,EAAcld,KAAKid,gBAAnBC,UACF+I,EAAU/I,EAAU+I,QAAQ/gB,KAAI,SAACoJ,GACnC,MAAO,CACL7K,MAAO6K,EACP7L,KAAM,CACJ8b,KAAM,EAAKhT,YAAYsa,UACnB,CAAC,EAAGvX,EAAKiQ,KAAK,IACd,CAACjQ,EAAKiQ,KAAK,GAAI,IAErB1S,GAAI,CACF0S,KAAMjQ,EAAKiQ,UAIb4H,EAAWjJ,EAAUiJ,SAASjhB,KAAI,SAACoJ,GACrC,MAAO,CACL7K,MAAO6K,EACP7L,KAAM,CACJia,IAAKpO,EAAKoO,KAEZ7Q,GAAI,CACF6Q,IAAKpO,EAAKoO,SAOhB,OAHA1c,KAAKgoB,QAAU/B,EACfjmB,KAAK2nB,OAASzK,EAAUgJ,UACxBlmB,KAAKioB,MAAQ9B,EACN,CAAEF,UAASE,WAAUD,UAAWhJ,EAAUgJ,a,qCAEpC,WACP8B,EAAUhoB,KAAKgoB,QACfC,EAAQjoB,KAAKioB,MACb/K,EAAcld,KAAKid,gBAAnBC,UACF+I,EAAU/I,EAAU+I,QAAQ/gB,KAAI,SAACijB,EAAYxsB,GAC/C,IAAIysB,EAAOJ,EAAQrsB,GAAKqsB,EAAQrsB,GAAKuhB,EAAU+I,QAAQtqB,EAAI,GAQ3D,OAPKysB,IACHA,EAAO,CACL7J,KAAM,CAAC,EAAG,GACV7B,IAAKyL,EAAWzL,IAChB2L,WAAY,OAGT,CACL5kB,MAAO0kB,EACP1lB,KAAM,CACJ8b,KAAM6J,EAAK3kB,MAAM6kB,QACb,EAAKpd,KAAK,aACR,CAAC,EAAGkd,EAAK3kB,MAAM8a,KAAK,IACpB,CAAC6J,EAAK3kB,MAAM8a,KAAK,GAAI,GACvB6J,EAAK3kB,MAAM8a,KACf7B,IAAK0L,EAAK3kB,MAAMiZ,KAElB7Q,GAAI,CACF0S,KAAM4J,EAAW5J,KACjB7B,IAAKyL,EAAWzL,SAIlByJ,EAAWjJ,EAAUiJ,SAASjhB,KAAI,SAACqjB,EAAU5sB,GAC/C,IAAIysB,EAAOH,EAAMtsB,GAAKssB,EAAMtsB,GAAKuhB,EAAUiJ,SAASxqB,EAAI,GAMxD,OALKysB,IACHA,EAAO,CACL1L,IAAKyL,WAAWzL,MAGb,CACLjZ,MAAO8kB,EACP9lB,KAAM,CACJia,IAAK0L,EAAK3kB,MAAMiZ,KAElB7Q,GAAI,CACF6Q,IAAK6L,EAAS7L,SAOpB,OAHA1c,KAAKgoB,QAAU/B,EACfjmB,KAAK2nB,OAASzK,EAAUgJ,UACxBlmB,KAAKioB,MAAQ9B,EACN,CAAEF,UAASE,WAAUD,UAAWhJ,EAAUgJ,a,sCAGjD,IAAI3a,EAAcvL,KAAKuL,YACnB+R,EAAatd,KAAKwO,QAAQjD,EAAY8H,UAGtC6J,GADFI,EAAWre,OAAS,EAAIqe,EAAWre,OAASqe,EAAW,GAAGre,OAC5Cib,kBAAOpe,KAAKkE,KAAMsd,EAAY/R,IACjCvL,KAAK2T,MAAMQ,OACXnU,KAAKge,aAWlB,OAVAd,EAAU+I,QAAU/I,EAAU+I,QAAQ/gB,KAAI,SAACuQ,EAAK9Z,GAQ9C,OAAO8Z,KAEF,CAAEyH,e,yEAMT,IAAII,EAAatd,KAAKwO,QAAL,KAMjB,MAAO,CACL+D,MAAO,MACPuV,cAPermB,MAAMgB,KACrB,CAAExD,OAAQqe,EAAW,GAAGre,SACxB,iBAAM,aAMN8L,OAAQ,CACNyd,SAAU,CACRhd,UAAW,CAAEF,SAAU,IACvBzL,QAAS,CAAEuT,QAAS,KACpB7F,MAAO,CAAE6F,QAAS,S,sCAOxB,MAAO,K,mCAoCIxT,EAAGmF,GACd/E,KAAKwO,QAAQiP,aADK,IAEZqK,EAAkB9nB,KAAKuL,YAAvBuc,cACNA,EAAc9nB,KAAKgd,YAAc,UACjChd,KAAKkL,KAAK,gBAAiB4c,GAC3B9nB,KAAKgd,YAAc,I,6BAMdzO,GAAM,aACiCvO,KAAKuL,YAA3CsH,EADK,EACLA,WAAYiV,EADP,EACOA,cAAe/c,EADtB,EACsBA,OAC3BiJ,EAAShU,KAAKge,aAChBV,EAAatd,KAAKwO,QAAQxO,KAAKuL,YAAY8H,UACzCoV,EACJnL,EAAWre,OAAS,EAAIqe,EAAWre,OAASqe,EAAW,GAAGre,OACxDkV,EAASnU,KAAK2T,MAAMQ,OACxB,OACE,UAAC,QAAD,CACEuI,IAAK,CAAC7J,EAAWC,KAAMD,EAAWE,KAClCwL,KAAM,CAAC1L,EAAWK,MAAOL,EAAWM,QACpC+K,aAAcle,KAAKke,aACnBE,aAAcpe,KAAKse,YACnBA,YAAate,KAAKse,YAClBG,QAASze,KAAK0oB,SAGd,UAAC,QAAD,CAAOre,IAAI,UAAU4T,MAAM,iBACxB1P,EAAK0X,QAAQ/gB,KAAI,SAACyjB,EAAQzb,GACzB,IAAIgC,EAAO,EAAKV,QAAQgQ,KAAKtR,EAAMoQ,EAAWre,QAC5CmF,KAAKyjB,MAAM3a,EAAMoQ,EAAWre,SAExBqU,EAAQiE,SACZ,EACA,SACA,CAAC,kBACGP,QAAS7C,EAAOjH,EAAMub,IAAgBE,EAAOllB,OAC/CuQ,EAAOyB,KAET,CACEvG,EAAKX,KACLnK,KAAKyjB,MAAM3a,EAAMoQ,EAAWre,QAC5BiO,EAAMoQ,EAAWre,SAGfskB,EAAahM,SACjB,EACA,eACA,GACA,CACErI,EAAKX,KACLnK,KAAKyjB,MAAM3a,EAAMoQ,EAAWre,QAC5BiO,EAAMoQ,EAAWre,SAMrB,MAHmB,UAAfiQ,EAAKlE,OACP2F,gBAAgB2C,EAAOiQ,GAGvB,UAAC,SAAD,OACMoF,EAAOllB,MACPklB,EAAOlmB,KACP6Q,EAHN,CAIE9H,UAAW,CAAE/I,KAAMkmB,EAAOlmB,KAAMoJ,GAAI8c,EAAO9c,UAIhD0C,EAAK4X,SAASjhB,KAAI,SAAC0Q,EAAM1I,GACxB,IAAI0b,EAAWjqB,IAAY4P,EAAK0X,QAAQ/Y,GAAKzJ,MAAO,CAAC,MAAO,SACxDolB,EAAYtR,SACd,EACA,OACA,CAAC,CAAEqR,SAAUA,GAAY5U,EAAO4B,MAChC,CACE,EAAKpH,QAAQgQ,KAAKtR,EAAMoQ,EAAWre,QACjCmF,KAAKyjB,MAAM3a,EAAMoQ,EAAWre,SAC5BsP,KACFnK,KAAKyjB,MAAM3a,EAAMoQ,EAAWre,QAC5BiO,EAAMoQ,EAAWre,SASrB,OANA4pB,EAAYlqB,IAAYkqB,EAAW,GAAI,CAAC,cAC1BnM,MACZ,EAAKuL,MAAM/a,GAAKzJ,MAAMiZ,IAAMmM,EAAUnM,IACtC9G,EAAK/J,GAAG6Q,IAAMmM,EAAUnM,MAGL,IAAdmM,EAAsB,KAC3B,UAAC,QAAD,OACMjT,EAAKnS,MACLolB,EAFN,CAGErd,UAAW,CACT/I,KAAMmT,EAAKnT,KACXoJ,GAAI+J,EAAK/J,WAMnB,UAAC,QAAD,CAAOxB,IAAI,WAAW4T,MAAM,mBACzB1P,EAAK2X,UAAUhhB,KAAI,SAACyjB,EAAQzb,GAC3B,IAAIoG,EAAQiE,SACV,EACA,mBACA,GACA,CACE,EAAK/I,QAAQgQ,KAAKtR,EAAMoQ,EAAWre,QACnCmF,KAAKyjB,MAAM3a,EAAMoQ,EAAWre,UAGhC,OAAiB,IAAVqU,EAAkB,KACvB,UAAC,SAAD,KACEtI,MAAO8c,EAAc5a,GACrBnC,OAAQA,EAAOyd,UACXG,EACArV,W,kCAzRhB,OADY,+C,KAZE/B,GCJH,SAAS2I,uBAAOhc,EAAKuF,GAElC,IAAM8K,EAAOrQ,EACLsa,EAAgE/U,EAAhE+U,MAAOmB,EAAyDlW,EAAzDkW,YAAa9G,EAA4CpP,EAA5CoP,WAAYiW,EAAgCrlB,EAAhCqlB,cAAe5J,EAAiBzb,EAAjByb,aAEjD0G,EAAU,CADU/S,EAAlBK,MAAkBL,EAAXM,QAET2S,EAAWgD,GAAiB,EAC5B/C,EAAWtiB,EAAMsiB,UAAY,EAE7B9F,EAASxc,EAAMwc,QAAU,EACzB8I,EAAiBtlB,EAAM4d,aAAe,EAGtC4E,GAFWxiB,EAAMulB,SAEP,IAKV3C,EAAYvP,UAAKhb,KAAKkE,KAAM,CAAEkY,QAAS3J,EAAMiK,QAAOmB,gBAC1D,IAAK0M,IAAcA,EAAUpnB,OAC3B,MAAO,CAAEgnB,WAGX,IAAMK,EAAYliB,KAAK4D,IAAI4d,EAAQ,GAAIA,EAAQ,IACzCW,EAAeniB,KAAKC,IAAItE,MAAMC,KAAMqmB,GACpCG,EAAepiB,KAAK4D,IAAIjI,MAAMC,KAAMqmB,GACpCI,EAAiBF,GAAgBA,EAAeC,GAChDE,EAyHR,SAAwBnY,GAEtB,IADA,IAAIoY,EAAO,EACFhrB,EAAI,EAAGqD,EAAMuP,EAAKtP,OAAQtD,EAAIqD,EAAKrD,IACjB,aAArB4S,EAAK5S,GAAG,GAAGqP,OACb2b,IAMJ,OAAOA,GAAQ,EAnIOC,CAAerY,GAE/BsY,EAAYtY,EAAK,GAAGtP,OACpBgqB,EAAiB,GAAMhJ,EAASqG,EAChCQ,EAAoBmC,GAAkB1C,EAAeC,GAC3D,GAAKhO,EA8DH,IAAK,IAAI7c,EAAI,EAAGqD,EAAM6nB,EAAWlrB,EAAIqD,EAAKrD,IAOxC,IANA,IAAIorB,EAAc,EACdC,EAAgB,EAChBpqB,EAAQ,EACRqqB,EAAS,CAAEC,MAAO,IAClBgC,GAAwB,EAAV9kB,KAAKgC,GAASygB,EAAYf,GAAYe,EAE/C1nB,EAAI,EAAGgoB,EAAO5Y,EAAKtP,OAAQE,EAAIgoB,EAAMhoB,IAAK,CAIjD,IAAI6f,GAAckK,EAAapD,GAAYnqB,EAAc,GAAVyI,KAAKgC,GAEhDihB,EAAYP,GADhBlqB,EAAQ2R,EAAKpP,GAAGxD,GAAGiB,OAEfykB,EACFzkB,EAAQ,EACJqsB,GAAkB,EAAIxC,GAAkBO,EACxCiC,GAAkB,EAAIxC,GAAkBM,EAG1ClL,EAAO,CACTwF,YAHFA,GAA4B0H,EAAiBzC,EAAY,GAIvD5E,YAAaL,EAAcgG,EAAYtB,EACvC/G,WAA0B,IAAbA,EAAoB5a,KAAKgC,GACtC6Y,SAAuC,KAA3BD,EAAakK,GAAqB9kB,KAAKgC,GACnDxJ,MAAO2R,EAAKpP,GAAGxD,GAAGiB,MAClBgZ,KAAMrH,EAAKpP,GAAGxD,GAAGia,KACjB5K,MAAOuD,EAAKpP,GAAGxD,GAAGqP,MAClBuD,KAAMA,EAAKpP,GAAGxD,GAAG4S,KACjBgR,UAVc,CAAC,EAAG,IAaD,UAAf1D,EAAK7Q,MACP6Q,EAAKjH,YAAc,cAEZiH,EAAKjH,YAEK,aAAfiH,EAAK7Q,MACP6Q,EAAKzI,QAAU,GAEfyI,EAAKzI,QAAU,EACfxW,EAAQ,EACHoqB,GAAgCK,EAChCN,GAA4BM,EACjCJ,EAAOC,MAAMhoB,KAAK2c,IAEpBoK,EAAQ/mB,KAAK2c,QA1GjB,IAAK,IAAIlgB,EAAI,EAAGqD,EAAM6nB,EAAWlrB,EAAIqD,EAAKrD,IAMxC,IALA,IAAIgrB,EAAO,EAEPM,EAAS,CAAEC,MAAO,IAClBgC,GAAwB,EAAV9kB,KAAKgC,GAASygB,EAAYf,GAAYe,EAE/C1nB,EAAI,EAAGgoB,EAAO5Y,EAAKtP,OAAQE,EAAIgoB,EAAMhoB,IAAK,CAIjD,IAAIgqB,EAAWD,EAAaxC,EACxB1H,GACDkK,EAAapD,GAAYnqB,EAAIwtB,GAAYhqB,EAAIwnB,GAAkB,GAAVviB,KAAKgC,GAGzDib,EACF4H,GAAkB,EAAIxC,GACtBsC,EAAiBzC,EAAY,GAG3BzK,EAAO,CACTwF,YAAaA,EACbK,YAAaL,EARCyF,EADRvY,EAAKpP,GAAGxD,GAAGid,iBAUjBoG,WAA0B,IAAbA,EAAoB5a,KAAKgC,GACtC6Y,SAAqC,KAAzBD,EAAamK,GAAmB/kB,KAAKgC,GACjDxJ,MAAO2R,EAAKpP,GAAGxD,GAAGiB,MAClBgZ,KAAMrH,EAAKpP,GAAGxD,GAAGia,KACjB5K,MAAOuD,EAAKpP,GAAGxD,GAAGqP,MAClBuD,KAAMA,EAAKpP,GAAGxD,GAAG4S,KACjB7F,GAAI/M,EAAIwrB,EAAOhoB,EACfogB,UAXc,CAAC,EAAG,IAapB,GAAmB,UAAf1D,EAAK7Q,MAAmB,CAC1B,IAAI0U,IAAa7D,EAAKmD,WAAanD,EAAKoD,UAAY,EAAK,IACzDpD,EAAK+D,eAA6BF,GA6F1B,IAAOtb,KAAKgC,GA3FpByV,EAAK0D,UAAY,CACfL,EAAe9a,KAAK+B,IAAI0V,EAAK+D,gBAC7BV,EAAe9a,KAAKkC,IAAIuV,EAAK+D,iBAId,aAAf/D,EAAK7Q,OACP6Q,EAAKoD,SAAWpD,EAAKmD,WACrBnD,EAAKoE,OAAS,EACdpE,EAAKzI,QAAU,EACfuT,MAEA9K,EAAKzI,QAAU,EACf6T,EAAOC,MAAMhoB,KAAK2c,IAEhBgL,EAAY,WACPhL,EAAKmD,kBACLnD,EAAKoD,UAEdgH,EAAQ/mB,KAAK2c,GAwDnB,MAAO,CAAEoK,W,uoBCwBIlQ,G,YApKb,kBAAYtS,GAAO,iCACjB,mCAAMA,KACDiB,KAAO,WACZ,EAAKsjB,QAAU,GACf,EAAKhL,YAAc,EACnB,EAAKrT,MAAQ,KALI,E,0EAeJ,IAEPuT,EAAcld,KAAKid,gBAAnBC,UAUN,OATAld,KAAKgoB,QAAU9K,EAAU+I,QASlB,CAAEA,QARK/I,EAAU+I,QAAQ/gB,KAAI,SAACoJ,GACnC,MAAO,CACL7L,KAAM,CACJwc,SAAU3Q,EAAK0Q,YAEjBnT,GAAIyC,S,qCAMR,IAAM0Z,EAAUhoB,KAAKgoB,QACftL,EAAQ1c,KAAKuL,YAAbmR,IACAQ,EAAcld,KAAKid,gBAAnBC,UACF+I,EAAU/I,EAAU+I,QAAQ/gB,KAAI,SAACijB,EAAYxsB,GAC/C,IAAIof,EAAS,CACX2B,EAAI,GAAKyL,EAAW5I,UAAU,GAC9B7C,EAAI,GAAKyL,EAAW5I,UAAU,IAGhC,OADA4I,EAAWzL,IAAM3B,EACV,CACLtY,KAAM,yBAAKulB,EAAQrsB,IACnBkQ,GAAI,yBAAKsc,OAIb,OADAnoB,KAAKgoB,QAAU9K,EAAU+I,QAClB,CAAEA,a,sCAEK,WACV1a,EAAcvL,KAAKuL,YACnB+R,EAAatd,KAAKwO,QAAQjD,EAAY8H,UAC1C,IAAKiK,GAAoC,IAAtBA,EAAWre,OAC5B,MAAO,CAAEgnB,QAAS,IAEpB,IAAMwC,EACJnL,EAAWre,OAAS,EAAIqe,EAAWre,OAASqe,EAAW,GAAGre,OAC5De,KAAKopB,UAAY3nB,MAAMgB,KAAK,CAAExD,OAAQqe,EAAWre,SAAU,WACzD,OAAO,KAET,IAAIie,EAAYhD,uBAAOpe,KAAKkE,KAAMsd,EAAY/R,GAC1C4I,EAASnU,KAAK2T,MAAMQ,OACpBH,EAAShU,KAAKge,aAsBlB,OApBAd,EAAU+I,QAAQ9gB,SAAQ,SAACsQ,EAAK9Z,GAC9B,IAAI2X,EAAQ,EAAKA,MAAM,SAAX,CAAqBmC,EAAIhS,MAAO,EAAK+K,QAAQgQ,KAAK7iB,GAAIA,GAClE8Z,EAAIK,UAAYL,EAAIK,WAAa3B,EAAOxY,EAAI8sB,GAC5ChT,EAAIb,YAAcrJ,EAAYqJ,aAAe,OAC7Ca,EAAIiH,IAAMnR,EAAYmR,IAEnBjH,EAAIjY,eAAe,eACnBiY,EAAIjY,eAAe,YAIpBiY,EAAIf,UAAY,EAFhBe,EAAIf,UAAY,EAIlB,IAAI2U,EAAW1Y,gBACb,CAAEqG,QAASvB,EAAIuB,SAAW7C,EAAOxY,EAAI8sB,IACrCzU,EAAOyB,IACPnC,GAEFmC,EAAM9E,gBAAgB8E,EAAK4T,MAEtB,CAAEnM,e,yEAOT,MAAO,CACL3K,MAAO,MAEP2M,aAAc,M,sCAKhB,MAAO,K,mCAGI,WACXlf,KAAK2J,MAAQ1J,YAAW,WACtB,EAAKuO,QAAQiP,aACb,EAAKT,YAAc,IAClB,O,gCAGKpd,EAAGmF,GACX7E,aAAaF,KAAK2J,OAElB,IAAI2T,EAAatd,KAAKsd,aAClBpQ,EAAMnI,EAAGmG,KAAK,UACdoe,EAAWllB,KAAKyjB,MAAM3a,EAAMoQ,EAAWre,QACvCqqB,IAAatpB,KAAKgd,aACpBhd,KAAKwO,QAAQiP,aACbzd,KAAKwO,QAAsC,SAA9BxO,KAAKuL,YAAY8H,SAAsB,OAAS,QAC3DiW,GACAte,MAAQ,QACVhL,KAAKgd,WAAasM,K,qCAKP1pB,EAAGmF,GAChBwF,QAAQwd,IAAIhjB,K,mCAGZ,IAAIwG,EAAcvL,KAAKuL,YACvB,OAAOvL,KAAKwO,QAAQjD,EAAY8H,Y,6BAE3B9E,GAAM,aACmCvO,KAAKuL,YAE/CyI,GAHO,EACLnB,WADK,EACO0O,cADP,EACsBV,SACpB7gB,KAAK2T,MAAMQ,OACXnU,KAAKge,cAClB,OACE,UAAC,QAAD,CAAOC,MAAM,YAAY5T,IAAI,QAC3B,UAAC,QAAD,CAAO4T,MAAM,cAAcC,aAAcle,KAAKwhB,YAC3CjT,EAAK0X,QAAQ/gB,KAAI,SAACuc,EAAMvU,GACvB,IAAIoG,EAAQiE,SACV,EACA,SACA,CACE,CACEoK,OAAQzU,GAEV8G,EAAOoB,QAET,CAAC,EAAK5G,QAAQgQ,KAAKtR,GAAMA,IAE3B,MAAsB,aAAfuU,EAAKzW,QAAkC,IAAVsI,EAClC,UAACe,KAAD,MAEA,UAAC,OAAD,KACEiK,YAAa,EAAKsD,WACdtO,EAFN,CAGE9H,UAAW,CAAE/I,KAAMgf,EAAKhf,KAAMoJ,GAAI4V,EAAK5V,c,kCAlJnD,IAAIpI,EAAQ,gDAFI,EAGmBA,EAAMoP,WAAnCM,EAHU,EAGVA,OAAQD,EAHE,EAGFA,MAAOH,EAHL,EAGKA,IAAKD,EAHV,EAGUA,KAE1B,OADArP,EAAMiZ,IAAM,CAAC5J,EAAOI,EAAQ,EAAGH,EAAMI,EAAS,GACvC1P,M,UAbY8N,GCLR,SAAS2I,qBAAOhc,EAAKuF,GAYlC,IAVA,IAAM8K,EAAOrQ,EACLqrB,EAA+B9lB,EAA/B8lB,MAAOC,EAAwB/lB,EAAxB+lB,QAAS3W,EAAepP,EAAfoP,WAChBK,EAAkBL,EAAlBK,MAAOC,EAAWN,EAAXM,OAETsW,EAAW,GAEXplB,EAAMnG,EAAI,GAAG,GAAGtB,MAChB8sB,EAAexW,EAAQ7O,EACvBslB,EAgFR,SAAwBpb,GAEtB,IADA,IAAIoY,EAAO,EACFhrB,EAAI,EAAGqD,EAAMuP,EAAKtP,OAAQtD,EAAIqD,EAAKrD,IACjB,aAArB4S,EAAK5S,GAAG,GAAGqP,OACb2b,IAGS,IAATA,GACFpc,QAAQiG,KAAK,iBAEf,OAAOmW,GAAQ,EA1FKC,CAAerY,GAC/BoY,EAAO,EACFhrB,EAAI,EAAGqD,EAAMuP,EAAKtP,OAAQtD,EAAIqD,EAAKrD,IAAK,CAC/C,IAAIiuB,EAAU,CAAEC,OAAO,EAAMnV,UAAW,EAAGgG,OAAQ,IAC7C9d,EAAQ2R,EAAK5S,GAAG,GAAGiB,MACrB2P,EAAS,EACTud,EAAa,CAAC,EAAG,IAgBrB,GAfc,WAAVP,GACFO,EAAa,CAAC,GAAK,IACnBvd,EAAS,IACU,UAAVgd,IACThd,EAAS,EACTud,EAAa,CAAC,EAAG,KAEnBF,EAAQlP,OAAOxb,MACZmF,EAAMzH,GAAS2P,EAASmd,EACxBvW,GAAUxX,EAAIgrB,GAASgD,GAE1BC,EAAQlP,OAAOxb,MACZmF,EAAMkI,EAAS3P,GAAS,EAAI2P,IAAWmd,EACvCvW,GAAUxX,EAAIgrB,GAASgD,GAEtBhuB,EAAIgrB,EAAO,EAAIgD,EAAa,CAG9B,IAFA,IAAII,EAAU,EAEwB,aAA/Bxb,EAAK5S,EAAIouB,GAAS,GAAG/e,OAC1B+e,IAEF,IAAMC,EAAYzb,EAAK5S,EAAIouB,GAAS,GAAGntB,MAEvCgtB,EAAQlP,OAAOxb,MACZmF,EAAMkI,EAASyd,GAAa,EAAIzd,IAAWmd,EAC3CvW,GAAUxX,EAAIgrB,EAAO,GAAMgD,GAE9BC,EAAQlP,OAAOxb,MACZmF,EAAM2lB,GAAazd,EAASmd,EAC5BvW,GAAUxX,EAAIgrB,EAAO,GAAMgD,QAG1BH,EACFI,EAAQlP,OAAOxb,KAAKqN,EAAS2G,EAAOC,IAEpCyW,EAAQlP,OAAOxb,MACZmF,EAAMkI,EAAS3P,GAAS,EAAI2P,IAAWmd,EACvCvW,GAAUxX,EAAIgrB,EAAO,GAAMgD,GAE9BC,EAAQlP,OAAOxb,MACZmF,EAAMzH,GAAS2P,EAASmd,EACxBvW,GAAUxX,EAAIgrB,EAAO,GAAMgD,IAIlCC,EAAQxW,QAAU,EACO,aAArB7E,EAAK5S,GAAG,GAAGqP,QACb4e,EAAQlP,OAAO,GAAKkP,EAAQlP,OAAO,GACnCkP,EAAQlP,OAAO,GAAKkP,EAAQlP,OAAO,GAEnCkP,EAAQlP,OAAO,GAAKkP,EAAQlP,OAAO,GACnCkP,EAAQlP,OAAO,GAAKkP,EAAQlP,OAAO,GAEnCkP,EAAQxW,QAAU,EAClBuT,KAEFiD,EAAQvB,WAAa,CACnBjV,QAA+B,cAArB7E,EAAK5S,GAAG,GAAGqP,MAAuB,EAAI,EAChD4K,KAAMxR,KAAK0V,MAAO,IAAMld,EAASyH,GAAO,IACxC+c,OAAQ0I,EACRpN,IAAK,CACHxJ,EAAQ3G,EAA0B,IAAhB,GAAMA,IACtB5Q,EAAIgrB,EAAO,IAAOxT,EAAUwW,GAEhC7T,UAAW,OACXD,SAAU,QAEZ4T,EAASvqB,KAAK0qB,GAGhB,OAAOH,E,+nBCkGMzT,G,YArLb,gBAAYvS,GAAO,8BACjB,iCAAMA,IADW,0BA4GLwN,UACZ,SAAC2B,EAAO7N,GACN,GAAI,EAAK4iB,OAAO1oB,SAAW2oB,MAAMhV,EAAM3K,KAAO2f,MAAMhV,EAAMgL,GAAI,CAC5D,IAAIC,EAAS,EAD+C,EAE/C9Y,EAAG4Y,kBAAkB/K,EAAM3K,EAAG2K,EAAMgL,GAFW,WAEvD3V,EAFuD,KAEpD2V,EAFoD,KAG5D,GAAK,EAAKrS,YAAYsa,UAKf,CACL,IAAI3S,EAAQ,EAAKyU,OAAO,GAAGpJ,KAAK,GAEhCV,EAASzZ,KAAKyjB,MAAMjK,EAAI1K,OARO,CAE/B,IAAIA,EAAQ,EAAKyU,OAAO,GAAGpJ,KAAK,GAEhCV,EAASzZ,KAAKyjB,MAAM5f,EAAIiL,GAW1B,GALI2K,EAAS,EACXA,EAAS,EACAA,EAAS,EAAK8J,OAAO1oB,OAAS,IACvC4e,EAAS,EAAK8J,OAAO1oB,OAAS,GAE5B,EAAK+d,aAAea,EAAQ,KACxBiK,EAAkB,EAAKvc,YAAvBuc,cACNA,EAAcjK,GAAU,QACxBiK,EAAc,EAAK9K,YAAc,UACjC,EAAK9R,KAAK,gBAAiB4c,GAC3B,EAAKtZ,QAAQiP,aACb,EAAKjP,QAAQyB,KAAK4N,GAAQ7S,MAAQ,QAClC,EAAKgS,WAAaa,MAIxB,IACA,IA5IiB,uBAqJT,WACRtT,QAAQwd,IAAI,cApJZ,EAAKrjB,KAAO,SACZ,EAAK+kB,SAAW,KAEhB,EAAKzM,YAAc,EALF,E,sEAYJ,IAEPyM,EAAazpB,KAAKid,gBAAlBwM,SAgCN,OA/BAA,EAAWA,EAASvkB,KAAI,SAAC+kB,GACvB,MAAO,CACLxnB,KAAM,CACJiY,OACwB,IAAtBuP,EAAIvP,OAAOzb,OACP,CACEgrB,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,IAEb,CACEuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,GACXuP,EAAIvP,OAAO,KAGrB7O,GAAI,qBACF6Q,IAAK,CAAC,EAAG,IACNuN,OAITjqB,KAAKypB,SAAWA,EACT,CAAEA,c,qCAGT,IAAIS,EAAclqB,KAAKypB,SACjBA,EAAazpB,KAAKid,gBAAlBwM,SAYN,OAXAA,EAAWA,EAASvkB,KAAI,SAAC0kB,EAASjuB,GAChC,MAAO,CACL8G,KAAM,CACJiY,OAAQwP,EAAYvuB,GAAGkQ,GAAG6O,QAE5B7O,GAAI,uBACC+d,OAIT5pB,KAAKypB,SAAWA,EACT,CAAEA,c,sCAEK,WACVle,EAAcvL,KAAKuL,YAEnBke,EAAWvP,qBADEla,KAAKwO,QAAQjD,EAAY8H,UACR9H,GAC9B4I,EAASnU,KAAK2T,MAAMQ,OACpBH,EAAShU,KAAKge,aAWlB,MAAO,CAAEyL,SAVTA,EAAWA,EAASvkB,KAAI,SAAC+kB,EAAKtuB,GAC5B,IAAI2X,EAAQ,EAAKA,MAAM,UAAX,CAAsB2W,EAAIxmB,MAAO,EAAK+K,QAAQgQ,KAAK7iB,GAAIA,GAC/DwuB,EAAWxZ,gBACb,CAAEmF,UAAWmU,EAAIjT,SAAW7C,EAAOxY,IACnCqY,EAAOiC,OACP3C,GAGF,OADA2W,EAAMtZ,gBAAgBsZ,EAAKE,S,yEAS7B,IAAI7M,EAAatd,KAAKwO,QAAL,KAMjB,MAAO,CACL+D,MAAO,MACPuV,cAPermB,MAAMgB,KACrB,CAAExD,OAAQqe,EAAW,GAAGre,SACxB,iBAAM,aAMN8L,OAAQ,CACNyd,SAAU,CACRhd,UAAW,CAAEF,SAAU,IACvBzL,QAAS,CAAEuT,QAAS,KACpB7F,MAAO,CAAE6F,QAAS,S,sCAOxB,MAAO,K,mCAoCIxT,EAAGmF,GACd/E,KAAKwO,QAAQiP,aADK,IAEZqK,EAAkB9nB,KAAKuL,YAAvBuc,cACNA,EAAc9nB,KAAKgd,YAAc,UACjChd,KAAKkL,KAAK,gBAAiB4c,GAC3B9nB,KAAKgd,YAAc,I,6BAMdzO,GAAM,MACiCvO,KAAKuL,YAA3CsH,EADK,EACLA,WADK,EACOiV,cADP,EACsB/c,OAEjC,OACE,UAAC,QAAD,CACEkT,MAAM,YACN5T,IAAI,OACJqS,IAAK,CAAC7J,EAAWC,KAAMD,EAAWE,KAClCwL,KAAM,CAAC1L,EAAWK,MAAOL,EAAWM,SAEpC,UAAC,QAAD,CAAO9I,IAAI,UAAU4T,MAAM,gBAAgBjH,QAAS,QACjDzI,EAAKkb,SAASvkB,KAAI,SAACyjB,EAAQzb,GAC1B,OACE,UAAC,WAAD,OACMyb,EAAOlmB,KADb,CAEE+I,UAAW,CAAE/I,KAAMkmB,EAAOlmB,KAAMoJ,GAAI8c,EAAO9c,c,kCA9JvD,OADY,kD,QAVK0F,G,2pBCArB,IAAM6Y,oBAAe,SAAC7b,GACpB,OAAoB,IAAhBA,EAAKtP,OACA,CAAC,EAAG,GAIN,CAFKmF,KAAK4D,IAAL,MAAA5D,KAAI,IAAQmK,IACZnK,KAAKC,IAAL,MAAAD,KAAI,IAAQmK,MAIpB8b,mBAAc,SAAC9b,GACnB,GAAoB,IAAhBA,EAAKtP,OACP,MAAO,CAAC,EAAG,GAFe,MAITmrB,oBAAa7b,GAJJ,WAIrBvG,EAJqB,KAIhB3D,EAJgB,KAO5B,MAAO,CAAK,IAFFD,KAAK0V,MAAM9R,EAAM,IAAM,GAEb,IADV5D,KAAK0V,MAAMzV,EAAM,IAAM,KAI7BimB,wBAAmB,SAACnS,EAASoS,GAAe,IACxCviB,EAAauiB,EAAbviB,IAAK3D,EAAQkmB,EAARlmB,IACO,WAAhB0M,OAAO/I,KACTmQ,EAAQ,GAAKnQ,GAEK,WAAhB+I,OAAO1M,KACT8T,EAAQ,GAAK9T,IAIF,SAAS6V,sBAAOhC,EAASqG,EAAMiM,GAAW,UAC/BjM,EAD+B,GAChDrL,EADgD,KACzCC,EADyC,OAGR+E,EAAQ7J,OAAzCoc,EAHyC,EAG/C7U,KAAwB8U,EAHuB,EAG9B9tB,MACnB+tB,EAAU,IAAIzS,GAGdiF,EAASiN,oBAAalS,EAAQsG,KAAKtZ,KAAI,SAACjJ,GAAD,OAAOA,EAAEgD,WAAS,GAE3D2rB,EAAU,CAAC,EAAGzN,EAAS,GACvB0N,EAAW,CAAC,EAAG1N,EAAS,GACtB2N,EAAcH,EAAQvI,MAAK,SAACnmB,GAAD,MAA0B,WAAnB8U,OAAO9U,EAAE2Z,SACjD,IAAKkV,EAAa,CAChBD,EAAWR,mBAAYM,EAAQzlB,KAAI,SAACjJ,GAAD,OAAOA,EAAE2Z,SAC5C,IAAMmV,EAAUjU,UAAKhb,KAAKkE,KAAM,CAC9BkY,QAAS3J,KACTiK,OAAO,EACPwS,MAAOP,EACPtS,QAAS0S,IAEXD,EAAUR,oBAAaW,GAIzB,GADoBJ,EAAQvI,MAAK,SAACnmB,GAAD,MAA2B,WAApB8U,OAAO9U,EAAEW,UAE/C,MAAM,IAAI0M,MAAM,mDAElB,IAAI2hB,EAAWZ,mBAAYM,EAAQzlB,KAAI,SAACjJ,GAAD,OAAOA,EAAE2c,qBAC1CsS,EAAUpU,UAAKhb,KAAKkE,KAAM,CAC9BkY,QAAS3J,KACTiK,OAAO,EACPwS,MAAO,mBACP7S,QAAS8S,IAELE,EAAUf,oBAAac,GAEzBV,IACEA,EAAUC,IACZH,wBAAiBO,EAAUL,EAAUC,IAEnCD,EAAUE,IACZJ,wBAAiBW,EAAUT,EAAUE,KAIzC,IAAMU,EAAe,GACrBA,EAAaX,GAAa,CAAEziB,IAAK6iB,EAAS,GAAIxmB,IAAKwmB,EAAS,IAC5DO,EAAaV,GAAc,CAAE1iB,IAAKijB,EAAS,GAAI5mB,IAAK4mB,EAAS,IAE7D,IAAMI,EAAUzT,cACbC,OAAO+S,GACP9S,MAAM,CAAC,EAAG5E,IACPoY,EAAU1T,cACbC,OAAOsT,GACPrT,MAAM,CAAC,EAAG3E,IAwBb,MAAO,CAAE5E,KAtBU2J,EAAQsG,KAAKtZ,KAAI,SAACqmB,GACnC,IAAM9nB,EAAQ8nB,EAAMrmB,KAAI,SAACjJ,EAAGN,GAC1B,IAAMsM,EAAI6iB,EAAcnvB,EAAIM,EAAE2Z,KACxBgI,EAAI3hB,EAAE2c,iBAEZ,MAAO,CACL8D,IAFU,CAAC2O,EAAQpjB,GAAIkL,EAASmY,EAAQ1N,IAGxCqC,OAAQ,EACRmB,OAAQ,CAAC,EAAG,GACZyB,WAAY,+BAAK5mB,EAAEsS,MACnBvD,MAAO/O,EAAE+O,MACT9O,KAAMqvB,EAAMrvB,KACZyS,IAAK1S,EAAE0S,IACPD,IAAKzS,EAAEyS,QAGX,MAAO,CACLxS,KAAMqvB,EAAMrvB,KACZ8O,MAAOugB,EAAMvgB,MACbvH,YAGuB+mB,UAAWY,G,moBCsIzBlV,G,YA7Ob,mBAAwB,MAAZzS,EAAY,uDAAJ,GAAI,0BACtB,kCAAMA,KACDiB,KAAO,UACZ,EAAK8mB,YAAc,GACnB,EAAKC,cAAgB,GAJC,E,wEAQtB,MAAO,CACLlZ,MAAO,UACPmZ,WAAY,KACZC,UAAW,KACXC,UAAW,KACXzV,eAAe,EACfqU,UAAW,Q,oCAQD,WACNtS,EAAUlY,KAAKwO,QADT,EAEsBxO,KAAKuL,YAA/Bif,EAFI,EAEJA,UAAW3X,EAFP,EAEOA,WAFP,EAG8BqH,sBAAOpe,KAC/CkE,KACAkY,EACA,CAACrF,EAAWK,MAAOL,EAAWM,QAC9BqX,GAJMjc,EAHI,EAGJA,KAAiB6c,EAHb,EAGEZ,UAgBd,OAVA7Z,gBAAgB3Q,KAAKuL,YAAYif,WAAa,GAAIY,GAElD7c,EAAKpJ,SAAQ,SAACmJ,EAAM3S,GAClB,IAAMwoB,EAAQ,EAAKxQ,MAAMQ,OAAOxY,GAC1Bma,EC3CL,SAAmB+V,EAAKzY,GAE7B,GAAI,eAAe/T,KAAKwsB,GACtB,OAAOA,EAET,IAAI7vB,EACJ,GAAI,2BAA2BqD,KAAKwsB,GAMlC,OAJiB,KADjB7vB,EAAI6vB,EAAIxrB,UAAU,GAAGoK,MAAM,KACrBxL,SACJjD,EAAI,CAACA,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,KAIhD,QACA,EAHFA,EAAI,KAAOA,EAAE8vB,KAAK,MAGT,GAAM,IAAM9vB,GAAK,EAAK,IAAS,IAAJA,GAAS8vB,KAAK,KAChD,IACA1Y,EACA,IAGJ,MAAM,IAAI9J,MAAM,WDuBMyiB,CAAU5H,EAAO,IACnC7V,EAAK7K,MAAM0B,SAAQ,SAAC6mB,GAClBA,EAAGpX,YAAcuP,EACjB6H,EAAGlW,UAAYA,QAGZvH,I,qCAGM,WACb,2DACA,IAAMoV,EAAa3jB,KAAK0jB,cAClBuI,EAAOtI,EAAWze,KAAI,SAACwJ,GAAD,OAASiC,gBAAgB,GAAIjC,MA4CzD,OA3CAiV,EAAWxe,SAAQ,SAACuJ,EAAKxB,GACvB,IAAMgf,EAAS,EAAKV,YAAYte,GAChCwB,EAAIjL,MAAM0B,SAAQ,SAAC+J,EAAMid,GACvB,IAAMlM,EAAS,EAAKmM,cAAL,wBAAwBld,IAEvC,GADAA,EAAK+Q,OAASA,EACViM,GAAUA,EAAOzoB,MAAM0oB,GAAO,CAChC,IAAME,EAAUH,EAAOzoB,MAAM0oB,GACvBhL,EAAQ,IAAIjS,EAAKwN,KACjBsE,EACJqL,EAAQ7gB,UAAUK,IAAMwgB,EAAQ7gB,UAAUK,GAAG6Q,IAA7C,IACQ2P,EAAQ7gB,UAAUK,GAAG6Q,KAD7B,IAEQ2P,EAAQ3P,KAElB,GAAIyE,EAAM5hB,aAAeyhB,EAAQzhB,WAAY,CAC3C,IAAI+sB,EAAarM,EACbsM,EAAWtM,EAEI,aAAf/Q,EAAKlE,QACPuhB,EAAW,GAGsB,GAA/BF,EAAQ7gB,UAAUK,GAAGoU,SACvBqM,EAAa,GAEfpd,EAAK1D,UAAY,CACf/I,KAAM,CAAEwd,OAAQqM,GAChBzgB,GAAI,CAAEoU,OAAQsM,SAGhBrd,EAAK1D,UAAY,CACf/I,KAAM,CAAEia,IAAKsE,GACbnV,GAAI,CAAE6Q,IAAKyE,SAIfjS,EAAK1D,UAAY,CACf/I,KAAM,CAAEwd,OAAQ,GAChBpU,GAAI,CAAEoU,OAAQA,UAKtBjgB,KAAKwrB,YAAcS,EACZtI,I,qCAGM,WACb,2DACA,IAAMrG,EAAatd,KAAK0jB,cAWxB,OAVA1jB,KAAKwrB,YAAclO,EAAWpY,KAAI,SAACwJ,GAAD,OAASiC,gBAAgB,GAAIjC,MAC/D4O,EAAWnY,SAAQ,SAACuJ,GAClBA,EAAIjL,MAAM0B,SAAQ,SAAC+J,GACjB,IAAM+Q,EAAS,EAAKmM,cAAL,wBAAwBld,IACvCA,EAAK1D,UAAY,CACf/I,KAAM,CAAEwd,OAAQ,GAChBpU,GAAI,CAAEoU,iBAIL3C,I,oCAGKpS,GAAM,MACelL,KAAKuL,YAA9BqgB,EADU,EACVA,UAAWD,EADD,EACCA,UACX1L,EAAuB/U,EAAvB+U,OAAQ4C,EAAe3X,EAAf2X,WAEhB,IAAK8I,IAAc9I,EAAWrlB,eAAemuB,GAC3C,OAAO1L,EAGT,IAAK2L,EACH,OAAO/I,EAAW8I,GAGpB,IAAMhB,EAAU,IAAI3qB,KAAKwO,SAAStJ,KAAI,SAACjJ,GAAD,OAAOA,EAAEsS,KAAKod,MAAY/b,MAAK,SAAC3I,EAAGW,GAAJ,OAAUX,EAAIW,KAKnF,OAJegQ,cACZC,OAAO,CAAC8S,EAAQ,GAAIA,EAAQA,EAAQ1rB,OAAS,KAC7C6Y,MAAM8T,EACQxmB,CAAOyd,EAAW8I,M,mCAIxB/Y,EAAO7N,GAElB,IAFsB,EAEVA,EAAGrB,SAAS,GACsBsf,WAAjCwJ,EAHS,EAGd9d,IAAkB+d,EAHJ,EAGD9d,IAAa+N,EAHZ,EAGYA,IAOlC,GANA1c,KAAKwO,QAAQrJ,SAAQ,SAAC+J,GAChBA,EAAKR,MAAQ8d,GAAUtd,EAAKP,MAAQ8d,IACtCvd,EAAKlE,MAAQ,YAGShL,KAAKuL,YAAvB4K,cACW,OAESnW,KAAKuL,YAAYsH,WAAnCM,EAFS,EAETA,OAAQD,EAFC,EAEDA,MAChBlT,KAAKyrB,cAAgB,CACnB,CACE,CAAC,EAAG/O,EAAI,IACR,CAACxJ,EAAOwJ,EAAI,KAEd,CACE,CAACA,EAAI,GAAI,GACT,CAACA,EAAI,GAAIvJ,Q,qCAMfnT,KAAKwO,QAAQiP,aACbzd,KAAKyrB,cAAgB,K,wCAIrB,GAAIzrB,KAAKyrB,cAAcxsB,OAAS,EAC9B,OAAOe,KAAKyrB,cAAcvmB,KAAI,SAACwV,GAC7B,OACE,UAAC,WAAD,CACEA,OAAQA,EACR9F,YAAa,OACbF,UAAW,EACXiQ,UAAW,CAAC,GAAK,W,oCAQbpW,GAAM,WACVmd,EAAe1rB,KAAKuL,YAApBmgB,WA0CR,OAzCiBnd,EAAKrJ,KAAI,SAACoJ,EAAM0d,GAC/B,OAAO1d,EAAK7K,MAAMyB,KAAI,SAACgG,EAAMwhB,GAC3B,IAAIpZ,EAAQ,EAAKA,MAAM,QAAX,CAAoBpI,EAApB,wBAA+BA,EAAK2X,YAAc6J,GAC9D,IAAc,IAAVpZ,EAAJ,CAIA,IAAIqZ,EAAY,KAEhB,GAAIjB,EAAY,CACd,IAAMpY,EAAQ,EAAKA,MAAM,QAAX,CAAoBpI,EAApB,wBAA+BA,EAAK2X,YAAc6J,GAChE,IAAc,IAAVpZ,GACEpI,EAAK2X,WAAWrlB,eAAekuB,GAAa,KACtC9W,EAA0B1J,EAA1B0J,YAER+X,EAAYhc,gBAHkC,KACZzF,EADY,iBAK5C,CACE4K,UAAWlB,EACXgB,KALS1K,EAAK2X,WAAW6I,GAMzBtK,OAAQ,CAAC,GAAK,IACdvL,SAAU,OACVhC,OAAQ,GAAKmY,EAAKU,GAGpBpZ,IAKR,IAAMsZ,EAAS,EAAKtZ,MAAM,cAAX,CAA0BpI,EAAMA,EAAK2X,WAAY6J,IAAO,GACjElJ,EAA4B,UAAftY,EAAKF,MAAoB4hB,EAAS,GAErD,OACE,UAAC,QAAD,CAAOxO,aAAc,EAAKA,aAAcF,aAAc,EAAKA,cACzD,UAAC,MAAD,OAAShT,EAAUoI,EAAWkQ,EAA9B,CAA0C3P,OAAQ,EAAImY,EAAKU,KAC1DC,EAAY,UAAC,QAAUA,GAAgB,aAKhC7N,QAAO,SAACsG,EAAKC,GAC3B,OAAOD,EAAIxhB,OAAOyhB,KACjB,M,6BAGE9W,GAAM,MAC0BvO,KAAKuL,YAAYsH,WAA9CM,EADG,EACHA,OAAQD,EADL,EACKA,MAAOJ,EADZ,EACYA,KAAMC,EADlB,EACkBA,IAC7B,OACE,UAAC,QAAD,CAAOwL,KAAM,CAACrL,EAAOC,GAASuJ,IAAK,CAAC5J,EAAMC,GAAMc,OAAQ,IACrD7T,KAAK6sB,cAActe,GACnBvO,KAAK8sB,qB,sEAlNV,mF,SApBkBxV,GEAPyV,uBANf,SAAsBC,EAAIC,EAAIC,EAAIC,GAEhC,IAAIvF,MAAMoF,EAAKC,EAAKC,EAAKC,GAEzB,MADW,KAAOH,EAAKE,GAAM,IAAMD,EAAK,IAAMC,EAAK,IAAMC,EAAK,UAAY,EAAID,EAAK,MAAaA,EAAK,IAAMC,EAAK,WAAa,EAAID,EAAK,O,6OCiGzH9W,G,YAhGb,cAAY3S,GAAO,6BACjB,+BAAMA,KAED2pB,QAAU,GACf,EAAKC,OAAS,GACd,EAAKC,QAAU,GALE,E,8DAuBjBttB,KAAKqW,S,qCAIL,MAAO,CACLkX,UAAW,EACXC,WAAY,IACZvN,OAAQ,IACRwN,QAAS,GACTxhB,UAAW,SAAAgM,GACT,OAAOA,EAAM,Q,6BAIZ,WACDyV,EAAW,EAEXC,EAAW3tB,KAAK4tB,MAAL,SACXC,EAAW7tB,KAAK4tB,MAAL,UAA0BD,EACrCG,EAAaD,EAASE,oBAAoB,GALzC,EAMkE/tB,KAAKuL,YAAtEkiB,EAND,EAMCA,QAASD,EANV,EAMUA,WAAYD,EANtB,EAMsBA,UAAW1a,EANjC,EAMiCA,WAAYrH,EAN7C,EAM6CA,UAAW8K,EANxD,EAMwDA,MACzD0X,EAAO,GAAKxiB,EAAUF,SACtB2iB,EAAW,EAAIpb,EAAWC,KAE1Bob,EAASJ,GAAc,IAAML,GAAW,IAAMI,EAASE,oBAAoB,GAC/E/tB,KAAKqtB,OAAS/kB,iCAAsB,SAAA8J,GAClC,EAAKgb,SAAWY,EAChB,IAAItT,EAAS,CAAC,CAACuT,EAAUC,EAASJ,IAElC,IADApT,EAAOxb,KAAK,CAAC+uB,EAAUC,EAASX,EAAYnpB,KAAKkC,IAAIonB,EAAW,EAAKN,WAC9Da,EAAWpb,EAAWK,MAAQL,EAAWC,KAAOD,EAAWG,OAChE0H,EAAOxb,KAAK,CAAC+uB,EAAUC,EAASX,EAAYnpB,KAAKkC,IAAIonB,EAAW,EAAKN,WACrEa,GAAYT,EAAa,EACzBE,GAAYtpB,KAAKgC,GAhBX,EAkBR,IAAI+nB,EAAQZ,EAAYnpB,KAAKkC,IAAIonB,EAAW,EAAKN,SACjD1S,EAAOxb,KAAK,CAAC+uB,EAAUC,EAASC,IAChCzT,EAAOxb,KAAK,CAAC+uB,EAAUC,EAASC,IAChCzT,EAAOxb,KAAK,CAAC+uB,EAAUC,EAASJ,IAChCH,EAASziB,KAAK,CAAEwP,OAAQA,EAAQmT,SAAU,IAAMvX,IAC5C,EAAK8W,SAAW,EAAIhpB,KAAKgC,KAC3B,EAAKgnB,QAAU,EAAKA,SAAW,EAAIhpB,KAAKgC,KAE1C,EAAKiQ,Y,+BAGA,MACsDrW,KAAKuL,YAA5DsH,EADC,EACDA,WAAYyD,EADX,EACWA,MAAOoG,EADlB,EACkBA,IAAKzQ,EADvB,EACuBA,UAAWwhB,EADlC,EACkCA,QAASxN,EAD3C,EAC2CA,OAE9CjC,EAAehe,KAAKge,aACpBoQ,EAAY7W,SAASvX,KAAM,OAAQge,EAAa3H,MAChDgY,EAAa9W,SAASvX,KAAM,QAASge,EAAa1H,OAClDuS,EAAYtR,SAASvX,KAAM,OAAQge,EAAapI,MAChDpK,EAAY,CACd/I,KAAM,CACJia,IAAK1c,KAAKstB,QAAQ5Q,KAAOA,GAE3B7Q,GAAI,CACF6Q,IAAKA,IAIT,OADA1c,KAAKstB,Q,wXAAL,IAAoBttB,KAAKuL,aAEvB,UAAC,QAAD,CAAOsI,OAAQ,EAAGoK,MAAM,YAAYvB,IAAK,CAAC7J,EAAWC,KAAMD,EAAWE,KAAMwL,KAAM,CAAC1L,EAAWK,MAAOL,EAAWM,SAC9G,UAAC,QAAD,CAAO3H,UAAWA,GAChB,UAAC,OAAD,CAAMnB,IAAI,YAAYpO,EAAGqa,EAAOR,UAAWuY,EAAWvY,YACtD,UAAC,WAAD,KAAUzL,IAAI,YAAe+jB,EAA7B,CAAwCP,SAAUvX,EAAOkH,QAAQ,KACjE,UAAC,OAAD,CAAMnT,IAAI,WAAWpO,EAAGqa,EAAO1B,YAAayZ,EAAWzZ,YAAaF,UAAW2Z,EAAW3Z,aAC3E,IAAdmU,EAAsB,UAAC,OAAD,MAAW,UAAC,QAAD,KAAOjT,KAAM3J,EAAUwhB,IAAc5E,EAArC,CAAgDnM,IAAK,CAACuD,EAAQA,GAASmB,OAAQ,CAAC,W,kCAjFxH,IAAI3d,EAAQ,4CACRoP,EAAapP,EAAMoP,WACnBK,EAAQ9O,KAAKyjB,MAAMhV,EAAWK,OAC9BC,EAAS/O,KAAKyjB,MAAMhV,EAAWM,QAC/B8M,EAASxc,EAAMwc,OAMnB,OALAxc,EAAMiZ,IAAM,CAAC,EAAG,GACXjZ,EAAM6S,QACT7S,EAAMiZ,IAAM,CAACxJ,EAAQ,EAAI+M,EAAQ9M,EAAS,EAAI8M,GAC9Cxc,EAAM6S,MAAQyW,mBAAa9M,EAAQA,EAAQxc,EAAMwc,OAAQxc,EAAMwc,SAE1Dxc,M,MApBQ8N,G,unBCQnB,SAAS+c,eAASrO,EAAQH,EAAOyO,EAAYxM,EAAayM,GACxD,IAAM1M,EAAUhC,EAAQ1b,KAAKgC,GAAM,IAC7BD,EAAM/B,KAAK+B,IAAI2b,GACfxb,EAAMlC,KAAKkC,IAAIwb,GAEd7Z,EAAS9B,EAAM8Z,EAAZrC,EAAoBtX,EAAM2Z,EAL6B,EAO9CuO,EACf,CAACvmB,EAAIsmB,EAAapoB,EAAKyX,EAAI2Q,EAAajoB,GACxC,CAAC2B,EAAIsmB,EAAapoB,EAAKyX,EAAI2Q,EAAajoB,GATqB,WAO1DmoB,EAP0D,KAOrDC,EAPqD,KAU3DpO,EAAWkO,EACb,CAACvmB,GAAKsmB,EAAaxM,GAAe5b,EAAKyX,GAAK2Q,EAAaxM,GAAezb,GACxE,CAAC2B,GAAKsmB,EAAaxM,GAAe5b,EAAKyX,GAAK2Q,EAAaxM,GAAezb,GAExEqoB,EAAUH,EAAUroB,GAAOA,EAC3ByoB,EAAUJ,EAAUloB,GAAOA,EAC3B8a,EAAS,CAAC,GAAK,IAOnB,OALIhd,KAAK6U,IAAI0V,GAAWvqB,KAAK6U,IAAI2V,GAC/BxN,EAAO,GAAKuN,EAAU,EAAI,EAAIA,EAE9BvN,EAAO,GAAKwN,EAAU,EAAIA,EAAU,EAE/B,CACLlU,OAAQ,CACN,CAACzS,EAAG2V,GACJ,CAAC6Q,EAAKC,IAERpO,WACAc,U,IA8TW7K,G,YAzTb,eAAY9S,GAAO,8BACjB,gCAAMA,KACDorB,gBAAkB,GACvB,EAAKnqB,KAAO,QACZ,EAAKye,OAAS,KACd,EAAK7P,MAAM,YAAY,GACvB,EAAKA,MAAM,YAAY,GANN,E,oEAUjB,MAAO,CACLf,MAAO,QACPvK,IAAK,EACL3D,IAAK,IACLopB,QAAS,GACTqB,QAAS,QACTC,mBAAmB,EACnBra,UAAW,GACXsK,WAAY,IACZC,SAAU,IACV+P,cAAe,UACfC,MAAO,SAAChzB,GAAD,OAAOA,GACdizB,SAAU,GACVX,WAAY,GACZxM,YAAa,EACboN,cAAe,SAAClzB,GAAD,OAAOA,M,kCAwEd,MACkD+D,KAAKuL,YAAzD0U,EADE,EACFA,OAAQjB,EADN,EACMA,WAAYC,EADlB,EACkBA,SAAUjX,EAD5B,EAC4BA,IAAK3D,EADjC,EACiCA,IAAKopB,EADtC,EACsCA,QAGhD,MAAO,CACL5K,WAAY4K,EACZzO,aACAiB,SACAhB,UAAYA,EAAWD,IAAeyO,EAAUzlB,GANpC5D,KAAK6U,IAAI5U,EAAM2D,GAMqCgX,EAChEpK,YAAa5U,KAAKmkB,MAAM,M,qCAK1B,yDACA,IAAMiL,EAAMpvB,KAAKqvB,YAKjB,OAJArvB,KAAK6uB,gBAAkB,CACrBpsB,KAAM,CAAEuc,WAAYoQ,EAAIpQ,WAAYC,SAAUmQ,EAAIpQ,YAClDnT,GAAI,CAAEmT,WAAYoQ,EAAIpQ,WAAYC,SAAUmQ,EAAInQ,WAE3CmQ,I,qCAIP,yDACA,IAAMA,EAAMpvB,KAAKqvB,YACX7jB,EAAY,CAChB/I,KAAM,CAAEuc,WAAYoQ,EAAIpQ,WAAYC,SAAUmQ,EAAIpQ,YAClDnT,GAAI,CAAEmT,WAAYoQ,EAAIpQ,WAAYC,SAAUmQ,EAAInQ,WAOlD,OALIjf,KAAK6uB,kBACPrjB,EAAU/I,KAAV,sBAAsBzC,KAAK6uB,gBAAgBhjB,KAG7C7L,KAAK6uB,gBAAL,sBAA4BrjB,GACrB4jB,I,4BAGHzzB,GACJ,OAAOqE,KAAK2T,MAAMQ,OAAOxY,K,oCAObM,EAAGqzB,GACf,IAAMhc,EAAQtT,KAAKsT,MAAM,UAAXtT,CAAsB/D,EAAGA,EAAE4mB,WAAY,GACrD,IAAc,IAAVvP,EAAJ,CAFoC,MAMjBtT,KAAK6uB,gBAAlBpsB,EAN8B,EAM9BA,KAAMoJ,EANwB,EAMxBA,GAEN0jB,EAAa9sB,EAAKwc,SAAW,GAE7BuQ,EAAmB,CACvB/sB,KAAM,CAAEglB,OAAQ8H,GAChB1jB,GAAI,CAAE4b,OAHS5b,EAAGoT,SAAW,KATK,EAeyCjf,KAAKuL,YAA1E0U,EAf4B,EAe5BA,OAAsBD,GAfM,EAepByP,aAfoB,EAeNzP,QAAQuO,EAfF,EAeEA,WAAYxM,EAfd,EAecA,YAE9C2N,EAAmBnB,EAjBa,EAe2B7Z,UAEfqN,EAAcuN,EAC1Df,EAAa,IACfmB,EAAmBA,EAAmBnB,EAAaxM,GAGrD,IAAM4N,EAAa1P,EAASyP,EAExBE,EAAS3P,EAAS,GAGhBkE,EAAQnkB,KAAKmkB,MAAM,GA3BW,MA6BrBnE,EA7BqB,GA6B7B/X,EA7B6B,KA6B1B2V,EA7B0B,KA8B9B1S,EAAO,CACX4K,UAAWqO,EACXsD,OAAQ8H,EACRM,gBAAiB7P,EACjBnM,OAAQ,GACR6G,OAAQ,CACN,CAACzS,EAAG2V,GACJ,CAAC3V,EAAI2nB,EAAS,EAAGhS,EAAiB,GAAb+R,GACrB,CAAC1nB,EAAG2V,EAAI+R,GACR,CAAC1nB,EAAI2nB,EAAS,EAAGhS,EAAiB,GAAb+R,GACrB,CAAC1nB,EAAG2V,IAENkF,OAAO,GAET,OAAO,UAAC,WAAD,OAAc5X,EAAUoI,EAAxB,CAA+B9H,UAAWgkB,Q,mCAGtCtzB,GACX,IAAMoX,EAAQtT,KAAKsT,MAAL,UAAcpX,IAC5B,OAAO4H,QAAQwP,K,+BAGC,WAAX/E,EAAW,uDAAJ,GAAI,EAaZvO,KAAKuL,YAXPwjB,EAFc,EAEdA,kBACAE,EAHc,EAGdA,MACAxB,EAJc,EAIdA,QACAzN,EALc,EAKdA,OACAC,EANc,EAMdA,OACAjB,EAPc,EAOdA,WACAC,EARc,EAQdA,SACAvK,EATc,EASdA,UACAoa,EAVc,EAUdA,QACAE,EAXc,EAWdA,cACAnc,EAZc,EAYdA,WAEIid,EAAc,CAAC9P,EAAO,GAAgB,KAAZA,EAAO,IACjC+P,EAAQ/vB,KAAK+vB,MACbzB,EAAWtuB,KAAKgwB,aAAa,YAC7BC,EAAWjwB,KAAKgwB,aAAa,YAC7BE,EAAYjB,GAASxB,EAEvB0C,EAAgB,KAEpB,IAA0B,IAAtBpB,EAA6B,CAC/B,IAAM5a,EAASnU,KAAK2T,MAAMQ,OAAO4F,UAC3BqW,EAAc,CAClBC,OAAQ,CAAC,EAAG,EAAe,EAAZrQ,EAAO,GAAoB,EAAZA,EAAO,IACrC7L,OAAQ,CACN,CAAEgQ,MAAOhQ,EAAO,GAAI5H,OAAQ,GAC5B,CAAE4X,MAAOhQ,EAAO,GAAI5H,OAAQ,IAC5B,CAAE4X,MAAOhQ,EAAO,GAAI5H,OAAQ,KAGhC4jB,EAAgB,IAAIG,WAASF,GAG/B,IAAId,EAAsB,IACT,IAAbW,GACFF,EAAM7qB,KAAI,SAACqrB,EAAMpxB,GACf,IAAMmU,EAAQ,EAAKA,MAAM,WAAX,CAAuB/E,EAAMA,EAAKsU,WAAY1jB,GAC5D,GAAImU,GAASA,EAAMuC,WACc,WAA3B9E,OAAOuC,EAAMuC,WAA0ByZ,EAAsBhc,EAAMuC,WACrEyZ,EAAsBhc,EAAMuC,UAEC,WAA3B9E,OAAOuC,EAAMuC,WAAwB,CACvC,IAAM2a,EAAWpwB,OAAOkT,EAAMuC,SAASvF,QAAQ,KAAM,KAC5B,WAArBS,OAAOyf,IAA0BlB,EAAsBkB,IACzDlB,EAAsBkB,OAMhC,IAAMC,EAAO,CAAC5d,EAAWC,KAAMD,EAAWE,KACpC2d,EAAQ,CAAC7d,EAAWK,MAAOL,EAAWM,QAEtCoS,EAAa,CACjB9iB,KAAM,CAAEia,IAAK1c,KAAKmjB,OAASnjB,KAAKmjB,OAASsN,GACzC5kB,GAAI,CAAE6Q,IAAK+T,IAGb,OADAzwB,KAAKmjB,OAASsN,EAEZ,UAAC,QAAD,CAAO/T,IAAK+T,EAAMlS,KAAMmS,EAAOllB,UAAW+Z,GACxC,UAAC,MAAD,CACE7I,IAAKsD,EACLtL,UAAWA,EACXoa,QAASA,EACT9P,WAAYA,EACZC,SAAUA,EACVrK,YAAaoa,EACb/O,OAAQA,EACRpM,OAAQ,KAEV,UAAC,MAAD,KACE6I,IAAKsD,EACL8O,QAASA,EACTpa,UAAWA,GACPnG,EAJN,CAKE/C,UAAWxL,KAAK6uB,iBACXsB,EAAgB,CAAEvb,YAAaub,GAAkB,CAAEvb,YAAa5U,KAAKmkB,MAAM,IAC5EnkB,KAAKsT,MAAM,MAAXtT,CAAkBuO,EAAMA,EAAKsU,WAAY,GAP/C,CAQEhP,OAAQ,MAET7T,KAAK2wB,cAAcpiB,EAAM+gB,GACzBY,EACC,UAAC,QAAD,KACEta,KAA4B,aAAtB7E,OAAOmf,GAA4BA,EAAU3hB,EAAKsU,YAAcqN,EACtExT,IAAKoT,EACLc,UAAU,SACV/c,OAAQ,GACRuN,OAAQ,CAAC,GAAK,IACVphB,KAAKsT,MAAM,QAAXtT,CAAoBuO,EAAMA,EAAKsU,WAAY,KAE/C,MACU,IAAbyL,IAAmC,IAAb2B,EACnBF,EAAM7qB,KAAI,SAACqrB,EAAMpxB,GAAP,OACR,UAAC,QAAD,CAAOud,IAAKsD,EAAQoB,OAAQ,CAAC,EAAG,GAAIvN,OAAQ,OAC5B,IAAbya,EACC,UAAC,WAAD,KACE5T,OAAQ6V,EAAK7V,OACb9F,YAAaoa,GACT,EAAK1b,MAAM,WAAX,CAAuB/E,EAAMA,EAAKsU,WAAY1jB,KAElD,MACU,IAAb8wB,EACC,UAAC,QAAD,OAAWM,EAAKtZ,MAAW,EAAK3D,MAAM,WAAX,CAAuB/E,EAAMA,EAAKsU,WAAY1jB,KACvE,SAGR,Q,iCAKC,WACTa,KAAK8N,GAAG,UAAU,kBAAM,EAAK+iB,mB,kCAvR7B,IAAMptB,EAAQ,6CAENoP,EAAepP,EAAfoP,WACAM,EAAkBN,EAAlBM,OAAQD,EAAUL,EAAVK,MACVqL,EAAO,CAACrL,EAAOC,GAEf8M,IAAW7b,KAAK4D,IAAIjI,MACxBwe,EACAA,EAAKrZ,KAAI,SAAC4rB,GAAD,OAAOA,EAAI,MAOtB,6BACKrtB,EADL,CAEEwc,SACAwP,aAPmBxP,EAAS,GAQ5BD,OANa,CAAC9M,EAAQ,EAAGC,EAAS,O,4BAkCpC,IAxBU,MAYNnT,KAAKuL,YAVPvD,EAFQ,EAERA,IACA3D,EAHQ,EAGRA,IACA4b,EAJQ,EAIRA,OACAjB,EALQ,EAKRA,WACAC,EANQ,EAMRA,SACAvK,EAPQ,EAORA,UACAwa,EARQ,EAQRA,SACAX,EATQ,EASRA,WACAxM,EAVQ,EAURA,YACAoN,EAXQ,EAWRA,cAEI4B,EAAQ3sB,KAAK6U,IAAI5U,EAAM2D,GAAOknB,EAI9BV,EAAUD,EAAa,EACvBjP,GAHML,EAAWD,GAGE+R,EACnBhB,EAAQ,GACViB,EAAaxC,EAAUvO,EAASvL,EAAY,EAAIuL,EAASvL,EAAY,EAErE/Y,GAAK,IAEAA,GAAKo1B,GAAO,CAEnB,IAAME,EAAM3C,eAAS0C,EADbr1B,EAAI2jB,EAAWN,EACiB5a,KAAK6U,IAAIsV,GAAanqB,KAAK6U,IAAI8I,GAAcyM,GACrFuB,EAAM7wB,KAAK,CACTwb,OAAQuW,EAAIvW,OACZzD,MAAO,CACLrB,KAAMuZ,EAAcxzB,EAAIuzB,EAAWlnB,GAAKsQ,QAAQ,GAChDoE,IAAKuU,EAAI3Q,SACTc,OAAQ6P,EAAI7P,UASlB,OAJK2O,EAAM,GAAGjQ,MAAQiQ,EAAMA,EAAM9wB,OAAS,GAAG6gB,QAAoB,EAAV1b,KAAKgC,KAAY,GACvE2pB,EAAMzW,MAGDyW,M,OA/FSzY,G,uoBCxCpB,IAAM4Z,mBAAW,SAAChzB,GAAD,MAAS,GAAG0F,OAAO7D,MAAM,GAAI7B,IA8M/BsY,G,YA3Mb,qBAAwB,MAAZ/S,EAAY,uDAAJ,GAAI,4BACtB,oCAAMA,KACDiB,KAAO,YACZ,EAAKysB,UAAY,GACjB,EAAKhO,OAAS,KAJQ,E,4EAQtB,MAAO,CACL5Q,MAAO,YACP0N,OAAQ,GACRoB,YAAa,EACbrC,YAAa,GACbC,SAAU,IACVvK,UAAW,EACXsa,cAAe,a,gCAkDTzgB,GAAM,aACgDvO,KAAKuL,YAA3DyT,EADM,EACNA,WAAYC,EADN,EACMA,SAAU5a,EADhB,EACgBA,IAAK2D,EADrB,EACqBA,IAAK0M,EAD1B,EAC0BA,UAAWP,EADrC,EACqCA,OAC/Cid,EAAQ,EACZ,GAAKxJ,MAAMvjB,IAASujB,MAAM5f,GAEnB,CACL,IAAIqpB,EAAY1gB,gBAAgBpC,GAChC8iB,EAAUzhB,MAAK,SAAC3I,EAAGW,GAAJ,OAAUA,EAAEhL,MAAQqK,EAAErK,SACrCw0B,EAA6B,IAArBC,EAAU,GAAGz0B,WAJrBw0B,EAAQ/sB,EAAM2D,EAMhB,IAAM8X,EAAQb,EAAWD,EACnBqC,EAAcrhB,KAAKqhB,YACnBK,EAAc1hB,KAAKsxB,eAEnBtyB,EAAMuP,EAAKtP,OACXsyB,GAC2B,GAA7B7P,EAAcL,GAAmB3M,GAAaA,GAAa,EAAI,EAAI1V,EAAM,KAAO,KAAO,EAANA,EAAU,IAC3FpC,EAAQ,KAmBZ,OAjBA2R,EAAKpJ,SAAQ,SAAClJ,EAAGN,GACfiB,GAASX,EAAEW,MAEXX,EAAEygB,IAAM,CAACgF,EAAaA,GACtBzlB,EAAEmlB,OAAS,CAAC,GAAK,IACjBnlB,EAAEyY,UAAYA,EACdzY,EAAE+iB,WAAaA,EACf/iB,EAAEgjB,SAAuB,aAAZhjB,EAAE+O,MAAuBgU,EAAaA,EAAcc,EAAQljB,EAASw0B,EAClFn1B,EAAEolB,YAAcA,EAAkB,IAAJ1lB,EAAsB41B,EACpDt1B,EAAEgkB,OAAShkB,EAAEolB,YAAc,EAAIkQ,EAC/Bt1B,EAAE2Y,YAAcT,EAAOxY,GAEvB,IAAM61B,EAAc,EAAKle,MAAM,MAAX,CAAkBrX,EAAGA,EAAE4mB,WAAY5mB,EAAE0mB,OAEzDtmB,OAAOyE,OAAO7E,EAAGu1B,MAGZjjB,EAAKqB,MAAK,SAAC3I,EAAGW,GAAJ,OAAUA,EAAEqY,OAAShZ,EAAEgZ,Y,qCAIxC,6DADa,IAELjB,EAAehf,KAAKuL,YAApByT,WACJzQ,EAAO2iB,mBAASlxB,KAAKwO,SAYzB,OAXAD,EAAOvO,KAAKqvB,UAAU9gB,GACtBvO,KAAKmxB,UAAY5iB,EAAKrJ,KAAI,SAACjJ,GAAD,MAAQ,CAChCwG,KAAM,CACJuc,aACAC,SAAUD,GAEZnT,GAAI,CACFmT,aACAC,SAAUhjB,EAAEgjB,cAGT1Q,I,qCAGM,WACb,6DADa,IAELyQ,EAAehf,KAAKuL,YAApByT,WACJzQ,EAAO2iB,mBAASlxB,KAAKwO,SA2BzB,OA1BAD,EAAOvO,KAAKqvB,UAAU9gB,GACtBvO,KAAKmxB,UAAY5iB,EAAKrJ,KAAI,SAACjJ,EAAGN,GAC5B,GAAIM,EAAEw1B,cACJ,OAAOx1B,EAAEwR,SAAW,CAAEhL,KAAM,CAAE2Q,QAAS,GAAKvH,GAAI,CAAEuH,QAAS,IAAQ,CAAE3Q,KAAM,CAAE2Q,QAAS,GAAKvH,GAAI,CAAEuH,QAAS,IAE1G,IAAIgV,EAAO,EAAK+I,UAAUx1B,GAAK,EAAKw1B,UAAUx1B,GAAGkQ,GAAK0C,EAAK5S,EAAI,GAS/D,OAPKysB,IACHA,EAAO,CACLpJ,WAAYA,EACZC,SAAUD,IAIP,CACLvc,KAAM,CACJuc,WAAYoJ,EAAKpJ,WACjBC,SAAUmJ,EAAKnJ,UAEjBpT,GAAI,CACFmT,WAAY/iB,EAAE+iB,WACdC,SAAUhjB,EAAEgjB,cAKb1Q,I,mCAGIqE,EAAO7N,GAAI,MACDA,EAAGrB,SAAS,GAAGsf,WAA5BrU,EADc,EACdA,IAAKD,EADS,EACTA,IACb1O,KAAKwO,QAAQrJ,SAAQ,SAACmJ,GACpBA,EAAKtD,MAAQsD,EAAKK,MAAQA,GAAOL,EAAKI,MAAQA,EAAM,QAAU,e,qCAKhE1O,KAAKwO,QAAQiP,e,+BAGG,WAAXlP,EAAW,uDAAJ,GACJygB,EAAkBhvB,KAAKuL,YAAvByjB,cACFzJ,EAAa,CACjB9iB,KAAM,CAAEia,IAAK1c,KAAKmjB,OAASnjB,KAAKmjB,OAASnjB,KAAKggB,QAC9CnU,GAAI,CAAE6Q,IAAK1c,KAAKggB,SAGlB,OADAhgB,KAAKmjB,OAASnjB,KAAKggB,OAEjB,UAAC,QAAD,KACGzR,EACErJ,KAAI,SAACjJ,EAAGN,GAAM,IACLgT,EAAmB1S,EAAnB0S,IAAKD,EAAczS,EAAdyS,IAAKH,EAAStS,EAATsS,KAClB,OACE,UAAC,QAAD,CACEmO,IAAK,EAAKsD,OACVxU,UAAW+Z,EACXnH,aAAc,EAAKA,aACnBE,YAAa,EAAKF,aAClBF,aAAc,EAAKA,cAEnB,UAAC,MAAD,OAASjiB,EAAT,CAAY+iB,WAAY,EAAGC,SAAU,IAAKrK,YAAaoa,KACvD,UAAC,MAAD,KACEtS,IAAK,EAAKsD,QADZ,0BAEW/jB,EAFX,CAEc0S,MAAKD,QAFnB,CAGElD,UAAW,EAAK2lB,UAAUx1B,IACtB,EAAK2X,MAAM,MAAX,CAAkBrX,EAAGsS,EAAM5S,Y,sEA3K7C,IAAM8H,EAAQ,iDACNoP,EAAepP,EAAfoP,WAER,iCACKpP,EADL,CAEE8a,KAHW,CAAC1L,EAAWK,MAAOL,EAAWM,Y,qCAOxB,MAC4BnT,KAAKuL,YAA5CyT,EADW,EACXA,WAAYC,EADD,EACCA,SAAUgB,EADX,EACWA,OAAQ1B,EADnB,EACmBA,KADnB,MAEKA,EAFL,GAEZrL,EAFY,KAELC,EAFK,KAInB,OAAI8L,EAAWD,GAAe,GACrB5a,KAAK4D,IAAIkL,EAAOC,GAAU8M,EAEzB7b,KAAK4D,IAAIkL,EAAOC,GAAU,EAAK8M,I,6BAI9B,MACoCjgB,KAAKuL,YAA5CyT,EADG,EACHA,WAAYC,EADT,EACSA,SAAUgB,EADnB,EACmBA,OAAQ1B,EAD3B,EAC2BA,KAChCuB,GAASb,EAAWD,GAAc,EAF7B,MAGaT,EAHb,GAGJrL,EAHI,KAGGC,EAHH,KAILue,EAAY1xB,KAAKsxB,eAClBrpB,EAASiL,EAAQ,EAAIwe,EAAlB9T,EAA6BzK,EAAS,EAAIue,EAElD,GAAIzS,EAAWD,GAAe,GAAI,CAEhC,IAEM2S,EAAW1R,EAAS/M,EACpB0e,EAAY3R,EAAS9M,EAC3BlL,GAJY7D,KAAK+B,IAAI2Z,GAIV,EAAI6R,EAAW,GAAMA,EAAW,EAC3C/T,GAJYxZ,KAAKkC,IAAIwZ,GAIV,EAAI8R,EAAY,GAAMA,EAAY,EAG/C,MAAO,CAAC3pB,EAAG2V,K,kCAGK,MACc5d,KAAKuL,YAA7B0U,EADU,EACVA,OAAQoB,EADE,EACFA,YACd,OAAOA,GAAe,EAAI,EAAKrhB,KAAKsxB,eAAiBrR,EAAUoB,M,WA/D3C/J,GCHHua,G,YACnB,oBAAYpuB,GAAO,mCACjB,qCAAMA,KACDkQ,MAAQA,EAAM8C,QAAQ,EAAKhY,YAAYvC,MAE5C,EAAKyX,MAAM0D,IAAM,SAAA9Y,GACX,EAAKoV,QAAUA,EAAMY,QAAQ,EAAK9V,YAAYvC,QAChD,EAAKyX,MAAQhV,IAAY,EAAKgV,QAEhC,EAAKA,MAAQhD,gBAAgB,EAAKgD,MAAOpV,IAR1B,E,qCADmBgT,G,mqBCDzB,SAAS2I,mBAAOhc,EAAKuF,GAClC,IAAI3E,EAAM,CACRub,OAAQ,GACRoK,OAAQ,GACRqN,MAAO,GACP9W,WAAY,GACZ5D,OAAQ3T,EAAM2T,QAEZ1D,EAAe,CACjBX,IAAK,CACHkE,MAAO,CACLmK,OAAQ,CAAC,GAAK,GACd2Q,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBnB,UAAW,UAEb7Z,MAAO,CACLqK,OAAQ,CAAC,GAAK,GACdlO,MAAO,EACPC,OAAQ,GAEV+D,KAAM,CACJtC,YAAa,QAEf1Y,KAAM,GACNwI,KAAM,YAERuO,OAAQ,CACN8D,MAAO,CACLqK,OAAQ,CAAC,GAAK,GACdlO,MAAO,EACPC,OAAQ,GAEV8D,MAAO,CACLmK,OAAQ,CAAC,GAAK,GACd2Q,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBnB,UAAW,UAEb1Z,KAAM,CACJtC,YAAa,QAEf1Y,KAAM,GACNwI,KAAM,YAERoO,KAAM,CACJmE,MAAO,CACL8a,QAAS,CAAC,EAAG,EAAG,EAAG,GACnB3Q,OAAQ,CAAC,EAAG,IACZwP,UAAW,SAEb7Z,MAAO,CACLqK,OAAQ,CAAC,EAAG,IACZlO,MAAO,EACPC,OAAQ,GAEV+D,KAAM,CACJtC,YAAa,QAEf1Y,KAAM,GACNwI,KAAM,SAERsO,MAAO,CACLiE,MAAO,CACLmK,OAAQ,CAAC,EAAG,IACZ2Q,QAAS,CAAC,EAAG,EAAG,EAAG,IAErBhb,MAAO,CACLqK,OAAQ,CAAC,EAAG,IACZlO,MAAO,EACPC,OAAQ,GAEV+D,KAAM,CACJtC,YAAa,QAEf1Y,KAAM,GACNwI,KAAM,UAGF8T,EAA+D/U,EAA/D+U,MAAOmB,EAAwDlW,EAAxDkW,YAAa9G,EAA2CpP,EAA3CoP,WAAYuE,EAA+B3T,EAA/B2T,OAAQgD,EAAuB3W,EAAvB2W,QAAuB3W,EAAdoiB,WAEtD,CAAC,MAAO,SAAU,QAAS,QAAQ1gB,SAAQ,SAAA7F,GAC1CoU,EAAapU,GAAKoF,KAAkC,UAA3BgP,EAAapU,GAAKoF,KAAmB,WAAa,WAhFtC,IAmFjCwO,EAAkBL,EAAlBK,MAAOC,EAAWN,EAAXM,OACXkH,EAASvD,UAAKhb,KAAKkE,KAAM,CAC3BkY,QAASha,EACTsa,QACAmB,gBAGEW,EAASlW,KAAKC,IAAItE,MAAMC,KAAMqa,GAC9BE,EAASnW,KAAK4D,IAAIjI,MAAMC,KAAMqa,GAC9B3V,EAAOjB,EAAMiB,MAAQgP,EAAa0D,GAAQ1S,KAC1C4M,EAAsB,SAAX8F,GAAgC,UAAXA,EAAqBjE,EAASD,EAC9DzC,EAAiBzQ,KAAKwO,QAAQiC,eAClC,GAAa,UAAT/L,EAAkB,CACpB,IAAI8V,EAAU5C,cACXC,OAAO,CAAC0C,EAAQD,IAChBxC,MAAM,CAAC,EAAGxG,IACb+I,EAAOlV,SAAQ,SAAA4J,GAAO,MACqBijB,aACvCte,EACA0D,EACA,CACExB,KAAM,GAAK,KAAOnF,IAAmB,WAAaA,EAAe1B,GAAOA,GAE1EA,EACAyL,EACA3H,GARIof,EADc,EACdA,UAAWtF,EADG,EACHA,UAAWuF,EADR,EACQA,SAU5BpzB,EAAIub,OAAOnb,KAAK+yB,GAChBnzB,EAAI2lB,OAAOvlB,KAAKytB,GAChB7tB,EAAIgzB,MAAM5yB,KAAKgzB,WAEZ,GAAa,aAATxtB,EAAqB,CAC9B,IAAIytB,EAASj0B,EAAI,GACbc,EAAMob,EAAU+X,EAAOlzB,OAASkzB,EAAOlzB,OAAS,EAChDub,EAAU5C,cACXC,OAAO,CAAC,EAAG7Y,IACX8Y,MAAM,CAAC,EAAGxG,IAOb,GANA6gB,EAAOhtB,SAAQ,SAAC+J,EAAMhC,GAAQ,MACa8kB,aAAate,EAAc0D,EAAQlI,EAAMhC,EAAKsN,EAAS3H,EAAYuH,GAAtG6X,EADsB,EACtBA,UAAWtF,EADW,EACXA,UAAWuF,EADA,EACAA,SAC5BpzB,EAAIub,OAAOnb,KAAK+yB,GAChBnzB,EAAI2lB,OAAOvlB,KAAKytB,GAChB7tB,EAAIgzB,MAAM5yB,KAAKgzB,MAEb9X,EAAS,OAEmB4X,aAAate,EAAc0D,EAAQ,GAAI+a,EAAOlzB,OAAQub,EAAS3H,EAAYuH,GAAnG6X,EAFK,EAELA,UAAWC,EAFN,EAEMA,SACjBpzB,EAAIub,OAAOnb,KAAK+yB,GAChBnzB,EAAIgzB,MAAM5yB,KAAKgzB,IAGnB,GAAe,SAAX9a,GAAgC,UAAXA,EAAoB,CAC3C,IAAIyD,EAAgB,SAAXzD,EAAoB,EAAIlE,EACjCpU,EAAIkc,WAAa,CACf,CAACH,EAAI1H,GACL,CAAC0H,EAAI,IAEP/b,EAAIszB,SAAW,CAAE1V,IAAK,CAAC7B,EAAI,GAAIuG,OAAQ,CAAC,GAAK,GAAI2Q,QAAS,CAAC,UACtD,GAAe,WAAX3a,GAAkC,QAAXA,EAAkB,CAClD,IAAIib,EAAgB,WAAXjb,EAAsBjE,EAAS,EACxCrU,EAAIkc,WAAa,CACf,CAAC,EAAGqX,GACJ,CAACnf,EAAOmf,IAEVvzB,EAAIszB,SAAW,CAAE1V,IAAK,CAACxJ,EAAOmf,GAAKjR,OAAQ,CAAC,EAAG,IAEjD,OAAOtiB,EAET,SAASkzB,aAAate,EAAc0D,EAAQlI,EAAMtS,EAAO01B,EAAQzf,EAAYuH,GAC3E,IAAItb,EAAMkS,cACJkC,EAA6BL,EAA7BK,MAAOC,EAAsBN,EAAtBM,OAAQL,EAAcD,EAAdC,KACjByf,GAD+B1f,EAARE,IACPqH,EAAUxd,EAAQ,GAAMA,GAC5C,GAAe,SAAXwa,GAAgC,UAAXA,EAAoB,CAC3C,IAAInP,EAAe,SAAXmP,EAAoB,EAAIlE,EAC5Bsf,EAAKF,EAAO11B,GAChBkC,EAAImzB,UAAJ,4BAAqBve,EAAa0D,GAAQL,MAA1C,CAAiD2F,IAAK,CAACzU,EAAGkL,EAASqf,KACnE1zB,EAAIozB,SAAJ,4BACKxe,EAAa0D,GAAQF,KAD1B,CAEEwD,OAAQ,CACN,CAACzS,EAAGkL,EAASqf,GACb,CAACtf,EAAOC,EAASqf,MAGrB1zB,EAAI6tB,UAAJ,4BACKjZ,EAAa0D,GAAQH,MAD1B,CAEE/D,MAAOJ,EACP8C,KAAM,GAAK1G,EAAK0G,KAChB8G,IAAK,CAACzU,EAAGkL,EAASmf,EAAOC,WAEtB,GAAe,QAAXnb,GAA+B,WAAXA,EAAqB,CAClD,IAAIwG,EAAe,QAAXxG,EAAmB,EAAIjE,EAC3Bsf,EAAKH,EAAO11B,GAChBkC,EAAImzB,UAAJ,4BAAqBve,EAAa0D,GAAQL,MAA1C,CAAiD2F,IAAK,CAAC+V,EAAI7U,KAC3D9e,EAAIozB,SAAJ,4BACKxe,EAAa0D,GAAQF,KAD1B,CAEEwD,OAAQ,CACN,CAAC+X,EAAI,GACL,CAACA,EAAI7U,MAGT9e,EAAI6tB,UAAJ,4BACKjZ,EAAa0D,GAAQH,MAD1B,CAEE/D,MAAOJ,EACP8C,KAAM,GAAK1G,EAAK0G,KAChB8G,IAAK,CAAC4V,EAAOC,GAAgB3U,KAGjC,OAAO9e,E,ICxEM+X,G,YAjHb,cAAYpT,GAAO,6BACjB,+BAAMA,KACDgiB,WAAazU,cAFD,E,kEAwBjB,OADehR,KAAKid,gBAAdnG,O,qCAKN,OADe9W,KAAKid,gBAAdnG,O,yEAON,MAAO,CACLvE,MAAO,OACPsB,QAAS,EACT5H,UAAW,SAAArM,GAAC,OAAIA,M,sCAMlB,IAAI2L,EAAcvL,KAAKuL,YACnB+R,EAAatd,KAAKwO,QAAQjD,EAAY8H,UAE1C,MAAO,CAAEyD,KADEoD,mBAAOpe,KAAKkE,KAAMsd,EAAY/R,M,6BAGpCuL,GAAM,WACP4b,EAAU1yB,KAAKylB,YAAczU,cACjChR,KAAKylB,WAAa3O,EAFP,MAGmC9W,KAAKuL,YAA7CsH,EAHK,EAGLA,WAAY5G,EAHP,EAGOA,UAAWmL,EAHlB,EAGkBA,OAAQlb,EAH1B,EAG0BA,KAEjC8X,EAAShU,KAAKge,aACd2U,EAAYpb,SAASvX,KAAM,OAAQgU,EAAO8C,MAE1C8b,EAAY5yB,KAAKoU,MAAMqC,QACxBvR,KAAI,SAAA2tB,GACH,GAAgC,SAA5BA,EAAOp0B,YAAYvC,KACrB,OAAO22B,EAAOtnB,YAAY6L,UAG7BvT,OAAOC,SACNgvB,EAAYvb,SAASvX,KAAM,OAAQ,CAACgU,EAAO9X,MAAQ,GAAIyC,IAAYmY,EAAKsb,SAAU,GAAI,CAAC,UAEvFW,EAAU,CAAEtwB,KAAM,CAAEia,IADVgW,EAAQN,UAAYM,EAAQN,SAAS1V,KAAQ5F,EAAKsb,SAAS1V,KAClC7Q,GAAI,CAAE6Q,IAAK5F,EAAKsb,SAAS1V,MAChE,OACE,UAAC,QAAD,CAAOrS,IAAI,OAAOqS,IAAK,CAAC7J,EAAWC,KAAMD,EAAWE,MAClD,UAAC,WAAD,OACM4f,EADN,CAEEnnB,UAAW,CACT/I,KAAM,CAAEiY,OAAQgY,EAAQ1X,YACxBnP,GAAI,CAAE6O,OAAQ5D,EAAKkE,gBAGvB,UAAC,QAAD,KACGlE,EAAKgb,MAAM5sB,KAAI,SAACgS,EAAMhK,GACrB,IACIhB,EAAM,CACRzJ,KAAM,CAAEiY,OAFQgY,EAAQZ,OAASY,EAAQZ,MAAM5kB,IAAQwlB,EAAQZ,MAAM5kB,GAAKwN,QAAWxD,EAAKwD,QAG1F7O,GAAI,CAAE6O,OAAQxD,EAAKwD,SAEjBpH,EAAQiE,SAAS,EAAM,OAAQvD,EAAOkD,KAAM,CAAChK,IACjD,GAAe,SAAXkK,GAAgC,UAAXA,GACvB,GAAa,IAARlK,GAAa0lB,EAAUhW,SAAS,WAAe1P,IAAQ4J,EAAKgb,MAAM7yB,OAAS,GAAK2zB,EAAUhW,SAAS,OACtG,OAAO,UAAC,OAAD,WAEJ,IAAe,QAAXxF,GAA+B,WAAXA,KAChB,IAARlK,GAAa0lB,EAAUhW,SAAS,SAAa1P,IAAQ4J,EAAKgb,MAAM7yB,OAAS,GAAK2zB,EAAUhW,SAAS,UACpG,OAAO,UAAC,OAAD,MAGX,OAAiB,IAAVtJ,EAAkB,UAAC,OAAD,MAAW,UAAC,WAAD,OAAcA,EAAd,CAAqBoH,OAAQxO,EAAIzJ,KAAKiY,OAAQlP,UAAWU,QAE9F4K,EAAKuD,OAAOnV,KAAI,SAAC6R,EAAO7J,GACvB,IACIhB,EAAM,CAAEzJ,KAAM,CAAEia,IADLgW,EAAQrY,QAAUqY,EAAQrY,OAAOnN,IAAQwlB,EAAQrY,OAAOnN,GAAKwP,KAAQ3F,EAAM2F,KACtD7Q,GAAI,CAAE6Q,IAAK3F,EAAM2F,MAEjDpJ,EAAQiE,SAAS,EAAM,QAASvD,EAAO+C,MAAO,CAACA,EAAO7J,IAC1D,OAAiB,IAAVoG,EAAkB,UAAC,OAAD,MAAW,UAAC,QAAD,OAAW3U,IAAYoY,EAAO,GAAI,CAAC,QAAazD,EAAhD,CAAuD9H,UAAWU,QAEvG4K,EAAK2N,OAAOvf,KAAI,SAAC+R,EAAO/J,GACvB,IAAI8T,EAAW0R,EAAQjO,QAAUiO,EAAQjO,OAAOvX,IAAQwlB,EAAQjO,OAAOvX,GAAKwP,KAAQzF,EAAMyF,IACtFpJ,EAAQiE,SAAS,EAAM,QAASvD,EAAOiD,MAAO,CAACA,EAAO/J,IACtDhB,EAAM,CAAEzJ,KAAM,CAAEia,IAAKsE,GAAWnV,GAAI,CAAE6Q,IAAKzF,EAAMyF,MACrD,OAAiB,IAAVpJ,EAAkB,UAAC,OAAD,MAAW,UAAC,QAAD,OAAW3U,IAAYsY,EAAO,GAAI,CAAC,MAAO,SAAc3D,EAAxD,CAA+DsC,KAAM3J,EAAUgL,EAAMrB,MAAOpK,UAAWU,UAGhI,IAAd4mB,QAAgC/wB,IAAT7F,GAAsC,IAAhBA,EAAK+C,OAAe,UAAC,OAAD,MAAW,UAAC,QAAD,OAAW6zB,EAAX,CAAsBld,KAAM1Z,EAAMsP,UAAWunB,Q,kCAtG9H,IAAItvB,EAAQ,4CACRuvB,EAAehzB,KAAKoU,MAAMG,QAAQ,GAatC,YAZsBxS,IAAlB0B,EAAM2W,SAAyB4Y,GAAkD,QAAlCA,EAAav0B,YAAYvC,OAG1EuH,EAAM2W,SAAU,GAEd4Y,GAAkD,YAAlCA,EAAav0B,YAAYvC,OAC3CuH,EAAMiB,KAAO,cAES3C,IAApB0B,EAAMoiB,WAA2BmN,IAEnCvvB,EAAMoiB,UAAYmN,EAAaznB,YAAYsa,WAEtCpiB,M,MArBQ8N,I,+OCoYJoF,G,YArYb,gBAAYlT,GAAO,+BACjB,iCAAMA,KACDyZ,UAAY,KACjB,EAAKlS,MAAQ,CACXioB,KAAM,EACNC,UAAW,EACXC,qBAAsB,EACtBC,eAAgB,CAAC,EAAG,GACpBC,UAAW,CAAC,EAAG,IAEjB,EAAKC,aAAc,EACnB,EAAKC,iBAAkB,EACvB,EAAKC,QAAU,CAAC,EAAG,GACnB,EAAKC,WAAa,CAAC,EAAG,GACtB,EAAKC,iBAAmB,GAdP,E,sEAsBjB,aACEtc,OAAQ,aACRmS,MAAO,CAAC,SAAU,UAClBtd,UAAW,SAAChQ,GAAD,OAAOA,EAAEW,OAASX,GAC7B2a,SAAU,CAAC,GAAI,IACf+c,SAAU,CAAC,GAAI,IACfC,OAAQ,GACRC,SAAU,GAPZ,aAQa,SAAC53B,GAAD,OAAOA,EAAE2Z,MAAQ3Z,O,qCAmH9B,OALI+D,KAAKszB,YACPtzB,KAAK8zB,QAEL9zB,KAAKkd,UAAYld,KAAKid,gBAAgBC,UAEjCld,KAAKkd,Y,sCAGE,aACeld,KAAKuL,YAA5B8H,EADQ,EACRA,SAAUwgB,EADF,EACEA,SAQZ3W,EAPald,KAAKwO,QAAQ6E,GAAUnO,KAAI,SAACoJ,EAAMqU,GAEjD,OADA,EAAK+Q,iBAAiBx0B,KAAKoP,EAAKtD,OACzB,CACL9O,KAAMoS,EAAKpS,KACX8O,MAAOsD,EAAKtD,UAGW9F,KAAI,SAACoJ,GAC9B,MAAO,CACLylB,UAAW,CACTne,KAAMtH,EAAKpS,KACXwrB,YAAamM,OAKnB,OADA7zB,KAAKkd,UAAYA,EACV,CAAEA,e,gCAEDtd,EAAGmF,GACX,IAAMmI,EAAMnI,EAAGmG,KAAK,UAChBF,EAAQhL,KAAKwO,QAAQxO,KAAKuL,YAAY8H,UAAUnG,GAAKlC,MACzDA,EAAkB,aAAVA,EAAuB,WAAa,UAC5ChL,KAAKwO,QAAQxO,KAAKuL,YAAY8H,UAAUnG,GAAKlC,MAAQA,I,gCAE7CpL,EAAGmF,GACX,IAAMmI,EAAMnI,EAAGmG,KAAK,UACpBlL,KAAK0zB,iBAAiBxmB,GAAO,UAC7BlN,KAAKgS,W,+BAEEpS,EAAGmF,GACV,IAAMmI,EAAMnI,EAAGmG,KAAK,UACe,YAA/BlL,KAAK0zB,iBAAiBxmB,KACxBlN,KAAK0zB,iBAAiBxmB,GAAO,QAC7BlN,KAAKgS,Y,mCAGIS,GACX,OAAIA,GAA0B,WAAhBA,EAAO/N,MACnB1E,KAAKuzB,iBAAkB,EACvBvzB,KAAKszB,aAAc,EACZtzB,KAAKsS,iBAERG,GAA0B,WAAhBA,EAAO/N,OACnB1E,KAAKuzB,iBAAkB,GAElBvzB,KAAKkd,a,sEAQJtd,EAAGmF,GACT/E,KAAKszB,YACPtzB,KAAKuzB,iBAAkB,GAGzBvzB,KAAKszB,aAAc,EACnBtzB,KAAK8zB,QACL9zB,KAAKgS,Y,8BAEC,WACFgiB,EAAc,CAAC,EAAG,GADhB,EAEyCh0B,KAAKuL,YAA9CqoB,EAFA,EAEAA,OAAkBhd,GAFlB,EAEQid,SAFR,EAEkBjd,UACpBqd,GAHE,EAE4BN,SACf,GACfxf,EAASnU,KAAK2T,MAAMQ,OACxBnU,KAAKkd,UAAYld,KAAKkd,UAAUhY,KAAI,SAACoJ,EAAMqU,GACzCrU,EAAK4lB,UAAY,GACJ,EAAKtG,MAAM,OAASjL,GACXzO,wBADtB,IAGIigB,EADS,EAAKvG,MAAM,OAASjL,GACXzO,wBAClBggB,EAAY,CACdld,QAAS7C,EAAOwO,GAChBpE,KAAM3H,EACN8F,IAAK,EAAK0X,WACN,CAAC,EAAGJ,EAAY,IAAMG,EAAShhB,OAASyD,EAAS,IAAM,GACvD,CAACod,EAAY,IAAKG,EAAShhB,OAASyD,EAAS,IAAM,IAEI,aAAzD,EAAKpI,QAAQ,EAAKjD,YAAY8H,UAAUsP,GAAO3X,QACjDkpB,EAAUld,QAAU,OACpBkd,EAAUpe,UAAY,QAExB,IAAIie,E,4XAAY,IACXzlB,EAAKylB,UADG,CAEXrX,IAAK,EAAK0X,WACN,CAACxd,EAAS,GAAIod,EAAY,IAC1B,CAACpd,EAAS,GAAKod,EAAY,GAAI,GACnCpe,KAAMtH,EAAKylB,UAAUne,OAEnB2I,EAAO,CAAC3H,EAAS,GAAKud,EAASjhB,MAAO0D,EAAS,IAOnD,OANI2H,EAAK,GAAKqV,EAASK,IACrBA,EAAe1V,EAAK,GAAKqV,GAE3BI,EAAc,EAAKI,WACf,CAACH,EAAcD,EAAY,GAAKG,EAAShhB,OAASygB,GAClD,CAACI,EAAY,GAAKzV,EAAK,GAAKqV,EAAQO,EAAShhB,QAC1C,CAAE+gB,YAAWH,gBAEtB/zB,KAAKgL,MAAMqoB,UAAYW,I,iCAEdp0B,EAAGmF,GACI,SAAZA,EAAG7I,MAAmB8D,KAAKgL,MAAMioB,KAAO,GAC1CjzB,KAAKgL,MAAMioB,OACXjzB,KAAKuzB,iBAAkB,EACvBvzB,KAAKgS,UACgB,SAAZjN,EAAG7I,MAAmB8D,KAAKgL,MAAMioB,KAAOjzB,KAAKgL,MAAMkoB,YAC5DlzB,KAAKgL,MAAMioB,OACXjzB,KAAKuzB,iBAAkB,EACvBvzB,KAAKgS,Y,6BAGF9T,GAAK,WACV8B,KAAKwzB,QAAUxzB,KAAKyzB,WADV,MAEezzB,KAAK0c,IAAtBA,EAFE,EAEFA,IAAK2X,EAFH,EAEGA,QACbr0B,KAAKwzB,QAAUxzB,KAAKszB,aAAetzB,KAAKuzB,gBAAkBvzB,KAAKwzB,QAAU9W,EAH/D,MAIkB1c,KAAKgL,MAAzBioB,EAJE,EAIFA,KAAMC,EAJJ,EAIIA,UACdlzB,KAAKyzB,WAAa/W,EAClB,IAAM1I,EAAShU,KAAKge,aACdoW,EAAap0B,KAAKo0B,WACpBp0B,KAAKszB,cACP5W,EAAI,GAAKA,EAAI,GAAK,GATV,IAWFzQ,EAAcjM,KAAKuL,YAAnBU,UACR,GAAI/N,EACF,OACE,UAAC,QAAD,CAAOqgB,KAAM,CAAC,EAAG,GAAI+V,cAAet0B,KAAKu0B,aACvC,UAAC,QAAD,CACE/oB,UAAW,CACT/I,KAAM,CAAEia,IAAK1c,KAAKwzB,SAClB3nB,GAAI,CAAE6Q,IAAKA,GACXpR,SACEtL,KAAKszB,aAAetzB,KAAKuzB,gBACrBvzB,KAAKuL,YAAYC,UAAUF,SAC3B,IAIPpN,EAAIgH,KAAI,SAACzB,EAAOyJ,GACf,IAAIgC,EAAO,EAAKV,QAAQ,EAAKjD,YAAY8H,UAAUnG,GAC/CK,EAAuC,UAA/B,EAAKmmB,iBAAiBxmB,GAC9BO,EAA0B,aAAfyB,EAAKlE,MAChBsI,EAAQiE,SACV,EACA,QACA,CAAC,GAAIvD,EAAOa,OACZ,CAAC3F,EAAMhC,IAGLqW,EAAahW,EACbgK,SAAS,EAAM,cAAe,CAAC,IAAK,CAACrI,EAAMhC,IAC3C,GAEAO,GAAYhK,EAAMywB,UAAUld,UAC9BuM,EAAWvM,QAAU,OACrBuM,EAAWzN,UAAY,QAEzB,IAAI+S,EAAYtR,SACd,EACA,OACA,CAAC,GAAIvD,EAAO4B,MACZ,CAAC1G,EAAMhC,IAELsnB,EAAiBjnB,EACjBgK,SAAS,EAAM,aAAc,CAAC,IAAK,CAACrI,EAAMhC,IAC1C,GAGJ,OADAzJ,EAAMswB,UAAUne,KAAO3J,EAAUiD,EAAKhT,KAAMgT,EAAKX,KAAMrB,GAErD,UAAC,QAAD,KACEuR,QAAS,EAAKgW,UACdvW,aAAc,EAAKwW,UACnBtW,aAAc,EAAKuW,SACnBrW,YAAa,EAAKqW,UACd,CAAEhT,OAAQzU,IAEd,UAAC,GAAD,IACM,CAAE7C,IAAK,OAAS6C,GAChBzJ,EAAMywB,UACN5gB,EACAiQ,IAEN,UAAC,QAAD,IACM,CAAElZ,IAAK,OAAS6C,GAChBzJ,EAAMswB,UACNlL,EACA2L,SAObtB,GAAa,EAAI,KAChB,UAAC,QAAD,CAAOxW,IAAK2X,EAAQ3X,KAClB,UAAC,OAAD,KACEA,IAAK2X,EAAQO,UACRR,EAAa,CAAES,WAAY,GAAM,GAFxC,CAGE34B,KAAM,OACN61B,QAAS,CAACqC,EAAa,EAAI,EAAG,EAAG,EAAG,GACpCn4B,EACEm4B,EACI,0BACA,0BAENte,UAAWmd,GAAQ,EAAI,OAAS,UAChCxU,QAASze,KAAK80B,cAEhB,UAAC,QAAD,CACEpY,IAAK2X,EAAQU,SACb1qB,IAAI,iBACJwL,SAAS,OACTD,KAAMqd,EAAO,IAAMC,EACnB8B,UAAU,SACVjD,QAAsB,CAAC,EAAG,KAG5B,UAAC,OAAD,KACErV,IAAK2X,EAAQY,UACRb,EAAa,CAAES,WAAY,GAAM,GAFxC,CAGE34B,KAAM,OACN61B,QAAS,CAACqC,EAAa,EAAI,EAAG,EAAG,EAAG,GACpCn4B,EACEm4B,EACI,yBACA,yBAENte,UAAWmd,GAAQC,EAAY,OAAS,UACxCzU,QAASze,KAAK80B,kB,kCAxW1B,OADY,gD,0BAeJ,MACsB90B,KAAKuL,YAA3BsH,EADA,EACAA,WAAY0W,EADZ,EACYA,MAChB8J,EAAYrzB,KAAKgL,MAAMqoB,UACrBngB,EAA4CL,EAA5CK,MAAOC,EAAqCN,EAArCM,OAAQJ,EAA6BF,EAA7BE,IAAKD,EAAwBD,EAAxBC,KAAME,EAAkBH,EAAlBG,MAAOC,EAAWJ,EAAXI,OACnCiiB,EAAchiB,EAAQJ,EAAOE,EAC7BmiB,EAAehiB,EAASJ,EAAME,EAClCjT,KAAKgL,MAAMooB,eAAiBpzB,KAAKo0B,WAAa,CAAC,GAAI,IAAM,CAAC,GAAI,IAE9D,IA0DIC,EAIAO,EAAUG,EAAUE,EA9DlBG,cAAgB,SAACx4B,EAAO8H,GAC5B,MAAa,eAATA,EAEK,CAAC,UAAW,OAAQ,SAAU,SAAStF,QAAQxC,IAAU,EAGzD,CAAC,UAAW,MAAO,SAAU,UAAUwC,QAAQxC,IAAU,GAI9Dy4B,EAAY,CAEhBx1B,QAAS,EACTiT,KAAM,EACNkN,QAASkV,EAAc7B,EAAU,IAAM,EACvCrgB,MAAOkiB,EAAc7B,EAAU,GAAK,EACpCiC,gBANgB,SAMAvmB,GAEd,GAAmB,iBAARA,EACT,OAAOA,EAEP,IAAI3F,EAAM,EACV,IACEA,EAAMmsB,WAAWxmB,GAAO,IACxB,MAAOnP,IACT,OAAQs1B,EAAc7B,EAAU,IAAMjqB,IAKtCosB,EAAY,CAEhB31B,QAAS,EACTkT,IAAK,EACLiN,OAAQmV,EAAe,EAAI9B,EAAU,GAAK,EAC1CpgB,OAAQkiB,EAAe9B,EAAU,GAAK,EACtCiC,gBANgB,SAMAvmB,GAEd,GAAmB,iBAARA,EACT,OAAOA,EAEP,IAAI3F,EAAM,EAEV,IACEA,EAAMmsB,WAAWxmB,GAAO,IACxB,MAAOnP,IACT,OAAQu1B,EAAe9B,EAAU,IAAMjqB,IAIzCsT,EAAM,CACR0Y,cAAc7L,EAAM,GAAI,cACpB8L,EAAU9L,EAAM,IAChB8L,EAAUC,gBAAgB/L,EAAM,IACpC6L,cAAc7L,EAAM,GAAI,YACpBiM,EAAUjM,EAAM,IAChBiM,EAAUF,gBAAgB/L,EAAM,KAGlCkM,EAAarxB,KAAKiV,KAAKrZ,KAAKgL,MAAMqoB,UAAU,GAAK6B,GACjDQ,EAAatxB,KAAKiV,KAAKrZ,KAAKgL,MAAMqoB,UAAU,GAAK8B,GACjD/B,EAAiBpzB,KAAKgL,MAAMooB,eAEhC,GAAIqC,EAAa,EAAG,CAClBz1B,KAAKgL,MAAMkoB,UAAYuC,EACvB,IAAIE,EACFjZ,EAAI,GAAK2W,EAAU,GAAKD,EAAe,GAAK+B,EACxCzY,EAAI,GAAK0W,EAAe,GACxB1W,EAAI,GAAK2W,EAAU,GACzBgB,EAAU,CAACa,EAAc9B,EAAe,GAAIuC,GAC5Cf,EAAW,CAAC,EAAG,GACfG,EAAW,CAAC,GAAI,GAChBE,EAAW,CAAC,GAAI,GAChBvY,EAAI,KAAO1c,KAAKgL,MAAMioB,KAAO,GAAKiC,OAC7B,GAAIQ,EAAa,EAAG,CACzB11B,KAAKgL,MAAMkoB,UAAYwC,EAKvBrB,EAAU,CAHR3X,EAAI,GAAK2W,EAAU,GAAKD,EAAe,GAAK8B,EACxCxY,EAAI,GAAK0W,EAAe,GACxB1W,EAAI,GAAK2W,EAAU,GACJ8B,EAAe/B,EAAe,IACnDwB,EAAW,CAAC,EAAG,GACfG,EAAW,CAAC,EAAG,IACfE,EAAW,CAAC,EAAG,IACfvY,EAAI,KAAO1c,KAAKgL,MAAMioB,KAAO,GAAKkC,OAElCn1B,KAAKgL,MAAMioB,KAAO,EAClBjzB,KAAKgL,MAAMkoB,UAAY,EAEzB,MAAO,CACLxW,IAAKA,EACL2X,QAAS,CAAE3X,IAAK2X,EAASO,WAAUG,WAAUE,e,iCAK/C,MAAmC,aAA5Bj1B,KAAKuL,YAAY6L,W,QA1IP7F,ICiENmF,G,YAlEb,iBAAYjT,GAAO,+BACjB,kCAAMA,IADW,2BAWJwN,UACb,SAAArR,GACE,IAAIg2B,EAAUt6B,OAAOu6B,WAAa,EAAKlpB,IAAIuH,wBAAwBhB,MAAQ,EACvE4iB,EAASx6B,OAAOy6B,YAAc,EAAKppB,IAAIuH,wBAAwBf,OAAS,EACxE6iB,EAASp2B,EAAEge,EAAIkY,EAASA,EAASl2B,EAAEge,EACnCqY,EAAUr2B,EAAEqI,EAAI2tB,EAAUA,EAAUh2B,EAAEqI,EAC1C,EAAK0E,IAAI2G,MAAMR,KAAOmjB,EAAU,KAChC,EAAKtpB,IAAI2G,MAAMP,IAAMijB,EAAS,OAEhC,IACA,IAnBA,EAAKrpB,IAAM,KAFM,E,oJAuBR,aACyB3M,KAAKuL,YAAjC4I,EADG,EACHA,OAAQvE,EADL,EACKA,KAAM3D,EADX,EACWA,UACpBjM,KAAKoU,MAAM5F,QAAQV,GAAG,UAAU,SAAAS,GAAQ,IAChCF,EAAWE,EAAXF,OAKN,GAJA,EAAK1B,IAAIupB,UAAY,GAIA,UAAjB7nB,EAAOzR,MAAmB,CAC5B,IAAIsB,EAAM,GAAG0F,OAAO,EAAKwQ,MAAM5F,SAAS3K,QAAO,SAAAyK,GAAI,MAAmB,UAAfA,EAAKtD,SAI5D,GAHI4E,GACF1R,EAAI0R,KAAKA,GAEP1R,EAAIe,OAAQ,CACd,IAAIk3B,EAAY,GACZC,EAAOC,SAASzxB,cAAc,OAClCwxB,EAAK9iB,MAAMgjB,QAAU,mFACrBp4B,EAAIiH,SAAQ,SAACmJ,EAAMpB,GACjB,IAAI0I,EAAO,GAAH,OAAMtH,EAAKsH,KAAX,YAAmBtH,EAAK1R,OAC5BqP,IACF2J,EAAO3J,EAAUqC,EAAKC,OAASqH,GAEjC,IAAI2gB,EAAO,qIAAH,OAAwIpiB,EAAOjH,GAA/I,uCAAkL0I,EAAlL,iBACRugB,GAAaI,KAEfH,EAAKF,UAAYC,EACjB,EAAKxpB,IAAI1H,YAAYmxB,QAEE,UAAhB/nB,EAAOnS,OAChB,EAAKyQ,IAAIupB,UAAY,OAGzBG,SAASG,KAAK5rB,iBAAiB,YAAa5K,KAAKy2B,gB,+BAG5Cz2B,KAAK2M,MACR3M,KAAK2M,IAAM0pB,SAASzxB,cAAc,OAClC5E,KAAK2M,IAAI+pB,UAAY,kBACrB12B,KAAK2M,IAAI2G,MAAMgjB,QAAU,4HAE3BD,SAASG,KAAKvxB,YAAYjF,KAAK2M,O,kCAxD/B,OADY,mD,SAPM4E,ICDPolB,GADAr7B,OCsEAs7B,G,YA9Db,eAAY1rB,GAAM,sBAChB,kCADgB,IAEV2rB,EAAc3rB,EAAd2rB,UAFU,MAGU,WAAtB9lB,OAAO8lB,KACTA,EAAYR,SAASS,cAAcD,IAErC,EAAKlqB,IAAMkqB,EACX,EAAKtiB,QAAU,GACf,EAAKkC,QAAU,GACf,EAAK/S,SAAW,GAChB,EAAKoQ,MAAQ,IAAIijB,QAAM,CAAEF,YAAWG,aAAcL,GAASM,mBAC3D,EAAKnjB,MAAMlJ,iBAAiB,UAAU,SAAAwH,GAEpC,EAAK8kB,YAAY,CAAExyB,KAAM,cAE3B,EAAKwyB,YAAcjmB,UAAS,SAAA9C,GAC1B,EAAKzK,SAASyB,SAAQ,SAAAxB,GACpBA,EAAKqO,OAAO7D,QAEb,KACH,EAAKgpB,YAAclmB,UAAS,SAAAmB,GAC1B,EAAK1O,SAASyB,SAAQ,SAAA8H,GACpBA,EAAMmqB,UACN,EAAK5oB,QAAQ6oB,OAAOpqB,MAEtB,EAAKW,QAAQiE,eAAgB,EAC7B,EAAKzD,cAAc,UAAW4C,kBA1BhB,E,4DA6BX7C,GAELnO,KAAKk3B,YAAY/oB,K,6BAEZxK,GAAM,WAEX,GAD2B,CAACyS,GAAMG,IACX6L,MAAK,SAAAkV,GAAM,OAAI3zB,aAAgB2zB,KAEpDt3B,KAAKO,OAAO,GAAI,SACX,IAAKP,KAAKwO,QAEf,YADAjE,QAAQC,MAAM,mDAGK,UAAjBuG,OAAOpN,IAKAA,aAAgB2T,EACzBtX,KAAKuU,QAAQrV,KAAKyE,GACTA,aAAgBkuB,IACzB7xB,KAAKyW,QAAQvX,KAAKyE,GAEpB3D,KAAK0D,SAASxE,KAAKyE,GACnBA,EAAKyQ,MAAQpU,KACb2D,EAAKmQ,MAAQ9T,KAAK8T,MAClB9T,KAAKm3B,eAZHxzB,EAAKwB,SAAQ,SAAAmJ,GACX,EAAKuO,OAAOvO,Q,mCAchB,OAAOtO,KAAK8T,MAAMyjB,WAAWC,gB,OA3DbjmB,GCYdkmB,GAAU,CACdC,QAAS,QACTljB,QACAW,OACAE,QACAE,SACAC,OACAO,YACAC,UACAE,WACAK,SACAC,aACAG,UACAE,QACAT,QACAM,WACAnT,IACAoQ,QACAijB,SACA5qB,UAQayrB","file":"qcharts.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"spritejs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"spritejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qcharts\"] = factory(require(\"spritejs\"));\n\telse\n\t\troot[\"qcharts\"] = factory(root[\"spritejs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 94);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.utils=e():t.utils=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(...t){let e=t[0];if(t.length>1)for(let r=1;r<t.length;r++)n(e,t[r]);return e;function n(t,e){for(var n in e)t[n]=t[n]&&\"[object Object]\"===t[n].toString()?r(t[n],e[n]):t[n]=e[n];return t}}function o(){return Object.create(null)}function u(t){const e=typeof t;return\"object\"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}function i(t,e=16,n=!1){let r=null,o=n;return function(...n){if(o)return t.apply(this,n),o=!1;r||(r=setTimeout(()=>{clearTimeout(r),r=null,t.apply(this,n)},e))}}function c(t,e){return\"string\"===u(t)&&t.match(/%$/)?Number(t.substring(0,t.indexOf(\"%\")))/100*e:t}n.r(e),n.d(e,\"deepObjectMerge\",(function(){return r})),n.d(e,\"emptyObject\",(function(){return o})),n.d(e,\"jsType\",(function(){return u})),n.d(e,\"throttle\",(function(){return i})),n.d(e,\"getDistancePx\",(function(){return c}))}])}));\n//# sourceMappingURL=index.js.map","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  const el = new TagName(attrs)\n  //渲染的spritejs对象放到 visual或者plugin上\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children.map(createElement.bind(this)).filter(Boolean).forEach(el.appendChild.bind(el))\n  }\n  return el\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","import interpolate from './interpolate'\nimport invariant from './invariant'\ninvariant\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame = window.requestAnimationFrame\nlet cancelAnimationFrame = window.cancelAnimationFrame\nif (!requestAnimationFrame) {\n  const startTime = now()\n  requestAnimationFrame = fn => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = id => {\n    return clearTimeout(id)\n  }\n}\nconst delay = time =>\n  new Promise(resolve =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addAttrs, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs(graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addEvent(graph, el, patche)\n  addAttrs(graph, el, patche)\n  //el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} $el 当前的真实spritejs 节点\n * @param {*} patches 虚拟节点\n * @param {*} isRoot 是否是初节点，用于绑定$el与visual或者plugin\n */\nexport default function patch($el, patche, isRoot = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let graph = this //graph为当前的qcharts对象 visula或者plugin\n  if (!$el && !patche) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      if (newEl) {\n        if (isRoot) {\n          //创建的时候，visual与plugin绑定对应的sprite元素\n          graph.$el = newEl\n        }\n        $el.appendChild(newEl)\n      }\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      $el.parent.replaceChild(newEl, $el)\n      break\n    }\n    case REMOVE: {\n      $el.remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      patchAttrs(graph, $el, attrs)\n      if ($el.children && children.length) {\n        $el.children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        let len = children.length > $el.children.length ? children.length : $el.children.length\n        for (let j = 0; j < len; j++) {\n          let curNode = $el.children.filter(child => child._ind === j)[0]\n          let curVnode = children.filter(child => child._ind === j)[0]\n          if (curVnode && curVnode.type === 'CREATE') {\n            //如果是create需要传父级$el\n            patch.bind(graph)($el, curVnode)\n          } else {\n            patch.bind(graph)(curNode, curVnode)\n          }\n        }\n      }\n      break\n    }\n  }\n}\n","import { Tween } from '../tween'\nimport { deepObjectMerge, emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n\n  const { from, middle, use, to, delay, duration, useTween, easing, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n  if (from) {\n    //如果存在from，一开始就设置，防止出现抖动\n    el.attr(from)\n  }\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween(easing)\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAttrs(graph, el, attrs = {}) {\n  let states = attrs['states']\n  let state = attrs['state']\n  if (states && state) {\n    let oldState = el.attr('state')\n    if (state !== oldState) {\n      //不相当就处理，相当上一次已经处理完毕\n      let oldstates = el.attr('states') || emptyObject()\n      let oldAttrs = deepObjectMerge(emptyObject(), attrs, oldstates[oldState])\n      let newAttrs = deepObjectMerge(emptyObject(), attrs, states[state])\n      el.attr(oldAttrs)\n      let { duration } = deepObjectMerge(emptyObject(), graph.renderAttrs.animation, states.animation)\n      el.transition(duration / 1000).attr(newAttrs)\n    }\n  } else {\n    el.attr(attrs)\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(graph, el, attrs = {}) {\n  //缓存方法，修改方法指针this\n  Object.keys(attrs).forEach(key => {\n    if (!/^on/.test(key)) {\n      return\n    }\n    const type = key.split('on')[1].toLowerCase()\n    const cb = attrs[key] || (() => {})\n    let newF = evt => cb.call(graph, evt, el)\n    el.removeAllListeners(type)\n    el.addEventListener(type, newF)\n    delete attrs[key]\n  })\n}\n","export default {\n  default: 'default', //默认\n  hide: 'hide', //数据隐藏\n  hover: 'hover', //次激活模式，类似css中的hover\n  active: 'active', //激活模式，如选中等场景\n  disabled: 'disabled', //禁用模式\n  mixed: 'mixed' //混合模式,比如一个row或者col里面有多种状态\n}\n","function mixinEvent(target) {\n  if (target.__store) {\n    target.__store.events = []\n    let events = target.__store.events\n    target.on = function(type, cb) {\n      events.push({ type, cb })\n      return target\n    }\n    target.off = function(type, cb) {\n      for (let i = 0; i < events.length; i++) {\n        if (cb === undefined) {\n          events = []\n        } else {\n          let curEvent = events[i]\n          if (curEvent.type === type && curEvent.cb === cb) {\n            events.splice(i, 1)\n            i--\n          }\n        }\n      }\n      return target\n    }\n    target.once = function(type, cb) {\n      const listener = function(...args) {\n        fn.apply(target, args)\n        self.off(type, cb)\n      }\n      return target.on(type, listener)\n    }\n    target.dispatchEvent = function(type, option) {\n      events.forEach(item => {\n        if (item.type === type) {\n          item.cb.call(target, { type, option })\n        }\n      })\n      return target\n    }\n  }\n}\nexport { mixinEvent }\n","import state from \"./state\";\nimport { mixinEvent } from \"./event\";\nclass Cell extends Object {\n  constructor(data, option, dataset) {\n    super();\n    this.__store = Object.create(null);\n    this.__store.state = state[\"default\"];\n    this.__store.row = undefined;\n    this.__store.col = undefined;\n    this.__store.option = option;\n    this.__store.data = data;\n    this.__store.datasets = [dataset];\n    this._layoutScaleFunc = dataset.layoutScaleFunc;\n    mixinEvent(this);\n  }\n  get datasets() {\n    return this.__store.datasets;\n  }\n  get data() {\n    return this, this.__store.data;\n  }\n  get value() {\n    return this.__store.data[this.__store.option[\"value\"]];\n  }\n  get layoutScaleValue() {\n    return typeof this._layoutScaleFunc === \"function\"\n      ? this._layoutScaleFunc(this.__store.data[this.__store.option[\"value\"]])\n      : this.__store.data[this.__store.option[\"value\"]];\n  }\n  get text() {\n    return this.__store.data[this.__store.option[\"text\"]];\n  }\n  set row(num) {\n    if (this.__store.row === undefined) {\n      this.__store.row = num;\n    }\n  }\n  get row() {\n    return this.__store.row;\n  }\n  set col(num) {\n    if (this.__store.col === undefined) {\n      this.__store.col = num;\n    }\n  }\n  get col() {\n    return this.__store.col;\n  }\n  get option() {\n    return this.__store.option;\n  }\n  get state() {\n    return this.__store.state;\n  }\n  set state(name) {\n    if (state[name] && this.__store.state !== state[name]) {\n      this.__store.state = state[name];\n      this.dispatchEvent(\"change\", {\n        name: \"cell\",\n        value: state[name],\n        data: this,\n      });\n      this.datasets.forEach((dataset) => {\n        dataset.dispatchEvent(\"change\", {\n          name: \"cell\",\n          value: state[name],\n          data: this,\n        });\n      });\n    }\n  }\n}\nexport default Cell;\n","import { mixinEvent } from './event'\nimport state from './state'\nclass List extends Array {\n  constructor(name, option) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.__name = name\n    this.__store.__option = option\n    this.__store.dataset = null\n    mixinEvent(this)\n  }\n  get data() {\n    let arr = []\n    this.forEach(cell => {\n      arr.push(cell.data)\n    })\n    return arr\n  }\n  set dataset(arr) {\n    this.__store.dataset = arr\n  }\n  get dataset() {\n    return this.__store.dataset\n  }\n  get name() {\n    return this.__store.__name\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get state() {\n    //遍历子项，查看状态是否统一\n    let sta = this[0].state\n    for (let i = 1; i < this.length; i++) {\n      if (this[i].state !== sta) {\n        sta = 'mixed'\n        break\n      }\n    }\n    return sta\n  }\n  set state(name) {\n    if (state[name] && this.state !== state[name]) {\n      //给所有子项设置state\n      this.forEach(cell => {\n        //如果disabled的状态，必须先设置位default,disabled的state不能直接修改位其它状态\n        if (cell.state === 'disabled' && name !== 'default') {\n          return\n        }\n        cell.state = state[name]\n      })\n      let dispatchOption = null\n      if (this instanceof Row) {\n        dispatchOption = { name: 'row', value: state[name], data: this }\n      } else if (this instanceof Col) {\n        dispatchOption = { name: 'col', value: state[name], data: this }\n      }\n      this.dispatchEvent('change', dispatchOption)\n      this.dataset && this.dataset.dispatchEvent('change', dispatchOption)\n    }\n  }\n}\nclass Row extends List {}\nclass Col extends List {}\nexport { Row, Col }\n","import Cell from './Cell'\nimport { Row, Col } from './Row'\nimport { mixinEvent } from './event'\nclass Dataset extends Array {\n  constructor(data, option) {\n    super()\n    this.layoutScaleFunc = this.handleLayoutScale(option.layoutScale)\n    data.forEach((item, i) => {\n      let cell = item\n      if (!(item instanceof Cell)) {\n        cell = new Cell(item, option, this)\n      } else {\n        cell.datasets.push(this)\n      }\n      this[i] = cell\n    })\n    this.__store = Object.create(null)\n    let store = this.__store\n    store.__option = option\n    store.__deps = []\n    store.__rows = []\n    store.__rows = getArrData(this, option)\n    mixinEvent(this)\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get cols() {\n    let cols = []\n    let colLen = 0\n    this.__store.__rows.forEach(row => {\n      if (row.length > colLen) {\n        colLen = row.length\n      }\n    })\n    for (let i = 0; i < colLen; i++) {\n      let arr = new Col()\n      arr.dataset = this\n      this.__store.__rows.forEach(item => {\n        arr.push(item[i])\n      })\n      cols.push(arr)\n    }\n    return cols\n  }\n  get rows() {\n    return this.__store.__rows\n  }\n  resetState(state = 'default') {\n    let res = []\n    this.forEach(cell => {\n      //reset的时候不处理disabled\n      if (cell.state !== state && cell.state !== 'disabled') {\n        res.push(cell)\n        cell.state = state\n      }\n    })\n    this.dispatchEvent('change', { name: 'reset', data: res })\n  }\n  selectRows(name) {\n    let rowKey = this.option.row\n    let arr = []\n    this.forEach(item => {\n      if (name.indexOf(item.data[rowKey]) !== -1) {\n        arr.push(item)\n      }\n    })\n    return new Dataset(arr, this.option)\n  }\n  addDep(dep) {\n    this.__store.__deps.push(dep)\n  }\n  handleLayoutScale(layoutScale) {\n    if (typeof layoutScale === 'string') {\n      let method = layoutScale.replace(/\\d+$/, '')\n      let NUM = 2\n      if (method !== 'sqrt' && method !== 'pow' && method !== 'log') {\n        console.warn('layoutScale type error')\n        return function (value) {\n          return value\n        }\n      }\n\n      let number = layoutScale.replace(/^[a-z]+/, '')\n      if (number) {\n        let isNumber = /^[-+]?\\d*$/.test(number)\n        if (!isNumber) {\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n        } else {\n          NUM = Number(number)\n        }\n      }\n\n      switch (method) {\n        case 'sqrt':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, NUM)\n          }\n          return function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n        case 'pow':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n          return function (value) {\n            return Math.pow(value, NUM)\n          }\n        case 'log':\n          if (NUM !== 2 && NUM !== 10) {\n            console.warn('layoutScale type error')\n            return function (value) {\n              return value\n            }\n          }\n          this.datasetReverse = function (value) {\n            return Math.pow(NUM, value)\n          }\n          return function (value) {\n            return Math['log' + NUM](value)\n          }\n        default:\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n      }\n    }\n    return layoutScale\n  }\n}\nfunction getArrData(data = [], option) {\n  let { row: key, sort } = option\n  let resArr = []\n  if (key === '*') {\n    let list = new Row('*', option)\n    data.forEach(item => {\n      list.push(item)\n    })\n    if (sort) {\n      list.sort((a, b) => sort(a.data, b.data))\n    }\n    resArr.push(list)\n  } else {\n    let keys = Object.create(null)\n    data.forEach(item => {\n      let data = item.__store.data\n      if (!keys[data[key]]) {\n        keys[data[key]] = new Row(data[key], option)\n      }\n      keys[data[key]].push(item)\n    })\n    for (let key in keys) {\n      let curRow = keys[key]\n      if (sort) {\n        curRow.sort((a, b) => sort(a.data, b.data))\n      }\n      resArr.push(curRow)\n    }\n  }\n  resArr.forEach((list, m) => {\n    list.dataset = data\n    list.forEach((cell, n) => {\n      cell.row = m\n      cell.col = n\n    })\n  })\n  return resArr\n}\n\nexport default Dataset\n","import Dataset from './Dataset'\nexport default Dataset\n","const lifeCycle = {\n  beforeCreate: 'beforeCreate', //创建前\n  created: 'created', // 图表创建\n  beforeRender: 'beforeRender', //图表渲染前\n  rendered: 'rendered', // 图表渲染结束\n  beforeUpdate: 'beforeUpdate', // 图表更新前\n  updated: 'updated', // 图表更新\n  beforeDestroy: 'beforeDestroy', // 图表卸载前\n  destroyed: 'destroyed' // 图表卸载\n}\nfunction mixin(component) {\n  component.on = component.addEventListener\n  component.off = component.removeEventListener\n  component.once = function(type, fn) {\n    const listener = (...args) => {\n      fn.apply(this, args)\n      this.off(type, listener)\n    }\n    return this.on(type, listener)\n  }\n}\n\nexport { lifeCycle, mixin }\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'object' && jsType(SecondOBJ[key]) === 'object') {\n        //对象处理\n        deepObjectMerge(FirstOBJ[key], SecondOBJ[key])\n      } else if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'array' && jsType(SecondOBJ[key]) === 'array') {\n        //数组处理\n        FirstOBJ[key].splice(0, FirstOBJ[key].length, ...SecondOBJ[key])\n      } else {\n        FirstOBJ[key] = SecondOBJ[key]\n      }\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase()\n  }\n  return str\n}\n\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function (...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction debounce(fn, delay = 16, immediately = false) {\n  let timer = null\n  return function () {\n    let args = arguments\n    let context = this\n    if (timer) {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    } else {\n      if (immediately) {\n        fn.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    }\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, debounce, getDistancePx }\n","import { deepObjectMerge } from '@qcharts/utils'\nconst colors = ['#47A1FF', '#59CB74', '#FFB952', '#FC6980', '#6367EC', '#DA65CC', '#FBD54A', '#ADDF84', '#6CD3FF', '#659AEC', '#9F8CF1', '#ED8CCE', '#A2E5FF', '#4DCCCB', '#F79452', '#84E0BE', '#5982F6', '#E37474', '#3FDDC7', '#9861E5']\nfor (let i = 0; i < 1004; i++) {\n  //生成1024种颜色\n  colors.push('#' + ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substr(-6))\n}\nconst theme = {\n  colors\n}\ntheme.visuals = {\n  Line: {\n    colors: theme.colors,\n    styles: {\n      line: { lineWidth: 1 },\n      guideline: { strokeColor: '#ddd' },\n      point: {\n        pointType: 'ellipse',\n        radiusX: 4,\n        radiusY: 4,\n        strokeColor: '#fff',\n        borderWidth: 1\n      }\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Pie: {\n    colors: theme.colors,\n    styles: {\n      sector: { lineWidth: 1, strokeColor: '#fff' }\n    },\n    attrs: {}\n  },\n  Area: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 },\n      guideline: { strokeColor: '#ddd' },\n      point: {\n        pointType: 'ellipse',\n        radiusX: 4,\n        radiusY: 4,\n        strokeColor: '#fff',\n        borderWidth: 1\n      }\n    },\n    attrs: {}\n  },\n  Radar: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 }\n    },\n    attrs: {}\n  },\n  Bar: {\n    colors: theme.colors,\n    styles: {\n      bar: { textureRepeat: true },\n      groupBar: { opacity: 0.1 },\n      text: { fontSize: 12, fillColor: \"#666\" }\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  PolarBar: {\n    colors: theme.colors,\n    styles: {\n      bar: {}\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Funnel: {\n    colors: theme.colors,\n    styles: {\n      funnel: {}\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Scatter: {\n    colors: theme.colors,\n    styles: {\n      point: {}\n    },\n    attrs: {\n      showGuideLine: false\n    }\n  },\n  Wave: {\n    colors: theme.colors,\n    styles: {\n      wave: { fillColor: '#37c', strokeColor: '#37c', lineWidth: 0 },\n      text: { fillColor: '#333', fontSize: 24 },\n      shape: { fillColor: '#e6f3ff', lineWidth: 3, strokeColor: '#156cbd' }\n    },\n    attrs: {}\n  },\n  Gauge: {\n    colors: theme.colors,\n    attrs: {}\n  },\n  RadialBar: {\n    colors: theme.colors,\n    attrs: {},\n  },\n}\ntheme.plugins = {\n  Tooltip: {\n    colors: theme.colors,\n    styles: {},\n    attrs: {}\n  },\n  Legend: {\n    colors: theme.colors,\n    styles: {\n      point: {\n        pointType: 'sprite',\n        iconSize: [12, 12]\n      },\n      text: {\n        fontSize: '12px',\n        fillColor: '#666'\n      }\n    },\n    attrs: {}\n  },\n  Axis: {\n    colors: theme.colors,\n    styles: {\n      axis: {\n        strokeColor: '#ccc',\n        lineWidth: 1\n      },\n      scale: {\n        bgcolor: '#ccc'\n      },\n      label: {\n        fontSize: 12,\n        fillColor: '#666'\n      },\n      grid: {\n        strokeColor: '#ddd',\n        lineDash: [3, 3]\n      },\n      name: {\n        fontSize: 12,\n        fillColor: '#666'\n      }\n    },\n    attrs: {\n      orient: \"bottom\",\n    },\n  }\n}\ntheme.set = function(obj) {\n  //合并样式\n  deepObjectMerge(theme, obj)\n}\nexport default theme\n","import { Node } from 'spritejs'\nimport { lifeCycle, mixin } from './mixin'\nimport { emptyObject, deepObjectMerge, jsType, getDistancePx, throttle } from '@qcharts/utils'\nimport { patch, diff } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nclass Base extends Node {\n  constructor(attrs) {\n    super()\n    this.dispatchEvent(lifeCycle.beforeCreate)\n    mixin(this)\n    this['__store'] = emptyObject()\n    let store = this['__store']\n    store.__attrs = emptyObject()\n    store.__vnode__ = null\n    store.__isCreated__ = false\n    store.__refs = emptyObject()\n    store.dataset = null\n    this.attr(attrs)\n    this.__update = throttle(args => {\n      if (store.__isCreated__) {\n        this.update(args)\n      }\n    })\n  }\n  get store() {\n    return this['__store']\n  }\n  get layer() {\n    let { layer: layerName, zIndex = 0 } = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\n    return this.scene.layer(layerName).attr({ zIndex })\n  }\n  get $refs() {\n    return this['__store'].__refs\n  }\n  get renderStyles() {\n    let styles = deepObjectMerge({}, this.defaultStyles(), this.theme.styles)\n    return styles\n  }\n  get renderAttrs() {\n    //attrs转换\n    let attrs = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\n    let { animation, clientRect } = attrs\n    //动画数据转换\n    if (jsType(animation) === 'boolean') {\n      animation = { use: animation ? true : false }\n    }\n    //处理layer支持多layer\n    let { width, height } = this.layer.canvas.getBoundingClientRect()\n    //计算布局数据\n    for (let key in clientRect) {\n      if (['left', 'right', 'width'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], width)\n      } else if (['top', 'bottom', 'height'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], height)\n      }\n    }\n    if (clientRect.width === undefined) {\n      clientRect.width = width - clientRect.left - clientRect.right\n    } else {\n      clientRect.right = width - clientRect.left - clientRect.width\n    }\n    if (clientRect.height === undefined) {\n      clientRect.height = height - clientRect.top - clientRect.bottom\n    } else {\n      clientRect.bottom = height - clientRect.top - clientRect.height\n    }\n    attrs.colors = this.theme.colors\n    return attrs\n  }\n  get dataset() {\n    return this['__store'].dataset || (this.chart && this.chart.dataset)\n  }\n  source(data, options) {\n    let store = this['__store']\n    if (!(data instanceof Dataset)) {\n      let opts = options\n      if (store.dataset) {\n        opts = deepObjectMerge({}, store.dataset.option, options)\n      }\n      store.dataset = new Dataset(data, opts)\n    } else {\n      store.dataset = data\n    }\n    if (store.dataset && store.__isCreated__) {\n      store.dataset.on(\"change\", (_) => {\n        this.__update({ type: \"state\" });\n      });\n      //如果以前存在，则更新\n      this.__update({ type: 'source' })\n    }\n    return this\n  }\n  created() {\n    //初始化创建的时候执行\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.created)\n    store.__vnode__ = this.render(this.beforeRender({ type: 'create' }))\n    const patches = diff(null, store.__vnode__)\n    this.dispatchEvent(lifeCycle.beforeRender)\n    patch.bind(this)(this.$el || this.layer, patches, 1)\n    this.dispatchEvent(lifeCycle.rendered)\n    this.rendered()\n    store.__isCreated__ = true\n    this.dataset.on('change', _ => {\n      this.__update({ type: 'state' })\n    })\n  }\n  beforeRender() {\n    //图表初始化准备数据\n    return this.renderAttrs\n  }\n  render() {\n    console.warn('this function must be rewrited')\n  }\n  beforeUpdate() {\n    return this.renderAttrs\n  }\n  update(params) {\n    //图表更新准备数据\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.beforeUpdate)\n    let vnode = this.render(this.beforeUpdate(params))\n    const patches = diff(store.__vnode__, vnode)\n    patch.bind(this)(this.$el || this.layer, patches)\n    store.__vnode__ = vnode\n    this.dispatchEvent(lifeCycle.updated)\n    this.updated()\n  }\n  updated() {}\n  dispatchEvent(event, obj = emptyObject()) {\n    super.dispatchEvent(event, obj)\n  }\n  defaultAttrs() {\n    return emptyObject()\n  }\n  defaultStyles() {\n    return emptyObject()\n  }\n  baseAttrs() {\n    let attrs = {\n      //动画类型\n      animation: {\n        use: true,\n        duration: 700,\n        useTween: true,\n        easing: 'bounceOut'\n      },\n      //位置布局信息\n      clientRect: {\n        left: '10%',\n        top: '10%',\n        right: '10%',\n        bottom: '10%',\n        width: undefined,\n        height: undefined\n      },\n      //透明度\n      opacity: 1,\n      layer: 'default',\n      layoutBy: 'rows' //按照哪个数据布局 ['rows','cols']\n    }\n    return attrs\n  }\n  attr(name, val) {\n    //属性设置\n    let store = this['__store']\n    if (jsType(name) === 'object') {\n      for (let key in name) {\n        this.attr(key, name[key])\n      }\n    } else if (name === undefined) {\n      let res = emptyObject()\n      for (let key in store.__attrs) {\n        //过滤style属性\n        if (key.indexOf('style@') !== 0) {\n          res[key] = store.__attrs[key]\n        }\n      }\n      return res\n    } else if (val === undefined) {\n      //获取属性\n      return store.__attrs[name]\n    } else if (name !== undefined) {\n      store.__attrs[name] = val\n      store.__isCreated__ && this.__update({ type: 'attr' })\n    }\n  }\n  addRef(ref, el) {\n    this['__store'].__refs[ref] = el\n    //在vnode中调用，存储到this.__refs中\n  }\n  style(type, style) {\n    //样式设置，样式用attr逻辑存储，添加@符号\n    if (jsType(type) === 'object') {\n      //多样式赋值\n      for (let key in type) {\n        this.style(key, type[key])\n      }\n    } else if (type !== undefined && style === undefined) {\n      //获取样式，统一返回成函数\n      const style = this.attr('style@' + type)\n      return (...args) => {\n        if (jsType(style) === 'function') {\n          return style.apply(this, args)\n        } else {\n          return style\n        }\n      }\n    } else if (type !== undefined && style !== undefined) {\n      //赋值\n      this.attr('style@' + type, style)\n      return this\n    } else if (type === undefined && style === undefined) {\n      //获取全部样式\n      let res = emptyObject()\n      let attrs = this['__store'].__attrs\n      for (let key in attrs) {\n        if (key.indexOf('style@') === 0) {\n          let styleKey = key.substr(6)\n          res[styleKey] = this.style(styleKey)\n        }\n      }\n      return res\n    }\n  }\n}\nexport default Base\n","import Base from './Base'\nimport theme from '../theme/default'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nexport default class BaseVisual extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.visuals[this.constructor.name]\n    //如果当前对象设置了theme，不继承theme\n    this.theme.set = obj => {\n      if (this.theme === theme.visuals[this.constructor.name]) {\n        this.theme = filterClone(this.theme)\n      }\n      this.theme = deepObjectMerge(this.theme, obj)\n    }\n  }\n}\n","// merge style\nimport { deepObjectMerge, jsType } from '@qcharts/utils'\n/**\n * chart:当前的图表\n * key:当前的样式名称\n * defaultstyle:为数组或者对象，表示默认的样式\n * args:调用style方法的时候，style以后的参数\n */\nexport function getStyle(chart, key, defaultStyle, args) {\n  //合并样式\n  let oStyle = defaultStyle\n  let oArgs = args\n  if (jsType(defaultStyle) === 'array') {\n    oStyle = deepObjectMerge.apply(this, defaultStyle)\n  }\n  if (jsType(args) !== 'array') {\n    oArgs = [args]\n  }\n  let cusStyle = chart.style(key)(oStyle, ...oArgs)\n  if (cusStyle === false) {\n    return false\n  }\n  return deepObjectMerge({}, oStyle, cusStyle)\n}\n","function scaleLinear() {\n  let domain = [0, 1]\n  let range = [0, 1]\n  function scale(num) {\n    let disDomain = domain[1] - domain[0]\n    let disRange = range[1] - range[0]\n    let per = (num - domain[0]) / disDomain || 0\n    return range[0] + disRange * per\n  }\n  scale.domain = function(arr) {\n    domain = arr\n    return this\n  }\n  scale.range = function(arr) {\n    range = arr\n    return this\n  }\n  return scale\n}\n\n// const data = [80, 40, 30, 60, 70]\n// const s = scaleLinear().domain([0, 100]).range([0, 100])\n// console.log(data.map(s))\n\nexport { scaleLinear }\n","//import { Global } from '../core/Global'\nexport function axis(attr) {\n  // 计算坐标轴刻度\n  if (!Array.isArray(attr.dataSet) && !attr.hasOwnProperty(\"section\")) {\n    return [];\n  }\n  if (attr.section !== undefined) {\n    return sectionAxis(attr.section);\n  }\n  const data = dataHandle(attr);\n  let upZero = []; // 大于零的数\n  let downZero = []; // 小于零的数\n  for (const element of data) {\n    if (element < 0) {\n      downZero.push(Math.abs(element));\n    } else {\n      upZero.push(element);\n    }\n  }\n  let length = 5; // 刻度数量\n  let sortUpZero = upZero.sort((a, b) => {\n    return a - b;\n  });\n  let sortDownZero = downZero.sort((a, b) => {\n    return a - b;\n  });\n  let maxUpZero = sortUpZero.length && Math.ceil(sortUpZero.pop() / 0.95);\n  let maxDownZero = sortDownZero.length && Math.ceil(sortDownZero.pop() / 0.95);\n  let maxValue = maxUpZero - maxDownZero >= 0 ? maxUpZero : maxDownZero;\n  let mixNum = 4;\n  let maxNum = 7;\n  if (maxDownZero && maxUpZero) {\n    mixNum = 3;\n    maxNum = 5;\n  }\n  if (attr.splitNumber) {\n    mixNum = attr.splitNumber;\n    maxNum = mixNum + 1;\n  }\n  let getMax = false;\n  const len = maxValue.toString().length; // 最大值位数\n  let max =\n    len < 3\n      ? Math.ceil(maxValue / Math.pow(10, len - 1))\n      : Math.ceil(maxValue / Math.pow(10, len - 2));\n  do {\n    for (let i = mixNum; i < maxNum; i++) {\n      if (max % i === 0) {\n        length = i;\n        maxValue =\n          len < 3 ? max * Math.pow(10, len - 1) : max * Math.pow(10, len - 2);\n        getMax = true;\n        break;\n      }\n    }\n    max++;\n  } while (!getMax);\n\n  let axisArray = new Array(length + 1);\n  axisArray[0] = 0;\n  for (let i = 1; i < length + 1; i++) {\n    axisArray[i] =\n      maxUpZero >= maxDownZero\n        ? Math.round((maxValue / length) * i)\n        : -1 * Math.round((maxValue / length) * i);\n  }\n\n  // 处理0-1之间的数据\n  if (\n    (maxDownZero <= 1 && maxDownZero > 0) ||\n    (maxUpZero <= 1 && maxUpZero > 0) ||\n    (maxUpZero === 0 && maxDownZero === 0)\n  ) {\n    axisArray = new Array(6);\n    axisArray[0] = 0;\n    maxValue = 1;\n    for (let i = 1; i < 6; i++) {\n      axisArray[i] =\n        maxUpZero >= maxDownZero\n          ? (2 * maxValue * i) / 10\n          : (-2 * maxValue * i) / 10;\n    }\n  }\n\n  if (maxUpZero < maxDownZero) {\n    axisArray.reverse();\n  }\n  if (maxDownZero.length === 0 || maxUpZero.length === 0) {\n    return axisArray;\n  }\n  if (maxUpZero >= maxDownZero) {\n    const unit = axisArray[1] * 10;\n    for (\n      let i = 1,\n        len = Math.ceil(((axisArray.length - 1) * maxDownZero) / maxUpZero);\n      i < len + 1;\n      i++\n    ) {\n      axisArray.unshift((-1 * unit * i) / 10);\n    }\n  } else {\n    const unit = axisArray[axisArray.length - 2] * 10;\n    for (\n      let i = 1,\n        len = Math.ceil(((axisArray.length - 1) * maxUpZero) / maxDownZero);\n      i < len + 1;\n      i++\n    ) {\n      axisArray.push((-1 * unit * i) / 10);\n    }\n  }\n  // if (attr.needReverse) {\n  //   axisArray = axisArray.map((value) => {\n  //     return this.dataset.datasetReverse\n  //       ? Math.round(this.dataset.datasetReverse(value))\n  //       : value;\n  //   });\n  // }\n  return axisArray;\n}\n\nfunction dataHandle(attr) {\n  const stack = attr.stack || false;\n  const data = attr.dataSet || [];\n  const arr = [];\n\n  if (stack && data.length !== 0 && data[0].length) {\n    for (let i = 0, len = data[0].length; i < len; i++) {\n      let sum = 0;\n      let sumDown = 0;\n      for (let j = 0, leng = data.length; j < leng; j++) {\n        let val = data[j][i].layoutScaleValue;\n        if (data[j][i].disabled === true || val === undefined) {\n          continue;\n        }\n        if (val < 0) {\n          sumDown = sumDown + val;\n        } else {\n          sum = sum + val;\n        }\n      }\n      sum && arr.push(sum);\n      sumDown && arr.push(sumDown);\n    }\n  } else {\n    for (let m = 0; m < data.length; m++) {\n      for (let n = 0; n < data[m].length; n++) {\n        let val = data[m][n].layoutScaleValue;\n        if (data[m][n].disabled === true || val === undefined) {\n          continue;\n        }\n        arr.push(val);\n      }\n    }\n  }\n  return arr;\n}\n\nfunction sectionAxis(section) {\n  if (section && Array.isArray(section)) {\n    const gap = section[1] - section[0];\n    const arr = [];\n    let divide = 4;\n    arr.push(section[0]);\n    for (let i = 4; i < 8; i++) {\n      if (gap % i === 0) {\n        divide = i;\n        break;\n      }\n    }\n    for (let j = 1; j <= divide; j++) {\n      arr.push((section[0] + (gap * j) / divide).toFixed(2));\n    }\n    return arr;\n  }\n  return [];\n}\n","import { scaleLinear } from \"../../utils/scaleLinear\";\nimport { axis } from \"../../utils/axis\";\nexport default function layout(arr, attrs) {\n  let type = this.type;\n  let lines = [];\n  const { stack, splitNumber, clientRect, axisGap } = attrs;\n  const { width, height } = clientRect;\n  let scales = axis.call(this, { dataSet: arr, stack, splitNumber });\n  let maxVal = Math.max.apply(this, scales);\n  let minVal = Math.min.apply(this, scales);\n  let scaleFY = scaleLinear()\n    .domain([minVal, maxVal])\n    .range([0, height]);\n  let prevRow = null;\n  arr.forEach((row) => {\n    let line = {\n      points: [],\n      areaPoints: [],\n      smoothRange: [],\n      state: row.state,\n    };\n    row.forEach((cell, i) => {\n      let val = cell.layoutScaleValue;\n      if (cell.value !== undefined) {\n        //如果为undefined 不渲染\n        let dx = width / (row.length - 1);\n        let offsetX = 0;\n        if (axisGap) {\n          dx = width / row.length;\n          offsetX = dx / 2;\n        }\n        let curPos = [dx * i + offsetX, height - scaleFY(val)];\n        if (stack && prevRow) {\n          //如果是堆叠并且前一个row存在，则叠加\n          curPos = [\n            dx * i + offsetX,\n            height - scaleFY(val + prevRow[i].layoutScaleValue),\n          ];\n        }\n        line.points.push(curPos);\n      }\n    });\n    line.axisPoints = [\n      [line.points[0][0], height - scaleFY(0)],\n      [line.points[line.points.length - 1][0], height - scaleFY(0)],\n    ];\n    if (line.state !== \"disabled\") {\n      prevRow = row;\n    }\n    lines.push(line);\n  });\n  if (type === \"area\") {\n    let curLine = null;\n    lines.forEach((line, ind) => {\n      let nextPoints = []\n        .concat(line.points)\n        .reverse()\n        .map((point) => [point[0], height]);\n      if (curLine && attrs.stack) {\n        nextPoints = [].concat(lines[ind - 1].points).reverse();\n      }\n      let res = transAreaPoint(line.points, nextPoints);\n      line.areaPoints = res.areaPoints;\n      line.smoothRange = res.smoothRange;\n      if (line.state !== \"disabled\") {\n        curLine = line;\n      }\n    });\n  }\n  return lines;\n}\nfunction transAreaPoint(startPoints, endPoints) {\n  let res = {\n    areaPoints: [],\n    smoothRange: [],\n  };\n  res.areaPoints = []\n    .concat([startPoints[0]])\n    .concat(startPoints)\n    .concat([startPoints[startPoints.length - 1]])\n    .concat([endPoints[0]])\n    .concat(endPoints)\n    .concat([endPoints[endPoints.length - 1]]);\n  res.smoothRange = [\n    1,\n    startPoints.length,\n    startPoints.length + 3,\n    startPoints.length + endPoints.length + 2,\n  ];\n  return res;\n}\n","import { Sprite, Path, Ellipse, Rect, Triangle, Parallel, Regular, Star, Group } from 'spritejs'\nimport { jsType } from '@qcharts/utils'\n\nconst allPoint = {\n  sprite: Sprite,\n  path: Path,\n  ellipse: Ellipse,\n  rect: Rect,\n  triangle: Triangle,\n  parallel: Parallel,\n  regular: Regular,\n  star: Star\n}\nclass Point extends Group {\n  constructor(attrs = {}) {\n    super()\n    this.pointType = null\n    this.$sprite = null\n    this.attr({ pointType: 'ellipse', ...attrs })\n  }\n  attr(name, val) {\n    let attrs = name\n    if (jsType(name) !== 'object') {\n      attrs = {}\n      attrs[name] = val\n    }\n    this.renderSymbol(attrs)\n  }\n  renderSymbol(attrs) {\n    const { pointType, pos, ...renderAttr } = attrs\n\n    if (pointType && pointType !== this.pointType) {\n      if (!Object.keys(allPoint).includes(pointType)) {\n        throw new Error(\n          `pointType should be one of 'sprite','path','ellipse','rect','triangle','parallel','regular','star' but it is ${pointType}`\n        )\n      }\n      this.$sprite && this.$sprite.remove()\n      this.$sprite = new allPoint[pointType](renderAttr)\n      this.append(this.$sprite)\n    } else {\n      this.$sprite.attr(renderAttr)\n    }\n    if (pos && pos.length) {\n      super.attr('pos', pos)\n    }\n\n    this.pointType = pointType\n  }\n}\nexport default Point\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Node } from 'spritejs'\nimport { getStyle } from '@/utils/getStyle'\nimport layout from './layout'\nimport Point from '../../utils/Point'\nimport { deepObjectMerge } from '@qcharts/utils'\nclass Line extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderLines = []\n    this.type = 'line'\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let lines = arrLayout.map(item => {\n      return {\n        smoothRange: item.smoothRange,\n        areaFrom: { points: item.areaPoints },\n        areaTo: { points: item.areaPoints },\n        from: { points: item.points, lineDash: [1, maxLen] },\n        to: { points: item.points, lineDash: [maxLen, maxLen] }\n      }\n    })\n    return lines\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let renderLines = this.renderLines\n    let lines = arrLayout.map((item, i) => {\n      let from = { points: item.points }\n      if (renderLines[i]) {\n        from = { points: renderLines[i].to.points }\n      }\n      if (!renderLines[i] || renderLines[i].state === 'disabled') {\n        from.lineDash = [4, maxLen]\n      }\n      return {\n        state: item.state,\n        smoothRange: item.smoothRange,\n        areaFrom: (renderLines[i] && renderLines[i].areaTo) || item.areaPoints,\n        areaTo: {\n          points: item.areaPoints\n        },\n        from,\n        to: {\n          points: item.points,\n          lineDash: [maxLen, maxLen]\n        }\n      }\n    })\n    return lines\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let { height, width } = renderAttrs.clientRect\n    //对角线长度的2保证会大于曲线的长度\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 5\n    return { width, height, arrLayout, maxLen }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      guidePoints: [],\n      layer: 'line'\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {\n      smooth: false\n    }\n  }\n  guidelineleave(event, el) {\n    this.attr('guidePoints', [])\n    this.dataset.resetState()\n  }\n  guidelinemove(event, el) {\n    if (this.renderLines.length) {\n      //获取 x轴坐标的刻度\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\n      //转换cancas坐标到当前group的相对坐标\n      let [x] = el.getOffsetPosition(event.x, event.y)\n      let curInd = 0\n      //查找当前位置\n      for (let i = 0; i < arrX.length; i++) {\n        if (x > arrX[i] && x < arrX[i + 1]) {\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\n          break\n        }\n      }\n      //重置所有的dateset的状态\n      if (this.hoverIndex !== curInd) {\n        this.dataset.resetState()\n        //设置当前列的state为hover\n        this.dataset.cols[curInd].state = 'hover'\n        let { clientRect } = this.renderAttrs\n        let posX = arrX[curInd]\n        this.hoverIndex = curInd\n        this.attr({\n          guidePoints: [\n            [posX, 0],\n            [posX, clientRect.height]\n          ],\n          lineState: 'default'\n        })\n      }\n    }\n  }\n  render(lines) {\n    let { clientRect, smooth, guidePoints } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderLines = lines\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} onMouseleave={this.guidelineleave} onMouseenter={this.guidelinemove} onMousemove={this.guidelinemove} size={[clientRect.width, clientRect.height]}>\n        <Group class=\"lines-group\">\n          {lines.map((line, ind) => {\n            let style = getStyle(this, 'line', [{ strokeColor: colors[ind], smooth }, styles.line], [this.dataset.rows[ind], ind])\n            return line.state === 'disabled' || style === false ? <Node /> : <Polyline onClick={this.lineClick} {...style} animation={{ from: line.from, to: line.to }} />\n          })}\n        </Group>\n        <Group class=\"areas-group\">\n          {this.type !== 'area'\n            ? null\n            : lines.map((line, ind) => {\n                let style = getStyle(this, 'area', [{ fillColor: colors[ind], smooth }, styles.area], [this.dataset.rows[ind], ind])\n                return line.state === 'disabled' || style === false ? <Node /> : <Polyline smoothRange={line.smoothRange} {...style} animation={{ from: line.areaFrom, to: line.areaTo }} />\n              })}\n        </Group>\n        <Group class=\"line-points\">\n          {lines.map((line, ind) => {\n            return line.state === 'disabled' ? (\n              <Node />\n            ) : (\n              <Group>\n                {line.to.points.map((p, j) => {\n                  const animation = { from: { pos: line.from.points[j] }, to: { pos: p } }\n                  let style = getStyle(this, 'point', [{ fillColor: colors[ind] }, styles.point], [this.dataset.rows[ind], ind, j])\n                  let styleHover = getStyle(this, 'point:hover', [style, styles['point:hover']], [this.dataset.rows[ind], ind, j])\n                  if (this.dataset.rows[ind][j].state === 'hover') {\n                    deepObjectMerge(style, styleHover)\n                  }\n                  return <Point {...style} animation={animation} />\n                })}\n              </Group>\n            )\n          })}\n        </Group>\n        <Group class=\"guide-line-group\">\n          {guidePoints.length ? (\n            (_ => {\n              let style = getStyle(this, 'guideline', styles.guideline)\n              return style === false ? <Node /> : <Polyline points={guidePoints} {...style} />\n            })()\n          ) : (\n            <Node />\n          )}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Line\n","export default function layout(arr, attrs) {\n  let rings = []\n  let arrVal = arr.map(row => row.reduce((val, item) => (row.state !== 'disabled' ? val + item.value : val), 0))\n  //当totalVal为0的时候，会造成分母为0 如果totalVal为0 处理成1\n  let totalVal = arrVal.reduce((val, item) => val + item, 0) || 1\n  let { startAngle, endAngle, activeOffset } = attrs\n  let minAngle = Math.min(startAngle, endAngle)\n  let maxAngle = Math.max(startAngle, endAngle)\n  if (maxAngle > minAngle + 360) {\n    maxAngle = minAngle + 360\n  }\n  let totalAngle = maxAngle - minAngle\n  arrVal.forEach((num, ind) => {\n    let curPercent = num / totalVal\n    let perAngle = curPercent * totalAngle\n    //默认中心坐标偏移量0\n    let offsetPos = [0, 0]\n\n    let curObj = { startAngle: minAngle, endAngle: minAngle + perAngle, offsetPos }\n    if (ind !== 0) {\n      let prevRing = rings[ind - 1]\n      curObj = { startAngle: prevRing.endAngle, endAngle: prevRing.endAngle + perAngle, offsetPos }\n    }\n    let curAngle = ((curObj.startAngle + curObj.endAngle) / 2) % 360\n    curObj.bisectorAngle = curAngle\n    curObj.bisectorRadian = transRadius(curAngle)\n    if (arr[ind].state === 'hover') {\n      //角平分,角度转弧度,默认是顺时针，角度为相反\n      curObj.offsetPos = [activeOffset * Math.cos(curObj.bisectorRadian), activeOffset * Math.sin(curObj.bisectorRadian)]\n      //选中状态\n    }\n    rings.push(curObj)\n  })\n  return rings\n}\nexport function transRadius(angle) {\n  return (angle / 180) * Math.PI\n}\nexport function computeLinePos(startAngle, endAngle, center, radius, disRadius) {\n  let points = []\n  let centerAn = ((startAngle + endAngle) / 2) % 360\n  let centerAngle = transRadius(centerAn)\n  let labelAnchor = [0, 0]\n  let startPoint = [radius * Math.cos(centerAngle), radius * Math.sin(centerAngle)]\n  let endPoint = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius) * Math.sin(centerAngle)]\n  let labelPos = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius + 5) * Math.sin(centerAngle)]\n  labelPos = [center[0] + labelPos[0], center[1] + labelPos[1]]\n  points.push([center[0] + startPoint[0], center[1] + startPoint[1]])\n  points.push([center[0] + endPoint[0], center[1] + endPoint[1]])\n  labelAnchor = [Math.sin(centerAngle / 2), 1 - Math.cos(centerAngle / 4)]\n  return { points, labelAnchor, labelPos: labelPos }\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Node, Ring, Polyline, Label } from 'spritejs'\nimport filterClone from 'filter-clone'\nimport layout from './layout'\nimport { computeLinePos } from './layout'\nimport { getStyle } from '@/utils/getStyle'\nclass Pie extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderRings = []\n    this.hoverIndex = -1\n    this.activeIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let { radius, innerRadius } = attrs\n    let { width, height } = attrs.clientRect\n    attrs.center = [width / 2, height / 2]\n    attrs.radiusPx = (Math.min(width, height) * radius) / 2\n    attrs.innerRadiusPx = (Math.min(width, height) * innerRadius) / 2\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { rings } = this.getRenderData()\n    let { center } = this.renderAttrs\n    let arr = rings.map((item, ind) => {\n      if (ind === 0) {\n        return {\n          from: { startAngle: 0, endAngle: 0, pos: center },\n          to: { ...item, pos: center }\n        }\n      }\n      let pervAngle = rings[ind - 1].endAngle\n      return {\n        from: { startAngle: pervAngle, endAngle: pervAngle, pos: center },\n        to: { ...item, pos: center }\n      }\n    })\n    this.computeLine(arr)\n    return arr\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    let { rings } = this.getRenderData()\n    let { center } = this.renderAttrs\n    let oldRings = this.renderRings\n    let arr = rings.map((item, ind) => {\n      let curPos = [center[0] + item.offsetPos[0], center[1] + item.offsetPos[1]]\n      let attrs = filterClone(item, ['startAngle', 'endAngle'])\n      if (ind === this.hoverIndex) {\n        return {\n          from: { ...oldRings[ind].to },\n          to: { ...attrs, pos: curPos }\n        }\n      } else {\n        return {\n          from: { ...oldRings[ind].to },\n          to: { ...attrs, pos: curPos }\n        }\n      }\n    })\n    this.computeLine(arr)\n    return arr\n  }\n  computeLine(arr) {\n    let { radiusPx } = this.renderAttrs\n    arr.forEach(item => {\n      let { points: fromPoints, labelAnchor: fromAnchor, labelPos: fromPos } = computeLinePos(item.from.startAngle, item.from.endAngle, item.from.pos, radiusPx + 1, 15)\n      let { points: toPoints, labelAnchor: toAnchor, labelPos: toPos } = computeLinePos(item.to.startAngle, item.to.endAngle, item.to.pos, radiusPx + 1, 15)\n      item.line = {\n        from: {\n          points: fromPoints\n        },\n        to: {\n          points: toPoints\n        }\n      }\n      item.label = {\n        from: {\n          pos: fromPos,\n          anchor: fromAnchor\n        },\n        to: {\n          pos: toPos,\n          anchor: toAnchor\n        }\n      }\n    })\n    //计算guideline位置\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    //let { radiusPx, center } = renderAttrs\n    let renderData = this.renderData()\n    let rings = layout.call(this, renderData, renderAttrs)\n    return { rings }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'pie',\n      radius: 1,\n      innerRadius: 0,\n      startAngle: 0,\n      endAngle: 360,\n      lineWidth: 1,\n      //选中偏移量基数\n      activeOffset: 10\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n  }\n  mousemove(event, el) {\n    let renderData = this.renderData()\n    let ind = el.attr('_index')\n    if (ind !== this.hoverIndex) {\n      let curData = renderData[ind]\n      renderData.forEach(row => {\n        if (row.state === 'hover') {\n          row.state = 'default'\n        }\n      })\n      curData.state = 'hover'\n      this.hoverIndex = ind\n    }\n  }\n  mouseleave() {\n    let renderData = this.renderData()\n    renderData.forEach(row => {\n      if (row.state === 'hover') {\n        row.state = 'default'\n      }\n    })\n    this.hoverIndex = -1\n  }\n  renderData() {\n    let renderAttrs = this.renderAttrs\n    return this.dataset[renderAttrs.layoutBy]\n  }\n  render(rings) {\n    //console.log(rings)\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderRings = rings\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\n          {rings.map((ring, ind) => {\n            let style = getStyle(this, 'sector', [{ strokeColor: colors[ind], fillColor: colors[ind], innerRadius: innerRadiusPx, outerRadius: radiusPx, _index: ind }, styles.sector], [this.dataset.rows[ind], ind])\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMousemove={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\n          })}\n        </Group>\n        <Group class=\"line-group\">\n          {rings.map((ring, ind) => {\n            let style = getStyle(this, 'guideline', [{ strokeColor: colors[ind] }, styles.guideline], [this.dataset.rows[ind], ind])\n            let hide = false\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\n              hide = true\n            }\n            return hide || style === false ? <Node /> : <Polyline {...style} animation={{ from: ring.line.from, to: ring.line.to }} />\n          })}\n        </Group>\n        <Group class=\"label-group\">\n          {rings.map((ring, ind) => {\n            let name = this.dataset.rows[ind].name\n            let style = getStyle(this, 'guideText', [{ fillColor: '#666', fontSize: 12 }, styles.guideline], [this.dataset.rows[ind], ind])\n            let hide = false\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\n              hide = true\n            }\n            return hide || style === false ? <Node /> : <Label text={name} {...style} pos={ring.label.from.pos} animation={{ from: ring.label.from, to: ring.label.to }} />\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\n\nexport default Pie\n","import Line from '../Line'\nimport { deepObjectMerge } from '@qcharts/utils'\nclass Area extends Line {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'area'\n  }\n  defaultAttrs() {\n    return deepObjectMerge({}, super.defaultAttrs(), {\n      stack: true,\n      animation: {\n        duration: 700,\n        easing: 'bounceOut'\n      },\n      layer: 'area'\n    })\n  }\n}\nexport default Area\n","/**\n * 根据给定角度和长度获取极坐标值\n * @param {Number} radian 角度\n * @param {Number} length 长度\n * @returns {Array} [x,y]\n */\nconst getPointCoordinate = (radian, length) => {\n  let x = Math.cos(radian) * length\n  let y = Math.sin(radian) * length\n  return [x, y]\n}\n\n/**\n * 获取数组中最大数除以层级后的整数\n * @param {Array} data\n * @param {Number} splitNumber\n * @returns {Number}\n */\nconst getMax = (data, splitNumber) => {\n  const indicatorMax = Math.max(...data)\n  if (indicatorMax < splitNumber * 10) {\n    return Math.ceil(indicatorMax / splitNumber) * splitNumber\n  } else {\n    return Math.ceil(indicatorMax / 10 / splitNumber) * 10 * splitNumber\n  }\n}\n\n/**\n * 根据给定的数据，返回绘制雷达图所需要的数据\n * @param {Array} dataset 数据集\n * @param {Number} radius 雷达图半径\n * @param {Number} splitNumber  雷达图背景层级\n * @param {Number} startAngle 雷达图起始轴角度\n * @param {Number} labelOffset 雷达图文字偏移值\n * @param {Array} colors 雷达图主题颜色\n * @returns {Object} { sectionAttrs, borderAttrs, axisAttrs, gridAttrs }\n */\nexport default function layout(data, radius, splitNumber, startAngle, labelOffset, colors) {\n  let bgPoints = [] // 最外层背景多边形\n  let gridAttrs = [] // 蜘蛛网图背景\n  let axisAttrs = [] // 坐标轴\n  let sectionAttrs = [] // 多边形数据\n\n  if (data.some((d) => d.length === 0)) {\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  const allDataValue = data.reduce((t, row) => {\n    return t.concat(row.map((cell) => cell.value))\n  }, [])\n\n  const max = getMax(allDataValue, splitNumber)\n\n  // 每个类别的弧度\n  const dimension = data[0].length\n  const perRadian = (Math.PI * 2) / dimension\n  // 起始角度->转弧度\n  const startRadian = (Math.PI / 180) * startAngle\n  for (let i = 0; i < dimension; i++) {\n    // 根据角度和半径，计算对应的坐标\n    let currentRadian = i * perRadian + startRadian\n    let point = getPointCoordinate(currentRadian, radius)\n\n    bgPoints.push({\n      point,\n      radian: currentRadian\n    })\n\n    // 类别指示坐标\n    const labelPos = getPointCoordinate(currentRadian, radius + labelOffset)\n    const label = data[0][i].text\n    // 坐标轴属性\n    axisAttrs.push({\n      points: [[0, 0], point],\n      lineWidth: 1,\n      lineDash: [3, 2],\n      strokeColor: '#DDE0E5',\n      label,\n      labelPos,\n      radian: currentRadian,\n      maxScale: max,\n      splitNumber: splitNumber\n    })\n  }\n\n  data.forEach((row, index) => {\n    const categoryPoints = row.map((d, i) => {\n      const value = d.value\n      const radian = bgPoints[i].radian\n      return getPointCoordinate(radian, (value / max) * radius)\n    })\n\n    sectionAttrs.push({\n      index: index,\n      name: row.name,\n      dataOrigin: row.data,\n      lineWidth: 1,\n      points: categoryPoints,\n      state: row.state,\n      close: true,\n      strokeColor: colors[index],\n      fillColor: colors[index]\n    })\n  })\n\n  // 背景网格多边形坐标\n  const gridPoints = bgPoints.map((p) => p.point)\n  for (let i = 0; i < splitNumber; i++) {\n    let scale = 1 - i / splitNumber\n    gridAttrs.push({\n      scale,\n      radius,\n      points: gridPoints,\n      index: i,\n      close: true,\n      lineWidth: 1,\n      strokeColor: '#DDE0E5',\n      anchor: [0.5, 0.5]\n    })\n  }\n\n  return { sectionAttrs, axisAttrs, gridAttrs }\n}\n","import { Group, Polyline, Arc, Label } from 'spritejs'\nimport { deepObjectMerge, throttle, jsType } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\nimport layout from './layout'\nimport Point from '../../utils/Point'\n\nclass Radar extends BaseVisual {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'radar'\n    this.sectionData = []\n    this.scaleEl = []\n    this.oldPos = null\n  }\n\n  //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    const { height, width } = attrs.clientRect\n    const center = [width / 2, height / 2]\n\n    const len = Math.min(...center) * attrs.radius\n\n    return { ...attrs, center, len }\n  }\n\n  // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n  defaultAttrs() {\n    return {\n      layer: 'radar',\n      gridType: 'polygon', // 网格类型,polygon,circle\n      splitNumber: 4, // 网格层次\n      startAngle: 270, // 起始角度\n      radius: 0.6, // 雷达图半径\n      labelOffset: 7 // 文字偏移\n    }\n  }\n\n  getPolylineAnimation(toPoints, state, index) {\n    const zeroPoints = new Array(toPoints.length).fill([0, 0])\n    const preData = this.sectionData[index] || { animation: { to: { points: zeroPoints } } }\n    const animation = {\n      from: { points: preData.animation.to.points },\n      to: { points: toPoints }\n    }\n    // disabled的时候缩回原点并透明\n    if (state === 'disabled') {\n      animation.to.points = zeroPoints\n    }\n    return animation\n  }\n\n  getRenderData() {\n    const dataSet = this.dataset\n    // // FIXME 数据筛选之前先按照label进行排序?是否需要？\n    const { len, splitNumber, startAngle, labelOffset } = this.renderAttrs\n    const colors = this.theme.colors\n\n    const { sectionAttrs, axisAttrs, gridAttrs } = layout(\n      [...dataSet.rows],\n      len,\n      splitNumber,\n      startAngle,\n      labelOffset,\n      colors\n    )\n\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  processData() {\n    const { sectionAttrs, ...otherData } = this.getRenderData()\n    const processSectionAttrs = sectionAttrs.map((attr, i) => {\n      const { points, state, ...otherAttrs } = attr\n      const { style, hoverStyle } = this.getStyle('section', attr, [...attr.dataOrigin], i)\n      let stateStyle = state === 'hover' ? hoverStyle : {}\n      const animation = this.getPolylineAnimation(points, state, i)\n      return deepObjectMerge(otherAttrs, { state }, { animation }, style, stateStyle)\n    })\n    return { ...otherData, sectionAttrs: processSectionAttrs }\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const renderData = this.processData()\n    this.sectionData = [...renderData.sectionAttrs]\n    return renderData\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const updateData = this.processData()\n    if (updateData.sectionAttrs) {\n      const len = Math.max(this.sectionData.length, updateData.sectionAttrs.length)\n      for (let i = 0; i < len; i++) {\n        this.sectionData[i] = updateData.sectionAttrs[i]\n      }\n    }\n    this.sectionData = [...updateData.sectionAttrs]\n    return updateData\n  }\n\n  rendered() {}\n\n  getScaleAnimation(toScale) {\n    return {\n      from: { scale: 0 },\n      to: { scale: toScale }\n    }\n  }\n\n  getStyle(type, attr, data, index) {\n    return {\n      style: this.style(type)(attr, data, index) || {},\n      hoverStyle: this.style(`${type}:hover`)(attr, data, index) || {}\n    }\n  }\n\n  isSamePoints(fromPts, toPts) {\n    return fromPts.toString() === toPts.toString()\n  }\n\n  renderGrid(gridAttrs) {\n    const { gridType } = this.renderAttrs\n    const GridShape = gridType === 'circle' ? Arc : Polyline\n    return gridAttrs.map((attr, i) => {\n      const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(attr.scale)\n      const { style } = this.getStyle('grid', attr, null, i)\n      if (style === false) {\n        return\n      }\n      return <GridShape {...attr} {...style} animation={animation} />\n    })\n  }\n\n  renderAxisLabel(attrs, i) {\n    const calcAnchor = radian => {\n      const x = 0.5 - Math.cos(radian)\n      const y = 0.5 - Math.sin(radian)\n      return [x, y]\n    }\n    const { label, labelPos, radian } = attrs\n    const anchor = calcAnchor(radian)\n    const attr = {\n      text: label,\n      pos: labelPos,\n      color: '#67728C',\n      radian,\n      anchor,\n      fontSize: 12\n    }\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\n    const { style } = this.getStyle('label', attr, { text: attr.label, radian }, i)\n    if (style === false) {\n      return\n    }\n    return <Label {...attr} {...style} animation={animation} />\n  }\n\n  renderAxisScale(attrs, index) {\n    const getPt = attrs => {\n      const { points, splitNumber, maxScale } = attrs\n      const [x, y] = points[1]\n      const perNum = maxScale / splitNumber\n      return [[x / splitNumber, y / splitNumber], perNum]\n    }\n    const [[perX, perY], perNum] = getPt(attrs)\n    let labels = []\n    const display = index === 0 ? 'block' : 'none'\n    const common = {\n      fontSize: 12,\n      anchor: [1, 0.5],\n      translate: [-5, 0],\n      display\n    }\n    for (let i = 0; i < attrs.splitNumber + 1; i++) {\n      let point = [perX * i, perY * i]\n      let text = perNum * i\n      let attr = {\n        text,\n        color: '#67728C',\n        pos: point,\n        ...common\n      }\n      const { style } = this.getStyle('scale', attr, { text, index }, i)\n      if (style === false) {\n        return\n      }\n      if (attr.display !== 'none') {\n        let animation = {}\n        const elIndex = index * attrs.splitNumber + i\n        const preEl = this.scaleEl[elIndex]\n        if (preEl) {\n          if (preEl.text !== text) {\n            animation = {\n              from: { text: preEl.text },\n              to: { text },\n              formatter: attr => {\n                attr.text = attr.text.toFixed(0)\n                return attr\n              }\n            }\n          }\n        } else {\n          animation = {\n            from: { pos: [0, 0] },\n            to: { pos: point }\n          }\n        }\n        this.scaleEl[i] = { text: Number(text.toFixed(0)) }\n        labels.push(<Label {...attr} {...style} animation={animation} />)\n      }\n    }\n    return labels\n  }\n\n  renderAxis(axisAttrs) {\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\n    return axisAttrs.map((attr, i) => {\n      const { style } = this.getStyle('axis', attr, { text: attr.label }, i)\n      if (style === false) {\n        return\n      }\n      return (\n        <Group>\n          <Polyline {...attr} {...style} animation={animation} />\n          {this.renderAxisLabel(attr, i)}\n          {this.renderAxisScale(attr, i)}\n        </Group>\n      )\n    })\n  }\n\n  renderPoints(sectionAttrs) {\n    const allPoints = sectionAttrs.map(attrs => {\n      const { animation: secAnimation, dataOrigin, strokeColor, state } = attrs\n      const prePoints = secAnimation && secAnimation.from && secAnimation.from.points\n      const toPoints = secAnimation && secAnimation.to && secAnimation.to.points\n      return toPoints.map((point, i) => {\n        const attr = {\n          pos: point,\n          fillColor: strokeColor,\n          radius: 2,\n          dataOrigin: dataOrigin[i]\n        }\n        const { style, hoverStyle } = this.getStyle('point', attr, { ...attr.dataOrigin }, i)\n        if (style === false) {\n          return\n        }\n\n        let animation = {\n          from: { pos: [0, 0], opacity: 1 },\n          to: { pos: point, opacity: 1 }\n        }\n\n        if (prePoints && prePoints[i]) {\n          if (!this.isSamePoints(prePoints[i], point)) {\n            animation.from.pos = prePoints[i]\n          } else {\n            animation.from.pos = point\n          }\n        }\n        if (state === 'disabled') {\n          animation.to.opacity = 0\n        }\n        const stateStyle = state === 'hover' ? hoverStyle : {}\n        return <Point {...attr} {...style} {...stateStyle} animation={animation} zIndex={99} />\n      })\n    })\n\n    return allPoints.reduce((pre, cur) => pre.concat(cur), [])\n  }\n\n  renderSection(sectionAttrs) {\n    return sectionAttrs.map((attr, i) => {\n      const { animation, ...otherAttr } = attr\n      return <Polyline zIndex={9 + i} {...otherAttr} animation={animation} onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave} />\n    })\n  }\n\n  onMouseenter = throttle(\n    (event, el) => {\n      this.dataset.resetState()\n      const name = el.attributes.name\n      this.dataset.rows\n        .filter(row => row.state !== 'disabled')\n        .forEach(row => {\n          row.state = row.name === name ? 'hover' : 'default'\n        })\n    },\n    16,\n    true\n  )\n  onMouseleave() {\n    this.dataset.resetState()\n    this.dataset.rows.filter(row => row.state !== 'disabled').forEach(row => row.state === 'default')\n  }\n\n  render({ sectionAttrs, axisAttrs, gridAttrs }) {\n    const { center, clientRect } = this.renderAttrs\n    const gAnimation = {\n      from: { pos: this.oldPos ? this.oldPos : center },\n      to: { pos: center }\n    }\n    this.oldPos = center\n    return (\n      <Group pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group pos={center} animation={gAnimation}>\n          {this.renderGrid(gridAttrs)}\n          {this.renderAxis(axisAttrs)}\n          {this.renderSection(sectionAttrs)}\n          {this.renderPoints(sectionAttrs)}\n        </Group>\n      </Group>\n    )\n  }\n}\n\nexport default Radar\n","import { axis } from \"../../utils/axis\"\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr\n  const { stack, splitNumber, clientRect } = attrs\n  const { width, height } = clientRect\n  const barSize = [width, height]\n  const transpose = attrs.transpose || false\n  const groupGap = attrs.groupGap || 0\n  const stackGap = attrs.stackGap || 0\n  let barWidth = attrs.barWidth || 0\n  // 输出\n  const barData = []\n  const groupData = []\n  const textData = []\n  const bgPillarAttr = { opacity: 0, bgcolor: \"#000\" }\n\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber })\n  if (!valueAxis || !valueAxis.length) {\n    return { barData, groupData, textData }\n  }\n  const tableSize = transpose\n    ? { label: barSize[1], value: barSize[0] }\n    : { label: barSize[0], value: barSize[1] }\n  const axisValueMax = Math.max.apply(this, valueAxis)\n  const axisValueMin = Math.min.apply(this, valueAxis)\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\n\n  const GROUP_NUM = data[0].length\n  let gap = 0\n  // 柱子宽度，根据数据绘制类型计算，是否分组，是否旋转\n  if (barWidth === 0) {\n    barWidth = stack\n      ? (tableSize.label * 0.5) / GROUP_NUM\n      : (tableSize.label * 0.5) / (GROUP_NUM * GROUP_BAR_NUM)\n\n    gap = stack ? barWidth : barWidth * GROUP_BAR_NUM\n  } else {\n    gap = stack\n      ? (tableSize.label - barWidth * GROUP_NUM) / GROUP_NUM\n      : (tableSize.label -\n          barWidth * GROUP_BAR_NUM * GROUP_NUM -\n          groupGap * (GROUP_BAR_NUM - 1) * GROUP_NUM) /\n        GROUP_NUM\n  }\n\n  const BAR_HEIGHT_FACTOR = tableSize.value / (axisValueMax - axisValueMin)\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\n      let value = 0\n      let rawValue = 0\n      let gpData = { rects: [] }\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].state !== \"disabled\") {\n        //   data[j][i].state = \"default\";\n        // }\n        rawValue = data[j][i].value\n        value = data[j][i].layoutScaleValue\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\n        let rect = {\n          anchor: [\n            transpose && value < 0 ? 1 : 0,\n            transpose || value < 0 ? 0 : 1,\n          ],\n          size: transpose\n            ? [barHeight, barWidth - 1]\n            : [barWidth - 1, barHeight],\n          pos: transpose\n            ? [\n                tableSize.value * (1 - POSITIVE_RATIO),\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i,\n              ]\n            : [\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i,\n                tableSize.value * POSITIVE_RATIO,\n              ],\n        }\n        if (data[j][i].state === \"disabled\") {\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\n          flag++\n        } else {\n          gpData.rects.push(rect)\n        }\n        let label = {\n          opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\n          text: rawValue.toString(),\n          anchor: [transpose && value < 0 ? 1 : 0, 0.5],\n          pos: transpose\n            ? [\n                tableSize.value * (1 - POSITIVE_RATIO),\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i +\n                  barWidth * 0.5,\n              ]\n            : [\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i +\n                  barWidth * 0.5,\n                tableSize.value * POSITIVE_RATIO,\n              ],\n          rotate: transpose ? 0 : value < 0 ? 90 : 270,\n          paddingLeft: 8,\n        }\n        barData.push(rect)\n        textData.push(label)\n      }\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        // title: data[0][i]['_x'],\n        pos: transpose\n          ? [\n              0,\n              (gap +\n                barWidth * GROUP_BAR_NUM +\n                groupGap * (GROUP_BAR_NUM - 1)) *\n                i,\n            ]\n          : [\n              (gap +\n                barWidth * GROUP_BAR_NUM +\n                groupGap * (GROUP_BAR_NUM - 1)) *\n                i,\n              0,\n            ],\n        size: transpose\n          ? [\n              tableSize.value,\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\n            ]\n          : [\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\n              tableSize.value,\n            ],\n        ...bgPillarAttr,\n      })\n      groupData.push(gpData)\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0\n      let heightSumDown = 0\n      let value = 0\n      let gpData = { rects: [] }\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        let stackGapTemp = stackGap\n        // if (data[j][i].state !== \"disabled\") {\n        //   data[j][i].state = \"default\";\n        // }\n        value = data[j][i].layoutScaleValue\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\n        if (barHeight === 0) {\n          stackGapTemp = 0\n        }\n        let posY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\n        let posX =\n          value < 0\n            ? tableSize.value * (1 - POSITIVE_RATIO) - heightSumDown\n            : tableSize.value * (1 - POSITIVE_RATIO) + heightSumUp\n        let posLabelY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown + barHeight\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\n        let rect = {\n          anchor: [\n            transpose && value < 0 ? 1 : 0,\n            transpose || value < 0 ? 0 : 1,\n          ],\n          size: transpose\n            ? [barHeight - stackGapTemp, barWidth]\n            : [barWidth, barHeight - stackGapTemp],\n          pos: transpose\n            ? [posX, gap / 2 + (barWidth + gap) * i]\n            : [gap / 2 + (barWidth + gap) * i, posY],\n          index: j,\n        }\n        let paddingAttrs = transpose ? \"paddingLeft\" : \"paddingBottom\"\n        let label = {\n          opacity: data[j][i].state !== \"disabled\" ? 1 : 0,\n          text: value.toString(),\n          anchor: transpose ? (value < 0 ? [1, 0.5] : [0, 0.5]) : [0.5, 1],\n          pos: transpose\n            ? [posX, +(gap + barWidth) / 2 + (barWidth + gap) * i]\n            : [(gap + barWidth) / 2 + (barWidth + gap) * i, posLabelY],\n        }\n        label[paddingAttrs] = 8\n        if (data[j][i].state === \"disabled\") {\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\n        } else {\n          value < 0\n            ? (heightSumDown = heightSumDown + barHeight)\n            : (heightSumUp = heightSumUp + barHeight)\n          gpData.rects.push(rect)\n        }\n        textData.push(label)\n        barData.push(rect)\n      }\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        pos: transpose ? [0, (gap + barWidth) * i] : [(gap + barWidth) * i, 0],\n        size: transpose\n          ? [tableSize.value, barWidth + gap]\n          : [barWidth + gap, tableSize.value],\n        ...bgPillarAttr,\n      })\n      groupData.push(gpData)\n    }\n  }\n\n  return { textData, barData, groupData }\n}\n\nfunction computerLegend(data) {\n  let flag = 0\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1\n}\n","import Base from \"../../base/BaseVisual\"\nimport { Group, Sprite, Label } from \"spritejs\"\nimport { getStyle } from \"@/utils/getStyle\"\nimport { deepObjectMerge, throttle } from \"@qcharts/utils\"\nimport layout from \"./layout\"\nimport filterClone from \"filter-clone\"\nclass Bar extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.type = \"bar\"\n    this.pillars = null\n    this.texts = null\n    this.groups = null\n    this.fromTos = null\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base---------before\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map((item) => {\n      return {\n        attrs: item,\n        from: {\n          size: this.renderAttrs.transpose\n            ? [0, item.size[1]]\n            : [item.size[0], 0],\n        },\n        to: {\n          size: item.size,\n        },\n      }\n    })\n    let textData = arrLayout.textData.map((item) => {\n      return {\n        attrs: item,\n        from: {\n          pos: item.pos,\n        },\n        to: {\n          pos: item.pos,\n        },\n      }\n    })\n    this.pillars = barData\n    this.groups = arrLayout.groupData\n    this.texts = textData\n    return { barData, textData, groupData: arrLayout.groupData }\n  }\n  beforeUpdate() {\n    const pillars = this.pillars\n    const texts = this.texts\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1]\n      if (!prev) {\n        prev = {\n          size: [0, 0],\n          pos: nextPillar.pos,\n          labelAttrs: null,\n        }\n      }\n      return {\n        attrs: nextPillar,\n        from: {\n          size: prev.attrs.disable\n            ? this.attr(\"transpose\")\n              ? [0, prev.attrs.size[1]]\n              : [prev.attrs.size[0], 0]\n            : prev.attrs.size,\n          pos: prev.attrs.pos,\n        },\n        to: {\n          size: nextPillar.size,\n          pos: nextPillar.pos,\n        },\n      }\n    })\n    let textData = arrLayout.textData.map((nextText, i) => {\n      let prev = texts[i] ? texts[i] : arrLayout.textData[i - 1]\n      if (!prev) {\n        prev = {\n          pos: nextPillar.pos,\n        }\n      }\n      return {\n        attrs: nextText,\n        from: {\n          pos: prev.attrs.pos,\n        },\n        to: {\n          pos: nextText.pos,\n        },\n      }\n    })\n    this.pillars = barData\n    this.groups = arrLayout.groupData\n    this.texts = textData\n    return { barData, textData, groupData: arrLayout.groupData }\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    const dataLength =\n      renderData.length > 1 ? renderData.length : renderData[0].length\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n    arrLayout.barData = arrLayout.barData.map((bar, i) => {\n      // let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\n      // let barStyle = deepObjectMerge(\n      //   { bgcolor: bar.bgcolor || colors[i % dataLength] },\n      //   styles.bar,\n      //   style\n      // );\n      // bar = deepObjectMerge(bar, barStyle);\n      return bar\n    })\n    return { arrLayout }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    let renderData = this.dataset[\"rows\"]\n    let stateArray = Array.from(\n      { length: renderData[0].length },\n      () => \"defalut\"\n    )\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: \"bar\",\n      bgpillarState: stateArray,\n      states: {\n        bgpillar: {\n          animation: { duration: 20 },\n          default: { opacity: 0.01 },\n          hover: { opacity: 0.1 },\n        },\n      },\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n  onMousemove = throttle(\n    (event, el) => {\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\n        let curInd = 0\n        let [x, y] = el.getOffsetPosition(event.x, event.y)\n        if (!this.renderAttrs.transpose) {\n          //获取 x轴坐标的刻度\n          let width = this.groups[0].size[0]\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(x / width)\n        } else {\n          let width = this.groups[0].size[1]\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(y / width)\n        }\n        if (curInd < 1) {\n          curInd = 0\n        } else if (curInd > this.groups.length - 1) {\n          curInd = this.groups.length - 1\n        }\n        if (this.hoverIndex !== curInd) {\n          let { bgpillarState } = this.renderAttrs\n          bgpillarState[curInd] = \"hover\"\n          bgpillarState[this.hoverIndex] = \"defualt\"\n          this.attr(\"bgpillarState\", bgpillarState)\n          this.dataset.resetState()\n          this.dataset.cols[curInd].state = \"hover\"\n          this.hoverIndex = curInd\n        }\n      }\n    },\n    16,\n    true\n  )\n  onMouseleave(e, el) {\n    this.dataset.resetState()\n    let { bgpillarState } = this.renderAttrs\n    bgpillarState[this.hoverIndex] = \"defualt\"\n    this.attr(\"bgpillarState\", bgpillarState)\n    this.hoverIndex = -1\n  }\n  myClick = function() {\n    console.log(\"myclick\")\n  }\n\n  render(data) {\n    let { clientRect, bgpillarState, states } = this.renderAttrs\n    const styles = this.renderStyles\n    let renderData = this.dataset[this.renderAttrs.layoutBy]\n    const dataLength =\n      renderData.length > 1 ? renderData.length : renderData[0].length\n    let colors = this.theme.colors\n    return (\n      <Group\n        pos={[clientRect.left, clientRect.top]}\n        size={[clientRect.width, clientRect.height]}\n        onMouseleave={this.onMouseleave}\n        onMouseenter={this.onMousemove}\n        onMousemove={this.onMousemove}\n        onClick={this.myClick}\n        // onMousemove={throttle(this.onMousemove)}\n      >\n        <Group ref=\"pillars\" class=\"pillars-group\">\n          {data.barData.map((pillar, ind) => {\n            let cell = this.dataset.rows[ind % renderData.length][\n              Math.floor(ind / renderData.length)\n            ]\n            const style = getStyle(\n              this,\n              \"pillar\",\n              [\n                { bgcolor: colors[ind % dataLength], ...pillar.attrs },\n                styles.bar,\n              ],\n              [\n                cell.data,\n                Math.floor(ind / renderData.length),\n                ind % renderData.length,\n              ]\n            )\n            const hoverStyle = getStyle(\n              this,\n              \"pillar:hover\",\n              [],\n              [\n                cell.data,\n                Math.floor(ind / renderData.length),\n                ind % renderData.length,\n              ]\n            )\n            if (cell.state === \"hover\") {\n              deepObjectMerge(style, hoverStyle)\n            }\n            return (\n              <Sprite\n                {...pillar.attrs}\n                {...pillar.from}\n                {...style}\n                animation={{ from: pillar.from, to: pillar.to }}\n              />\n            )\n          })}\n          {data.textData.map((text, ind) => {\n            let barAttrs = filterClone(data.barData[ind].attrs, [\"pos\", \"size\"])\n            let textStyle = getStyle(\n              this,\n              \"text\",\n              [{ barAttrs: barAttrs }, styles.text],\n              [\n                this.dataset.rows[ind % renderData.length][\n                  Math.floor(ind / renderData.length)\n                ].data,\n                Math.floor(ind / renderData.length),\n                ind % renderData.length,\n              ]\n            )\n            textStyle = filterClone(textStyle, [], [\"barAttrs\"])\n            if (textStyle.pos) {\n              this.texts[ind].attrs.pos = textStyle.pos\n              text.to.pos = textStyle.pos\n            }\n\n            return textStyle === false ? null : (\n              <Label\n                {...text.attrs}\n                {...textStyle}\n                animation={{\n                  from: text.from,\n                  to: text.to,\n                }}\n              />\n            )\n          })}\n        </Group>\n        <Group ref=\"bgpillar\" class=\"bgpillars-group\">\n          {data.groupData.map((pillar, ind) => {\n            let style = getStyle(\n              this,\n              \"backgroundpillar\",\n              [],\n              [\n                this.dataset.rows[ind % renderData.length],\n                Math.floor(ind / renderData.length),\n              ]\n            )\n            return style === false ? null : (\n              <Sprite\n                state={bgpillarState[ind]}\n                states={states.bgpillar}\n                {...pillar}\n                {...style}\n              />\n            )\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Bar\n","import { axis } from \"../../utils/axis\";\n\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr;\n  const { stack, splitNumber, clientRect, groupPadAngle, activeOffset } = attrs;\n  const { width, height } = clientRect;\n  const barSize = [width, height];\n  const groupGap = groupPadAngle || 0;\n  const stackGap = attrs.stackGap || 0;\n\n  const radius = attrs.radius || 1;\n  const barInnerRadius = attrs.innerRadius || 0;\n  const padAngle = attrs.padAngle;\n  // 输出\n  const barData = [];\n\n  const bgPillarAttr = { opacity: 0.01, fillColor: \"#FF0000\" };\n\n  // const valueAxis = getAxis(stack, data)\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber });\n  if (!valueAxis || !valueAxis.length) {\n    return { barData };\n  }\n\n  const tableSize = Math.min(barSize[0], barSize[1]);\n  const axisValueMax = Math.max.apply(this, valueAxis);\n  const axisValueMin = Math.min.apply(this, valueAxis);\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin); // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data); // 图例显示个数\n\n  const GROUP_NUM = data[0].length;\n  const BAR_MAX_HEIGHT = 0.5 * radius * tableSize;\n  const BAR_HEIGHT_FACTOR = BAR_MAX_HEIGHT / (axisValueMax - axisValueMin);\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0; // 计算当前柱子前面有几根被隐藏\n      let value = 0;\n      let gpData = { rects: [] };\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].disabled !== true) {\n        //   data[j][i].disabled = false;\n        // }\n        let barAngle = groupAngle / GROUP_BAR_NUM;\n        let startAngle =\n          (groupAngle + groupGap) * i + barAngle * (j - flag) - Math.PI * 0.5;\n        value = data[j][i].layoutScaleValue;\n        let barHeight = BAR_HEIGHT_FACTOR * value;\n        let innerRadius =\n          BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) +\n          barInnerRadius * tableSize * 0.5;\n        //默认中心坐标偏移量0\n        let offsetPos = [0, 0];\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: innerRadius + barHeight,\n          startAngle: (startAngle * 180) / Math.PI,\n          endAngle: ((startAngle + barAngle) * 180) / Math.PI,\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n          id: i * lenj + j,\n          offsetPos: offsetPos,\n        };\n        if (rect.state === \"hover\") {\n          let curAngle = ((rect.startAngle + rect.endAngle) / 2) % 360;\n          rect.bisectorRadian = transRadius(curAngle);\n          //角平分,角度转弧度,默认是顺时针，角度为相反\n          rect.offsetPos = [\n            activeOffset * Math.cos(rect.bisectorRadian),\n            activeOffset * Math.sin(rect.bisectorRadian),\n          ];\n          //选中状态\n        }\n        if (rect.state === \"disabled\") {\n          rect.endAngle = rect.startAngle;\n          rect.radius = 0;\n          rect.opacity = 0;\n          flag++;\n        } else {\n          rect.opacity = 1;\n          gpData.rects.push(rect);\n        }\n        if (GROUP_NUM < 2) {\n          delete rect.startAngle;\n          delete rect.endAngle;\n        }\n        barData.push(rect);\n      }\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0;\n      let heightSumDown = 0;\n      let value = 0;\n      let gpData = { rects: [] };\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].disabled !== true) {\n        //   data[j][i].disabled = false;\n        // }\n        let startAngle = (groupAngle + groupGap) * i - Math.PI * 0.5;\n        value = data[j][i].value;\n        let barHeight = BAR_HEIGHT_FACTOR * value;\n        let innerRadius =\n          value < 0\n            ? BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) - heightSumDown\n            : BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + heightSumUp;\n        innerRadius = innerRadius + barInnerRadius * tableSize * 0.5;\n        let offsetPos = [0, 0];\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: innerRadius + barHeight - stackGap,\n          startAngle: (startAngle * 180) / Math.PI,\n          endAngle: ((startAngle + groupAngle) * 180) / Math.PI,\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n          offsetPos: offsetPos,\n        };\n\n        if (rect.state === \"hover\") {\n          rect.strokeColor = \"#F00\";\n        } else {\n          delete rect.strokeColor;\n        }\n        if (rect.state === \"disabled\") {\n          rect.opacity = 0;\n        } else {\n          rect.opacity = 1;\n          value < 0\n            ? (heightSumDown = heightSumDown - barHeight)\n            : (heightSumUp = heightSumUp + barHeight);\n          gpData.rects.push(rect);\n        }\n        barData.push(rect);\n      }\n    }\n  }\n  // attachPadAngleOfArr(barData, padAngle)\n  return { barData };\n}\n\nfunction computerLegend(data) {\n  let flag = 0;\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++;\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1;\n}\nexport function transRadius(angle) {\n  return (angle / 180) * Math.PI;\n}\n","import Base from \"../../base/BaseVisual\";\nimport { Group, Ring } from \"spritejs\";\nimport { deepObjectMerge } from \"@qcharts/utils\";\nimport layout from \"./layout\";\nimport { getStyle } from \"@/utils/getStyle\";\nimport filterClone from \"filter-clone\";\nclass PolarBar extends Base {\n  constructor(attrs) {\n    super(attrs);\n    this.type = \"polarbar\";\n    this.pillars = [];\n    this.hoverIndex = -1;\n    this.timer = null;\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs;\n    let { height, width, top, left } = attrs.clientRect;\n    attrs.pos = [left + width / 2, top + height / 2];\n    return attrs;\n  }\n\n  beforeRender() {\n    //渲染前的处理函数，返回rings,继承base\n    let { arrLayout } = this.getRenderData();\n    this.pillars = arrLayout.barData;\n    let barData = arrLayout.barData.map((item) => {\n      return {\n        from: {\n          endAngle: item.startAngle,\n        },\n        to: item,\n      };\n    });\n    return { barData };\n  }\n  beforeUpdate() {\n    const pillars = this.pillars;\n    let { pos } = this.renderAttrs;\n    let { arrLayout } = this.getRenderData();\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let curPos = [\n        pos[0] + nextPillar.offsetPos[0],\n        pos[1] + nextPillar.offsetPos[1],\n      ];\n      nextPillar.pos = curPos;\n      return {\n        from: { ...pillars[i] },\n        to: { ...nextPillar },\n      };\n    });\n    this.pillars = arrLayout.barData;\n    return { barData };\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs;\n    let renderData = this.dataset[renderAttrs.layoutBy];\n    if (!renderData || renderData.length === 0) {\n      return { barData: [] };\n    }\n    const dataLength =\n      renderData.length > 1 ? renderData.length : renderData[0].length;\n    this.legendArr = Array.from({ length: renderData.length }, () => {\n      return 1;\n    });\n    let arrLayout = layout.call(this, renderData, renderAttrs);\n    let colors = this.theme.colors;\n    let styles = this.renderStyles;\n\n    arrLayout.barData.forEach((bar, i) => {\n      let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\n      bar.fillColor = bar.fillColor || colors[i % dataLength];\n      bar.strokeColor = renderAttrs.strokeColor || \"#FFF\";\n      bar.pos = renderAttrs.pos;\n      if (\n        !bar.hasOwnProperty(\"startAngle\") ||\n        !bar.hasOwnProperty(\"endAngle\")\n      ) {\n        bar.lineWidth = 0;\n      } else {\n        bar.lineWidth = 1;\n      }\n      let barStyle = deepObjectMerge(\n        { bgcolor: bar.bgcolor || colors[i % dataLength] },\n        styles.bar,\n        style\n      );\n      bar = deepObjectMerge(bar, barStyle);\n    });\n    return { arrLayout };\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: \"bar\",\n      //选中偏移量基数\n      activeOffset: 10,\n    };\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {};\n  }\n\n  mouseleave() {\n    this.timer = setTimeout(() => {\n      this.dataset.resetState();\n      this.hoverIndex = -1;\n    }, 100);\n  }\n\n  mousemove(e, el) {\n    clearTimeout(this.timer);\n    // let fun = throttle(function(e, el) {\n    let renderData = this.renderData();\n    let ind = el.attr(\"_index\");\n    let groupInd = Math.floor(ind / renderData.length);\n    if (groupInd !== this.hoverIndex) {\n      this.dataset.resetState();\n      this.dataset[this.renderAttrs.layoutBy === \"rows\" ? \"cols\" : \"rows\"][\n        groupInd\n      ].state = \"hover\";\n      this.hoverIndex = groupInd;\n    }\n    // }, 30).bind(this);\n    // fun(e, el);\n  }\n  groupMousemove(e, el) {\n    console.log(el);\n  }\n  renderData() {\n    let renderAttrs = this.renderAttrs;\n    return this.dataset[renderAttrs.layoutBy];\n  }\n  render(data) {\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs;\n    let colors = this.theme.colors;\n    let styles = this.renderStyles;\n    return (\n      <Group class=\"container\" ref=\"wrap\">\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\n          {data.barData.map((ring, ind) => {\n            let style = getStyle(\n              this,\n              \"sector\",\n              [\n                {\n                  _index: ind,\n                },\n                styles.sector,\n              ],\n              [this.dataset.rows[ind], ind]\n            );\n            return ring.state === \"disabled\" || style === false ? (\n              <Node />\n            ) : (\n              <Ring\n                onMousemove={this.mousemove}\n                {...style}\n                animation={{ from: ring.from, to: ring.to }}\n              />\n            );\n          })}\n        </Group>\n      </Group>\n    );\n  }\n}\nexport default PolarBar;\n","import { axis } from \"../../utils/axis\";\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr;\n  const { align, pyramid, clientRect } = attrs;\n  const { width, height } = clientRect;\n  // 输出\n  const polygons = [];\n\n  const max = arr[0][0].value;\n  const widthFactory = width / max;\n  const POLYGON_NUM = computerLegend(data); // 图例显示个数\n  let flag = 0; // 计算当前polygon前面有几个被隐藏\n  for (let i = 0, len = data.length; i < len; i++) {\n    let polygon = { colse: true, lineWidth: 3, points: [] };\n    const value = data[i][0].value;\n    let offset = 0;\n    let textAnchor = [0, 0.5];\n    if (align === \"center\") {\n      textAnchor = [0.5, 0.5];\n      offset = 0.5;\n    } else if (align === \"right\") {\n      offset = 1;\n      textAnchor = [1, 0.5];\n    }\n    polygon.points.push(\n      (max - value) * offset * widthFactory,\n      (height * (i - flag)) / POLYGON_NUM\n    );\n    polygon.points.push(\n      (max * offset + value * (1 - offset)) * widthFactory,\n      (height * (i - flag)) / POLYGON_NUM\n    );\n    if (i - flag + 1 < POLYGON_NUM) {\n      let counter = 1;\n\n      while (data[i + counter][0].state === \"disabled\") {\n        counter++;\n      }\n      const nextValue = data[i + counter][0].value;\n\n      polygon.points.push(\n        (max * offset + nextValue * (1 - offset)) * widthFactory,\n        (height * (i - flag + 1)) / POLYGON_NUM\n      );\n      polygon.points.push(\n        (max - nextValue) * offset * widthFactory,\n        (height * (i - flag + 1)) / POLYGON_NUM\n      );\n    } else {\n      if (pyramid) {\n        polygon.points.push(offset * width, height);\n      } else {\n        polygon.points.push(\n          (max * offset + value * (1 - offset)) * widthFactory,\n          (height * (i - flag + 1)) / POLYGON_NUM\n        );\n        polygon.points.push(\n          (max - value) * offset * widthFactory,\n          (height * (i - flag + 1)) / POLYGON_NUM\n        );\n      }\n    }\n    polygon.opacity = 1;\n    if (data[i][0].state === \"disabled\") {\n      polygon.points[6] = polygon.points[0];\n      polygon.points[7] = polygon.points[1];\n\n      polygon.points[4] = polygon.points[2];\n      polygon.points[5] = polygon.points[3];\n\n      polygon.opacity = 0;\n      flag++;\n    }\n    polygon.labelAttrs = {\n      opacity: !data[i][0].state === \"disabled\" ? 1 : 0,\n      text: Math.round((100 * value) / max) + \"%\",\n      anchor: textAnchor,\n      pos: [\n        width * offset + (0.5 - offset) * 10,\n        ((i - flag + 0.5) * height) / POLYGON_NUM,\n      ],\n      fillColor: \"#FFF\",\n      fontSize: \"12px\",\n    };\n    polygons.push(polygon);\n  }\n\n  return polygons;\n}\n\nfunction computerLegend(data) {\n  let flag = 0;\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++;\n    }\n  }\n  if (flag === 0) {\n    console.warn(\"data invalid!\");\n  }\n  return flag || 1;\n}\n","import Base from \"../../base/BaseVisual\";\nimport { Group, Polyline } from \"spritejs\";\nimport { deepObjectMerge, throttle } from \"@qcharts/utils\";\nimport layout from \"./layout\";\nclass Funnel extends Base {\n  constructor(attrs) {\n    super(attrs);\n    this.type = \"funnel\";\n    this.polygons = null;\n\n    this.hoverIndex = -1;\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs;\n    return attrs;\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base---------before\n    let { polygons } = this.getRenderData();\n    polygons = polygons.map((plg) => {\n      return {\n        from: {\n          points:\n            plg.points.length === 8\n              ? [\n                  plg.points[6],\n                  plg.points[7],\n                  plg.points[4],\n                  plg.points[5],\n                  plg.points[4],\n                  plg.points[5],\n                  plg.points[6],\n                  plg.points[7],\n                ]\n              : [\n                  plg.points[4],\n                  plg.points[5],\n                  plg.points[4],\n                  plg.points[5],\n                  plg.points[4],\n                  plg.points[5],\n                ],\n        },\n        to: {\n          pos: [0, 0],\n          ...plg,\n        },\n      };\n    });\n    this.polygons = polygons;\n    return { polygons };\n  }\n  beforeUpdate() {\n    let oldPolygons = this.polygons;\n    let { polygons } = this.getRenderData();\n    polygons = polygons.map((polygon, i) => {\n      return {\n        from: {\n          points: oldPolygons[i].to.points,\n        },\n        to: {\n          ...polygon,\n        },\n      };\n    });\n    this.polygons = polygons;\n    return { polygons };\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs;\n    let renderData = this.dataset[renderAttrs.layoutBy];\n    let polygons = layout(renderData, renderAttrs);\n    let colors = this.theme.colors;\n    let styles = this.renderStyles;\n    polygons = polygons.map((plg, i) => {\n      let style = this.style(\"polygon\")(plg.attrs, this.dataset.rows[i], i);\n      let plgStyle = deepObjectMerge(\n        { fillColor: plg.bgcolor || colors[i] },\n        styles.funnel,\n        style\n      );\n      plg = deepObjectMerge(plg, plgStyle);\n      return plg;\n    });\n    return { polygons };\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    let renderData = this.dataset[\"rows\"];\n    let stateArray = Array.from(\n      { length: renderData[0].length },\n      () => \"defalut\"\n    );\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: \"bar\",\n      bgpillarState: stateArray,\n      states: {\n        bgpillar: {\n          animation: { duration: 20 },\n          default: { opacity: 0.01 },\n          hover: { opacity: 0.1 },\n        },\n      },\n    };\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {};\n  }\n  onMousemove = throttle(\n    (event, el) => {\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\n        let curInd = 0;\n        let [x, y] = el.getOffsetPosition(event.x, event.y);\n        if (!this.renderAttrs.transpose) {\n          //获取 x轴坐标的刻度\n          let width = this.groups[0].size[0];\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(x / width);\n        } else {\n          let width = this.groups[0].size[1];\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(y / width);\n        }\n        if (curInd < 1) {\n          curInd = 0;\n        } else if (curInd > this.groups.length - 1) {\n          curInd = this.groups.length - 1;\n        }\n        if (this.hoverIndex !== curInd) {\n          let { bgpillarState } = this.renderAttrs;\n          bgpillarState[curInd] = \"hover\";\n          bgpillarState[this.hoverIndex] = \"defualt\";\n          this.attr(\"bgpillarState\", bgpillarState);\n          this.dataset.resetState();\n          this.dataset.cols[curInd].state = \"hover\";\n          this.hoverIndex = curInd;\n        }\n      }\n    },\n    16,\n    true\n  );\n  onMouseleave(e, el) {\n    this.dataset.resetState();\n    let { bgpillarState } = this.renderAttrs;\n    bgpillarState[this.hoverIndex] = \"defualt\";\n    this.attr(\"bgpillarState\", bgpillarState);\n    this.hoverIndex = -1;\n  }\n  myClick = function() {\n    console.log(\"myclick\");\n  };\n\n  render(data) {\n    let { clientRect, bgpillarState, states } = this.renderAttrs;\n\n    return (\n      <Group\n        class=\"container\"\n        ref=\"wrap\"\n        pos={[clientRect.left, clientRect.top]}\n        size={[clientRect.width, clientRect.height]}\n      >\n        <Group ref=\"pillars\" class=\"pillars-group\" bgcolor={\"#FF0\"}>\n          {data.polygons.map((pillar, ind) => {\n            return (\n              <Polyline\n                {...pillar.from}\n                animation={{ from: pillar.from, to: pillar.to }}\n              />\n            );\n          })}\n        </Group>\n        {/* <Group class=\"label-group\">\n        </Group>\n        <Group class=\"line-group\">\n        </Group> */}\n      </Group>\n    );\n  }\n}\nexport default Funnel;\n","import { axis } from '../../utils/axis'\nimport { scaleLinear } from '../../utils/scaleLinear'\nimport { jsType } from '@qcharts/utils'\n\nconst getDataRange = (data) => {\n  if (data.length === 0) {\n    return [0, 1]\n  }\n  const min = Math.min(...data)\n  const max = Math.max(...data)\n  return [min, max]\n}\n\nconst getBigRange = (data) => {\n  if (data.length === 0) {\n    return [0, 1]\n  }\n  const [min, max] = getDataRange(data)\n  const n = Math.round(min / 10) - 1\n  const m = Math.round(max / 10) + 1\n  return [n * 10, m * 10]\n}\n\nconst updateSectionVal = (section, newSection) => {\n  const { min, max } = newSection\n  if (jsType(min) === 'number') {\n    section[0] = min\n  }\n  if (jsType(max) === 'number') {\n    section[1] = max\n  }\n}\n\nexport default function layout(dataSet, size, layoutWay) {\n  const [width, height] = size\n\n  const { text: textField, value: valueField } = dataSet.option\n  const allData = [...dataSet]\n\n  // 如果X轴是文本框，则进行均分\n  const maxLen = getDataRange(dataSet.rows.map((d) => d.length))[1]\n\n  let xDomain = [0, maxLen - 1]\n  let xSection = [0, maxLen - 1]\n  const xIsTextData = allData.some((d) => jsType(d.text) === 'string')\n  if (!xIsTextData) {\n    xSection = getBigRange(allData.map((d) => d.text))\n    const xScales = axis.call(this, {\n      dataSet: data,\n      stack: false,\n      field: textField,\n      section: xSection\n    })\n    xDomain = getDataRange(xScales)\n  }\n\n  const yIsTextData = allData.some((d) => jsType(d.value) === 'string')\n  if (yIsTextData) {\n    throw new Error(\"Scatter's value category data should be Number!\")\n  }\n  let ySection = getBigRange(allData.map((d) => d.layoutScaleValue))\n  const yScales = axis.call(this, {\n    dataSet: data,\n    stack: false,\n    field: 'layoutScaleValue',\n    section: ySection\n  })\n  const yDomain = getDataRange(yScales)\n\n  if (layoutWay) {\n    if (layoutWay[textField]) {\n      updateSectionVal(xSection, layoutWay[textField])\n    }\n    if (layoutWay[valueField]) {\n      updateSectionVal(ySection, layoutWay[valueField])\n    }\n  }\n\n  const newLayoutWay = {}\n  newLayoutWay[textField] = { min: xSection[0], max: xSection[1] }\n  newLayoutWay[valueField] = { min: ySection[0], max: ySection[1] }\n\n  const xLinear = scaleLinear()\n    .domain(xDomain)\n    .range([0, width])\n  const yLinear = scaleLinear()\n    .domain(yDomain)\n    .range([0, height])\n\n  const resultData = dataSet.rows.map((dArry) => {\n    const attrs = dArry.map((d, i) => {\n      const x = xIsTextData ? i : d.text\n      const y = d.layoutScaleValue\n      const pos = [xLinear(x), height - yLinear(y)]\n      return {\n        pos,\n        radius: 5,\n        anchor: [1, 1],\n        dataOrigin: { ...d.data },\n        state: d.state,\n        name: dArry.name,\n        col: d.col,\n        row: d.row\n      }\n    })\n    return {\n      name: dArry.name,\n      state: dArry.state,\n      attrs\n    }\n  })\n  return { data: resultData, layoutWay: newLayoutWay }\n}\n","import { Group, Polyline, Arc, Label } from \"spritejs\";\nimport BaseVisual from \"../../base/BaseVisual\";\nimport { scaleLinear } from \"../../utils/scaleLinear\";\nimport { hexToRgba } from \"../../utils/color\";\nimport { deepObjectMerge } from \"@qcharts/utils\";\nimport layout from \"./layout\";\n\nclass Scatter extends BaseVisual {\n  constructor(attrs = {}) {\n    super(attrs);\n    this.type = \"scatter\";\n    this.scatterData = [];\n    this.guideLineData = [];\n  }\n\n  defaultAttrs() {\n    return {\n      layer: \"scatter\",\n      labelField: null,\n      areaField: null, //气泡大小字段值，不设置此值则为散点图\n      areaRange: null, // 面积映射\n      showGuideLine: false,\n      layoutWay: null,\n    };\n  }\n\n  get renderAttrs() {\n    return { ...super.renderAttrs }\n  }\n\n  processData() {\n    const dataSet = this.dataset;\n    const { layoutWay, clientRect } = this.renderAttrs;\n    const { data, layoutWay: newLayoutWay } = layout.call(\n      this,\n      dataSet,\n      [clientRect.width, clientRect.height],\n      layoutWay\n    );\n    deepObjectMerge(this.renderAttrs.layoutWay || {}, newLayoutWay);\n\n    data.forEach((item, i) => {\n      const color = this.theme.colors[i];\n      const fillColor = hexToRgba(color, 0.3);\n      item.attrs.forEach((di) => {\n        di.strokeColor = color;\n        di.fillColor = fillColor;\n      });\n    });\n    return data;\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate();\n    const updateData = this.processData();\n    const temp = updateData.map((row) => deepObjectMerge({}, row));\n    updateData.forEach((row, ind) => {\n      const oldRow = this.scatterData[ind];\n      row.attrs.forEach((cell, cInd) => {\n        const radius = this.getRealRadius({ ...cell });\n        cell.radius = radius;\n        if (oldRow && oldRow.attrs[cInd]) {\n          const oldCell = oldRow.attrs[cInd];\n          const toPos = [...cell.pos];\n          const fromPos =\n            oldCell.animation.to && oldCell.animation.to.pos\n              ? [...oldCell.animation.to.pos]\n              : [...oldCell.pos];\n          // 位置相同\n          if (toPos.toString() === fromPos.toString()) {\n            let fromRadius = radius;\n            let toRadius = radius;\n            //default-> disabled\n            if (cell.state === \"disabled\") {\n              toRadius = 0;\n            }\n            // old is disabled\n            if (oldCell.animation.to.radius == 0) {\n              fromRadius = 0;\n            }\n            cell.animation = {\n              from: { radius: fromRadius },\n              to: { radius: toRadius },\n            };\n          } else {\n            cell.animation = {\n              from: { pos: fromPos },\n              to: { pos: toPos },\n            };\n          }\n        } else {\n          cell.animation = {\n            from: { radius: 0 },\n            to: { radius: radius },\n          };\n        }\n      });\n    });\n    this.scatterData = temp;\n    return updateData;\n  }\n\n  beforeRender() {\n    super.beforeRender();\n    const renderData = this.processData();\n    this.scatterData = renderData.map((row) => deepObjectMerge({}, row));\n    renderData.forEach((row) => {\n      row.attrs.forEach((cell) => {\n        const radius = this.getRealRadius({ ...cell });\n        cell.animation = {\n          from: { radius: 0 },\n          to: { radius },\n        };\n      });\n    });\n    return renderData;\n  }\n\n  getRealRadius(attr) {\n    const { areaRange, areaField } = this.renderAttrs;\n    const { radius, dataOrigin } = attr;\n    // 面积字段未定义，直接返回半径\n    if (!areaField || !dataOrigin.hasOwnProperty(areaField)) {\n      return radius;\n    }\n    // 面积范围未定义，直接返回数据中的面积\n    if (!areaRange) {\n      return dataOrigin[areaField];\n    }\n\n    const allData = [...this.dataset].map((d) => d.data[areaField]).sort((a, b) => a - b)\n    const linear = scaleLinear()\n      .domain([allData[0], allData[allData.length - 1]])\n      .range(areaRange);\n    const realArea = linear(dataOrigin[areaField]);\n    return realArea;\n  }\n\n  onMouseenter(event, el) {\n\n    const arc = el.children[0]\n    const { row: rowInd, col: colInd, pos } = arc.attributes\n    this.dataset.forEach((cell) => {\n      if (cell.row === rowInd && cell.col === colInd) {\n        cell.state = \"hover\";\n      }\n    });\n    const { showGuideLine } = this.renderAttrs;\n    if (showGuideLine) {\n\n      const { height, width } = this.renderAttrs.clientRect\n      this.guideLineData = [\n        [\n          [0, pos[1]],\n          [width, pos[1]],\n        ],\n        [\n          [pos[0], 0],\n          [pos[0], height],\n        ],\n      ];\n    }\n  }\n  onMouseleave() {\n    this.dataset.resetState();\n    this.guideLineData = [];\n  }\n\n  renderGuideLine() {\n    if (this.guideLineData.length > 0) {\n      return this.guideLineData.map((points) => {\n        return (\n          <Polyline\n            points={points}\n            strokeColor={\"#ddd\"}\n            lineWidth={1}\n            translate={[0.5, 0.5]}\n          />\n        );\n      });\n    }\n    return;\n  }\n\n  renderScatter(data) {\n    const { labelField } = this.renderAttrs;\n    const scatters = data.map((item, di) => {\n      return item.attrs.map((attr, ci) => {\n        let style = this.style('point')(attr, { ...attr.dataOrigin }, ci)\n        if (style === false) {\n          return;\n        }\n\n        let labelAttr = null;\n\n        if (labelField) {\n          const style = this.style('label')(attr, { ...attr.dataOrigin }, ci)\n          if (style !== false) {\n            if (attr.dataOrigin.hasOwnProperty(labelField)) {\n              const { strokeColor, ...other } = attr;\n              const text = attr.dataOrigin[labelField];\n              labelAttr = deepObjectMerge(\n                other,\n                {\n                  fillColor: strokeColor,\n                  text,\n                  anchor: [0.5, 0.5],\n                  fontSize: '12px',\n                  zIndex: 10 + di + ci\n\n                },\n                style\n              );\n            }\n          }\n        }\n        const hStyle = this.style('point:hover')(attr, attr.dataOrigin, ci) || {}\n        const stateStyle = attr.state === 'hover' ? hStyle : {}\n\n        return (\n          <Group onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave}>\n            <Arc {...attr} {...style} {...stateStyle} zIndex={9 + di + ci} />\n            {labelAttr ? <Label {...labelAttr} /> : null}\n          </Group>\n        );\n      });\n    });\n    return scatters.reduce((pre, cur) => {\n      return pre.concat(cur);\n    }, []);\n  }\n\n  render(data) {\n    const { height, width, left, top } = this.renderAttrs.clientRect;\n    return (\n      <Group size={[width, height]} pos={[left, top]} zIndex={10}>\n        {this.renderScatter(data)}\n        {this.renderGuideLine()}\n      </Group>\n    );\n  }\n\n  rendered() {}\n}\n\nexport default Scatter;\n","export function hexToRgba(hex, opacity) {\n  // 16进制颜色转rgba\n  if (/^rgba\\(.+\\)$/.test(hex)) {\n    return hex;\n  }\n  var c\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\n    c = hex.substring(1).split('')\n    if (c.length === 3) {\n      c = [c[ 0 ], c[ 0 ], c[ 1 ], c[ 1 ], c[ 2 ], c[ 2 ]]\n    }\n    c = '0x' + c.join('')\n    return (\n      'rgba(' +\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') +\n      ',' +\n      opacity +\n      ')'\n    )\n  }\n  throw new Error('Bad Hex')\n}\nexport function randomHexColor() {\n  // 随机生成十六进制颜色\n  let random = Math.floor(Math.random() * 16777216).toString(16) // 生成ffffff以内16进制数\n  while (random.length < 6) {\n    // while循环判断hex位数，少于6位前面加0凑够6位\n    random = `0${random}`\n  }\n  return `#${random}`\n}\n","//通过圆生成path\nfunction ellipse2path(cx, cy, rx, ry) {\n  //非数值单位计算，如当宽度像100%则移除\n  if (isNaN(cx - cy + rx - ry)) return\n  var path = 'M' + (cx - rx) + ' ' + cy + 'a' + rx + ' ' + ry + ' 0 1 0 ' + 2 * rx + ' 0' + 'a' + rx + ' ' + ry + ' 0 1 0 ' + -2 * rx + ' 0' + 'z'\n  return path\n}\nexport default ellipse2path\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Path, requestAnimationFrame, Label, Node } from 'spritejs'\nimport ellipse2path from '../../utils/ellipse2path'\nimport { getStyle } from '@/utils/getStyle'\nclass Wave extends Base {\n  constructor(attrs) {\n    super(attrs)\n    //波纹振偏移量\n    this.offsetR = 50\n    this.tickId = ''\n    this.oldAttr = {}\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let clientRect = attrs.clientRect\n    let width = Math.floor(clientRect.width)\n    let height = Math.floor(clientRect.height)\n    let radius = attrs.radius\n    attrs.pos = [0, 0]\n    if (!attrs.shape) {\n      attrs.pos = [width / 2 - radius, height / 2 - radius]\n      attrs.shape = ellipse2path(radius, radius, attrs.radius, attrs.radius)\n    }\n    return attrs\n  }\n  rendered() {\n    //path的高宽\n    this.wave()\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      amplitude: 8, //振幅\n      wavelength: 300, //波长`\n      radius: 150,\n      percent: 65,\n      formatter: per => {\n        return per + '%'\n      }\n    }\n  }\n  wave() {\n    let currentR = 0\n    let per = 4\n    let clipWave = this.$refs['clipWave']\n    let clipPath = this.$refs['clipPath'] || clipWave\n    let pathHeight = clipPath.originalContentRect[3]\n    let { percent, wavelength, amplitude, clientRect, animation, shape } = this.renderAttrs\n    let perR = 24 / animation.duration\n    let currentX = 0 - clientRect.left\n    //以路径的top为起点，计算百分比\n    let startY = pathHeight * (100 - percent) / 100 + clipPath.originalContentRect[1]\n    this.tickId = requestAnimationFrame(_ => {\n      this.offsetR += perR\n      let points = [[currentX, startY + pathHeight]]\n      points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\n      while (currentX < clientRect.width + clientRect.left + clientRect.right) {\n        points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\n        currentX += wavelength / (per * 2)\n        currentR += Math.PI / per\n      }\n      let lastY = amplitude * Math.sin(currentR + this.offsetR)\n      points.push([currentX, startY + lastY])\n      points.push([currentX, startY + lastY])\n      points.push([currentX, startY + pathHeight])\n      clipWave.attr({ points: points, clipPath: ' ' + shape })\n      if (this.offsetR >= 2 * Math.PI) {\n        this.offsetR = this.offsetR % (2 * Math.PI)\n      }\n      this.wave()\n    })\n  }\n  render() {\n    let { clientRect, shape, pos, formatter, percent, radius } = this.renderAttrs\n\n    let renderStyles = this.renderStyles\n    let waveStyle = getStyle(this, 'wave', renderStyles.wave)\n    let shapeStyle = getStyle(this, 'shape', renderStyles.shape)\n    let textStyle = getStyle(this, 'text', renderStyles.text)\n    let animation = {\n      from: {\n        pos: this.oldAttr.pos || pos\n      },\n      to: {\n        pos: pos\n      }\n    }\n    this.oldAttr = { ...this.renderAttrs }\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group animation={animation}>\n          <Path ref=\"clipPath1\" d={shape} fillColor={shapeStyle.fillColor} />\n          <Polyline ref=\"clipWave\" {...waveStyle} clipPath={shape} smooth={true} />\n          <Path ref=\"clipPath\" d={shape} strokeColor={shapeStyle.strokeColor} lineWidth={shapeStyle.lineWidth} />\n          {textStyle === false ? <Node /> : <Label text={formatter(percent)} {...textStyle} pos={[radius, radius]} anchor={[0.5]} />}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Wave\n","import { Group, Polyline, Label, Arc, Gradient } from 'spritejs'\nimport { jsType } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\n\n/**\n * 根据给定参数，生成仪表盘刻度的坐标以及刻度文字标注的坐标\n * @param {Number} radius 仪表盘半径\n * @param {Number} angle 刻度的角度 单位度\n * @param {Number} tickLength 刻度的长度\n * @param {Number} labelOffset 刻度文字的偏移值\n * @param {Boolean} isInner 刻度是否在仪表盘内部\n */\nfunction tickLine(radius, angle, tickLength, labelOffset, isInner) {\n  const radian = (angle * Math.PI) / 180\n  const cos = Math.cos(radian)\n  const sin = Math.sin(radian)\n  // 起点\n  const [x, y] = [cos * radius, sin * radius]\n  // 中点\n  const [cX0, cY0] = isInner\n    ? [x - tickLength * cos, y - tickLength * sin]\n    : [x + tickLength * cos, y + tickLength * sin]\n  const labelPos = isInner\n    ? [x - (tickLength + labelOffset) * cos, y - (tickLength + labelOffset) * sin]\n    : [x + (tickLength + labelOffset) * cos, y + (tickLength + labelOffset) * sin]\n\n  let anchorX = isInner ? cos : -cos\n  let anchorY = isInner ? sin : -sin\n  let anchor = [0.5, 0.5]\n\n  if (Math.abs(anchorX) > Math.abs(anchorY)) {\n    anchor[0] = anchorX < 0 ? 0 : anchorX\n  } else {\n    anchor[1] = anchorY > 0 ? anchorY : 0\n  }\n  return {\n    points: [\n      [x, y],\n      [cX0, cY0]\n    ],\n    labelPos,\n    anchor\n  }\n}\n\nclass Gauge extends BaseVisual {\n  constructor(attrs) {\n    super(attrs)\n    this.gaugeAnimations = []\n    this.type = 'Gauge'\n    this.oldPos = null\n    this.style('tickText', true)\n    this.style('tickLine', true)\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'gauge',\n      min: 0, // 刻度最小值\n      max: 100, // 刻度最大值\n      percent: 50, // 指针值\n      lineCap: 'round',\n      _useBuiltInColors: false, // 默认颜色不使用渐变色\n      lineWidth: 10, // 仪表盘圆弧宽度\n      startAngle: 140, // 仪表盘弧度起始角度，arc 角度顺时针增加，0度为屏幕X轴方向\n      endAngle: 400, // 仪表盘弧度终止角度\n      strokeBgcolor: '#dde3ea', // 仪表盘弧度的背景色\n      title: (d) => d,\n      tickStep: 10, // tick 步进，生成 tick 的数量为 (max - min) / tickStep\n      tickLength: 10, // 刻度长度，为负值时向外绘制\n      labelOffset: 5,\n      tickFormatter: (d) => d // 刻度文本格式化\n    }\n  }\n\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    // 仪表盘半径\n    const { clientRect } = attrs\n    const { height, width } = clientRect\n    const size = [width, height]\n\n    const radius = ~~Math.min.apply(\n      size,\n      size.map((v) => v / 2)\n    )\n    // 指针宽度\n    const pointerWidth = radius / 10\n    // 绘图中心\n    const center = [width / 2, height / 2]\n\n    return {\n      ...attrs,\n      radius,\n      pointerWidth,\n      center\n    }\n  }\n\n  get ticks() {\n    let {\n      min,\n      max,\n      radius,\n      startAngle,\n      endAngle,\n      lineWidth,\n      tickStep,\n      tickLength,\n      labelOffset,\n      tickFormatter\n    } = this.renderAttrs\n    const count = Math.abs(max - min) / tickStep\n\n    let total = endAngle - startAngle\n\n    const isInner = tickLength > 0\n    const perAngle = total / count\n    const ticks = []\n    let tickRadius = isInner ? radius - lineWidth / 2 : radius + lineWidth / 2\n    let angle = 0\n    let i = -1\n\n    while (++i <= count) {\n      angle = i * perAngle + startAngle\n      const ret = tickLine(tickRadius, angle, Math.abs(tickLength), Math.abs(labelOffset), isInner)\n      ticks.push({\n        points: ret.points,\n        label: {\n          text: tickFormatter(i * tickStep + min).toFixed(0),\n          pos: ret.labelPos,\n          anchor: ret.anchor\n        }\n      })\n    }\n\n    if ((ticks[0].angle + ticks[ticks.length - 1].angle) % (Math.PI * 2) === 0) {\n      ticks.pop()\n    }\n\n    return ticks\n  }\n\n  transform() {\n    const { radius, startAngle, endAngle, min, max, percent } = this.renderAttrs\n    const total = Math.abs(max - min)\n\n    return {\n      dataOrigin: percent,\n      startAngle,\n      radius,\n      endAngle: ((endAngle - startAngle) * (percent - min)) / total + startAngle,\n      strokeColor: this.color(0)\n    }\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const arc = this.transform()\n    this.gaugeAnimations = {\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\n    }\n    return arc\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const arc = this.transform()\n    const animation = {\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\n    }\n    if (this.gaugeAnimations) {\n      animation.from = { ...this.gaugeAnimations.to }\n    }\n\n    this.gaugeAnimations = { ...animation }\n    return arc\n  }\n\n  color(i) {\n    return this.theme.colors[i]\n  }\n\n  /**\n   * 渲染指针\n   * @param {Number} angle 角度\n   */\n  renderPointer(d, maxTickTextFontSize) {\n    const style = this.style('pointer')(d, d.dataOrigin, 0)\n    if (style === false) {\n      return\n    }\n    // 动画\n    let { from, to } = this.gaugeAnimations\n    // rotate角度起始位置为屏幕Y轴方向，arc角度为X轴方向\n    const fromRotate = from.endAngle + 90\n    const toRotate = to.endAngle + 90\n    const pointerAnimation = {\n      from: { rotate: fromRotate },\n      to: { rotate: toRotate }\n    }\n    // 半径\n    const { radius, pointerWidth, center, tickLength, labelOffset, lineWidth } = this.renderAttrs\n    // 指针顶部离仪表盘的距离\n    let pointerTopOffset = tickLength + lineWidth + labelOffset + maxTickTextFontSize\n    if (tickLength < 0) {\n      pointerTopOffset = pointerTopOffset - tickLength - labelOffset\n    }\n    // 指针长度\n    const pointerLen = radius - pointerTopOffset\n    // 指针宽度\n    let pWidth = radius / 10\n\n    // 指针颜色\n    const color = this.color(0)\n\n    const [x, y] = center\n    const attr = {\n      fillColor: color,\n      rotate: fromRotate,\n      transformOrigin: center,\n      zIndex: 11,\n      points: [\n        [x, y],\n        [x - pWidth / 2, y - pointerLen * 0.1],\n        [x, y - pointerLen],\n        [x + pWidth / 2, y - pointerLen * 0.1],\n        [x, y]\n      ],\n      close: true\n    }\n    return <Polyline {...attr} {...style} animation={pointerAnimation} />\n  }\n\n  isStyleExist(name) {\n    const style = this.style(`${name}`)\n    return Boolean(style)\n  }\n\n  render(data = {}) {\n    const {\n      _useBuiltInColors,\n      title,\n      percent,\n      center,\n      radius,\n      startAngle,\n      endAngle,\n      lineWidth,\n      lineCap,\n      strokeBgcolor,\n      clientRect\n    } = this.renderAttrs\n    const labelCenter = [center[0], center[1] * 1.25]\n    const ticks = this.ticks\n    const tickLine = this.isStyleExist('tickLine')\n    const tickText = this.isStyleExist('tickText')\n    const realTitle = title || percent\n\n    let gradientColor = null // 默认使用内置的渐变配色方案\n\n    if (_useBuiltInColors !== false) {\n      const colors = this.theme.colors.reverse()\n      const gradientOpt = {\n        vector: [0, 0, center[0] * 2, center[1] * 2],\n        colors: [\n          { color: colors[0], offset: 0 },\n          { color: colors[1], offset: 0.3 },\n          { color: colors[2], offset: 1 }\n        ]\n      }\n      gradientColor = new Gradient(gradientOpt)\n    }\n\n    let maxTickTextFontSize = 16\n    if (tickText !== false) {\n      ticks.map((tick, j) => {\n        const style = this.style('tickText')(data, data.dataOrigin, j)\n        if (style && style.fontSize) {\n          if (jsType(style.fontSize) === 'number' && maxTickTextFontSize < style.fontSize) {\n            maxTickTextFontSize = style.fontSize\n          }\n          if (jsType(style.fontSize) === 'string') {\n            const realSize = Number(style.fontSize.replace('px', ''))\n            if (jsType(realSize) === 'number' && maxTickTextFontSize < realSize) {\n              maxTickTextFontSize = realSize\n            }\n          }\n        }\n      })\n    }\n    const gPos = [clientRect.left, clientRect.top]\n    const gSize = [clientRect.width, clientRect.height]\n\n    const gAnimation = {\n      from: { pos: this.oldPos ? this.oldPos : gPos },\n      to: { pos: gPos }\n    }\n    this.oldPos = gPos\n    return (\n      <Group pos={gPos} size={gSize} animation={gAnimation}>\n        <Arc\n          pos={center}\n          lineWidth={lineWidth}\n          lineCap={lineCap}\n          startAngle={startAngle}\n          endAngle={endAngle}\n          strokeColor={strokeBgcolor}\n          radius={radius}\n          zIndex={10}\n        />\n        <Arc\n          pos={center}\n          lineCap={lineCap}\n          lineWidth={lineWidth}\n          {...data}\n          animation={this.gaugeAnimations}\n          {...(gradientColor ? { strokeColor: gradientColor } : { strokeColor: this.color(0) })}\n          {...this.style('arc')(data, data.dataOrigin, 0)}\n          zIndex={11}\n        />\n        {this.renderPointer(data, maxTickTextFontSize)}\n        {realTitle ? (\n          <Label\n            text={jsType(realTitle) === 'function' ? realTitle(data.dataOrigin) : realTitle}\n            pos={labelCenter}\n            textAlign=\"center\"\n            zIndex={10}\n            anchor={[0.5, 1]}\n            {...this.style('title')(data, data.dataOrigin, 0)}\n          />\n        ) : null}\n        {tickLine !== false || tickText !== false\n          ? ticks.map((tick, j) => (\n              <Group pos={center} anchor={[0, 0]} zIndex={1010}>\n                {tickLine !== false ? (\n                  <Polyline\n                    points={tick.points}\n                    strokeColor={strokeBgcolor}\n                    {...this.style('tickLine')(data, data.dataOrigin, j)}\n                  />\n                ) : null}\n                {tickText !== false ? (\n                  <Label {...tick.label} {...this.style('tickText')(data, data.dataOrigin, j)} />\n                ) : null}\n              </Group>\n            ))\n          : null}\n      </Group>\n    )\n  }\n\n  rendered() {\n    this.on('resize', () => this.forceUpdate())\n  }\n}\n\nexport default Gauge\n","import { Group, Arc } from 'spritejs'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\n\n// 数据拷贝\nconst flattern = (arr) => [].concat.apply([], arr)\n\nclass RadialBar extends BaseVisual {\n  constructor(attrs = {}) {\n    super(attrs)\n    this.type = 'RadialBar'\n    this.animators = []\n    this.oldPos = null\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'radialBar',\n      radius: 0.8,\n      innerRadius: 0,\n      startAngle: -90,\n      endAngle: 270,\n      lineWidth: 5,\n      strokeBgcolor: '#f5f5f5'\n    }\n  }\n\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    const { clientRect } = attrs\n    const size = [clientRect.width, clientRect.height]\n    return {\n      ...attrs,\n      size\n    }\n  }\n\n  get maxOuterRadius() {\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\n    const [width, height] = size\n\n    if (endAngle - startAngle === 90) {\n      return Math.min(width, height) * radius\n    } else {\n      return (Math.min(width, height) / 2) * radius\n    }\n  }\n\n  get center() {\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\n    const angle = (endAngle + startAngle) / 2\n    const [width, height] = size\n    const maxRadius = this.maxOuterRadius\n    let [x, y] = [width / 2 - maxRadius, height / 2 - maxRadius]\n\n    if (endAngle - startAngle === 90) {\n      // 区分象限\n      const cos = Math.cos(angle)\n      const sin = Math.sin(angle)\n      const maxWidth = radius * width\n      const maxHeight = radius * height\n      x += cos < 0 ? maxWidth / 2 : -(maxWidth / 2)\n      y += sin < 0 ? maxHeight / 2 : -(maxHeight / 2)\n    }\n\n    return [x, y]\n  }\n\n  get innerRadius() {\n    let { radius, innerRadius } = this.renderAttrs\n    return innerRadius <= 0 ? 0 : (this.maxOuterRadius / radius) * innerRadius\n  }\n\n  transform(data) {\n    const { startAngle, endAngle, max, min, lineWidth, colors } = this.renderAttrs\n    let total = 0\n    if (!isNaN(max) && !isNaN(min)) {\n      total = max - min\n    } else {\n      let cloneData = deepObjectMerge(data)\n      cloneData.sort((a, b) => b.value - a.value)\n      total = cloneData[0].value * 1.3\n    }\n    const angle = endAngle - startAngle\n    const innerRadius = this.innerRadius\n    const outerRadius = this.maxOuterRadius\n    const arcOffset = 0.5\n    const len = data.length\n    const perRadius =\n      ((outerRadius - innerRadius) * 2 - lineWidth * (lineWidth >= 5 ? 1 : len - 1)) / ((len * 2 - 1) * (1 + arcOffset))\n    let value = null\n\n    data.forEach((d, i) => {\n      value = +d.value\n\n      d.pos = [outerRadius, outerRadius]\n      d.anchor = [0.5, 0.5]\n      d.lineWidth = lineWidth\n      d.startAngle = startAngle\n      d.endAngle = d.state === 'disabled' ? startAngle : startAngle + (angle * value) / total\n      d.innerRadius = innerRadius + i * (1 + arcOffset) * perRadius\n      d.radius = d.innerRadius + 1 * perRadius\n      d.strokeColor = colors[i]\n\n      const normalStyle = this.style('arc')(d, d.dataOrigin, d.index)\n\n      Object.assign(d, normalStyle)\n    })\n    // 半径大的在底，小的在上，这样事件触发才正常\n    return data.sort((a, b) => b.radius - a.radius)\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const { startAngle } = this.renderAttrs\n    let data = flattern(this.dataset)\n    data = this.transform(data)\n    this.animators = data.map((d) => ({\n      from: {\n        startAngle,\n        endAngle: startAngle\n      },\n      to: {\n        startAngle,\n        endAngle: d.endAngle\n      }\n    }))\n    return data\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const { startAngle } = this.renderAttrs\n    let data = flattern(this.dataset)\n    data = this.transform(data)\n    this.animators = data.map((d, i) => {\n      if (d.anticlockwise) {\n        return d.disabled ? { from: { opacity: 1 }, to: { opacity: 0 } } : { from: { opacity: 1 }, to: { opacity: 1 } }\n      } else {\n        let prev = this.animators[i] ? this.animators[i].to : data[i - 1]\n\n        if (!prev) {\n          prev = {\n            startAngle: startAngle,\n            endAngle: startAngle\n          }\n        }\n\n        return {\n          from: {\n            startAngle: prev.startAngle,\n            endAngle: prev.endAngle\n          },\n          to: {\n            startAngle: d.startAngle,\n            endAngle: d.endAngle\n          }\n        }\n      }\n    })\n    return data\n  }\n\n  onMouseenter(event, el) {\n    const { col, row } = el.children[1].attributes\n    this.dataset.forEach((item) => {\n      item.state = item.col === col && item.row === row ? 'hover' : 'default'\n    })\n  }\n\n  onMouseleave() {\n    this.dataset.resetState()\n  }\n\n  render(data = []) {\n    const { strokeBgcolor } = this.renderAttrs\n    const gAnimation = {\n      from: { pos: this.oldPos ? this.oldPos : this.center },\n      to: { pos: this.center }\n    }\n    this.oldPos = this.center\n    return (\n      <Group>\n        {data\n          .map((d, i) => {\n            const { col, row, data } = d\n            return (\n              <Group\n                pos={this.center}\n                animation={gAnimation}\n                onMouseenter={this.onMouseenter}\n                onMousemove={this.onMouseenter}\n                onMouseleave={this.onMouseleave}\n              >\n                <Arc {...d} startAngle={0} endAngle={360} strokeColor={strokeBgcolor} />\n                <Arc\n                  pos={this.center}\n                  {...{ ...d, col, row }}\n                  animation={this.animators[i]}\n                  {...this.style('arc')(d, data, i)}\n                />\n              </Group>\n            )\n          })}\n      </Group>\n    )\n  }\n\n  rendered() {}\n}\n\nexport default RadialBar\n","import Base from './Base'\nimport theme from '../theme/default'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nexport default class BasePlugin extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.plugins[this.constructor.name]\n    //如果当前对象设置了theme，不继承theme\n    this.theme.set = obj => {\n      if (this.theme === theme.visuals[this.constructor.name]) {\n        this.theme = filterClone(this.theme)\n      }\n      this.theme = deepObjectMerge(this.theme, obj)\n    }\n  }\n}\n","import { scaleLinear } from '../../utils/scaleLinear'\nimport { axis } from '../../utils/axis'\nimport { emptyObject } from '@qcharts/utils'\nexport default function layout(arr, attrs) {\n  let res = {\n    scales: [],\n    labels: [],\n    grids: [],\n    axisPoints: [],\n    orient: attrs.orient\n  }\n  let defaultAttrs = {\n    top: {\n      label: {\n        anchor: [0.5, 1],\n        padding: [0, 0, 6, 0],\n        textAlign: 'center'\n      },\n      scale: {\n        anchor: [0.5, 1],\n        width: 1,\n        height: 4\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'category'\n    },\n    bottom: {\n      scale: {\n        anchor: [0.5, 0],\n        width: 1,\n        height: 4\n      },\n      label: {\n        anchor: [0.5, 0],\n        padding: [6, 0, 0, 0],\n        textAlign: 'center'\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'category'\n    },\n    left: {\n      label: {\n        padding: [0, 8, 0, 0],\n        anchor: [1, 0.5],\n        textAlign: 'right'\n      },\n      scale: {\n        anchor: [1, 0.5],\n        width: 4,\n        height: 1\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'value'\n    },\n    right: {\n      label: {\n        anchor: [0, 0.5],\n        padding: [0, 0, 0, 8]\n      },\n      scale: {\n        anchor: [0, 0.5],\n        width: 4,\n        height: 1\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'value'\n    }\n  }\n  const { stack, splitNumber, clientRect, orient, axisGap, transpose } = attrs\n  if (transpose) {\n    ;['top', 'bottom', 'right', 'left'].forEach(str => {\n      defaultAttrs[str].type = defaultAttrs[str].type === 'value' ? 'category' : 'value'\n    })\n  }\n  const { width, height } = clientRect\n  let scales = axis.call(this, {\n    dataSet: arr,\n    stack,\n    splitNumber\n    // needReverse: true,\n  })\n  let maxVal = Math.max.apply(this, scales)\n  let minVal = Math.min.apply(this, scales)\n  let type = attrs.type || defaultAttrs[orient].type\n  let distance = orient === 'left' || orient === 'right' ? height : width\n  let datasetReverse = this.dataset.datasetReverse\n  if (type === 'value') {\n    let scaleFY = scaleLinear()\n      .domain([minVal, maxVal])\n      .range([0, distance])\n    scales.forEach(num => {\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(\n        defaultAttrs,\n        orient,\n        {\n          text: '' + typeof datasetReverse === 'function' ? datasetReverse(num) : num\n        },\n        num,\n        scaleFY,\n        clientRect\n      )\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n      res.grids.push(gridAttr)\n    })\n  } else if (type === 'category') {\n    let curArr = arr[0]\n    let len = axisGap ? curArr.length : curArr.length - 1\n    let scaleFY = scaleLinear()\n      .domain([0, len])\n      .range([0, distance])\n    curArr.forEach((cell, ind) => {\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, cell, ind, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n      res.grids.push(gridAttr)\n    })\n    if (axisGap) {\n      // 如果是axisGap为true，需要添加一个点\n      let { scaleAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, {}, curArr.length, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n      res.grids.push(gridAttr)\n    }\n  }\n  if (orient === 'left' || orient === 'right') {\n    let dx = orient === 'left' ? 0 : width\n    res.axisPoints = [\n      [dx, height],\n      [dx, 0]\n    ]\n    res.nameAttr = { pos: [dx, 0], anchor: [0.5, 1], padding: [10] }\n  } else if (orient === 'bottom' || orient === 'top') {\n    let dy = orient === 'bottom' ? height : 0\n    res.axisPoints = [\n      [0, dy],\n      [width, dy]\n    ]\n    res.nameAttr = { pos: [width, dy], anchor: [0, 1] }\n  }\n  return res\n}\nfunction getItemAttrs(defaultAttrs, orient, cell, value, scaleF, clientRect, axisGap) {\n  let res = emptyObject()\n  let { width, height, left, top } = clientRect\n  let labelPosValue = axisGap ? value + 0.5 : value\n  if (orient === 'left' || orient === 'right') {\n    let x = orient === 'left' ? 0 : width\n    let yv = scaleF(value)\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [x, height - yv] }\n    res.gridAttr = {\n      ...defaultAttrs[orient].grid,\n      points: [\n        [x, height - yv],\n        [width, height - yv]\n      ]\n    }\n    res.labelAttr = {\n      ...defaultAttrs[orient].label,\n      width: left,\n      text: '' + cell.text,\n      pos: [x, height - scaleF(labelPosValue)]\n    }\n  } else if (orient === 'top' || orient === 'bottom') {\n    let y = orient === 'top' ? 0 : height\n    let xv = scaleF(value)\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [xv, y] }\n    res.gridAttr = {\n      ...defaultAttrs[orient].grid,\n      points: [\n        [xv, 0],\n        [xv, y]\n      ]\n    }\n    res.labelAttr = {\n      ...defaultAttrs[orient].label,\n      width: left,\n      text: '' + cell.text,\n      pos: [scaleF(labelPosValue), y]\n    }\n  }\n  return res\n}\n","import Base from '../../base/BasePlugin'\nimport { Group, Label, Polyline, Node } from 'spritejs'\nimport { emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nimport layout from './layout'\nimport { getStyle } from '@/utils/getStyle'\nclass Axis extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderAxis = emptyObject()\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    let targetVisual = this.chart.visuals[0]\n    if (attrs.axisGap === undefined && targetVisual && targetVisual.constructor.name === 'Bar') {\n      //如果axisGap没有赋值\n      //如果是柱状图\n      attrs.axisGap = true\n    }\n    if (targetVisual && targetVisual.constructor.name === 'Scatter') {\n      attrs.type = 'value'\n    }\n    if (attrs.transpose === undefined && targetVisual) {\n      //坐标轴转换\n      attrs.transpose = targetVisual.renderAttrs.transpose\n    }\n    return attrs\n  }\n  beforeRender() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  beforeUpdate() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    return {\n      layer: 'axis',\n      zIndex: -1,\n      formatter: e => e\n    }\n  }\n  //defaultStyles() {}\n  getRenderData() {\n    //根据axis的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let axis = layout.call(this, renderData, renderAttrs)\n    return { axis }\n  }\n  render(axis) {\n    let oldAxis = this.renderAxis || emptyObject()\n    this.renderAxis = axis\n    let { clientRect, formatter, orient, name } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    let axisStyle = getStyle(this, 'axis', styles.axis)\n    //当前主体颜色\n    let arrOrient = this.chart.plugins\n      .map(plugin => {\n        if (plugin.constructor.name === 'Axis') {\n          return plugin.renderAttrs.orient\n        }\n      })\n      .filter(Boolean)\n    let nameStyle = getStyle(this, 'name', [styles.name || {}, filterClone(axis.nameAttr, [], ['pos'])])\n    let oldPos = (oldAxis.nameAttr && oldAxis.nameAttr.pos) || axis.nameAttr.pos\n    let nameAni = { from: { pos: oldPos }, to: { pos: axis.nameAttr.pos } }\n    return (\n      <Group ref=\"wrap\" pos={[clientRect.left, clientRect.top]}>\n        <Polyline\n          {...axisStyle}\n          animation={{\n            from: { points: oldAxis.axisPoints },\n            to: { points: axis.axisPoints }\n          }}\n        ></Polyline>\n        <Group>\n          {axis.grids.map((grid, ind) => {\n            let fromPoints = (oldAxis.grids && oldAxis.grids[ind] && oldAxis.grids[ind].points) || grid.points\n            let ani = {\n              from: { points: fromPoints },\n              to: { points: grid.points }\n            }\n            let style = getStyle(this, 'grid', styles.grid, [ind])\n            if (orient === 'left' || orient === 'right') {\n              if ((ind === 0 && arrOrient.includes('bottom')) || (ind === axis.grids.length - 1 && arrOrient.includes('top'))) {\n                return <Node />\n              }\n            } else if (orient === 'top' || orient === 'bottom') {\n              if ((ind === 0 && arrOrient.includes('left')) || (ind === axis.grids.length - 1 && arrOrient.includes('right'))) {\n                return <Node />\n              }\n            }\n            return style === false ? <Node /> : <Polyline {...style} points={ani.from.points} animation={ani} />\n          })}\n          {axis.scales.map((scale, ind) => {\n            let fromPos = (oldAxis.scales && oldAxis.scales[ind] && oldAxis.scales[ind].pos) || scale.pos\n            let ani = { from: { pos: fromPos }, to: { pos: scale.pos } }\n            // 排除pos属性，pos属性用来处理动画，其它属性直接赋值\n            let style = getStyle(this, 'scale', styles.scale, [scale, ind])\n            return style === false ? <Node /> : <Group {...filterClone(scale, [], ['pos'])} {...style} animation={ani}></Group>\n          })}\n          {axis.labels.map((label, ind) => {\n            let fromPos = (oldAxis.labels && oldAxis.labels[ind] && oldAxis.labels[ind].pos) || label.pos\n            let style = getStyle(this, 'label', styles.label, [label, ind])\n            let ani = { from: { pos: fromPos }, to: { pos: label.pos } }\n            return style === false ? <Node /> : <Label {...filterClone(label, [], ['pos', 'text'])} {...style} text={formatter(label.text)} animation={ani}></Label>\n          })}\n        </Group>\n        {nameStyle === false || name === undefined || name.length === 0 ? <Node /> : <Label {...nameStyle} text={name} animation={nameAni} />}\n      </Group>\n    )\n  }\n}\nexport default Axis\n","import Base from \"../../base/BasePlugin\"\nimport { Group, Path, Label } from \"spritejs\"\nimport { getStyle } from \"@/utils/getStyle\"\nimport Point from \"../../utils/Point\"\nclass Legend extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.arrLayout = null\n    this.state = {\n      page: 1,\n      totalPage: 1,\n      perPageWidthOrHeight: 0, // 每页长度（或宽度）\n      paginationSize: [0, 0], // 分页控件大小\n      groupSize: [0, 0], // legends 容器大小\n    }\n    this.twiceRender = false\n    this.animationSwitch = false\n    this.posFrom = [0, 0]\n    this.currentPos = [0, 0]\n    this.legendStateArray = []\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  defaultAttrs() {\n    return {\n      orient: \"horizontal\", // 布局方式， vertical | horizontal\n      align: [\"center\", \"bottom\"], // 水平方向布局，left | center | right, 垂直方向布局，top | center | bottom\n      formatter: (d) => d.value || d,\n      iconSize: [12, 12],\n      textSize: [40, 12],\n      outGap: 10,\n      innerGap: 4,\n      formatter: (d) => d.text || d,\n    }\n  }\n  get pos() {\n    const { clientRect, align } = this.renderAttrs\n    let groupSize = this.state.groupSize\n    let { width, height, top, left, right, bottom } = clientRect\n    let canvasWidth = width + left + right\n    let canvasHeight = height + top + bottom\n    this.state.paginationSize = this.isVertical ? [30, 60] : [70, 25]\n\n    const isValidLayout = (value, type) => {\n      if (type === \"horizontal\") {\n        // 水平布局\n        return [\"default\", \"left\", \"center\", \"right\"].indexOf(value) > -1\n      } else {\n        // 垂直布局\n        return [\"default\", \"top\", \"center\", \"bottom\"].indexOf(value) > -1\n      }\n    }\n\n    const hLocation = {\n      // 水平定位\n      default: 0,\n      left: 2,\n      center: (canvasWidth - groupSize[0]) / 2,\n      right: canvasWidth - groupSize[0] - 2,\n      numberOrPercent(num) {\n        // 输入 数字或百分比\n        if (typeof num === \"number\") {\n          return num\n        } else {\n          let val = 0\n          try {\n            val = parseFloat(num) / 100\n          } catch (e) {}\n          return (canvasWidth - groupSize[0]) * val\n        }\n      },\n    }\n\n    const vLocation = {\n      // 垂直定位\n      default: 0,\n      top: 2,\n      center: canvasHeight / 2 - groupSize[1] / 2,\n      bottom: canvasHeight - groupSize[1] - 2,\n      numberOrPercent(num) {\n        // 输入 数字或百分比\n        if (typeof num === \"number\") {\n          return num\n        } else {\n          let val = 0\n\n          try {\n            val = parseFloat(num) / 100\n          } catch (e) {}\n          return (canvasHeight - groupSize[1]) * val\n        }\n      },\n    }\n    let pos = [\n      isValidLayout(align[0], \"horizontal\")\n        ? hLocation[align[0]]\n        : hLocation.numberOrPercent(align[0]),\n      isValidLayout(align[1], \"vertical\")\n        ? vLocation[align[1]]\n        : vLocation.numberOrPercent(align[1]),\n    ]\n    let pagePos\n    let totalPageX = Math.ceil(this.state.groupSize[0] / canvasWidth)\n    let totalPageY = Math.ceil(this.state.groupSize[1] / canvasHeight)\n    let paginationSize = this.state.paginationSize\n    let pagePrev, pageText, pageNext\n    if (totalPageX > 1) {\n      this.state.totalPage = totalPageX\n      let pagePosY =\n        pos[1] + groupSize[1] + paginationSize[1] > canvasHeight\n          ? pos[1] - paginationSize[1]\n          : pos[1] + groupSize[1]\n      pagePos = [canvasWidth - paginationSize[0], pagePosY]\n      pagePrev = [0, 0]\n      pageText = [15, 0]\n      pageNext = [45, 0]\n      pos[0] = -(this.state.page - 1) * canvasWidth\n    } else if (totalPageY > 1) {\n      this.state.totalPage = totalPageY\n      let pagePosX =\n        pos[0] + groupSize[0] + paginationSize[0] > canvasWidth\n          ? pos[0] - paginationSize[0]\n          : pos[0] + groupSize[0]\n      pagePos = [pagePosX, canvasHeight - paginationSize[1]]\n      pagePrev = [5, 0]\n      pageText = [0, 20]\n      pageNext = [5, 40]\n      pos[1] = -(this.state.page - 1) * canvasHeight\n    } else {\n      this.state.page = 1\n      this.state.totalPage = 1\n    }\n    return {\n      pos: pos,\n      pagePos: { pos: pagePos, pagePrev, pageText, pageNext },\n    }\n  }\n\n  get isVertical() {\n    return this.renderAttrs.orient === \"vertical\"\n  }\n  beforeRender() {\n    if (this.twiceRender) {\n      this.reset()\n    } else {\n      this.arrLayout = this.getRenderData().arrLayout\n    }\n    return this.arrLayout\n  }\n\n  getRenderData() {\n    let { layoutBy, innerGap } = this.renderAttrs\n    let renderData = this.dataset[layoutBy].map((item, index) => {\n      this.legendStateArray.push(item.state)\n      return {\n        name: item.name,\n        state: item.state,\n      }\n    })\n    let arrLayout = renderData.map((item) => {\n      return {\n        textAttrs: {\n          text: item.name,\n          paddingLeft: innerGap,\n        },\n      }\n    })\n    this.arrLayout = arrLayout\n    return { arrLayout }\n  }\n  itemClick(e, el) {\n    const ind = el.attr(\"_index\")\n    let state = this.dataset[this.renderAttrs.layoutBy][ind].state\n    state = state !== \"disabled\" ? \"disabled\" : \"default\"\n    this.dataset[this.renderAttrs.layoutBy][ind].state = state\n  }\n  itemLeave(e, el) {\n    const ind = el.attr(\"_index\")\n    this.legendStateArray[ind] = \"default\"\n    this.update()\n  }\n  itemMove(e, el) {\n    const ind = el.attr(\"_index\")\n    if (this.legendStateArray[ind] === \"default\") {\n      this.legendStateArray[ind] = \"hover\"\n      this.update()\n    }\n  }\n  beforeUpdate(params) {\n    if (params && params.type === \"source\") {\n      this.animationSwitch = true\n      this.twiceRender = false\n      return this.beforeRender()\n    } else {\n      if (params && params.type === \"resize\") {\n        this.animationSwitch = true\n      }\n      return this.arrLayout\n    }\n  }\n\n  rendered() {\n    // console.log(\"rendered\");\n  }\n\n  afterrender(e, el) {\n    if (this.twiceRender) {\n      this.animationSwitch = false\n      return\n    }\n    this.twiceRender = true\n    this.reset()\n    this.update()\n  }\n  reset() {\n    let legendsSize = [0, 0]\n    let { outGap, innerGap, iconSize, textSize } = this.renderAttrs\n    let maxTextWidth = 0\n    let colors = this.theme.colors\n    this.arrLayout = this.arrLayout.map((item, index) => {\n      item.iconAttrs = {}\n      let iconEl = this.$refs[\"icon\" + index]\n      let iconRect = iconEl.getBoundingClientRect()\n      let textEl = this.$refs[\"text\" + index]\n      let textRect = textEl.getBoundingClientRect()\n      let iconAttrs = {\n        bgcolor: colors[index],\n        size: iconSize,\n        pos: this.isVertical\n          ? [0, legendsSize[1] + (textRect.height - iconSize[1]) / 2]\n          : [legendsSize[0], (textRect.height - iconSize[1]) / 2],\n      }\n      if (this.dataset[this.renderAttrs.layoutBy][index].state === \"disabled\") {\n        iconAttrs.bgcolor = \"#ccc\"\n        iconAttrs.fillColor = \"#ccc\"\n      }\n      let textAttrs = {\n        ...item.textAttrs,\n        pos: this.isVertical\n          ? [iconSize[0], legendsSize[1]]\n          : [iconSize[0] + legendsSize[0], 0],\n        text: item.textAttrs.text,\n      }\n      let size = [iconSize[0] + textRect.width, iconSize[1]]\n      if (size[0] + outGap > maxTextWidth) {\n        maxTextWidth = size[0] + outGap\n      }\n      legendsSize = this.isVertical\n        ? [maxTextWidth, legendsSize[1] + textRect.height + outGap]\n        : [legendsSize[0] + size[0] + outGap, textRect.height]\n      return { iconAttrs, textAttrs }\n    })\n    this.state.groupSize = legendsSize\n  }\n  changePage(e, el) {\n    if (el.name === \"prev\" && this.state.page > 1) {\n      this.state.page--\n      this.animationSwitch = true\n      this.update()\n    } else if (el.name === \"next\" && this.state.page < this.state.totalPage) {\n      this.state.page++\n      this.animationSwitch = true\n      this.update()\n    }\n  }\n  render(arr) {\n    this.posFrom = this.currentPos\n    const { pos, pagePos } = this.pos\n    this.posFrom = this.twiceRender && this.animationSwitch ? this.posFrom : pos\n    const { page, totalPage } = this.state\n    this.currentPos = pos\n    const styles = this.renderStyles\n    const isVertical = this.isVertical\n    if (this.twiceRender) {\n      pos[0] = pos[0] - 1\n    }\n    const { formatter } = this.renderAttrs\n    if (arr) {\n      return (\n        <Group size={[1, 1]} onAfterrender={this.afterrender}>\n          <Group\n            animation={{\n              from: { pos: this.posFrom },\n              to: { pos: pos },\n              duration:\n                this.twiceRender && this.animationSwitch\n                  ? this.renderAttrs.animation.duration\n                  : 0,\n            }}\n            // pos={pos}\n          >\n            {arr.map((attrs, ind) => {\n              let cell = this.dataset[this.renderAttrs.layoutBy][ind]\n              let hover = this.legendStateArray[ind] === \"hover\"\n              let disabled = cell.state === \"disabled\"\n              let style = getStyle(\n                this,\n                \"point\",\n                [{}, styles.point],\n                [cell, ind]\n              )\n\n              let hoverStyle = hover\n                ? getStyle(this, \"point:hover\", [{}], [cell, ind])\n                : {}\n\n              if (disabled && attrs.iconAttrs.bgcolor) {\n                hoverStyle.bgcolor = \"#ccc\"\n                hoverStyle.fillColor = \"#ccc\"\n              }\n              let textStyle = getStyle(\n                this,\n                \"text\",\n                [{}, styles.text],\n                [cell, ind]\n              )\n              let textHoverStyle = hover\n                ? getStyle(this, \"text:hover\", [{}], [cell, ind])\n                : {}\n\n              attrs.textAttrs.text = formatter(cell.name, cell.data, ind)\n              return (\n                <Group\n                  onClick={this.itemClick}\n                  onMouseleave={this.itemLeave}\n                  onMouseenter={this.itemMove}\n                  onMousemove={this.itemMove}\n                  {...{ _index: ind }}\n                >\n                  <Point\n                    {...{ ref: \"icon\" + ind }}\n                    {...attrs.iconAttrs}\n                    {...style}\n                    {...hoverStyle}\n                  />\n                  <Label\n                    {...{ ref: \"text\" + ind }}\n                    {...attrs.textAttrs}\n                    {...textStyle}\n                    {...textHoverStyle}\n                  />\n                </Group>\n              )\n            })}\n          </Group>\n\n          {totalPage <= 1 ? null : (\n            <Group pos={pagePos.pos}>\n              <Path\n                pos={pagePos.pagePrev}\n                {...(isVertical ? { marginLeft: 5 } : {})}\n                name={\"prev\"}\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\n                d={\n                  isVertical\n                    ? \"M 0 15 L 15 15 L7.5 0 Z\"\n                    : \"M 0 7.5 L 13 0 L13 15 Z\"\n                }\n                fillColor={page <= 1 ? \"#ccc\" : \"#324556\"}\n                onClick={this.changePage}\n              />\n              <Label\n                pos={pagePos.pageText}\n                ref=\"paginationText\"\n                fontSize=\"14px\"\n                text={page + \"/\" + totalPage + \"\"}\n                lineBreak=\"normal\"\n                padding={isVertical ? [0, 2] : [0, 2]}\n              />\n\n              <Path\n                pos={pagePos.pageNext}\n                {...(isVertical ? { marginLeft: 5 } : {})}\n                name={\"next\"}\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\n                d={\n                  isVertical\n                    ? \"M 0 0 L 15 0 L7.5 13 Z\"\n                    : \"M 13 7.5 L 0 0 L0 15 Z\"\n                }\n                fillColor={page >= totalPage ? \"#ccc\" : \"#324556\"}\n                onClick={this.changePage}\n              />\n            </Group>\n          )}\n        </Group>\n      )\n    }\n  }\n}\n\nexport default Legend\n","import Base from '../../base/BasePlugin'\nimport { throttle } from '@qcharts/utils'\nclass Tooltip extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.$el = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {}\n  beforeUpdate() {}\n  tipMousemove = throttle(\n    e => {\n      let maxLeft = window.innerWidth - this.$el.getBoundingClientRect().width - 5\n      let maxTop = window.innerHeight - this.$el.getBoundingClientRect().height - 5\n      let tarTop = e.y > maxTop ? maxTop : e.y\n      let tarLeft = e.x > maxLeft ? maxLeft : e.x\n      this.$el.style.left = tarLeft + 'px'\n      this.$el.style.top = tarTop + 'px'\n    },\n    100,\n    1\n  )\n  rendered() {\n    let { colors, sort, formatter } = this.renderAttrs\n    this.chart.dataset.on('change', data => {\n      let { option } = data\n      this.$el.innerHTML = ''\n      // let reverse = param => {\n      //   return typeof this.dataset.datasetReverse === 'function' ? this.dataset.datasetReverse(param) : param\n      // }\n      if (option.value === 'hover') {\n        let arr = [].concat(this.chart.dataset).filter(item => item.state === 'hover')\n        if (sort) {\n          arr.sort(sort)\n        }\n        if (arr.length) {\n          let innerHtml = ''\n          let $div = document.createElement('div')\n          $div.style.cssText = 'white-space:nowrap;padding:6px 10px;background-color:rgba(0,0,0,0.5);color:#fff;'\n          arr.forEach((item, ind) => {\n            let text = `${item.text}：${item.value}`\n            if (formatter) {\n              text = formatter(item.data) || text\n            }\n            let html = `<div class=\"tooltip-item\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${colors[ind]}\"></span><span class=\"text\">${text}</span></div>`\n            innerHtml += html\n          })\n          $div.innerHTML = innerHtml\n          this.$el.appendChild($div)\n        }\n      } else if (option.name === 'reset') {\n        this.$el.innerHTML = ''\n      }\n    })\n    document.body.addEventListener('mousemove', this.tipMousemove)\n  }\n  render() {\n    if (!this.$el) {\n      this.$el = document.createElement('div')\n      this.$el.className = 'qcharts-tooltip'\n      this.$el.style.cssText = 'transition:top 300ms ease-out,left 300ms ease-out;position:absolute;pointEvents:none;pointer-events:none;font-size:14px;'\n    }\n    document.body.appendChild(this.$el)\n  }\n}\nexport default Tooltip\n","let platform = window\nexport default platform\n","import Base from './base/Base'\nimport { jsType, emptyObject, throttle } from '@qcharts/utils'\nimport platform from './base/platform'\nimport BaseVisual from './base/BaseVisual'\nimport BasePlugin from './base/BasePlugin'\nimport { Scene } from 'spritejs'\nimport { Wave, Gauge } from './index'\nclass Chart extends Base {\n  constructor(attr) {\n    super()\n    let { container } = attr\n    if (jsType(container) === 'string') {\n      container = document.querySelector(container)\n    }\n    this.$el = container\n    this.visuals = []\n    this.plugins = []\n    this.children = []\n    this.scene = new Scene({ container, displayRatio: platform.devicePixelRatio })\n    this.scene.addEventListener('resize', _ => {\n      //舞台变化的时候\n      this.checkUpdate({ type: 'resize' })\n    })\n    this.checkUpdate = throttle(args => {\n      this.children.forEach(node => {\n        node.update(args)\n      })\n    }, 300)\n    this.checkRender = throttle(_ => {\n      this.children.forEach(child => {\n        child.created()\n        this.dataset.addDep(child)\n      })\n      this.__store.__isCreated__ = true\n      this.dispatchEvent('updated', emptyObject())\n    })\n  }\n  update(args) {\n    //图表发生更新，触发图表内组件更新\n    this.checkUpdate(args)\n  }\n  append(node) {\n    const notNeedDataSetList = [Wave, Gauge]\n    if (notNeedDataSetList.some(Target => node instanceof Target)) {\n      //补齐dataset，wave中不用dataset\n      this.source([], {})\n    } else if (!this.dataset) {\n      console.error('Chart should set data before append some graphs')\n      return\n    }\n    if (jsType(node) === 'array') {\n      node.forEach(item => {\n        this.append(item)\n      })\n      return\n    } else if (node instanceof BaseVisual) {\n      this.visuals.push(node)\n    } else if (node instanceof BasePlugin) {\n      this.plugins.push(node)\n    }\n    this.children.push(node)\n    node.chart = this\n    node.scene = this.scene\n    this.checkRender()\n  }\n  getDataURL() {\n    return this.scene.snapshot().toDataURL()\n  }\n}\n\nexport default Chart\n","import { h, easing } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nimport Line from './visuals/Line/index'\nimport Pie from './visuals/Pie/index'\nimport Area from './visuals/Area/index'\nimport Radar from './visuals/Radar/index'\nimport Bar from './visuals/Bar/index'\nimport PolarBar from './visuals/PolarBar/index'\nimport Funnel from './visuals/Funnel/index'\nimport Scatter from './visuals/Scatter/index'\nimport Wave from './visuals/Wave/index'\nimport Gauge from './visuals/Gauge'\nimport RadialBar from './visuals/RadialBar'\nimport Axis from './plugins/Axis/index'\nimport Legend from './plugins/Legend/index'\nimport Tooltip from './plugins/Tooltip/index'\nimport platform from './base/platform'\nimport Chart from './Chart'\nimport theme from './theme/default'\nconst qcharts = {\n  version: '1.0.0',\n  Line,\n  Pie,\n  Area,\n  Radar,\n  Bar,\n  PolarBar,\n  Funnel,\n  Scatter,\n  Gauge,\n  RadialBar,\n  Legend,\n  Axis,\n  Wave,\n  Tooltip,\n  h,\n  theme,\n  Chart,\n  easing\n}\nif (process.env.NODE_ENV === 'development') {\n  platform.qcharts = qcharts\n}\n\nexport { Dataset, Line, Pie, Area, Wave, Radar, Tooltip, Bar, PolarBar, Funnel, Scatter, Gauge, RadialBar, Axis, Legend, Chart, h, theme, easing }\n\nexport default qcharts\n"],"sourceRoot":""}