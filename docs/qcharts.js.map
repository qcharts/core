{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"spritejs\"","webpack://[name]/./node_modules/@babel/runtime/helpers/getPrototypeOf/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/extends/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/classCallCheck/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/inherits/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/possibleConstructorReturn/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/createClass/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/get/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/defineProperty/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/assertThisInitialized/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/toConsumableArray/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/slicedToArray/index.js","webpack://[name]/./node_modules/filter-clone/lib/index.js","webpack://[name]/./node_modules/@qcharts/vnode/node_modules/@qcharts/utils/lib/index.js","webpack://[name]/./src/base/platform.js","webpack://[name]/./node_modules/@babel/runtime/helpers/wrapNativeSuper/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/objectWithoutProperties/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/setPrototypeOf/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/typeof/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/arrayLikeToArray/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/isNativeFunction/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/construct/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/arrayWithHoles/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/iterableToArrayLimit/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/nonIterableRest/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/superPropBase/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/arrayWithoutHoles/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/iterableToArray/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/nonIterableSpread/index.js","webpack://[name]/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose/index.js","webpack://[name]/(webpack)/buildin/global.js","webpack://[name]/./node_modules/@qcharts/vnode/src/h.js","webpack://[name]/./node_modules/@qcharts/vnode/src/consts.js","webpack://[name]/./node_modules/@qcharts/vnode/src/diff.js","webpack://[name]/./node_modules/@qcharts/vnode/src/render.js","webpack://[name]/./node_modules/@qcharts/vnode/tween/easing.js","webpack://[name]/./node_modules/@qcharts/vnode/util/interpolate.js","webpack://[name]/./node_modules/@qcharts/vnode/util/index.js","webpack://[name]/./node_modules/@qcharts/vnode/tween/tween.js","webpack://[name]/./node_modules/@qcharts/vnode/src/nodeHelper.js","webpack://[name]/./node_modules/@qcharts/vnode/src/patch.js","webpack://[name]/./node_modules/@qcharts/dataset/src/state.js","webpack://[name]/./node_modules/@qcharts/dataset/src/event.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Cell.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Row.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Dataset.js","webpack://[name]/./node_modules/@qcharts/dataset/src/index.js","webpack://[name]/./src/base/mixin.js","webpack://[name]/./node_modules/@qcharts/utils/src/index.js","webpack://[name]/./src/theme/default.js","webpack://[name]/./src/base/Base.js","webpack://[name]/./src/base/BaseVisual.js","webpack://[name]/./src/utils/getStyle.js","webpack://[name]/./src/utils/scaleLinear.js","webpack://[name]/./src/utils/axis.js","webpack://[name]/./src/visuals/Line/layout.js","webpack://[name]/./src/utils/Point.js","webpack://[name]/./src/visuals/Line/index.js","webpack://[name]/./src/utils/getLinePoint.js","webpack://[name]/./src/visuals/Pie/layout.js","webpack://[name]/./src/visuals/Pie/index.js","webpack://[name]/./src/visuals/Area/index.js","webpack://[name]/./src/visuals/Radar/layout.js","webpack://[name]/./src/visuals/Radar/index.js","webpack://[name]/./src/visuals/Bar/layout.js","webpack://[name]/./src/visuals/Bar/index.js","webpack://[name]/./src/visuals/PolarBar/layout.js","webpack://[name]/./src/visuals/PolarBar/index.js","webpack://[name]/./src/visuals/Funnel/layout.js","webpack://[name]/./src/visuals/Funnel/index.js","webpack://[name]/./src/visuals/Scatter/layout.js","webpack://[name]/./src/visuals/Scatter/index.js","webpack://[name]/./src/utils/color.js","webpack://[name]/./src/utils/ellipse2path.js","webpack://[name]/./src/visuals/Wave/index.js","webpack://[name]/./src/visuals/Gauge/index.js","webpack://[name]/./src/visuals/RadialBar/index.js","webpack://[name]/./src/base/BasePlugin.js","webpack://[name]/./src/plugins/Axis/layout.js","webpack://[name]/./src/plugins/Axis/index.js","webpack://[name]/./src/plugins/Legend/index.js","webpack://[name]/./src/plugins/Tooltip/index.js","webpack://[name]/./src/Chart.js","webpack://[name]/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_extends","assign","target","arguments","length","source","apply","this","instance","Constructor","TypeError","subClass","superClass","constructor","writable","configurable","_typeof","assertThisInitialized","self","_defineProperties","props","descriptor","protoProps","staticProps","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","obj","ReferenceError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr","arrayWithHoles","iterableToArrayLimit","nonIterableRest","iterator","_default","filterClone","include","exclude","res","getType","len","push","j","indexOf","test","str","toString","slice","toLowerCase","e","default","u","setTimeout","clearTimeout","match","Number","substring","isWeiXin","wx","getSystemInfoSync","getGlobal","getApp","global","Error","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Map","undefined","has","set","Wrapper","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_setPrototypeOf","arrayLikeToArray","minLen","Array","from","arr2","fn","Function","isNativeReflectConstruct","_construct","Parent","args","a","sham","Proxy","Boolean","valueOf","isArray","_arr","_n","_d","_e","_s","_i","next","done","err","iter","sourceKeys","keys","g","VNode","h","tagName","attrs","children","node","concat","filter","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","type","isDiffrentVNode","createElement","vnode","TagName","el","patchAttrs","appendChild","map","forEach","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","number","b","array","bl","al","min","x","interpolate","now","performance","Date","requestAnimationFrame","cancelAnimationFrame","startTime","id","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","time","_onComplete","callback","elapseTime","animateTime","timer","delayTime","Promise","resolve","step","start","cancel","then","cbFuncs","WeakMap","getFunction","params","cb","graph","param","elEvents","resFunc","evt","delegateFunc","dataset","data","ind","newType","split","dispatchEvent","index","patche","ref","addRef","console","error","types","funcparams","newF","removeEventListener","addEventListener","addEvent","states","state","oldState","attr","oldstates","oldAttrs","newAttrs","duration","renderAttrs","animation","transition","addAttrs","middle","use","to","delay","useTween","easing","formatter","ani","onUpdate","animate","fill","finished","offset","setAnimation","addAnimate","patch","$el","isRoot","newEl","parent","replaceChild","remove","child","_ind","curNode","curVnode","hide","hover","active","disabled","mixed","mixinEvent","__store","events","on","off","curEvent","splice","once","option","item","Cell","row","col","datasets","_layoutScaleFunc","layoutScaleFunc","num","curVal","List","__name","__option","cell","sta","dispatchOption","Row","Col","Dataset","handleLayoutScale","layoutScale","store","__deps","__rows","sort","resArr","list","curRow","getArrData","cols","colLen","rowKey","dep","method","replace","NUM","warn","datasetReverse","lifeCycle","deepObjectMerge","objectMerge","FirstOBJ","SecondOBJ","jsType","emptyObject","throttle","interval","immediately","firstTime","getDistancePx","distance","Base","component","listener","__attrs","__vnode__","__isCreated__","__refs","layerSetting","layer","__update","update","defaultAttrs","toLocaleUpperCase","baseAttrs","theme","layerName","zIndex","scene","defaultStyles","styles","clientRect","rect","canvas","getBoundingClientRect","width","height","left","right","top","bottom","colors","chart","options","opts","_","render","beforeRender","rendered","beforeUpdate","updated","event","opacity","layoutBy","style","styleKey","substr","Node","random","visuals","Line","line","lineWidth","guideline","strokeColor","point","pointType","radiusX","radiusY","borderWidth","statck","Pie","sector","guideText","bgcolor","borderRadius","Area","area","Radar","Bar","bar","textureRepeat","close","groupBar","fillColor","text","PolarBar","Funnel","polygon","Scatter","label","anchor","showGuideLine","Wave","wave","fontSize","shape","Gauge","RadialBar","plugins","Tooltip","Legend","iconSize","Axis","axis","scale","grid","lineDash","orient","BaseVisual","constructorName","getStyle","defaultStyle","oStyle","arrStyle","oArgs","cusStyle","includes","curStyle","scaleLinear","domain","range","disDomain","disRange","per","dataSet","section","gap","divide","toFixed","sectionAxis","upZero","downZero","stack","sum","sumDown","leng","layoutScaleValue","field","dataHandle","element","abs","sortUpZero","sortDownZero","maxUpZero","ceil","pop","maxDownZero","maxValue","mixNum","maxNum","splitNumber","getMax","axisArray","round","reverse","unit","unshift","layout","lines","axisGap","layoutX","layoutY","sectionX","sectionY","textField","valueField","scaleFX","getScaleFun","scaleFY","prevScaleValues","points","areaPoints","smoothRange","curX","curPos","axisPoints","curLine","nextPoints","prevLine","startPoints","endPoints","transAreaPoint","rangePixs","scales","maxVal","minVal","dx","offsetX","allPoint","sprite","Sprite","path","Path","ellipse","Ellipse","Rect","triangle","Triangle","parallel","Parallel","regular","Regular","star","Star","Point","$sprite","renderSymbol","pos","renderAttr","append","Group","renderLines","hoverIndex","getRenderData","arrLayout","maxLen","areaFrom","areaTo","renderData","guidePoints","resetState","arrX","getOffsetPosition","y","curInd","posX","lineState","smooth","renderStyles","class","size","onMouseleave","guidelineleave","onMouseenter","guidelinemove","onMousemove","rows","onMouseEvent","onClick","lineClick","styleHover","getPointByDistance","point1","point2","x1","y1","x2","y2","rings","arrVal","reduce","totalVal","startAngle","endAngle","activeOffset","minAngle","maxAngle","totalAngle","perAngle","offsetPos","curObj","prevRing","curAngle","bisectorAngle","bisectorRadian","transRadius","angle","computeLinePos","center","radius","disRadius","centerAngle","startPoint","endPoint","labelPos","labelAnchor","context","debounce","getLabelsPos","renderRings","$refs","Label","activeIndex","innerRadius","radiusPx","innerRadiusPx","pervAngle","computeLine","oldRings","arrLabelPos","arrObj","oldArrLabels","ring","lineLength","fromPoints","fromAnchor","fromPos","toPoints","toAnchor","toPos","toDisabled","curData","labels","offsetSize","compute","needTick","curLength","nextNode","nextLength","targetDis","currentDis","node1","node2","disX","disY","moveDis","curPoint","nextPoint","layoutLabel","onAfterrender","labelRendered","mouseleave","outerRadius","_index","onMouseEnter","mousemove","getPointCoordinate","radian","labelOffset","bgPoints","gridAttrs","axisAttrs","sectionAttrs","some","indicatorMax","dimension","perRadian","startRadian","currentRadian","maxScale","categoryPoints","dataOrigin","gridPoints","attributes","sectionData","scaleEl","oldPos","gridType","zeroPoints","otherData","processSectionAttrs","otherAttrs","hoverStyle","stateStyle","getPolylineAnimation","processData","updateData","toScale","fromPts","toPts","GridShape","Arc","Polyline","getScaleAnimation","color","calcAnchor","getPt","perX","perY","perNum","common","translate","display","elIndex","preEl","renderAxisLabel","renderAxisScale","secAnimation","prePoints","isSamePoints","pre","cur","otherAttr","gAnimation","renderGrid","renderAxis","renderSection","renderPoints","barSize","transpose","groupGap","stackGap","barWidth","barData","groupData","textData","valueAxis","tableSize","axisValueMax","axisValueMin","POSITIVE_RATIO","GROUP_BAR_NUM","flag","computerLegend","GROUP_NUM","BAR_HEIGHT_FACTOR","heightSumUp","heightSumDown","gpData","rects","lenj","stackGapTemp","barHeight","posLabelY","getPoints","paddingAttrs","getDisabledPoints","groupPos","groupSize","rawValue","rotate","paddingLeft","stillSprite","getIndexByCoord","NEGATIVE_INFINITY","pillars","texts","groups","fromTos","bgpillarState","parseFloat","nextPillar","prev","labelAttrs","nextText","bgpillar","isNaN","floor","myClick","pillar","flat","barAttrs","textStyle","groupPadAngle","barInnerRadius","padAngle","BAR_MAX_HEIGHT","groupAngle","barAngle","maxPadAngle","attachPadAngleOfArr","dataLength","legendArr","barStyle","groupInd","log","align","pyramid","polygons","guideLines","guideTexts","widthFactory","POLYGON_NUM","colse","textAnchor","counter","nextValue","guideLine","getLinePoints","plg","oldPolygons","oldLabels","oldTexts","oldLines","lineStyle","getDataRange","getBigRange","updateSectionVal","newSection","layoutWay","allData","xDomain","xOffset","xSection","xIsTextData","xScales","ySection","yScales","yDomain","newLayoutWay","xLinear","yLinear","dArry","scatterData","guideLineData","labelField","areaField","areaRange","hex","join","hexToRgba","di","temp","oldRow","cInd","getRealRadius","oldCell","fromRadius","toRadius","rowInd","colInd","ci","labelAttr","hStyle","renderScatter","renderGuideLine","ellipse2path","cx","cy","rx","ry","offsetR","tickId","oldAttr","amplitude","wavelength","percent","currentR","clipWave","clipPath","pathHeight","originalContentRect","perR","currentX","startY","lastY","waveStyle","shapeStyle","tickLine","tickLength","isInner","cX0","cY0","anchorX","anchorY","gaugeAnimations","lineCap","_useBuiltInColors","strokeBgcolor","title","tickStep","tickFormatter","v","pointerWidth","count","ticks","tickRadius","ret","attrEndAngle","arc","transform","maxTickTextFontSize","fromRotate","pointerAnimation","pointerTopOffset","pointerLen","pWidth","transformOrigin","labelCenter","isStyleExist","tickText","realTitle","gradientColor","gradientOpt","vector","Gradient","tick","realSize","gPos","gSize","renderPointer","textAlign","flattern","animators","maxRadius","maxOuterRadius","total","cloneData","perRadius","normalStyle","anticlockwise","BasePlugin","grids","padding","targetVisual","getItemAttrs","scaleAttr","gridAttr","curArr","nameAttr","dy","scaleF","labelPosValue","yv","xv","oldAxis","axisStyle","arrOrient","plugin","nameStyle","nameAni","page","totalPage","perPageWidthOrHeight","paginationSize","twiceRender","animationSwitch","posFrom","currentPos","legendStateArray","lineCounter","textSize","scroll","outGap","innerGap","lineGap","canvasWidth","canvasHeight","isVertical","pagePos","pagePrev","pageText","pageNext","isValidLayout","hLocation","numberOrPercent","vLocation","totalPageX","totalPageY","pagePosY","reset","textAttrs","legendsSize","maxTextWidth","iconAttrs","iconEl","textRect","heightSize","iconPos","groupAttrs","afterrender","textHoverStyle","itemClick","itemLeave","itemMove","maxLeft","innerWidth","maxTop","innerHeight","tarTop","tarLeft","innerHTML","$div","document","cssText","styleText","$html","className","$icon","querySelector","$text","formatterData","$title","styleTitle","prepend","tipMousemove","body","Chart","qcharts","container","contextType","displayRatio","pixelUnit","windowWidth","Scene","extra","devicePixelRatio","checkUpdate","checkRender","created","addDep","Target","snapshot","toDataURL","version"],"mappings":"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","file":"qcharts.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"spritejs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"spritejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qcharts\"] = factory(require(\"spritejs\"));\n\telse\n\t\troot[\"qcharts\"] = factory(root[\"spritejs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 111);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"@babel/runtime/helpers/setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var superPropBase = require(\"@babel/runtime/helpers/superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"@babel/runtime/helpers/arrayWithoutHoles\");\n\nvar iterableToArray = require(\"@babel/runtime/helpers/iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"@babel/runtime/helpers/unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"@babel/runtime/helpers/nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"@babel/runtime/helpers/arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"@babel/runtime/helpers/iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"@babel/runtime/helpers/unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"@babel/runtime/helpers/nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.utils=e():t.utils=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(...t){let e=t[0];if(t.length>1)for(let r=1;r<t.length;r++)n(e,t[r]);return e;function n(t,e){for(var n in e)t[n]=t[n]&&\"[object Object]\"===t[n].toString()?r(t[n],e[n]):t[n]=e[n];return t}}function o(){return Object.create(null)}function u(t){const e=typeof t;return\"object\"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}function i(t,e=16,n=!1){let r=null,o=n;return function(...n){if(o)return t.apply(this,n),o=!1;r||(r=setTimeout(()=>{clearTimeout(r),r=null,t.apply(this,n)},e))}}function c(t,e){return\"string\"===u(t)&&t.match(/%$/)?Number(t.substring(0,t.indexOf(\"%\")))/100*e:t}n.r(e),n.d(e,\"deepObjectMerge\",(function(){return r})),n.d(e,\"emptyObject\",(function(){return o})),n.d(e,\"jsType\",(function(){return u})),n.d(e,\"throttle\",(function(){return i})),n.d(e,\"getDistancePx\",(function(){return c}))}])}));\n//# sourceMappingURL=index.js.map","export const isWeiXin = () => {\n  return typeof wx !== 'undefined' && typeof wx.getSystemInfoSync === 'function'\n}\n\nexport const getGlobal = () => {\n  if (isWeiXin()) return getApp()\n  if (typeof self !== 'undefined') return self\n  if (typeof window !== 'undefined') return window\n  if (typeof global !== 'undefined') return global\n  throw new Error(`unable to locate global object`)\n}\n\nexport const platform = getGlobal()\n","var getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar setPrototypeOf = require(\"@babel/runtime/helpers/setPrototypeOf\");\n\nvar isNativeFunction = require(\"@babel/runtime/helpers/isNativeFunction\");\n\nvar construct = require(\"@babel/runtime/helpers/construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var objectWithoutPropertiesLoose = require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"@babel/runtime/helpers/arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"@babel/runtime/helpers/setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"@babel/runtime/helpers/isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"@babel/runtime/helpers/arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  const el = new TagName(attrs)\n  //渲染的spritejs对象放到 visual或者plugin上\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children.map(createElement.bind(this)).filter(Boolean).forEach(el.appendChild.bind(el))\n  }\n  return el\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","import interpolate from './interpolate'\nimport invariant from './invariant'\n\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame, cancelAnimationFrame\nif (typeof window !== 'undefined' && typeof window.requestAnimationFrame === 'function') {\n  requestAnimationFrame = window.requestAnimationFrame\n  cancelAnimationFrame = window.cancelAnimationFrame\n} else {\n  const startTime = now()\n  requestAnimationFrame = (fn) => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = (id) => {\n    return clearTimeout(id)\n  }\n}\nconst delay = (time) =>\n  new Promise((resolve) =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { Tween } from '../tween'\nimport { deepObjectMerge, emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n\n  const { from, middle, use, to, delay, duration, useTween, easing, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n  if (from) {\n    //如果存在from，一开始就设置，防止出现抖动\n    el.attr(from)\n  }\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween(easing)\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAttrs(graph, el, attrs = {}) {\n  let states = attrs['states']\n  let state = attrs['state']\n  if (states && state) {\n    let oldState = el.attr('state')\n    if (state !== oldState) {\n      //不相当就处理，相当上一次已经处理完毕\n      let oldstates = el.attr('states') || emptyObject()\n      let oldAttrs = deepObjectMerge(emptyObject(), attrs, oldstates[oldState])\n      let newAttrs = deepObjectMerge(emptyObject(), attrs, states[state])\n      el.attr(oldAttrs)\n      let { duration } = deepObjectMerge(emptyObject(), graph.renderAttrs.animation, states.animation)\n      el.transition(duration / 1000).attr(newAttrs)\n    }\n  } else {\n    el.attr(attrs)\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(graph, el, attrs = {}) {\n  //缓存方法，修改方法指针this\n  Object.keys(attrs).forEach(key => {\n    if (!/^on/.test(key)) {\n      return\n    }\n    if (key === 'onMouseEvent') {\n      //单独处理dataset事件\n      let params = attrs[key]\n      let [types, ...funcparams] = params\n      let arrType = types.split(',')\n      arrType.forEach(type => {\n        let newF = getFunction(delegateFunc, graph, el, 'dateset-' + type, funcparams)\n        el.removeEventListener(type, newF)\n        el.addEventListener(type, newF)\n      })\n    } else {\n      const type = key.split('on')[1].toLowerCase()\n      const cb = attrs[key] || (() => {})\n      let newF = getFunction(cb, graph, el, 'change-' + type)\n      el.removeEventListener(type, newF)\n      el.addEventListener(type, newF)\n    }\n    delete attrs[key]\n  })\n}\n// 存储回调函数\nconst cbFuncs = new WeakMap()\nfunction getFunction(...params) {\n  let [cb, graph, el, type, ...param] = params\n  let elEvents = cbFuncs.get(el)\n  if (!elEvents) {\n    elEvents = new Map()\n    cbFuncs.set(el, elEvents)\n  }\n  let resFunc = elEvents.get(type)\n  if (resFunc) {\n    return resFunc\n  } else {\n    resFunc = evt => cb.call(graph, evt, el, type, param)\n    elEvents.set(type, resFunc)\n    return resFunc\n  }\n}\nfunction delegateFunc(evt, el, type, params) {\n  let dataset = this.dataset\n  let [data, ind] = params[0]\n  let newType = type.split('-')[1]\n  dataset.dispatchEvent('mouseEvent', { evt, el, name: newType, data, index: ind })\n}\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addAttrs, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs(graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addEvent(graph, el, patche)\n  addAttrs(graph, el, patche)\n  //el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} $el 当前的真实spritejs 节点\n * @param {*} patches 虚拟节点\n * @param {*} isRoot 是否是初节点，用于绑定$el与visual或者plugin\n */\nexport default function patch($el, patche, isRoot = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let graph = this //graph为当前的qcharts对象 visula或者plugin\n  if (!$el && !patche) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      if (newEl) {\n        if (isRoot) {\n          //创建的时候，visual与plugin绑定对应的sprite元素\n          graph.$el = newEl\n        }\n        $el.appendChild(newEl)\n      }\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      $el.parent.replaceChild(newEl, $el)\n      break\n    }\n    case REMOVE: {\n      $el.remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      patchAttrs(graph, $el, attrs)\n      if ($el.children && children.length) {\n        $el.children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        let len = children.length > $el.children.length ? children.length : $el.children.length\n        for (let j = 0; j < len; j++) {\n          let curNode = $el.children.filter(child => child._ind === j)[0]\n          let curVnode = children.filter(child => child._ind === j)[0]\n          if (curVnode && curVnode.type === 'CREATE') {\n            //如果是create需要传父级$el\n            patch.bind(graph)($el, curVnode)\n          } else {\n            patch.bind(graph)(curNode, curVnode)\n          }\n        }\n      }\n      break\n    }\n  }\n}\n","export default {\n  default: 'default', //默认\n  hide: 'hide', //数据隐藏\n  hover: 'hover', //次激活模式，类似css中的hover\n  active: 'active', //激活模式，如选中等场景\n  disabled: 'disabled', //禁用模式\n  mixed: 'mixed' //混合模式,比如一个row或者col里面有多种状态\n}\n","function mixinEvent(target) {\n  if (target.__store) {\n    target.__store.events = []\n    let events = target.__store.events\n    target.on = function(type, cb) {\n      events.push({ type, cb })\n      return target\n    }\n    target.off = function(type, cb) {\n      for (let i = 0; i < events.length; i++) {\n        if (cb === undefined) {\n          events = []\n        } else {\n          let curEvent = events[i]\n          if (curEvent.type === type && curEvent.cb === cb) {\n            events.splice(i, 1)\n            i--\n          }\n        }\n      }\n      return target\n    }\n    target.once = function(type, cb) {\n      const listener = function(...args) {\n        fn.apply(target, args)\n        self.off(type, cb)\n      }\n      return target.on(type, listener)\n    }\n    target.dispatchEvent = function(type, option) {\n      events.forEach(item => {\n        if (item.type === type) {\n          item.cb.call(target, { type, option })\n        }\n      })\n      return target\n    }\n  }\n}\nexport { mixinEvent }\n","import state from './state'\nimport { mixinEvent } from './event'\nclass Cell extends Object {\n  constructor(data, option, dataset) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.state = state['default']\n    this.__store.row = undefined\n    this.__store.col = undefined\n    this.__store.option = option\n    this.__store.data = data\n    this.__store.datasets = [dataset]\n    this._layoutScaleFunc = dataset.layoutScaleFunc\n    mixinEvent(this)\n  }\n  get datasets() {\n    return this.__store.datasets\n  }\n  get data() {\n    return this, this.__store.data\n  }\n  get value() {\n    return this.__store.data[this.__store.option['value']]\n  }\n\n  get text() {\n    return this.__store.data[this.__store.option['text']]\n  }\n  set row(num) {\n    if (this.__store.row === undefined) {\n      this.__store.row = num\n    }\n  }\n  get row() {\n    return this.__store.row\n  }\n  set col(num) {\n    if (this.__store.col === undefined) {\n      this.__store.col = num\n    }\n  }\n  get col() {\n    return this.__store.col\n  }\n  get option() {\n    return this.__store.option\n  }\n  get state() {\n    return this.__store.state\n  }\n  set state(name) {\n    if (state[name] && this.__store.state !== state[name]) {\n      this.__store.state = state[name]\n      this.dispatchEvent('change', {\n        name: 'cell',\n        value: state[name],\n        data: this\n      })\n      this.datasets.forEach(dataset => {\n        dataset.dispatchEvent('change', {\n          name: 'cell',\n          value: state[name],\n          data: this\n        })\n      })\n    }\n  }\n  layoutScaleValue(key) {\n    let curVal = this.__store.data[this.__store.option['value']]\n    if (key && key !== 'value') {\n      curVal = this.__store.data[key]\n    }\n    return typeof this._layoutScaleFunc === 'function' ? this._layoutScaleFunc(curVal) : curVal\n  }\n}\nexport default Cell\n","import { mixinEvent } from './event'\nimport state from './state'\nclass List extends Array {\n  constructor(name, option) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.__name = name\n    this.__store.__option = option\n    this.__store.dataset = null\n    mixinEvent(this)\n  }\n  get data() {\n    let arr = []\n    this.forEach(cell => {\n      arr.push(cell.data)\n    })\n    return arr\n  }\n  set dataset(arr) {\n    this.__store.dataset = arr\n  }\n  get dataset() {\n    return this.__store.dataset\n  }\n  get name() {\n    return this.__store.__name\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get state() {\n    //遍历子项，查看状态是否统一\n    let sta = this[0].state\n    for (let i = 1; i < this.length; i++) {\n      if (this[i].state !== sta) {\n        sta = 'mixed'\n        break\n      }\n    }\n    return sta\n  }\n  set state(name) {\n    if (state[name] && this.state !== state[name]) {\n      //给所有子项设置state\n      this.forEach(cell => {\n        //如果disabled的状态，必须先设置位default,disabled的state不能直接修改位其它状态\n        if (cell.state === 'disabled' && name !== 'default') {\n          return\n        }\n        cell.state = state[name]\n      })\n      let dispatchOption = null\n      if (this instanceof Row) {\n        dispatchOption = { name: 'row', value: state[name], data: this }\n      } else if (this instanceof Col) {\n        dispatchOption = { name: 'col', value: state[name], data: this }\n      }\n      this.dispatchEvent('change', dispatchOption)\n      this.dataset && this.dataset.dispatchEvent('change', dispatchOption)\n    }\n  }\n}\nclass Row extends List {}\nclass Col extends List {}\nexport { Row, Col }\n","import Cell from './Cell'\nimport { Row, Col } from './Row'\nimport { mixinEvent } from './event'\nclass Dataset extends Array {\n  constructor(data, option) {\n    super()\n    this.layoutScaleFunc = this.handleLayoutScale(option.layoutScale)\n    data.forEach(item => {\n      let cell = item\n      if (!(item instanceof Cell)) {\n        cell = new Cell(item, option, this)\n      } else {\n        cell.datasets.push(this)\n      }\n      this.push(cell)\n    })\n    this.__store = Object.create(null)\n    let store = this.__store\n    store.__option = option\n    store.__deps = []\n    store.__rows = []\n    store.__rows = getArrData(this, option)\n    mixinEvent(this)\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get cols() {\n    let cols = []\n    let colLen = 0\n    this.__store.__rows.forEach(row => {\n      if (row.length > colLen) {\n        colLen = row.length\n      }\n    })\n    for (let i = 0; i < colLen; i++) {\n      let arr = new Col()\n      arr.dataset = this\n      this.__store.__rows.forEach(item => {\n        arr.push(item[i])\n      })\n      cols.push(arr)\n    }\n    return cols\n  }\n  get rows() {\n    return this.__store.__rows\n  }\n  resetState(state = 'default') {\n    let res = []\n    this.forEach(cell => {\n      //reset的时候不处理disabled\n      if (cell.state !== state && cell.state !== 'disabled') {\n        res.push(cell)\n        cell.state = state\n      }\n    })\n    this.dispatchEvent('change', { name: 'reset', data: res })\n  }\n  selectRows(name) {\n    let rowKey = this.option.row\n    let arr = []\n    this.forEach(item => {\n      if (name.indexOf(item.data[rowKey]) !== -1) {\n        arr.push(item)\n      }\n    })\n    return new Dataset(arr, this.option)\n  }\n  addDep(dep) {\n    this.__store.__deps.push(dep)\n  }\n  handleLayoutScale(layoutScale) {\n    if (typeof layoutScale === 'string') {\n      let method = layoutScale.replace(/\\d+$/, '')\n      let NUM = 2\n      if (method !== 'sqrt' && method !== 'pow' && method !== 'log') {\n        console.warn('layoutScale type error')\n        return function (value) {\n          return value\n        }\n      }\n\n      let number = layoutScale.replace(/^[a-z]+/, '')\n      if (number) {\n        let isNumber = /^[-+]?\\d*$/.test(number)\n        if (!isNumber) {\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n        } else {\n          NUM = Number(number)\n        }\n      }\n\n      switch (method) {\n        case 'sqrt':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, NUM)\n          }\n          return function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n        case 'pow':\n          this.datasetReverse = function (value) {\n            return Math.pow(value, 1 / NUM)\n          }\n          return function (value) {\n            return Math.pow(value, NUM)\n          }\n        case 'log':\n          if (NUM !== 2 && NUM !== 10) {\n            console.warn('layoutScale type error')\n            return function (value) {\n              return value\n            }\n          }\n          this.datasetReverse = function (value) {\n            return Math.pow(NUM, value)\n          }\n          return function (value) {\n            return Math['log' + NUM](value)\n          }\n        default:\n          console.warn('layoutScale type error')\n          return function (value) {\n            return value\n          }\n      }\n    }\n    return layoutScale\n  }\n}\nfunction getArrData(data = [], option) {\n  let { row: key, sort } = option\n  let resArr = []\n  if (key === '*') {\n    let list = new Row('*', option)\n    data.forEach(item => {\n      list.push(item)\n    })\n    if (sort) {\n      list.sort((a, b) => sort(a.data, b.data))\n    }\n    resArr.push(list)\n  } else {\n    let keys = Object.create(null)\n    data.forEach(item => {\n      let data = item.__store.data\n      if (!keys[data[key]]) {\n        keys[data[key]] = new Row(data[key], option)\n      }\n      keys[data[key]].push(item)\n    })\n    for (let key in keys) {\n      let curRow = keys[key]\n      if (sort) {\n        curRow.sort((a, b) => sort(a.data, b.data))\n      }\n      resArr.push(curRow)\n    }\n  }\n  resArr.forEach((list, m) => {\n    list.dataset = data\n    list.forEach((cell, n) => {\n      cell.row = m\n      cell.col = n\n    })\n  })\n  return resArr\n}\n\nexport default Dataset\n","import Dataset from './Dataset'\nexport default Dataset\n","const lifeCycle = {\n  beforeCreate: 'beforeCreate', //创建前\n  created: 'created', // 图表创建\n  beforeRender: 'beforeRender', //图表渲染前\n  rendered: 'rendered', // 图表渲染结束\n  beforeUpdate: 'beforeUpdate', // 图表更新前\n  updated: 'updated', // 图表更新\n  beforeDestroy: 'beforeDestroy', // 图表卸载前\n  destroyed: 'destroyed' // 图表卸载\n}\nfunction mixin(component) {\n  component.on = component.addEventListener\n  component.off = component.removeEventListener\n  component.once = function(type, fn) {\n    const listener = (...args) => {\n      fn.apply(this, args)\n      this.off(type, listener)\n    }\n    return this.on(type, listener)\n  }\n}\n\nexport { lifeCycle, mixin }\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'object' && jsType(SecondOBJ[key]) === 'object') {\n        //对象处理\n        deepObjectMerge(FirstOBJ[key], SecondOBJ[key])\n      } else if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'array' && jsType(SecondOBJ[key]) === 'array') {\n        //数组处理\n        FirstOBJ[key].splice(0, FirstOBJ[key].length, ...SecondOBJ[key])\n      } else {\n        FirstOBJ[key] = SecondOBJ[key]\n      }\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase()\n  }\n  return str\n}\n\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function (...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction debounce(fn, delay = 16, immediately = false) {\n  let timer = null\n  return function () {\n    let args = arguments\n    let context = this\n    if (timer) {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    } else {\n      if (immediately) {\n        fn.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        fn.apply(context, args)\n      }, delay)\n    }\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, debounce, getDistancePx }\n","import { deepObjectMerge } from '@qcharts/utils'\nconst colors = ['#47A1FF', '#59CB74', '#FFB952', '#FC6980', '#6367EC', '#DA65CC', '#FBD54A', '#ADDF84', '#6CD3FF', '#659AEC', '#9F8CF1', '#ED8CCE', '#A2E5FF', '#4DCCCB', '#F79452', '#84E0BE', '#5982F6', '#E37474', '#3FDDC7', '#9861E5']\nfor (let i = 0; i < 1004; i++) {\n  //生成1024种颜色\n  colors.push('#' + ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substr(-6))\n}\nconst theme = {\n  colors\n}\ntheme.visuals = {\n  Line: {\n    colors: theme.colors,\n    styles: {\n      line: { lineWidth: 1 },\n      guideline: { strokeColor: '#ddd' },\n      point: {\n        pointType: 'ellipse',\n        radiusX: 4,\n        radiusY: 4,\n        strokeColor: '#fff',\n        borderWidth: 1\n      }\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Pie: {\n    colors: theme.colors,\n    styles: {\n      sector: { lineWidth: 1, strokeColor: '#fff' },\n      guideText: { bgcolor: 'rgba(255,255,255,0.7)', borderRadius: 2 },\n      guideline: {}\n    },\n    attrs: {}\n  },\n  Area: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 },\n      guideline: { strokeColor: '#ddd' },\n      point: {\n        pointType: 'ellipse',\n        radiusX: 4,\n        radiusY: 4,\n        strokeColor: '#fff',\n        borderWidth: 1\n      }\n    },\n    attrs: {}\n  },\n  Radar: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 }\n    },\n    attrs: {}\n  },\n  Bar: {\n    colors: theme.colors,\n    styles: {\n      bar: { textureRepeat: true, close: true },\n      groupBar: { bgcolor: '#000', fillColor: '#000', opacity: 0.0001 },\n      text: false\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  PolarBar: {\n    colors: theme.colors,\n    styles: {\n      bar: {}\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Funnel: {\n    colors: theme.colors,\n    styles: {\n      polygon: {}\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Scatter: {\n    colors: theme.colors,\n    styles: {\n      point: {},\n      label: { strokeColor: 'transparent', zIndex: 10, anchor: [0.5, 0.5] }\n    },\n    attrs: {\n      showGuideLine: false\n    }\n  },\n  Wave: {\n    colors: theme.colors,\n    styles: {\n      wave: { fillColor: '#37c', strokeColor: '#37c', lineWidth: 0 },\n      text: { fillColor: '#333', fontSize: 24 },\n      shape: { fillColor: '#e6f3ff', lineWidth: 3, strokeColor: '#156cbd' }\n    },\n    attrs: {}\n  },\n  Gauge: {\n    colors: theme.colors,\n    attrs: {}\n  },\n  RadialBar: {\n    colors: theme.colors,\n    attrs: {}\n  }\n}\ntheme.plugins = {\n  Tooltip: {\n    colors: theme.colors,\n    styles: {},\n    attrs: {}\n  },\n  Legend: {\n    colors: theme.colors,\n    styles: {\n      point: {\n        pointType: 'sprite',\n        iconSize: [12, 12],\n        borderRadius: 12\n      },\n      text: {\n        fontSize: '12px',\n        fillColor: '#666'\n      }\n    },\n    attrs: {}\n  },\n  Axis: {\n    colors: theme.colors,\n    styles: {\n      axis: {\n        strokeColor: '#ccc',\n        lineWidth: 1\n      },\n      scale: {\n        bgcolor: '#ccc'\n      },\n      label: {\n        fontSize: 12,\n        fillColor: '#666'\n      },\n      grid: {\n        strokeColor: '#ddd',\n        lineDash: [3, 3]\n      },\n      name: {\n        fontSize: 12,\n        fillColor: '#666'\n      }\n    },\n    attrs: {\n      orient: 'bottom'\n    }\n  }\n}\ntheme.set = function(obj) {\n  //合并样式\n  deepObjectMerge(theme, obj)\n}\nexport default theme\n","import { Node } from 'spritejs'\nimport { lifeCycle, mixin } from './mixin'\nimport { emptyObject, deepObjectMerge, jsType, getDistancePx, throttle } from '@qcharts/utils'\nimport { patch, diff } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nimport { isWeiXin } from './platform'\nclass Base extends Node {\n  constructor(attrs) {\n    super()\n    this.dispatchEvent(lifeCycle.beforeCreate)\n    mixin(this)\n    this['__store'] = emptyObject()\n    let store = this['__store']\n    store.__attrs = emptyObject()\n    store.__vnode__ = null\n    store.__isCreated__ = false\n    store.__refs = emptyObject()\n    store.dataset = null\n    // 微信中不支持多图层\n    const layerSetting = isWeiXin() ? { layer: 'default' } : {}\n    this.attr({ ...attrs, ...layerSetting })\n    this.__update = throttle(args => {\n      if (store.__isCreated__) {\n        this.update(args)\n      }\n    })\n  }\n  get constructorName() {\n    let curName = this.defaultAttrs().layer.replace(/^\\w/, str => str.toLocaleUpperCase())\n    return curName\n    //return this.constructor.toString().match(/function (.+)\\(/)[1]\n  }\n  get store() {\n    return this['__store']\n  }\n  get layer() {\n    let { layer: layerName, zIndex = 0 } = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\n    if (isWeiXin()) {\n      return this.scene.layer(layerName)\n    }\n    return this.scene.layer(layerName).attr({ zIndex })\n  }\n  get $refs() {\n    return this['__store'].__refs\n  }\n  get renderStyles() {\n    let styles = deepObjectMerge({}, this.defaultStyles(), this.theme.styles)\n    return styles\n  }\n  get renderAttrs() {\n    //attrs转换\n    let attrs = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\n    let { animation, clientRect } = attrs\n    //动画数据转换\n    if (jsType(animation) === 'boolean') {\n      animation = { use: animation ? true : false }\n    }\n    //处理layer支持多layer\n    const rect = isWeiXin() ? this.layer.canvas : this.layer.canvas.getBoundingClientRect()\n    const { width, height } = rect\n\n    //计算布局数据\n    for (let key in clientRect) {\n      if (['left', 'right', 'width'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], width)\n      } else if (['top', 'bottom', 'height'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], height)\n      }\n    }\n    if (clientRect.width === undefined) {\n      clientRect.width = width - clientRect.left - clientRect.right\n    } else {\n      clientRect.right = width - clientRect.left - clientRect.width\n    }\n    if (clientRect.height === undefined) {\n      clientRect.height = height - clientRect.top - clientRect.bottom\n    } else {\n      clientRect.bottom = height - clientRect.top - clientRect.height\n    }\n    attrs.colors = this.theme.colors\n    return attrs\n  }\n  get dataset() {\n    return this['__store'].dataset || (this.chart && this.chart.dataset)\n  }\n  source(data, options) {\n    let store = this['__store']\n    if (!(data instanceof Dataset)) {\n      let opts = options\n      if (store.dataset) {\n        opts = deepObjectMerge({}, store.dataset.option, options)\n      }\n      store.dataset = new Dataset(data, opts)\n    } else {\n      store.dataset = data\n    }\n    if (store.dataset && store.__isCreated__) {\n      store.dataset.on('change', _ => {\n        this.__update({ type: 'state' })\n      })\n      //如果以前存在，则更新\n      this.__update({ type: 'source' })\n    }\n    return this\n  }\n  created() {\n    //初始化创建的时候执行\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.created)\n    store.__vnode__ = this.render(this.beforeRender({ type: 'create' }))\n    const patches = diff(null, store.__vnode__)\n    this.dispatchEvent(lifeCycle.beforeRender)\n    patch.bind(this)(this.$el || this.layer, patches, 1)\n    this.dispatchEvent(lifeCycle.rendered)\n    this.rendered()\n    store.__isCreated__ = true\n    this.dataset.on('change', _ => {\n      this.__update({ type: 'state' })\n    })\n  }\n  beforeRender() {\n    //图表初始化准备数据\n    return this.renderAttrs\n  }\n  render() {\n    console.warn('this function must be rewrited')\n  }\n  beforeUpdate() {\n    return this.renderAttrs\n  }\n  update(params) {\n    //图表更新准备数据\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.beforeUpdate)\n    let vnode = this.render(this.beforeUpdate(params))\n    const patches = diff(store.__vnode__, vnode)\n    patch.bind(this)(this.$el || this.layer, patches)\n    store.__vnode__ = vnode\n    this.dispatchEvent(lifeCycle.updated)\n    this.updated()\n  }\n  updated() {}\n  dispatchEvent(event, obj = emptyObject()) {\n    super.dispatchEvent(event, obj)\n  }\n  defaultAttrs() {\n    return emptyObject()\n  }\n  defaultStyles() {\n    return emptyObject()\n  }\n  baseAttrs() {\n    let attrs = {\n      //动画类型\n      animation: {\n        use: true,\n        duration: 700,\n        useTween: true,\n        easing: 'bounceOut'\n      },\n      //位置布局信息\n      clientRect: {\n        left: '10%',\n        top: '10%',\n        right: '10%',\n        bottom: '10%',\n        width: undefined,\n        height: undefined\n      },\n      //透明度\n      opacity: 1,\n      layer: 'default',\n      layoutBy: 'rows' //按照哪个数据布局 ['rows','cols']\n    }\n    return attrs\n  }\n  attr(name, val) {\n    //属性设置\n    let store = this['__store']\n    if (jsType(name) === 'object') {\n      for (let key in name) {\n        this.attr(key, name[key])\n      }\n    } else if (name === undefined) {\n      let res = emptyObject()\n      for (let key in store.__attrs) {\n        //过滤style属性\n        if (key.indexOf('style@') !== 0) {\n          res[key] = store.__attrs[key]\n        }\n      }\n      return res\n    } else if (val === undefined) {\n      //获取属性\n      return store.__attrs[name]\n    } else if (name !== undefined) {\n      store.__attrs[name] = val\n      store.__isCreated__ && this.__update({ type: 'attr' })\n    }\n  }\n  addRef(ref, el) {\n    this['__store'].__refs[ref] = el\n    //在vnode中调用，存储到this.__refs中\n  }\n  style(type, style) {\n    //样式设置，样式用attr逻辑存储，添加@符号\n    if (jsType(type) === 'object') {\n      //多样式赋值\n      for (let key in type) {\n        this.style(key, type[key])\n      }\n    } else if (type !== undefined && style === undefined) {\n      //获取样式，统一返回成函数\n      const style = this.attr('style@' + type)\n      return (...args) => {\n        if (jsType(style) === 'function') {\n          return style.apply(this, args)\n        } else {\n          return style\n        }\n      }\n    } else if (type !== undefined && style !== undefined) {\n      //赋值\n      this.attr('style@' + type, style)\n      return this\n    } else if (type === undefined && style === undefined) {\n      //获取全部样式\n      let res = emptyObject()\n      let attrs = this['__store'].__attrs\n      for (let key in attrs) {\n        if (key.indexOf('style@') === 0) {\n          let styleKey = key.substr(6)\n          res[styleKey] = this.style(styleKey)\n        }\n      }\n      return res\n    }\n  }\n}\nexport default Base\n","import Base from './Base'\nimport theme from '../theme/default'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nexport default class BaseVisual extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.visuals[this.constructorName]\n    //如果当前对象设置了theme，不继承theme\n    this.theme.set = obj => {\n      if (this.theme === theme.visuals[this.constructorName]) {\n        this.theme = filterClone(this.theme)\n      }\n      this.theme = deepObjectMerge({}, this.theme, obj)\n    }\n  }\n}\n","// merge style\nimport { deepObjectMerge, jsType } from '@qcharts/utils'\n/**\n * chart:当前的图表\n * key:当前的样式名称\n * defaultstyle:为数组或者对象，表示默认的样式\n * args:调用style方法的时候，style以后的参数,如 line.style('line',function(...args){})\n */\nexport function getStyle(chart, key, defaultStyle, args) {\n  //合并样式\n  let oStyle = defaultStyle\n  let arrStyle = defaultStyle\n  let oArgs = args\n  if (jsType(defaultStyle) === 'array') {\n    //oStyle = deepObjectMerge.apply(this, defaultStyle)\n    oStyle = deepObjectMerge.call(this, {}, ...defaultStyle)\n  } else {\n    arrStyle = [defaultStyle]\n  }\n  if (jsType(args) !== 'array') {\n    oArgs = [args]\n  }\n  let cusStyle = chart.style(key)(oStyle, ...oArgs)\n  if (cusStyle === false) {\n    return false\n  } else if (arrStyle.includes(false) && cusStyle === undefined) {\n    return false\n  } else if (cusStyle !== undefined) {\n    //如果返回的cusStyle不是false或者undefined，需要把default样式进行重写叠加\n    let curStyle = defaultStyle\n    if (jsType(defaultStyle) !== 'array') {\n      curStyle = [defaultStyle]\n    }\n    //获取default样式\n    let oDefaultStyle = chart.defaultStyles()[key]\n    oStyle = deepObjectMerge({}, oDefaultStyle, curStyle.filter(Boolean)[0], oStyle)\n  }\n  let resStyle = deepObjectMerge({}, oStyle, cusStyle)\n  return resStyle\n}\n","function scaleLinear() {\n  let domain = [0, 1]\n  let range = [0, 1]\n  function scale(num) {\n    let disDomain = domain[1] - domain[0]\n    let disRange = range[1] - range[0]\n    let per = (num - domain[0]) / disDomain || 0\n    return range[0] + disRange * per\n  }\n  scale.domain = function(arr) {\n    domain = arr\n    return this\n  }\n  scale.range = function(arr) {\n    range = arr\n    return this\n  }\n  return scale\n}\n\n// const data = [80, 40, 30, 60, 70]\n// const s = scaleLinear().domain([0, 100]).range([0, 100])\n// console.log(data.map(s))\n\nexport { scaleLinear }\n","//import { Global } from '../core/Global'\nexport function axis(attr) {\n  // 计算坐标轴刻度\n  if (!Array.isArray(attr.dataSet) && !attr.hasOwnProperty('section')) {\n    return []\n  }\n  if (attr.section !== undefined) {\n    return sectionAxis(attr.section)\n  }\n  const data = dataHandle(attr)\n  let upZero = [] // 大于零的数\n  let downZero = [] // 小于零的数\n  for (const element of data) {\n    if (element < 0) {\n      downZero.push(Math.abs(element))\n    } else {\n      upZero.push(element)\n    }\n  }\n  let length = 5 // 刻度数量\n  let sortUpZero = upZero.sort((a, b) => {\n    return a - b\n  })\n  let sortDownZero = downZero.sort((a, b) => {\n    return a - b\n  })\n  let maxUpZero = sortUpZero.length && Math.ceil(sortUpZero.pop() / 0.95)\n  let maxDownZero = sortDownZero.length && Math.ceil(sortDownZero.pop() / 0.95)\n  let maxValue = maxUpZero - maxDownZero >= 0 ? maxUpZero : maxDownZero\n  let mixNum = 4\n  let maxNum = 7\n  if (maxDownZero && maxUpZero) {\n    mixNum = 3\n    maxNum = 5\n  }\n  if (attr.splitNumber) {\n    mixNum = attr.splitNumber\n    maxNum = mixNum + 1\n  }\n  let getMax = false\n  const len = maxValue.toString().length // 最大值位数\n  let max = len < 3 ? Math.ceil(maxValue / Math.pow(10, len - 1)) : Math.ceil(maxValue / Math.pow(10, len - 2))\n  do {\n    for (let i = mixNum; i < maxNum; i++) {\n      if (max % i === 0) {\n        length = i\n        maxValue = len < 3 ? max * Math.pow(10, len - 1) : max * Math.pow(10, len - 2)\n        getMax = true\n        break\n      }\n    }\n    max++\n  } while (!getMax)\n\n  let axisArray = new Array(length + 1)\n  axisArray[0] = 0\n  for (let i = 1; i < length + 1; i++) {\n    axisArray[i] = maxUpZero >= maxDownZero ? Math.round((maxValue / length) * i) : -1 * Math.round((maxValue / length) * i)\n  }\n\n  // 处理0-1之间的数据\n  if ((maxDownZero <= 1 && maxDownZero > 0) || (maxUpZero <= 1 && maxUpZero > 0) || (maxUpZero === 0 && maxDownZero === 0)) {\n    axisArray = new Array(6)\n    axisArray[0] = 0\n    maxValue = 1\n    for (let i = 1; i < 6; i++) {\n      axisArray[i] = maxUpZero >= maxDownZero ? (2 * maxValue * i) / 10 : (-2 * maxValue * i) / 10\n    }\n  }\n\n  if (maxUpZero < maxDownZero) {\n    axisArray.reverse()\n  }\n  if (maxDownZero.length === 0 || maxUpZero.length === 0) {\n    return axisArray\n  }\n  if (maxUpZero >= maxDownZero) {\n    const unit = axisArray[1] * 10\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxDownZero) / maxUpZero); i < len + 1; i++) {\n      axisArray.unshift((-1 * unit * i) / 10)\n    }\n  } else {\n    const unit = axisArray[axisArray.length - 2] * 10\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxUpZero) / maxDownZero); i < len + 1; i++) {\n      axisArray.push((-1 * unit * i) / 10)\n    }\n  }\n  // if (attr.needReverse) {\n  //   axisArray = axisArray.map((value) => {\n  //     return this.dataset.datasetReverse\n  //       ? Math.round(this.dataset.datasetReverse(value))\n  //       : value;\n  //   });\n  // }\n  return axisArray\n}\n\nfunction dataHandle(attr) {\n  const stack = attr.stack || false\n  const data = attr.dataSet || []\n  const arr = []\n\n  if (stack && data.length !== 0 && data[0].length) {\n    for (let i = 0, len = data[0].length; i < len; i++) {\n      let sum = 0\n      let sumDown = 0\n      for (let j = 0, leng = data.length; j < leng; j++) {\n        let val = data[j][i].layoutScaleValue(attr.field)\n        if (data[j][i].disabled === true || val === undefined) {\n          continue\n        }\n        if (val < 0) {\n          sumDown = sumDown + val\n        } else {\n          sum = sum + val\n        }\n      }\n      sum && arr.push(sum)\n      sumDown && arr.push(sumDown)\n    }\n  } else {\n    for (let m = 0; m < data.length; m++) {\n      for (let n = 0; n < data[m].length; n++) {\n        let val = data[m][n].layoutScaleValue(attr.field)\n        if (data[m][n].disabled === true || val === undefined) {\n          continue\n        }\n        arr.push(val)\n      }\n    }\n  }\n  return arr\n}\n\nfunction sectionAxis(section) {\n  if (section && Array.isArray(section)) {\n    const gap = section[1] - section[0]\n    const arr = []\n    let divide = 4\n    arr.push(section[0])\n    for (let i = 4; i < 8; i++) {\n      if (gap % i === 0) {\n        divide = i\n        break\n      }\n    }\n    for (let j = 1; j <= divide; j++) {\n      arr.push((section[0] + (gap * j) / divide).toFixed(2))\n    }\n    return arr\n  }\n  return []\n}\n","import { scaleLinear } from '../../utils/scaleLinear'\nimport { axis } from '../../utils/axis'\nexport default function layout(arr, attrs) {\n  let type = this.type\n  let lines = []\n  const { stack, splitNumber, clientRect, axisGap, layoutX, layoutY, sectionX, sectionY } = attrs\n  const { width, height } = clientRect\n  const { text: textField, value: valueField } = this.dataset.option\n  let scaleFX = getScaleFun(arr, layoutX, [0, width], { stack, splitNumber, sectionX, axisGap, field: textField })\n  let scaleFY = getScaleFun(arr, layoutY, [0, height], { stack, splitNumber, sectionY, axisGap, field: valueField })\n\n  //存储stack数据\n  let prevScaleValues = []\n  arr.forEach(row => {\n    let line = {\n      points: [],\n      areaPoints: [],\n      smoothRange: [],\n      state: row.state\n    }\n    row.forEach((cell, i) => {\n      let val = cell.layoutScaleValue()\n\n      if (cell.value !== undefined) {\n        //如果为undefined 不渲染\n        let curX\n        if (layoutX === 'value') {\n          curX = scaleFX(cell.layoutScaleValue(textField))\n        } else {\n          curX = scaleFX(i)\n        }\n        let curPos = [curX, height - scaleFY(val)]\n        if (stack && prevScaleValues.length) {\n          //如果是堆叠并且前一个row存在，则叠加\n          curPos = [curX, height - scaleFY(val + prevScaleValues[i])]\n        }\n        line.points.push(curPos)\n      }\n    })\n    line.axisPoints = [\n      [line.points[0][0], height - scaleFY(0)],\n      [line.points[line.points.length - 1][0], height - scaleFY(0)]\n    ]\n    if (stack && row.state !== 'disabled') {\n      if (!prevScaleValues.length) {\n        prevScaleValues = row.map(cell => cell.layoutScaleValue())\n      } else {\n        prevScaleValues = row.map((cell, ind) => cell.layoutScaleValue() + prevScaleValues[ind])\n      }\n    }\n    lines.push(line)\n  })\n  if (type === 'area') {\n    let curLine = null\n    lines.forEach((line, ind) => {\n      let nextPoints = []\n        .concat(line.points)\n        .reverse()\n        .map(point => [point[0], height])\n      if (curLine && attrs.stack) {\n        let prevLine = curLine\n        for (let i = ind - 1; i >= 0; i--) {\n          if (lines[i].state !== 'disabled') {\n            prevLine = lines[i]\n            break\n          }\n        }\n        nextPoints = [].concat(prevLine.points).reverse()\n      }\n      let res = transAreaPoint(line.points, nextPoints)\n      line.areaPoints = res.areaPoints\n      line.smoothRange = res.smoothRange\n      if (line.state !== 'disabled') {\n        curLine = line\n      }\n    })\n  }\n  return lines\n}\nfunction getScaleFun(arr, type, rangePixs, attrs) {\n  let res = null\n  if (type === 'value') {\n    let scales = axis.call(this, { dataSet: arr, ...attrs })\n    let maxVal = Math.max.apply(this, scales)\n    let minVal = Math.min.apply(this, scales)\n    let scaleFun = scaleLinear()\n      .domain([minVal, maxVal])\n      .range(rangePixs)\n    res = scaleFun\n  } else {\n    // 获取最大长度\n    let length = Math.max.apply(\n      this,\n      arr.map(row => row.length)\n    )\n    let width = rangePixs[1]\n    let dx = width / (length - 1)\n    let offsetX = 0\n    let axisGap = attrs.axisGap\n    if (axisGap) {\n      dx = width / length\n      offsetX = dx / 2\n    }\n    res = function(val) {\n      return dx * val + offsetX\n    }\n  }\n  return res\n}\nfunction transAreaPoint(startPoints, endPoints) {\n  let res = {\n    areaPoints: [],\n    smoothRange: []\n  }\n  res.areaPoints = []\n    .concat([startPoints[0]])\n    .concat(startPoints)\n    .concat([startPoints[startPoints.length - 1]])\n    .concat([endPoints[0]])\n    .concat(endPoints)\n    .concat([endPoints[endPoints.length - 1]])\n  res.smoothRange = [1, startPoints.length, startPoints.length + 3, startPoints.length + endPoints.length + 2]\n  return res\n}\n","import { Sprite, Path, Ellipse, Rect, Triangle, Parallel, Regular, Star, Group } from 'spritejs'\nimport { jsType } from '@qcharts/utils'\n\nconst allPoint = {\n  sprite: Sprite,\n  path: Path,\n  ellipse: Ellipse,\n  rect: Rect,\n  triangle: Triangle,\n  parallel: Parallel,\n  regular: Regular,\n  star: Star\n}\nclass Point extends Group {\n  constructor(attrs = {}) {\n    super()\n    this.pointType = null\n    this.$sprite = null\n    this.attr({ pointType: 'ellipse', ...attrs })\n  }\n  attr(name, val) {\n    let attrs = name\n    if (jsType(name) !== 'object') {\n      attrs = {}\n      attrs[name] = val\n    }\n    this.renderSymbol(attrs)\n  }\n  renderSymbol(attrs) {\n    const { pointType, pos, ...renderAttr } = attrs\n\n    if (pointType && pointType !== this.pointType) {\n      if (!Object.keys(allPoint).includes(pointType)) {\n        throw new Error(\n          `pointType should be one of 'sprite','path','ellipse','rect','triangle','parallel','regular','star' but it is ${pointType}`\n        )\n      }\n      this.$sprite && this.$sprite.remove()\n      this.$sprite = new allPoint[pointType](renderAttr)\n      this.append(this.$sprite)\n    } else {\n      this.$sprite.attr(renderAttr)\n    }\n    if (pos && pos.length) {\n      super.attr('pos', pos)\n    }\n\n    this.pointType = pointType\n  }\n}\nexport default Point\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Node } from 'spritejs'\nimport { getStyle } from '../../utils/getStyle'\nimport layout from './layout'\nimport Point from '../../utils/Point'\nimport { deepObjectMerge } from '@qcharts/utils'\nclass Line extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderLines = []\n    this.type = 'line'\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let lines = arrLayout.map(item => {\n      return {\n        smoothRange: item.smoothRange,\n        areaFrom: { points: item.areaPoints },\n        areaTo: { points: item.areaPoints },\n        from: { points: item.points },\n        to: { points: item.points }\n      }\n    })\n    return lines\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let renderLines = this.renderLines\n    let lines = arrLayout.map((item, i) => {\n      let from = { points: item.points }\n      if (renderLines[i]) {\n        from = { points: renderLines[i].to.points }\n      }\n      // if (!renderLines[i] || renderLines[i].state === 'disabled') {\n      //   from.lineDash = [4, maxLen]\n      // }\n      return {\n        state: item.state,\n        smoothRange: item.smoothRange,\n        areaFrom: (renderLines[i] && renderLines[i].areaTo) || item.areaPoints,\n        areaTo: {\n          points: item.areaPoints\n        },\n        from,\n        to: {\n          points: item.points\n          // lineDash: [maxLen, maxLen]\n        }\n      }\n    })\n    return lines\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let { height, width } = renderAttrs.clientRect\n    //对角线长度的2保证会大于曲线的长度\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 5\n    return { width, height, arrLayout, maxLen }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      guidePoints: [],\n      layer: 'line',\n      layoutX: 'category',\n      layoutY: 'value'\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {\n      //smooth: false,\n    }\n  }\n  guidelineleave(event, el) {\n    this.attr('guidePoints', [])\n    this.hoverIndex = -1\n    this.dataset.resetState()\n  }\n  guidelinemove(event, el) {\n    if (this.renderLines.length) {\n      //获取 x轴坐标的刻度\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\n      //转换cancas坐标到当前group的相对坐标\n      let [x] = el.getOffsetPosition(event.x, event.y)\n      let curInd = 0\n      //查找当前位置\n      for (let i = 0; i < arrX.length; i++) {\n        if (x > arrX[i] && x < arrX[i + 1]) {\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\n          break\n        }\n      }\n      //重置所有的dateset的状态\n      if (this.hoverIndex !== curInd) {\n        this.dataset.resetState()\n        //设置当前列的state为hover\n        this.dataset.cols[curInd].state = 'hover'\n        let { clientRect } = this.renderAttrs\n        let posX = arrX[curInd]\n        this.hoverIndex = curInd\n        this.attr({\n          guidePoints: [\n            [posX, 0],\n            [posX, clientRect.height]\n          ],\n          lineState: 'default'\n        })\n      }\n    }\n  }\n  render(lines) {\n    let { clientRect, smooth, guidePoints } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderLines = lines\n    let renderData = this.dataset[this.renderAttrs.layoutBy]\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]} onMouseleave={this.guidelineleave} onMouseenter={this.guidelinemove} onMousemove={this.guidelinemove}>\n        <Group class=\"lines-group\">\n          {lines.map((line, ind) => {\n            let style = getStyle(this, 'line', [{ strokeColor: colors[ind], smooth }, styles.line], [this.dataset.rows[ind].data, ind])\n            // if (style.lineDash) {\n            //   line.to.lineDash = style.lineDash\n            //   line.from.lineDash = style.lineDash\n            // }\n            return line.state === 'disabled' || style === false ? <Node /> : <Polyline onMouseEvent={['click', this.dataset.rows[ind], ind]} onClick={this.lineClick} animation={{ from: line.from, to: line.to }} {...style} />\n          })}\n        </Group>\n        <Group class=\"areas-group\">\n          {this.type !== 'area'\n            ? null\n            : lines.map((line, ind) => {\n                let style = getStyle(this, 'area', [{ fillColor: colors[ind], smooth }, styles.area], [this.dataset.rows[ind].data, ind])\n                return line.state === 'disabled' || style === false ? <Node /> : <Polyline onMouseEvent={['click', this.dataset.rows[ind], ind]} smoothRange={line.smoothRange} {...style} animation={{ from: line.areaFrom, to: line.areaTo }} />\n              })}\n        </Group>\n        <Group class=\"line-points\">\n          {lines.map((line, ind) => {\n            return line.state === 'disabled' ? (\n              <Node />\n            ) : (\n              <Group>\n                {line.to.points.map((p, j) => {\n                  const animation = {\n                    from: { pos: line.from.points[j] },\n                    to: { pos: p }\n                  }\n                  let style = getStyle(this, 'point', [{ fillColor: colors[ind] }, styles.point], [this.dataset.rows[ind].data, ind, j])\n                  let styleHover = getStyle(this, 'point:hover', [style, styles['point:hover']], [this.dataset.rows[ind].data, ind, j])\n                  if (this.dataset.rows[ind][j].state === 'hover') {\n                    deepObjectMerge(style, styleHover)\n                  }\n                  return <Point {...style} onMouseEvent={['click', renderData[ind][j], j]} animation={animation} />\n                })}\n              </Group>\n            )\n          })}\n        </Group>\n        <Group class=\"guide-line-group\">\n          {guidePoints.length ? (\n            (_ => {\n              let style = getStyle(this, 'guideline', styles.guideline)\n              return style === false ? <Node /> : <Polyline points={guidePoints} {...style} />\n            })()\n          ) : (\n            <Node />\n          )}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Line\n","/**\n * 获取直线上到point1距离为d的点坐标\n * @param {*} point1 直线开始坐标\n * @param {*} point2 直线结束坐标\n * @param {*} distance 直线上一点到point1点的距离\n */\nfunction getPointByDistance(point1, point2, distance) {\n  const [x1, y1] = point1\n  const [x2, y2] = point2\n  const r = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2))\n  const x = (distance * (x2 - x1)) / r + x1\n  const y = (distance * (y2 - y1)) / r + y1\n  return [x, y]\n}\nexport default getPointByDistance\n","import getPointByDistance from '../../utils/getLinePoint'\nexport default function layout(arr, attrs) {\n  let rings = []\n  let arrVal = arr.map(row => row.reduce((val, item) => (row.state !== 'disabled' ? val + item.layoutScaleValue() : val), 0))\n  //当totalVal为0的时候，会造成分母为0 如果totalVal为0 处理成1\n  let totalVal = arrVal.reduce((val, item) => val + item, 0) || 1\n  let { startAngle, endAngle, activeOffset } = attrs\n  let minAngle = Math.min(startAngle, endAngle)\n  let maxAngle = Math.max(startAngle, endAngle)\n  if (maxAngle > minAngle + 360) {\n    maxAngle = minAngle + 360\n  }\n  let totalAngle = maxAngle - minAngle\n  arrVal.forEach((num, ind) => {\n    let curPercent = num / totalVal\n    let perAngle = curPercent * totalAngle\n    //默认中心坐标偏移量0\n    let offsetPos = [0, 0]\n\n    let curObj = { startAngle: minAngle, endAngle: minAngle + perAngle, offsetPos }\n    if (ind !== 0) {\n      let prevRing = rings[ind - 1]\n      curObj = { startAngle: prevRing.endAngle, endAngle: prevRing.endAngle + perAngle, offsetPos }\n    }\n    let curAngle = ((curObj.startAngle + curObj.endAngle) / 2) % 360\n    curObj.bisectorAngle = curAngle\n    curObj.bisectorRadian = transRadius(curAngle)\n    if (arr[ind].state === 'hover') {\n      //角平分,角度转弧度,默认是顺时针，角度为相反\n      curObj.offsetPos = [activeOffset * Math.cos(curObj.bisectorRadian), activeOffset * Math.sin(curObj.bisectorRadian)]\n      //选中状态\n    }\n    rings.push(curObj)\n  })\n  return rings\n}\nexport function transRadius(angle) {\n  return (angle / 180) * Math.PI\n}\nexport function computeLinePos(startAngle, endAngle, center, radius, disRadius) {\n  let points = []\n  let centerAn = ((startAngle + endAngle) / 2) % 360\n  let centerAngle = transRadius(centerAn)\n  let labelAnchor = [0.5, 0.5]\n  let startPoint = [radius * Math.cos(centerAngle), radius * Math.sin(centerAngle)]\n  let endPoint = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius) * Math.sin(centerAngle)]\n  let labelPos = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius + 5) * Math.sin(centerAngle)]\n  labelPos = [center[0] + labelPos[0], center[1] + labelPos[1]]\n  points.push([center[0] + startPoint[0], center[1] + startPoint[1]])\n  points.push([center[0] + endPoint[0], center[1] + endPoint[1]])\n  let disabled = startAngle === endAngle\n  //labelAnchor = [Math.sin(centerAngle / 2), 1 - Math.cos(centerAngle / 4)]\n  return { points, labelAnchor, labelPos: labelPos, disabled }\n}\nexport function layoutLabel(arr) {\n  let time = 0\n  return compute(arr)\n  function compute(arr) {\n    // arr {pos:[x,y],size:[width,height]}\n    time++\n    let needTick = false\n    for (let i = 0; i < arr.length; i++) {\n      let curNode = arr[i]\n      if (!curNode.size) {\n        continue\n      }\n      let curLength = Math.sqrt(Math.pow(curNode.size[0] / 2, 2) + Math.pow(curNode.size[1] / 2, 2))\n      for (let j = i + 1; j < arr.length; j++) {\n        let nextNode = arr[j]\n        if (!nextNode.size) {\n          continue\n        }\n        let nextLength = Math.sqrt(Math.pow(nextNode.size[0] / 2, 2) + Math.pow(nextNode.size[1] / 2, 2))\n        let targetDis = curLength + nextLength\n        let currentDis = getDis(curNode, nextNode)\n        let disX = (curNode.size[0] + nextNode.size[0]) / 2\n        let disY = (curNode.size[1] + nextNode.size[1]) / 2\n        if (currentDis < targetDis && Math.abs(nextNode.pos[0] - curNode.pos[0]) < disX && Math.abs(nextNode.pos[1] - curNode.pos[1]) < disY) {\n          //如果距离大于对角线长度\n          let moveDis = ((targetDis - currentDis) / 2) * 0.5\n          if (curNode.pos[0] === nextNode.pos[0] && curNode.pos[1] === nextNode.pos[1]) {\n            nextNode.pos[0] += 1\n            nextNode.pos[1] += 1\n          } else {\n            let curPoint = getPointByDistance(curNode.pos, nextNode.pos, -moveDis)\n            let nextPoint = getPointByDistance(nextNode.pos, curNode.pos, -moveDis)\n            curNode.pos = curPoint\n            nextNode.pos = nextPoint\n          }\n          needTick = true\n        }\n      }\n    }\n    if (needTick && time < 10) {\n      compute(arr)\n    }\n    return arr\n  }\n}\nfunction getDis(node1, node2) {\n  return Math.sqrt(Math.pow(node1.pos[0] - node2.pos[0], 2) + Math.pow(node1.pos[1] - node2.pos[1], 2))\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Node, Ring, Polyline, Label } from 'spritejs'\nimport filterClone from 'filter-clone'\nimport layout from './layout'\nimport { layoutLabel } from './layout'\nimport { computeLinePos } from './layout'\nimport { getStyle } from '../../utils/getStyle'\nimport { debounce } from '@qcharts/utils'\nclass Pie extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderRings = []\n    this.hoverIndex = -1\n    this.activeIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let { radius, innerRadius } = attrs\n    let { width, height } = attrs.clientRect\n    attrs.center = [width / 2, height / 2]\n    attrs.radiusPx = (Math.min(width, height) * radius) / 2\n    attrs.innerRadiusPx = (Math.min(width, height) * innerRadius) / 2\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { rings } = this.getRenderData()\n    let { center } = this.renderAttrs\n    let arr = rings.map((item, ind) => {\n      if (ind === 0) {\n        return {\n          from: { startAngle: 0, endAngle: 0, pos: center },\n          to: { ...item, pos: center }\n        }\n      }\n      let pervAngle = rings[ind - 1].endAngle\n      return {\n        from: { startAngle: pervAngle, endAngle: pervAngle, pos: center },\n        to: { ...item, pos: center }\n      }\n    })\n    this.computeLine(arr)\n    return arr\n  }\n  beforeUpdate(attrs) {\n    //更新前的处理函数，返回lines,继承base\n    let { rings } = this.getRenderData()\n    let { center } = this.renderAttrs\n    let oldRings = this.renderRings\n    let arr = rings.map((item, ind) => {\n      let curPos = [center[0] + item.offsetPos[0], center[1] + item.offsetPos[1]]\n      let attrs = filterClone(item, ['startAngle', 'endAngle'])\n      if (ind === this.hoverIndex) {\n        return {\n          from: { ...oldRings[ind].to },\n          to: { ...attrs, pos: curPos }\n        }\n      } else {\n        return {\n          from: { ...oldRings[ind].to },\n          to: { ...attrs, pos: curPos }\n        }\n      }\n    })\n    this.computeLine(arr)\n    let arrLabelPos = this.getLabelsPos(arr)\n    let arrObj = arr.filter(item => !item.disabled)\n    let oldArrLabels = oldRings.filter(ring => !ring.disabled)\n    if (arrLabelPos.length === arrObj.length) {\n      arrObj.forEach((item, ind) => {\n        item.label.to.pos = arrLabelPos[ind].pos\n        item.label.from.pos = arrLabelPos[ind].pos\n        if (oldArrLabels[ind]) {\n          item.label.from.pos = oldArrLabels[ind].label.to.pos\n        }\n      })\n    }\n    return arr\n  }\n  computeLine(arr) {\n    let { radiusPx, lineLength } = this.renderAttrs\n    arr.forEach(item => {\n      let { points: fromPoints, labelAnchor: fromAnchor, labelPos: fromPos, disabled: fromDisabled } = computeLinePos(item.from.startAngle, item.from.endAngle, item.from.pos, radiusPx + 1, lineLength)\n      let { points: toPoints, labelAnchor: toAnchor, labelPos: toPos, disabled: toDisabled } = computeLinePos(item.to.startAngle, item.to.endAngle, item.to.pos, radiusPx + 1, lineLength)\n      item.line = {\n        from: {\n          points: fromPoints\n        },\n        to: {\n          points: toPoints\n        }\n      }\n      item.label = {\n        from: {\n          pos: fromPos,\n          anchor: fromAnchor\n        },\n        to: {\n          pos: toPos,\n          anchor: toAnchor\n        }\n      }\n      item.disabled = toDisabled\n    })\n    //计算guideline位置\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    //let { radiusPx, center } = renderAttrs\n    let renderData = this.renderData()\n    let rings = layout.call(this, renderData, renderAttrs)\n    return { rings }\n  }\n  rendered() {}\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'pie',\n      radius: 1,\n      innerRadius: 0,\n      startAngle: 0,\n      endAngle: 360,\n      lineLength: 20,\n      //选中偏移量基数\n      activeOffset: 10,\n      formatter: function(str, data) {\n        return str\n      }\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n  mousemove(event, el) {\n    let renderData = this.renderData()\n    let ind = el.attr('_index')\n    if (ind !== this.hoverIndex) {\n      let curData = renderData[ind]\n      renderData.forEach(row => {\n        if (row.state === 'hover') {\n          row.state = 'default'\n        }\n      })\n      curData.state = 'hover'\n      this.hoverIndex = ind\n    }\n  }\n  mouseleave() {\n    let renderData = this.renderData()\n    renderData.forEach(row => {\n      if (row.state === 'hover') {\n        row.state = 'default'\n      }\n    })\n    this.hoverIndex = -1\n  }\n  renderData() {\n    let renderAttrs = this.renderAttrs\n    return this.dataset[renderAttrs.layoutBy]\n  }\n  labelRendered = debounce(() => {\n    let arr = this.getLabelsPos()\n    let rings = this.renderRings.filter(item => !item.disabled)\n    arr.forEach((item, ind) => {\n      let children = this.$refs['label-group'].children.filter(node => node instanceof Label)\n      children[ind].transition(0.3).attr('pos', item.pos)\n      rings[ind].label.from.pos = item.pos\n      rings[ind].label.to.pos = item.pos\n    })\n  }, 100)\n  getLabelsPos(arr) {\n    let labels = []\n    let children = this.$refs['label-group'].children\n    if (arr) {\n      arr.forEach((item, ind) => {\n        if (!item.disabled) {\n          labels.push({ pos: item.label.to.pos, size: children[ind].offsetSize })\n        }\n      })\n    } else {\n      this.renderRings.forEach((obj, ind) => {\n        if (obj.disabled !== true) {\n          let node = children[ind]\n          if (node instanceof Label) {\n            let pos = node.attr('pos')\n            let size = node.offsetSize\n            labels.push({ pos, size })\n          }\n        }\n      })\n    }\n    return layoutLabel(labels)\n  }\n  render(rings) {\n    let { clientRect, innerRadiusPx, radiusPx, formatter } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderRings = rings\n    const renderData = this.renderData()\n    return (\n      <Group zIndex={1} onAfterrender={this.labelRendered} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\n          {rings.map((ring, ind) => {\n            let style = getStyle(this, 'sector', [{ strokeColor: colors[ind], fillColor: colors[ind], innerRadius: innerRadiusPx, outerRadius: radiusPx, _index: ind }, styles.sector], [this.dataset.rows[ind], ind])\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMouseEvent={['click,dblclick', renderData[ind][0], ind]} onMouseEnter={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\n          })}\n        </Group>\n        <Group class=\"line-group\">\n          {rings.map((ring, ind) => {\n            let style = getStyle(this, 'guideline', [{ strokeColor: colors[ind] }, styles.guideline], [this.dataset.rows[ind], ind])\n            let hide = false\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\n              hide = true\n            }\n            return hide || style === false ? <Node /> : <Polyline {...style} animation={{ from: ring.line.from, to: ring.line.to }} />\n          })}\n        </Group>\n        <Group class=\"label-group\" ref=\"label-group\">\n          {rings.map((ring, ind) => {\n            let name = formatter(this.dataset.rows[ind].name, this.dataset.rows[ind].data)\n            let style = getStyle(this, 'guideText', [{ fillColor: '#666', fontSize: 12 }, styles.guideText], [this.dataset.rows[ind], ind])\n            let hide = false\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\n              hide = true\n            }\n            return hide || style === false ? <Node /> : <Label text={name} {...style} pos={ring.label.from.pos} animation={{ from: ring.label.from, to: ring.label.to }} />\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\n\nexport default Pie\n","import Line from '../Line'\nimport { deepObjectMerge } from '@qcharts/utils'\nclass Area extends Line {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'area'\n  }\n  defaultAttrs() {\n    return deepObjectMerge({}, super.defaultAttrs(), {\n      stack: true,\n      animation: {\n        duration: 700,\n        easing: 'bounceOut'\n      },\n      layer: 'area'\n    })\n  }\n}\nexport default Area\n","/**\n * 根据给定角度和长度获取极坐标值\n * @param {Number} radian 角度\n * @param {Number} length 长度\n * @returns {Array} [x,y]\n */\nconst getPointCoordinate = (radian, length) => {\n  let x = Math.cos(radian) * length\n  let y = Math.sin(radian) * length\n  return [x, y]\n}\n\n/**\n * 获取数组中最大数除以层级后的整数\n * @param {Array} data\n * @param {Number} splitNumber\n * @returns {Number}\n */\nconst getMax = (data, splitNumber) => {\n  const indicatorMax = Math.max(...data)\n  if (indicatorMax < splitNumber * 10) {\n    return Math.ceil(indicatorMax / splitNumber) * splitNumber\n  } else {\n    return Math.ceil(indicatorMax / 10 / splitNumber) * 10 * splitNumber\n  }\n}\n\n/**\n * 根据给定的数据，返回绘制雷达图所需要的数据\n * @param {Array} dataset 数据集\n * @param {Number} radius 雷达图半径\n * @param {Number} splitNumber  雷达图背景层级\n * @param {Number} startAngle 雷达图起始轴角度\n * @param {Number} labelOffset 雷达图文字偏移值\n * @param {Array} colors 雷达图主题颜色\n * @returns {Object} { sectionAttrs, borderAttrs, axisAttrs, gridAttrs }\n */\nexport default function layout(data, radius, splitNumber, startAngle, labelOffset, colors) {\n  let bgPoints = [] // 最外层背景多边形\n  let gridAttrs = [] // 蜘蛛网图背景\n  let axisAttrs = [] // 坐标轴\n  let sectionAttrs = [] // 多边形数据\n\n  if (data.some((d) => d.length === 0)) {\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  const allDataValue = data.reduce((t, row) => {\n    return t.concat(row.map((cell) => cell.value))\n  }, [])\n\n  const max = getMax(allDataValue, splitNumber)\n\n  // 每个类别的弧度\n  const dimension = data[0].length\n  const perRadian = (Math.PI * 2) / dimension\n  // 起始角度->转弧度\n  const startRadian = (Math.PI / 180) * startAngle\n  for (let i = 0; i < dimension; i++) {\n    // 根据角度和半径，计算对应的坐标\n    let currentRadian = i * perRadian + startRadian\n    let point = getPointCoordinate(currentRadian, radius)\n\n    bgPoints.push({\n      point,\n      radian: currentRadian\n    })\n\n    // 类别指示坐标\n    const labelPos = getPointCoordinate(currentRadian, radius + labelOffset)\n    const label = data[0][i].text\n    // 坐标轴属性\n    axisAttrs.push({\n      points: [[0, 0], point],\n      lineWidth: 1,\n      lineDash: [3, 2],\n      strokeColor: '#DDE0E5',\n      label,\n      labelPos,\n      radian: currentRadian,\n      maxScale: max,\n      splitNumber: splitNumber\n    })\n  }\n\n  data.forEach((row, index) => {\n    const categoryPoints = row.map((d, i) => {\n      const value = d.value\n      const radian = bgPoints[i].radian\n      return getPointCoordinate(radian, (value / max) * radius)\n    })\n\n    sectionAttrs.push({\n      index: index,\n      name: row.name,\n      dataOrigin: row.data,\n      lineWidth: 1,\n      points: categoryPoints,\n      state: row.state,\n      close: true,\n      strokeColor: colors[index],\n      fillColor: colors[index]\n    })\n  })\n\n  // 背景网格多边形坐标\n  const gridPoints = bgPoints.map((p) => p.point)\n  for (let i = 0; i < splitNumber; i++) {\n    let scale = 1 - i / splitNumber\n    gridAttrs.push({\n      scale,\n      radius,\n      points: gridPoints,\n      index: i,\n      close: true,\n      lineWidth: 1,\n      strokeColor: '#DDE0E5',\n      anchor: [0.5, 0.5]\n    })\n  }\n\n  return { sectionAttrs, axisAttrs, gridAttrs }\n}\n","import { Group, Polyline, Arc, Label, Node } from 'spritejs'\nimport { deepObjectMerge, throttle, jsType } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\nimport layout from './layout'\nimport Point from '../../utils/Point'\n\nclass Radar extends BaseVisual {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'radar'\n    this.sectionData = []\n    this.scaleEl = []\n    this.oldPos = null\n  }\n\n  //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    const { height, width } = attrs.clientRect\n    const center = [width / 2, height / 2]\n\n    const len = Math.min(...center) * attrs.radius\n\n    return { ...attrs, center, len }\n  }\n\n  // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n  defaultAttrs() {\n    return {\n      layer: 'radar',\n      gridType: 'polygon', // 网格类型,polygon,circle\n      splitNumber: 4, // 网格层次\n      startAngle: 270, // 起始角度\n      radius: 0.6, // 雷达图半径\n      labelOffset: 7 // 文字偏移\n    }\n  }\n\n  getPolylineAnimation(toPoints, state, index) {\n    const zeroPoints = new Array(toPoints.length).fill([0, 0])\n    const preData = this.sectionData[index] || { animation: { to: { points: zeroPoints } } }\n    const animation = {\n      from: { points: preData.animation.to.points },\n      to: { points: toPoints }\n    }\n    // disabled的时候缩回原点并透明\n    if (state === 'disabled') {\n      animation.to.points = zeroPoints\n    }\n    return animation\n  }\n\n  getRenderData() {\n    const dataSet = this.dataset\n    // // FIXME 数据筛选之前先按照label进行排序?是否需要？\n    const { len, splitNumber, startAngle, labelOffset } = this.renderAttrs\n    const colors = this.theme.colors\n\n    const { sectionAttrs, axisAttrs, gridAttrs } = layout([...dataSet.rows], len, splitNumber, startAngle, labelOffset, colors)\n\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  processData() {\n    const { sectionAttrs, ...otherData } = this.getRenderData()\n    const processSectionAttrs = sectionAttrs.map((attr, i) => {\n      const { points, state, ...otherAttrs } = attr\n      const { style, hoverStyle } = this.getStyle('section', attr, [...attr.dataOrigin], i)\n      let stateStyle = state === 'hover' ? hoverStyle : {}\n      const animation = this.getPolylineAnimation(points, state, i)\n      return deepObjectMerge(otherAttrs, { state }, { animation }, style, stateStyle)\n    })\n    return { ...otherData, sectionAttrs: processSectionAttrs }\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const renderData = this.processData()\n    this.sectionData = [...renderData.sectionAttrs]\n    return renderData\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const updateData = this.processData()\n    if (updateData.sectionAttrs) {\n      const len = Math.max(this.sectionData.length, updateData.sectionAttrs.length)\n      for (let i = 0; i < len; i++) {\n        this.sectionData[i] = updateData.sectionAttrs[i]\n      }\n    }\n    this.sectionData = [...updateData.sectionAttrs]\n    return updateData\n  }\n\n  rendered() {}\n\n  getScaleAnimation(toScale) {\n    return {\n      from: { scale: 0 },\n      to: { scale: toScale }\n    }\n  }\n\n  getStyle(type, attr, data, index) {\n    return {\n      style: this.style(type)(attr, data, index),\n      hoverStyle: this.style(`${type}:hover`)(attr, data, index)\n    }\n  }\n\n  isSamePoints(fromPts, toPts) {\n    return fromPts.toString() === toPts.toString()\n  }\n\n  renderGrid(gridAttrs) {\n    const { gridType } = this.renderAttrs\n    const GridShape = gridType === 'circle' ? Arc : Polyline\n    return gridAttrs.map((attr, i) => {\n      const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(attr.scale)\n      const { style } = this.getStyle('grid', attr, null, i)\n      if (style === false) {\n        return\n      }\n      return <GridShape {...attr} {...style} animation={animation} />\n    })\n  }\n\n  renderAxisLabel(attrs, i) {\n    const calcAnchor = radian => {\n      const x = 0.5 - Math.cos(radian)\n      const y = 0.5 - Math.sin(radian)\n      return [x, y]\n    }\n    const { label, labelPos, radian } = attrs\n    const anchor = calcAnchor(radian)\n    const attr = {\n      text: label,\n      pos: labelPos,\n      color: '#67728C',\n      radian,\n      anchor,\n      fontSize: 12\n    }\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\n    const { style } = this.getStyle('label', attr, { text: attr.label, radian }, i)\n    if (style === false) {\n      return\n    }\n    return <Label {...attr} {...style} animation={animation} />\n  }\n\n  renderAxisScale(attrs, index) {\n    const getPt = attrs => {\n      const { points, splitNumber, maxScale } = attrs\n      const [x, y] = points[1]\n      const perNum = maxScale / splitNumber\n      return [[x / splitNumber, y / splitNumber], perNum]\n    }\n    const [[perX, perY], perNum] = getPt(attrs)\n    let labels = []\n    const display = index === 0 ? 'block' : 'none'\n    const common = {\n      fontSize: 12,\n      anchor: [1, 0.5],\n      translate: [-5, 0],\n      display\n    }\n    for (let i = 0; i < attrs.splitNumber + 1; i++) {\n      let point = [perX * i, perY * i]\n      let text = perNum * i\n      let attr = {\n        text,\n        color: '#67728C',\n        pos: point,\n        ...common\n      }\n      const { style } = this.getStyle('scale', attr, { text, index }, i)\n      const elIndex = index * attrs.splitNumber + i\n      const preEl = this.scaleEl[elIndex]\n      if (attr.display !== 'none') {\n        let animation = {}\n        if (preEl) {\n          if (preEl.text !== text) {\n            animation = {\n              from: { text: preEl.text },\n              to: { text },\n              formatter: attr => {\n                attr.text = attr.text.toFixed(0)\n                return attr\n              }\n            }\n          }\n        } else {\n          animation = {\n            from: { pos: [0, 0] },\n            to: { pos: point }\n          }\n        }\n        this.scaleEl[i] = { text: Number(text.toFixed(0)) }\n        labels.push(style === false ? <Node /> : <Label {...attr} {...style} animation={animation} />)\n      }\n    }\n    return labels\n  }\n\n  renderAxis(axisAttrs) {\n    const animation = this.scaleEl.length > 0 ? {} : this.getScaleAnimation(1)\n    return axisAttrs.map((attr, i) => {\n      const { style } = this.getStyle('axis', attr, { text: attr.label }, i)\n      if (style === false) {\n        return\n      }\n      return (\n        <Group>\n          <Polyline {...attr} {...style} animation={animation} />\n          {this.renderAxisLabel(attr, i)}\n          {this.renderAxisScale(attr, i)}\n        </Group>\n      )\n    })\n  }\n\n  renderPoints(sectionAttrs) {\n    const allPoints = sectionAttrs.map(attrs => {\n      const { animation: secAnimation, dataOrigin, strokeColor, state } = attrs\n      const prePoints = secAnimation && secAnimation.from && secAnimation.from.points\n      const toPoints = secAnimation && secAnimation.to && secAnimation.to.points\n      return toPoints.map((point, i) => {\n        const attr = {\n          pos: point,\n          fillColor: strokeColor,\n          radius: 2,\n          dataOrigin: dataOrigin[i]\n        }\n        const { style, hoverStyle } = this.getStyle('point', attr, { ...attr.dataOrigin }, i)\n        if (style === false) {\n          return\n        }\n\n        let animation = {\n          from: { pos: [0, 0], opacity: 1 },\n          to: { pos: point, opacity: 1 }\n        }\n\n        if (prePoints && prePoints[i]) {\n          if (!this.isSamePoints(prePoints[i], point)) {\n            animation.from.pos = prePoints[i]\n          } else {\n            animation.from.pos = point\n          }\n        }\n        if (state === 'disabled') {\n          animation.to.opacity = 0\n        }\n        const stateStyle = state === 'hover' ? hoverStyle : {}\n        return <Point {...attr} {...style} {...stateStyle} animation={animation} zIndex={99} />\n      })\n    })\n\n    return allPoints.reduce((pre, cur) => pre.concat(cur), [])\n  }\n\n  renderSection(sectionAttrs) {\n    return sectionAttrs.map((attr, i) => {\n      const { animation, ...otherAttr } = attr\n      const cell = this.dataset[this.renderAttrs.layoutBy][i]\n      return <Polyline zIndex={9 + i} {...otherAttr} animation={animation} onMouseEvent={['click', cell, i]} onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave} />\n    })\n  }\n\n  onMouseenter = throttle(\n    (event, el) => {\n      this.dataset.resetState()\n      const name = el.attributes.name\n      this.dataset.rows\n        .filter(row => row.state !== 'disabled')\n        .forEach(row => {\n          row.state = row.name === name ? 'hover' : 'default'\n        })\n    },\n    16,\n    true\n  )\n  onMouseleave() {\n    this.dataset.resetState()\n    this.dataset.rows.filter(row => row.state !== 'disabled').forEach(row => row.state === 'default')\n  }\n\n  render({ sectionAttrs, axisAttrs, gridAttrs }) {\n    const { center, clientRect } = this.renderAttrs\n    const gAnimation = {\n      from: { pos: this.oldPos ? this.oldPos : center },\n      to: { pos: center }\n    }\n    this.oldPos = center\n    return (\n      <Group pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group pos={center} animation={gAnimation}>\n          {this.renderGrid(gridAttrs)}\n          {this.renderAxis(axisAttrs)}\n          {this.renderSection(sectionAttrs)}\n          {this.renderPoints(sectionAttrs)}\n        </Group>\n      </Group>\n    )\n  }\n}\n\nexport default Radar\n","import { axis } from '../../utils/axis'\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr\n  const { stack, splitNumber, clientRect } = attrs\n  const { width, height } = clientRect\n  const barSize = [width, height]\n  const transpose = attrs.transpose || false\n  const groupGap = attrs.groupGap || 0\n  const stackGap = attrs.stackGap || 0\n  let barWidth = attrs.barWidth || 0\n\n  // 输出\n  const barData = []\n  const groupData = []\n  const textData = []\n  // const bgPillarAttr = { opacity: 0.01, bgcolor: \"#000\" }\n\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber })\n  if (!valueAxis || !valueAxis.length) {\n    return { barData, groupData, textData }\n  }\n  const tableSize = transpose\n    ? { label: barSize[1], value: barSize[0] }\n    : { label: barSize[0], value: barSize[1] }\n  const axisValueMax = Math.max.apply(this, valueAxis)\n  const axisValueMin = Math.min.apply(this, valueAxis)\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\n\n  const GROUP_NUM = data[0].length\n  let gap = 0\n  // 柱子宽度，根据数据绘制类型计算，是否分组，是否旋转\n  if (barWidth === 0) {\n    barWidth = stack\n      ? (tableSize.label * 0.5) / GROUP_NUM\n      : (tableSize.label * 0.5) / (GROUP_NUM * GROUP_BAR_NUM)\n\n    gap = stack ? barWidth : barWidth * GROUP_BAR_NUM\n  } else {\n    gap = stack\n      ? (tableSize.label - barWidth * GROUP_NUM) / GROUP_NUM\n      : (tableSize.label -\n          barWidth * GROUP_BAR_NUM * GROUP_NUM -\n          groupGap * (GROUP_BAR_NUM - 1) * GROUP_NUM) /\n        GROUP_NUM\n  }\n\n  const BAR_HEIGHT_FACTOR = tableSize.value / (axisValueMax - axisValueMin)\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\n      let value = 0\n      let rawValue = 0\n      let gpData = { rects: [] }\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].state !== \"disabled\") {\n        //   data[j][i].state = \"default\";\n        // }\n        rawValue = data[j][i].value\n        value = data[j][i].layoutScaleValue()\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\n        const pos = transpose\n          ? [\n              tableSize.value * (1 - POSITIVE_RATIO),\n              gap / 2 +\n                (barWidth + groupGap) * (j - flag) +\n                (barWidth * GROUP_BAR_NUM +\n                  groupGap * (GROUP_BAR_NUM - 1) +\n                  gap) *\n                  (GROUP_NUM - i - 1)\n            ]\n          : [\n              gap / 2 +\n                (barWidth + groupGap) * (j - flag) +\n                (barWidth * GROUP_BAR_NUM +\n                  groupGap * (GROUP_BAR_NUM - 1) +\n                  gap) *\n                  i,\n              tableSize.value * POSITIVE_RATIO\n            ]\n        const size = transpose\n          ? [barHeight, barWidth - 1]\n          : [barWidth - 1, barHeight]\n        const anchor = [\n          transpose && value < 0 ? 1 : 0,\n          transpose || value < 0 ? 0 : 1\n        ]\n        // const point1 = [gap / 2 + barWidth]\n        const rect = {\n          anchor: anchor,\n          size: size,\n          pos: pos\n        }\n\n        rect.points = getPoints({\n          pos,\n          size,\n          anchor,\n          transpose\n        })\n        delete rect.pos\n        if (data[j][i].state === 'disabled') {\n          getDisabledPoints({ value, points: rect.points, transpose })\n          flag++\n        } else {\n          gpData.rects.push(rect)\n        }\n        let label = {\n          opacity: data[j][i].state !== 'disabled' ? 1 : 0,\n          text: rawValue.toString(),\n          anchor: [transpose && value < 0 ? 1 : 0, 0.5],\n          pos: transpose\n            ? [\n                tableSize.value * (1 - POSITIVE_RATIO),\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    (GROUP_NUM - i - 1) +\n                  barWidth * 0.5\n              ]\n            : [\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i +\n                  barWidth * 0.5,\n                tableSize.value * POSITIVE_RATIO\n              ],\n          rotate: transpose ? 0 : value < 0 ? 90 : 270,\n          paddingLeft: 8\n        }\n        barData.push(rect)\n        textData.push(label)\n      }\n      const groupPos = transpose\n        ? [\n            0,\n            (gap + barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1)) *\n              (GROUP_NUM - i - 1)\n          ]\n        : [\n            (gap + barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1)) *\n              i,\n            0\n          ]\n      const groupSize = transpose\n        ? [\n            tableSize.value,\n            barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap\n          ]\n        : [\n            barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\n            tableSize.value\n          ]\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        // title: data[0][i]['_x'],\n        pos: groupPos,\n        size: groupSize\n        // ...bgPillarAttr,\n      })\n\n      gpData.points = getPoints({\n        pos: groupPos,\n        size: groupSize,\n        anchor: [0, 0],\n        transpose,\n        value,\n        stillSprite: true\n      })\n      delete gpData.pos\n\n      groupData.push(gpData)\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0\n      let heightSumDown = 0\n      let value = 0\n      let gpData = { rects: [] }\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        let stackGapTemp = stackGap\n        // if (data[j][i].state !== \"disabled\") {\n        //   data[j][i].state = \"default\";\n        // }\n        value = data[j][i].layoutScaleValue()\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\n        if (barHeight === 0) {\n          stackGapTemp = 0\n        }\n        let posY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\n        let posX =\n          value < 0\n            ? tableSize.value * (1 - POSITIVE_RATIO) - heightSumDown\n            : tableSize.value * (1 - POSITIVE_RATIO) + heightSumUp\n        let posLabelY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown + barHeight\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\n        const pos = transpose\n          ? [posX, gap / 2 + (barWidth + gap) * (GROUP_NUM - i - 1)]\n          : [gap / 2 + (barWidth + gap) * i, posY]\n        const size = transpose\n          ? [barHeight - stackGapTemp, barWidth]\n          : [barWidth, barHeight - stackGapTemp]\n        const anchor = [\n          transpose && value < 0 ? 1 : 0,\n          transpose || value < 0 ? 0 : 1\n        ]\n        let rect = {\n          anchor: anchor,\n          size: size,\n          pos: pos,\n          index: j\n        }\n\n        rect.points = getPoints({\n          pos,\n          size,\n          anchor,\n          transpose\n        })\n        delete rect.pos\n        let paddingAttrs = transpose ? 'paddingLeft' : 'paddingBottom'\n        let label = {\n          opacity: data[j][i].state !== 'disabled' ? 1 : 0,\n          text: value.toString(),\n          anchor: transpose ? (value < 0 ? [1, 0.5] : [0, 0.5]) : [0.5, 1],\n          pos: transpose\n            ? [\n                posX,\n                +(gap + barWidth) / 2 + (barWidth + gap) * (GROUP_NUM - i - 1)\n              ]\n            : [(gap + barWidth) / 2 + (barWidth + gap) * i, posLabelY]\n        }\n        label[paddingAttrs] = 8\n        if (data[j][i].state === 'disabled') {\n          getDisabledPoints({ value, points: rect.points, transpose })\n        } else {\n          value < 0\n            ? (heightSumDown = heightSumDown + barHeight)\n            : (heightSumUp = heightSumUp + barHeight)\n          gpData.rects.push(rect)\n        }\n        textData.push(label)\n        barData.push(rect)\n      }\n      const groupPos = transpose\n        ? [0, (gap + barWidth) * (GROUP_NUM - i - 1)]\n        : [(gap + barWidth) * i, 0]\n      const groupSize = transpose\n        ? [tableSize.value, barWidth + gap]\n        : [barWidth + gap, tableSize.value]\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        pos: groupPos,\n        size: groupSize\n        // ...bgPillarAttr,\n      })\n\n      gpData.points = getPoints({\n        pos: groupPos,\n        size: groupSize,\n        anchor: [0, 0],\n        transpose\n      })\n      delete gpData.pos\n\n      groupData.push(gpData)\n    }\n  }\n\n  return { textData, barData, groupData }\n}\n\nfunction computerLegend(data) {\n  let flag = 0\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== 'disabled') {\n      flag++\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1\n}\n\nfunction getPoints(params) {\n  let { pos, size, anchor, transpose } = params\n  return transpose\n    ? [\n        [pos[0] - anchor[0] * size[0], pos[1] - anchor[1] * size[1]],\n        [pos[0] + size[0] - anchor[0] * size[0], pos[1] - anchor[1] * size[1]],\n        [\n          pos[0] + size[0] - anchor[0] * size[0],\n          pos[1] + size[1] - anchor[1] * size[1]\n        ],\n        [pos[0] - anchor[0] * size[0], pos[1] + size[1] - anchor[1] * size[1]]\n      ]\n    : [\n        [pos[0] - anchor[0] * size[0], pos[1] - anchor[1] * size[1]],\n        [pos[0] + size[0] - anchor[0] * size[0], pos[1] - anchor[1] * size[1]],\n        [\n          pos[0] + size[0] - anchor[0] * size[0],\n          pos[1] + size[1] - anchor[1] * size[1]\n        ],\n        [pos[0] - anchor[0] * size[0], pos[1] + size[1] - anchor[1] * size[1]]\n      ]\n}\nfunction getDisabledPoints(params) {\n  let { points, value, transpose } = params\n  if (transpose) {\n    if (value < 0) {\n      points[0][0] = points[1][0]\n      points[3][0] = points[2][0]\n    } else {\n      points[1][0] = points[0][0]\n      points[2][0] = points[3][0]\n    }\n  } else {\n    if (value < 0) {\n      points[2][1] = points[1][1]\n      points[3][1] = points[0][1]\n    } else {\n      points[1][1] = points[2][1]\n      points[0][1] = points[3][1]\n    }\n  }\n  return points\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Label, Polyline } from 'spritejs'\nimport { getStyle } from '../../utils/getStyle'\nimport { deepObjectMerge, throttle } from '@qcharts/utils'\nimport layout from './layout'\nimport filterClone from 'filter-clone'\nclass Bar extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'bar'\n    this.pillars = null\n    this.texts = null\n    this.groups = null\n    this.fromTos = null\n    this.hoverIndex = -1\n    this.bgpillarState = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base---------before\n    let { transpose } = this.renderAttrs\n    let { arrLayout } = this.getRenderData()\n    this.bgpillarState = Array.from({ length: arrLayout.length }, () => 'defalut')\n    let textData = arrLayout.textData.map(item => {\n      return {\n        attrs: item,\n        from: {\n          pos: item.pos\n        },\n        to: {\n          pos: item.pos\n        }\n      }\n    })\n    let barData = arrLayout.barData.map((item, ind) => {\n      let fromPoints = null\n      let value = parseFloat(textData[ind].attrs.text)\n\n      fromPoints = filterClone(item.points)\n      if (transpose) {\n        if (value < 0) {\n          fromPoints[0][0] = fromPoints[1][0]\n          fromPoints[3][0] = fromPoints[2][0]\n        } else {\n          fromPoints[1][0] = fromPoints[0][0]\n          fromPoints[2][0] = fromPoints[3][0]\n        }\n      } else {\n        if (value < 0) {\n          fromPoints[3][1] = fromPoints[0][1]\n          fromPoints[2][1] = fromPoints[1][1]\n        } else {\n          fromPoints[0][1] = fromPoints[3][1]\n          fromPoints[1][1] = fromPoints[2][1]\n        }\n      }\n\n      return {\n        attrs: item,\n        from: {\n          points: fromPoints\n        },\n\n        to: { points: item.points }\n      }\n    })\n\n    this.pillars = barData\n    this.groups = arrLayout.groupData\n    this.texts = textData\n    return { barData, textData, groupData: arrLayout.groupData }\n  }\n  beforeUpdate() {\n    const pillars = this.pillars\n    const texts = this.texts\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1]\n      if (!prev) {\n        prev = {\n          size: [0, 0],\n          pos: nextPillar.pos,\n          labelAttrs: null\n        }\n      }\n      return {\n        attrs: nextPillar,\n        from: {\n          points: prev.attrs.points\n        },\n        to: {\n          points: nextPillar.points\n        }\n      }\n    })\n    let textData = arrLayout.textData.map((nextText, i) => {\n      let prev = texts[i] ? texts[i] : arrLayout.textData[i - 1]\n      if (!prev) {\n        prev = {\n          pos: nextPillar.pos\n        }\n      }\n      return {\n        attrs: nextText,\n        from: {\n          pos: prev.attrs.pos\n        },\n        to: {\n          pos: nextText.pos\n        }\n      }\n    })\n    this.pillars = barData\n    this.groups = arrLayout.groupData\n    this.texts = textData\n    return { barData, textData, groupData: arrLayout.groupData }\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    const dataLength = renderData.length > 1 ? renderData.length : renderData[0].length\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n    arrLayout.barData = arrLayout.barData.map((bar, i) => {\n      // let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\n      // let barStyle = deepObjectMerge(\n      //   { bgcolor: bar.bgcolor || colors[i % dataLength] },\n      //   styles.bar,\n      //   style\n      // );\n      // bar = deepObjectMerge(bar, barStyle);\n      return bar\n    })\n    return { arrLayout }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    return {\n      layer: 'bar',\n      states: {\n        bgpillar: {\n          animation: { duration: 20 },\n          default: { opacity: 0.0001 },\n          hover: { opacity: 0.1 }\n        }\n      }\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {\n      text: { fontSize: 12, fillColor: '#666' }\n    }\n  }\n  getIndexByCoord(event, el) {\n    if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\n      let bgpillarState = this.bgpillarState\n      let curInd = 0\n      let [x, y] = el.getOffsetPosition(event.x, event.y)\n      if (!this.renderAttrs.transpose) {\n        //获取 x轴坐标的刻度\n        let width = this.groups[0].size[0]\n        //转换canvas坐标到当前group的相对坐标\n        curInd = Math.floor(x / width)\n      } else {\n        let width = this.groups[0].size[1]\n        //转换canvas坐标到当前group的相对坐标\n        curInd = this.groups.length - Math.floor(y / width) - 1\n      }\n      if (curInd < 1) {\n        curInd = 0\n      } else if (curInd > this.groups.length - 1) {\n        curInd = this.groups.length - 1\n      }\n      return curInd\n    } else {\n      return Number.NEGATIVE_INFINITY\n    }\n  }\n  onMousemove(event, el) {\n    let curInd = this.getIndexByCoord(event, el)\n    if (curInd === Number.NEGATIVE_INFINITY) {\n      return\n    }\n    if (this.hoverIndex !== curInd) {\n      this.bgpillarState[curInd] = 'hover'\n      if (this.hoverIndex > -1) {\n        this.bgpillarState[this.hoverIndex] = 'defualt'\n      }\n      this.dataset.resetState()\n      this.dataset.cols[curInd].state = 'hover'\n      this.hoverIndex = curInd\n    }\n  }\n  onMouseleave(e, el) {\n    this.dataset.resetState()\n    this.bgpillarState[this.hoverIndex] = 'defualt'\n    this.hoverIndex = -1\n  }\n  myClick = function (e, el) {\n    //console.log('click')\n    let curInd = this.getIndexByCoord(e, el)\n    if (curInd === Number.NEGATIVE_INFINITY) {\n      return\n    }\n    getStyle(this, 'click', curInd)\n  }\n\n  render(data) {\n    let { clientRect, states, layoutBy } = this.renderAttrs\n\n    const styles = this.renderStyles\n    let renderData = this.dataset[layoutBy]\n    const dataLength = renderData.length > 1 ? renderData.length : renderData[0].length\n    let colors = this.theme.colors\n    return (\n      <Group\n        zIndex={1}\n        pos={[clientRect.left, clientRect.top]}\n        size={[clientRect.width, clientRect.height]}\n        onMouseleave={this.onMouseleave}\n        onMouseenter={this.onMousemove}\n        onMousemove={this.onMousemove}\n        onClick={this.myClick}\n      // onMousemove={throttle(this.onMousemove)}\n      >\n        <Group ref=\"bgpillar\">\n          {data.groupData.map((pillar, ind) => {\n            let style = getStyle(this, 'backgroundpillar', [{ ...pillar }, styles.groupBar], [this.dataset.rows[ind % renderData.length], Math.floor(ind / renderData.length)])\n            style.points = style.points.flat()\n            return style === false ? null : (\n              <Polyline\n                state={this.bgpillarState[ind]}\n                states={states.bgpillar}\n                {...pillar}\n                {...style}\n                animation={{\n                  from: { points: style.points },\n                  to: { points: style.points },\n                  duration: 0\n                }}\n              />\n            )\n          })}\n        </Group>\n        <Group ref=\"pillars\" class=\"pillars-group\">\n          {data.barData.map((pillar, ind) => {\n            let cell = this.dataset[layoutBy][ind % renderData.length][Math.floor(ind / renderData.length)]\n            const style = getStyle(\n              this,\n              'pillar',\n              [\n                {\n                  fillColor: colors[cell.row],\n                  bgcolor: colors[cell.row],\n                  ...pillar.attrs\n                },\n                styles.bar\n              ],\n              [cell.data, Math.floor(ind / renderData.length), ind % renderData.length]\n            )\n            const hoverStyle = getStyle(this, 'pillar:hover', [], [cell.data, Math.floor(ind / renderData.length), ind % renderData.length])\n            if (cell.state === 'hover') {\n              deepObjectMerge(style, hoverStyle)\n            }\n            return <Polyline onMouseEvent={['click', cell, ind]} {...pillar.attrs} {...pillar.from} {...style} animation={{ from: pillar.from, to: pillar.to }} />\n          })}\n          {data.textData.map((text, ind) => {\n            let barAttrs = filterClone(data.barData[ind].attrs, ['anchor', 'points', 'size', 'pos'])\n            let textStyle = getStyle(this, 'text', [{ barAttrs: barAttrs }, styles.text], [this.dataset.rows[ind % renderData.length][Math.floor(ind / renderData.length)].data, Math.floor(ind / renderData.length), ind % renderData.length])\n            textStyle = filterClone(textStyle, [], ['barAttrs'])\n            if (textStyle.pos) {\n              this.texts[ind].attrs.pos = textStyle.pos\n              text.to.pos = textStyle.pos\n            }\n\n            return textStyle === false ? null : (\n              <Label {...text.attrs} {...textStyle} animation={{ from: text.from, to: text.to }} />\n            )\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Bar\n","import { axis } from '../../utils/axis'\n\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr\n  const { stack, splitNumber, clientRect, groupPadAngle, activeOffset } = attrs\n  const { width, height } = clientRect\n  const barSize = [width, height]\n  const groupGap = groupPadAngle || 0\n  const stackGap = attrs.stackGap || 0\n\n  const radius = attrs.radius || 1\n  const barInnerRadius = attrs.innerRadius || 0\n  const padAngle = attrs.padAngle\n  // 输出\n  const barData = []\n\n  const bgPillarAttr = { opacity: 0.01, fillColor: '#FF0000' }\n\n  // const valueAxis = getAxis(stack, data)\n  const valueAxis = axis.call(this, { dataSet: data, stack, splitNumber })\n  if (!valueAxis || !valueAxis.length) {\n    return { barData }\n  }\n\n  const tableSize = Math.min(barSize[0], barSize[1])\n  const axisValueMax = Math.max.apply(this, valueAxis)\n  const axisValueMin = Math.min.apply(this, valueAxis)\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\n\n  const GROUP_NUM = data[0].length\n  const BAR_MAX_HEIGHT = 0.5 * radius * tableSize\n  const BAR_HEIGHT_FACTOR = BAR_MAX_HEIGHT / (axisValueMax - axisValueMin)\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\n      let value = 0\n      let gpData = { rects: [] }\n      let groupAngle = (360 - GROUP_NUM * groupGap) / GROUP_NUM\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].disabled !== true) {\n        //   data[j][i].disabled = false;\n        // }\n        let barAngle = groupAngle / GROUP_BAR_NUM\n        let startAngle = (groupAngle + groupGap) * i + barAngle * (j - flag) - 90\n        value = data[j][i].layoutScaleValue()\n        let barHeight = BAR_HEIGHT_FACTOR * value\n        let innerRadius = BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + barInnerRadius * tableSize * 0.5\n        //默认中心坐标偏移量0\n        let offsetPos = [0, 0]\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: value === 0 ? innerRadius + 1 : innerRadius + barHeight,\n          startAngle: startAngle,\n          endAngle: startAngle + barAngle,\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n          id: i * lenj + j,\n          offsetPos: offsetPos,\n          opacity: value === 0 ? 0 : 1\n        }\n        if (rect.state === 'hover') {\n          let curAngle = ((rect.startAngle + rect.endAngle) / 2) % 360\n          rect.bisectorRadian = transRadius(curAngle)\n          //角平分,角度转弧度,默认是顺时针，角度为相反\n          rect.offsetPos = [activeOffset * Math.cos(rect.bisectorRadian), activeOffset * Math.sin(rect.bisectorRadian)]\n          //选中状态\n        }\n        if (rect.state === 'disabled') {\n          rect.endAngle = rect.startAngle\n          rect.radius = 0\n          rect.opacity = 0\n          flag++\n        } else {\n          // rect.opacity = 1\n          gpData.rects.push(rect)\n        }\n        if (GROUP_NUM < 2) {\n          delete rect.startAngle\n          delete rect.endAngle\n        }\n        barData.push(rect)\n      }\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0\n      let heightSumDown = 0\n      let value = 0\n      let gpData = { rects: [] }\n      let groupAngle = (360 - GROUP_NUM * groupGap) / GROUP_NUM\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        // if (data[j][i].disabled !== true) {\n        //   data[j][i].disabled = false;\n        // }\n        let startAngle = (groupAngle + groupGap) * i - 90\n        value = data[j][i].value\n        let barHeight = BAR_HEIGHT_FACTOR * value\n\n        let innerRadius = value < 0 ? BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) - heightSumDown : BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + heightSumUp\n        innerRadius = innerRadius + barInnerRadius * tableSize * 0.5\n        let offsetPos = [0, 0]\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: value === 0 ? innerRadius + 1 : innerRadius + barHeight - stackGap,\n          startAngle: startAngle,\n          endAngle: startAngle + groupAngle,\n          value: data[j][i].value,\n          text: data[j][i].text,\n          state: data[j][i].state,\n          data: data[j][i].data,\n          offsetPos: offsetPos,\n          opacity: value === 0 ? 0 : 1\n        }\n\n        if (rect.state === 'hover') {\n          rect.strokeColor = '#F00'\n        } else {\n          delete rect.strokeColor\n        }\n        if (rect.state === 'disabled') {\n          rect.opacity = 0\n        } else {\n          // rect.opacity = 1\n          value < 0 ? (heightSumDown = heightSumDown - barHeight) : (heightSumUp = heightSumUp + barHeight)\n          gpData.rects.push(rect)\n        }\n        barData.push(rect)\n      }\n    }\n  }\n  attachPadAngleOfArr(barData, padAngle)\n  return { barData }\n}\n\nfunction computerLegend(data) {\n  let flag = 0\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== 'disabled') {\n      flag++\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1\n}\nexport function transRadius(angle) {\n  return (angle / 180) * Math.PI\n}\nfunction attachPadAngleOfArr(arr, padAngle = 0) {\n  // 设置 padAngle\n  const maxPadAngle = Math.min.apply(\n    null,\n    arr.filter(d => !d.disabled).map(a => a.endAngle - a.startAngle)\n  )\n\n  if (padAngle >= 0) {\n    padAngle = padAngle > maxPadAngle ? maxPadAngle / 2 : padAngle\n\n    arr\n      .filter(d => !d.disabled)\n      .forEach(a => {\n        if (a.endAngle - a.startAngle > padAngle * 2) {\n          a.padAngle = padAngle\n          a.startAngle += padAngle\n          a.endAngle -= padAngle\n        }\n      })\n  }\n}\n","import Base from \"../../base/BaseVisual\"\nimport { Group, Ring } from \"spritejs\"\nimport { deepObjectMerge } from \"@qcharts/utils\"\nimport layout from \"./layout\"\nimport { getStyle } from \"../../utils/getStyle\"\nimport filterClone from \"filter-clone\"\nclass PolarBar extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.type = \"polarbar\"\n    this.pillars = []\n    this.hoverIndex = -1\n    this.timer = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let { height, width, top, left } = attrs.clientRect\n    attrs.pos = [left + width / 2, top + height / 2]\n    return attrs\n  }\n\n  beforeRender() {\n    //渲染前的处理函数，返回rings,继承base\n    let { arrLayout } = this.getRenderData()\n    this.pillars = arrLayout.barData\n    let barData = arrLayout.barData.map((item) => {\n      return {\n        from: {\n          endAngle: item.startAngle,\n        },\n        to: item,\n      }\n    })\n    return { barData }\n  }\n  beforeUpdate() {\n    const pillars = this.pillars\n    let { pos } = this.renderAttrs\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let curPos = [\n        pos[0] + nextPillar.offsetPos[0],\n        pos[1] + nextPillar.offsetPos[1],\n      ]\n      nextPillar.pos = curPos\n      return {\n        from: { ...pillars[i] },\n        to: { ...nextPillar },\n      }\n    })\n    this.pillars = arrLayout.barData\n    return { barData }\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[\"rows\"]\n    if (!renderData || renderData.length === 0) {\n      return { barData: [] }\n    }\n    const dataLength = renderData.length\n    this.legendArr = Array.from({ length: renderData.length }, () => {\n      return 1\n    })\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n\n    arrLayout.barData.forEach((bar, i) => {\n      let cell = renderData[i % dataLength][Math.floor(i / dataLength)]\n      let style = this.style(\"pillar\")(bar, cell.data, i)\n      bar.fillColor = bar.fillColor || colors[cell.row]\n      bar.strokeColor = renderAttrs.strokeColor || \"#FFF\"\n      bar.pos = renderAttrs.pos\n      if (\n        !bar.hasOwnProperty(\"startAngle\") ||\n        !bar.hasOwnProperty(\"endAngle\")\n      ) {\n        bar.lineWidth = 0\n      } else {\n        bar.lineWidth = 1\n      }\n      let barStyle = deepObjectMerge({}, styles.bar, style)\n      bar = deepObjectMerge(bar, barStyle)\n    })\n    return { arrLayout }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: \"bar\",\n      //选中偏移量基数\n      activeOffset: 20,\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n\n  mouseleave() {\n    this.timer = setTimeout(() => {\n      this.dataset.resetState()\n      this.hoverIndex = -1\n    }, 100)\n  }\n\n  mousemove(e, el) {\n    clearTimeout(this.timer)\n    // let fun = throttle(function(e, el) {\n    let renderData = this.renderData()\n    let ind = el.attr(\"_index\")\n    let groupInd = Math.floor(ind / renderData.length)\n    if (groupInd !== this.hoverIndex) {\n      this.dataset.resetState()\n      this.dataset[this.renderAttrs.layoutBy === \"rows\" ? \"cols\" : \"rows\"][\n        groupInd\n      ].state = \"hover\"\n      this.hoverIndex = groupInd\n    }\n    // }, 30).bind(this);\n    // fun(e, el);\n  }\n  groupMousemove(e, el) {\n    console.log(el)\n  }\n  renderData() {\n    let renderAttrs = this.renderAttrs\n    return this.dataset[renderAttrs.layoutBy]\n  }\n  render(data) {\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n    return (\n      <Group class=\"container\" ref=\"wrap\">\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\n          {data.barData.map((ring, ind) => {\n            let style = getStyle(\n              this,\n              \"sector\",\n              [\n                {\n                  _index: ind,\n                },\n                styles.sector,\n              ],\n              [this.dataset.rows[ind], ind]\n            )\n            return ring.state === \"disabled\" || style === false ? (\n              <Node />\n            ) : (\n              <Ring\n                onMousemove={this.mousemove}\n                {...style}\n                animation={{ from: ring.from, to: ring.to }}\n              />\n            )\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default PolarBar\n","import { axis } from \"../../utils/axis\"\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr\n  const { align, pyramid, clientRect, formatter } = attrs\n  const { width, height } = clientRect\n  // 输出\n  const polygons = []\n  const labels = []\n  const guideLines = []\n  const guideTexts = []\n  const max = arr[0][0].value\n  const widthFactory = width / max\n  const POLYGON_NUM = computerLegend(data) // 图例显示个数\n  let flag = 0 // 计算当前polygon前面有几个被隐藏\n  const right = align !== \"right\"\n  for (let i = 0, len = data.length; i < len; i++) {\n    let polygon = { colse: true, lineWidth: 3, points: [] }\n    const cell = data[i][0]\n    const value = cell.value\n    let offset = 0\n    let textAnchor = [0, 0.5]\n    if (align === \"center\") {\n      textAnchor = [0.5, 0.5]\n      offset = 0.5\n    } else if (!right) {\n      offset = 1\n      textAnchor = [1, 0.5]\n    }\n    polygon.points.push(\n      (max - value) * offset * widthFactory,\n      (height * (i - flag)) / POLYGON_NUM\n    )\n    polygon.points.push(\n      (max * offset + value * (1 - offset)) * widthFactory,\n      (height * (i - flag)) / POLYGON_NUM\n    )\n    if (i - flag + 1 < POLYGON_NUM) {\n      let counter = 1\n\n      while (data[i + counter][0].state === \"disabled\") {\n        counter++\n      }\n      const nextValue = data[i + counter][0].value\n\n      polygon.points.push(\n        (max * offset + nextValue * (1 - offset)) * widthFactory,\n        (height * (i - flag + 1)) / POLYGON_NUM\n      )\n      polygon.points.push(\n        (max - nextValue) * offset * widthFactory,\n        (height * (i - flag + 1)) / POLYGON_NUM\n      )\n    } else {\n      if (pyramid) {\n        polygon.points.push(offset * width, height)\n      } else {\n        polygon.points.push(\n          (max * offset + value * (1 - offset)) * widthFactory,\n          (height * (i - flag + 1)) / POLYGON_NUM\n        )\n        polygon.points.push(\n          (max - value) * offset * widthFactory,\n          (height * (i - flag + 1)) / POLYGON_NUM\n        )\n      }\n    }\n    polygon.opacity = 1\n    if (cell.state === \"disabled\") {\n      polygon.points[6] = polygon.points[0]\n      polygon.points[7] = polygon.points[1]\n      polygon.points[4] = polygon.points[2]\n      polygon.points[5] = polygon.points[3]\n      polygon.opacity = 0\n      flag++\n    }\n    const labelAttrs = {\n      opacity: cell.state === \"disabled\" ? 0 : 1,\n      text: Math.round((100 * value) / max) + \"%\",\n      anchor: textAnchor,\n      pos: [\n        width * offset + (0.5 - offset) * 10,\n        ((i - flag + 0.5) * height) / POLYGON_NUM,\n      ],\n      fillColor: \"#FFF\",\n      fontSize: \"12px\",\n    }\n    let linePoints = getLinePoints(polygon.points, right)\n    const guideLine = {\n      points: linePoints.points,\n      strokeColor: \"#000\",\n    }\n    const guideText = {\n      fillColor: \"#000\",\n      fontSize: \"12px\",\n      text: formatter(cell.data) || cell.text + cell.value,\n      pos: [guideLine.points[2] + (right ? 10 : -10), guideLine.points[3]],\n      anchor: [right ? 0 : 1, 0.5],\n    }\n    guideLines.push(guideLine)\n    guideTexts.push(guideText)\n    polygons.push(polygon)\n    labels.push(labelAttrs)\n  }\n\n  return { polygons, labels, guideLines, guideTexts }\n}\n\nfunction computerLegend(data) {\n  let flag = 0\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].state !== \"disabled\") {\n      flag++\n    }\n  }\n  if (flag === 0) {\n    console.warn(\"data invalid!\")\n  }\n  return flag || 1\n}\n\nfunction getLinePoints(points, right, length) {\n  // const { points } = attrs\n  // 起点\n  let x, y\n  if (right) {\n    ;[x, y] = [(points[2] + points[4]) / 2 + 10, (points[3] + points[5]) / 2]\n  } else {\n    ;[x, y] = [\n      (points[0] + (points.length === 6 ? points[4] : points[6])) / 2 - 10,\n      (points[1] + (points.length === 6 ? points[5] : points[7])) / 2,\n    ]\n  }\n  // 终点\n  const [cX, cY] = [right ? x + (length || 40) : x - (length || 40), y]\n  return {\n    points: [x, y, cX, cY],\n  }\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Label } from 'spritejs'\nimport { deepObjectMerge, throttle } from '@qcharts/utils'\nimport layout from './layout'\nimport { getStyle } from '../../utils/getStyle'\nclass Funnel extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'funnel'\n    this.polygons = null\n    this.labels = null\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base---------before\n    let { polygons, labels, guideLines, guideTexts } = this.getRenderData()\n    polygons = polygons.map(plg => {\n      return {\n        attrs: { ...plg },\n        from: {\n          points: plg.points.length === 8 ? [plg.points[6], plg.points[7], plg.points[4], plg.points[5], plg.points[4], plg.points[5], plg.points[6], plg.points[7]] : [plg.points[4], plg.points[5], plg.points[4], plg.points[5], plg.points[4], plg.points[5]]\n        },\n        to: {\n          // pos: [0, 0],\n          points: plg.points\n        }\n      }\n    })\n    labels = labels.map(item => {\n      return {\n        attrs: { ...item }\n      }\n    })\n    guideLines = guideLines.map(item => {\n      return {\n        attrs: { ...item }\n      }\n    })\n    guideTexts = guideTexts.map(item => {\n      return {\n        attrs: { ...item }\n      }\n    })\n    this.polygons = polygons\n    this.labels = labels\n    this.guideLines = guideLines\n    this.guideTexts = guideTexts\n    return { polygons, labels, guideTexts, guideLines }\n  }\n  beforeUpdate() {\n    let oldPolygons = this.polygons\n    let oldLabels = this.labels\n    let oldTexts = this.guideTexts\n    let oldLines = this.guideLines\n    let { polygons, labels, guideLines, guideTexts } = this.getRenderData()\n    polygons = polygons.map((polygon, i) => {\n      return {\n        attrs: { ...polygon },\n        from: {\n          points: oldPolygons[i].to.points\n        },\n        to: {\n          points: polygon.points\n        }\n      }\n    })\n    labels = labels.map((label, i) => {\n      return {\n        attrs: { ...label },\n        from: {\n          pos: oldLabels[i].attrs.pos\n        },\n        to: {\n          pos: label.pos\n        }\n      }\n    })\n    guideTexts = guideTexts.map((item, i) => {\n      return {\n        attrs: { ...item },\n        from: {\n          pos: oldTexts[i].attrs.pos\n        },\n        to: {\n          pos: item.pos\n        }\n      }\n    })\n    guideLines = guideLines.map((item, i) => {\n      return {\n        attrs: { ...item },\n        from: {\n          points: oldLines[i].attrs.points\n        },\n        to: {\n          points: item.points\n        }\n      }\n    })\n    this.polygons = polygons\n    this.labels = labels\n    this.guideLines = guideLines\n    this.guideTexts = guideTexts\n    return { polygons, labels, guideTexts, guideLines }\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let { polygons, labels, guideLines, guideTexts } = layout(renderData, renderAttrs)\n    return { polygons, labels, guideLines, guideTexts }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'funnel',\n      formatter: d => (d.value ? d.value : d)\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n  onMousemove(event, el) {\n    let ind = el.attr('_ind')\n    this.dataset.resetState()\n    this.dataset[this.renderAttrs.layoutBy][ind][0].state = 'hover'\n  }\n\n  onMouseleave(e, el) {\n    this.dataset.resetState()\n  }\n  myClick = function() {\n    console.log('myclick')\n  }\n\n  withText(attrs, cell) {\n    let { labelAttrs } = attrs\n    if (cell.state === 'disabled') {\n      return\n    }\n    const textStyle = getStyle(this, 'text', [{}], [cell.data, cell.row])\n    if (textStyle === false) {\n      return\n    }\n    // let { textFrom, textTo } = this.fromTos[index]\n    return <Label {...labelAttrs} {...textStyle} />\n  }\n\n  render(data) {\n    let { clientRect, bgpillarState, states } = this.renderAttrs\n    let { polygons, labels, guideLines, guideTexts } = data\n    const styles = this.renderStyles\n    const colors = this.theme.colors\n    return (\n      <Group class=\"container\" ref=\"wrap\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\n        <Group ref=\"pillars\" class=\"pillars-group\">\n          {polygons.map((pillar, ind) => {\n            const cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\n            let style = getStyle(this, 'polygon', [{ _ind: ind, fillColor: colors[ind] }, styles.polygon], [cell, ind])\n            let styleHover = getStyle(this, 'polygon:hover', [{ _ind: ind, opacity: 0.8 }, styles.polygon], [cell, ind])\n            if (cell.state === 'hover') {\n              deepObjectMerge(style, styleHover)\n            }\n            return (\n              <Group>\n                <Polyline onMouseEvent={['click', cell, ind]} onMousemove={this.onMousemove} onMouseleave={this.onMouseleave} {...pillar.attrs} {...pillar.from} {...style} animation={{ from: pillar.from, to: pillar.to }} />\n                {/* {withGuide(\n                  this,\n                  pillar.attrs,\n                  this.dataset[this.renderAttrs.layoutBy][ind][0],\n                  this.renderAttrs.formatter\n                )} */}\n              </Group>\n            )\n          })}\n        </Group>\n        <Group ref=\"guideLine\">\n          {guideLines.map((item, ind) => {\n            let cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\n            if (cell.state === 'disabled') {\n              return\n            }\n            const lineStyle = getStyle(this, 'guideline', [{}], [cell.data, cell.row])\n            if (lineStyle === false) {\n              return\n            }\n            return <Polyline {...item.attrs} {...item.from} {...lineStyle} animation={{ from: item.from, to: item.to }} />\n          })}\n        </Group>\n        <Group ref=\"guideText\">\n          {guideTexts.map((item, ind) => {\n            let cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\n            if (cell.state === 'disabled') {\n              return\n            }\n            const textStyle = getStyle(this, 'guideText', [{}], [cell.data, cell.row])\n            if (textStyle === false) {\n              return\n            }\n            return <Label {...item.attrs} {...item.from} {...textStyle} animation={{ from: item.from, to: item.to }} />\n          })}\n        </Group>\n        <Group ref=\"label\">\n          {labels.map((item, ind) => {\n            let cell = this.dataset[this.renderAttrs.layoutBy][ind][0]\n            if (cell.state === 'disabled') {\n              return\n            }\n            const textStyle = getStyle(this, 'text', [{}], [cell.data, cell.row])\n            if (textStyle === false) {\n              return\n            }\n            return <Label {...item.attrs} {...item.from} {...textStyle} animation={{ from: item.from, to: item.to }} />\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Funnel\n","import { axis } from '../../utils/axis'\nimport { scaleLinear } from '../../utils/scaleLinear'\nimport { jsType } from '@qcharts/utils'\n\nconst getDataRange = data => {\n  if (data.length === 0) {\n    return [0, 1]\n  }\n  const min = Math.min(...data)\n  const max = Math.max(...data)\n  return [min, max]\n}\n\nconst getBigRange = data => {\n  if (data.length === 0) {\n    return [0, 1]\n  }\n  const [min, max] = getDataRange(data)\n  const n = Math.round(min / 10) - 1\n  const m = Math.round(max / 10) + 1\n  return [n * 10, m * 10]\n}\n\nconst updateSectionVal = (section, newSection) => {\n  const { min, max } = newSection\n  if (jsType(min) === 'number') {\n    section[0] = min\n  }\n  if (jsType(max) === 'number') {\n    section[1] = max\n  }\n}\n\nexport default function layout(dataSet, attrs) {\n  const { size, layoutWay, axisGap, sectionX, sectionY } = attrs\n  const [width, height] = size\n  const { text: textField, value: valueField } = dataSet.option\n  const allData = [...dataSet]\n\n  // 如果X轴是文本框，则进行均分\n  const maxLen = getDataRange(dataSet.rows.map(d => d.length))[1]\n\n  let xDomain = [0, maxLen - 1]\n  let xOffset = 0\n  if (axisGap) {\n    xDomain = [0, maxLen]\n    xOffset = width / maxLen / 2\n  }\n  let xSection = [0, maxLen - 1]\n  const xIsTextData = allData.some(d => jsType(d.text) === 'string')\n  if (!xIsTextData) {\n    xSection = getBigRange(allData.map(d => d.text))\n    const xScales = axis.call(this, {\n      dataSet: dataSet.rows,\n      stack: false,\n      field: textField,\n      section: sectionX\n      // section: xSection\n    })\n    xDomain = getDataRange(xScales)\n  }\n\n  const yIsTextData = allData.some(d => jsType(d.value) === 'string')\n  if (yIsTextData) {\n    throw new Error(\"Scatter's value category data should be Number!\")\n  }\n  let ySection = getBigRange(allData.map(d => d.layoutScaleValue()))\n  const yScales = axis.call(this, {\n    dataSet: dataSet.rows,\n    stack: false,\n    field: valueField,\n    section: sectionY\n    // section: ySection\n  })\n  const yDomain = getDataRange(yScales)\n\n  if (layoutWay) {\n    if (layoutWay[textField]) {\n      updateSectionVal(xSection, layoutWay[textField])\n    }\n    if (layoutWay[valueField]) {\n      updateSectionVal(ySection, layoutWay[valueField])\n    }\n  }\n\n  const newLayoutWay = {}\n  newLayoutWay[textField] = { min: xSection[0], max: xSection[1] }\n  newLayoutWay[valueField] = { min: ySection[0], max: ySection[1] }\n\n  const xLinear = scaleLinear()\n    .domain(xDomain)\n    .range([0, width])\n  const yLinear = scaleLinear()\n    .domain(yDomain)\n    .range([0, height])\n\n  const resultData = dataSet.rows.map(dArry => {\n    const attrs = dArry.map((d, i) => {\n      const x = xIsTextData ? i : d.text\n      const y = d.layoutScaleValue()\n      const pos = [xLinear(x) + xOffset, height - yLinear(y)]\n      return {\n        pos,\n        radius: 5,\n        anchor: [1, 1],\n        dataOrigin: { ...d.data },\n        state: d.state,\n        name: dArry.name,\n        col: d.col,\n        row: d.row\n      }\n    })\n    return {\n      name: dArry.name,\n      state: dArry.state,\n      attrs\n    }\n  })\n  return { data: resultData, layoutWay: newLayoutWay }\n}\n","import { Group, Polyline, Arc, Label } from 'spritejs'\nimport BaseVisual from '../../base/BaseVisual'\nimport { scaleLinear } from '../../utils/scaleLinear'\nimport { hexToRgba } from '../../utils/color'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport { getStyle } from '../../utils/getStyle'\nimport layout from './layout'\n\nclass Scatter extends BaseVisual {\n  constructor(attrs = {}) {\n    super(attrs)\n    this.type = 'scatter'\n    this.scatterData = []\n    this.guideLineData = []\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'scatter',\n      labelField: null,\n      areaField: null, //气泡大小字段值，不设置此值则为散点图\n      areaRange: null, // 面积映射\n      showGuideLine: false,\n      layoutWay: null\n    }\n  }\n\n  get renderAttrs() {\n    return { ...super.renderAttrs }\n  }\n\n  processData() {\n    const dataSet = this.dataset\n    const { layoutWay, clientRect, axisGap } = this.renderAttrs\n    const { data, layoutWay: newLayoutWay } = layout.call(this, dataSet, { size: [clientRect.width, clientRect.height], layoutWay, axisGap })\n    deepObjectMerge(this.renderAttrs.layoutWay || {}, newLayoutWay)\n    data.forEach((item, i) => {\n      const color = this.theme.colors[i]\n      const fillColor = hexToRgba(color, 0.3)\n      item.attrs.forEach(di => {\n        di.strokeColor = color\n        di.fillColor = fillColor\n      })\n    })\n    return data\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const updateData = this.processData()\n    const temp = updateData.map(row => deepObjectMerge({}, row))\n    updateData.forEach((row, ind) => {\n      const oldRow = this.scatterData[ind]\n      row.attrs.forEach((cell, cInd) => {\n        const radius = this.getRealRadius({ ...cell })\n        cell.radius = radius\n        if (oldRow && oldRow.attrs[cInd]) {\n          const oldCell = oldRow.attrs[cInd]\n          const toPos = [...cell.pos]\n          const fromPos = oldCell.animation.to && oldCell.animation.to.pos ? [...oldCell.animation.to.pos] : [...oldCell.pos]\n          // 位置相同\n          if (toPos.toString() === fromPos.toString()) {\n            let fromRadius = radius\n            let toRadius = radius\n            //default-> disabled\n            if (cell.state === 'disabled') {\n              toRadius = 0\n            }\n            // old is disabled\n            if (oldCell.animation.to.radius == 0) {\n              fromRadius = 0\n            }\n            cell.animation = {\n              from: { radius: fromRadius },\n              to: { radius: toRadius }\n            }\n          } else {\n            cell.animation = {\n              from: { pos: fromPos },\n              to: { pos: toPos }\n            }\n          }\n        } else {\n          cell.animation = {\n            from: { radius: 0 },\n            to: { radius: radius }\n          }\n        }\n      })\n    })\n    this.scatterData = temp\n    return updateData\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const renderData = this.processData()\n    this.scatterData = renderData.map(row => deepObjectMerge({}, row))\n    renderData.forEach(row => {\n      row.attrs.forEach(cell => {\n        const radius = this.getRealRadius({ ...cell })\n        cell.animation = {\n          from: { radius: 0 },\n          to: { radius }\n        }\n      })\n    })\n    return renderData\n  }\n\n  getRealRadius(attr) {\n    const { areaRange, areaField } = this.renderAttrs\n    const { radius, dataOrigin } = attr\n    // 面积字段未定义，直接返回半径\n    if (!areaField || !dataOrigin.hasOwnProperty(areaField)) {\n      return radius\n    }\n    // 面积范围未定义，直接返回数据中的面积\n    if (!areaRange) {\n      return dataOrigin[areaField]\n    }\n\n    const allData = [...this.dataset].map(d => d.data[areaField]).sort((a, b) => a - b)\n    const linear = scaleLinear()\n      .domain([allData[0], allData[allData.length - 1]])\n      .range(areaRange)\n    const realArea = linear(dataOrigin[areaField])\n    return realArea\n  }\n\n  onMouseenter(event, el) {\n    const arc = el.children[0]\n    const { row: rowInd, col: colInd, pos } = arc.attributes\n    this.dataset.forEach(cell => {\n      if (cell.row === rowInd && cell.col === colInd) {\n        cell.state = 'hover'\n      }\n    })\n    const { showGuideLine } = this.renderAttrs\n    if (showGuideLine) {\n      const { height, width } = this.renderAttrs.clientRect\n      this.guideLineData = [\n        [\n          [0, pos[1]],\n          [width, pos[1]]\n        ],\n        [\n          [pos[0], 0],\n          [pos[0], height]\n        ]\n      ]\n    }\n  }\n  onMouseleave(event, el) {\n    const arc = el.children[0]\n    this.dataset.resetState()\n    this.guideLineData = []\n  }\n\n  renderGuideLine() {\n    if (this.guideLineData.length > 0) {\n      return this.guideLineData.map(points => {\n        return <Polyline points={points} strokeColor={'#ddd'} lineWidth={1} translate={[0.5, 0.5]} />\n      })\n    }\n    return\n  }\n\n  renderScatter(data) {\n    const { labelField, layoutBy } = this.renderAttrs\n    console.log(this.renderAttrs)\n    let styles = this.renderStyles\n    let renderData = this.dataset[layoutBy]\n    const scatters = data.map((item, di) => {\n      return item.attrs.map((attr, ci) => {\n        let style = getStyle(this, 'point', [attr, styles.point], [{ ...attr.dataOrigin }, ci])\n        if (style === false) {\n          return\n        }\n        let labelAttr = null\n        let text = ''\n        if (labelField) {\n          labelAttr = getStyle(this, 'label', [{ pos: attr.pos, fillColor: attr.strokeColor }, styles.label], [{ ...attr.dataOrigin }, ci])\n          text = attr.dataOrigin[labelField]\n          labelAttr.zIndex = 10 + di + ci\n        }\n        const hStyle = getStyle(this, 'point:hover', [style, styles['point:hover']], [attr.dataOrigin, ci])\n        const stateStyle = attr.state === 'hover' ? hStyle : {}\n\n        return (\n          <Group onMousemove={this.onMouseenter} onMouseleave={this.onMouseleave} onMouseEvent={['click', renderData[di][ci], ci]}>\n            <Arc {...attr} {...style} {...stateStyle} zIndex={9 + di + ci} />\n            {labelAttr ? <Label text={text} {...labelAttr} /> : null}\n          </Group>\n        )\n      })\n    })\n    return scatters.reduce((pre, cur) => {\n      return pre.concat(cur)\n    }, [])\n  }\n\n  render(data) {\n    const { height, width, left, top } = this.renderAttrs.clientRect\n    return (\n      <Group size={[width, height]} pos={[left, top]} zIndex={10}>\n        {this.renderScatter(data)}\n        {this.renderGuideLine()}\n      </Group>\n    )\n  }\n\n  rendered() {}\n}\n\nexport default Scatter\n","export function hexToRgba(hex, opacity) {\n  // 16进制颜色转rgba\n  if (/^rgba\\(.+\\)$/.test(hex)) {\n    return hex\n  } else if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\n    let c = hex.substring(1).split('')\n    if (c.length === 3) {\n      c = [c[0], c[0], c[1], c[1], c[2], c[2]]\n    }\n    c = '0x' + c.join('')\n    return 'rgba(' + [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') + ',' + opacity + ')'\n  } else {\n    console.warn('Bad Hex>>>' + hex)\n  }\n}\nexport function randomHexColor() {\n  // 随机生成十六进制颜色\n  let random = Math.floor(Math.random() * 16777216).toString(16) // 生成ffffff以内16进制数\n  while (random.length < 6) {\n    // while循环判断hex位数，少于6位前面加0凑够6位\n    random = `0${random}`\n  }\n  return `#${random}`\n}\n","//通过圆生成path\nfunction ellipse2path(cx, cy, rx, ry) {\n  //非数值单位计算，如当宽度像100%则移除\n  if (isNaN(cx - cy + rx - ry)) return\n  var path = 'M' + (cx - rx) + ' ' + cy + 'a' + rx + ' ' + ry + ' 0 1 0 ' + 2 * rx + ' 0' + 'a' + rx + ' ' + ry + ' 0 1 0 ' + -2 * rx + ' 0' + 'z'\n  return path\n}\nexport default ellipse2path\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Path, requestAnimationFrame, Label, Node } from 'spritejs'\nimport ellipse2path from '../../utils/ellipse2path'\nimport { getStyle } from '../../utils/getStyle'\nclass Wave extends Base {\n  constructor(attrs) {\n    super(attrs)\n    //波纹振偏移量\n    this.offsetR = 50\n    this.tickId = ''\n    this.oldAttr = {}\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    let clientRect = attrs.clientRect\n    let width = Math.floor(clientRect.width)\n    let height = Math.floor(clientRect.height)\n    let radius = attrs.radius\n    attrs.pos = [0, 0]\n    if (!attrs.shape) {\n      attrs.pos = [width / 2 - radius, height / 2 - radius]\n      attrs.shape = ellipse2path(radius, radius, attrs.radius, attrs.radius)\n    }\n    return attrs\n  }\n  rendered() {\n    //path的高宽\n    this.wave()\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'wave',\n      amplitude: 8, //振幅\n      wavelength: 300, //波长`\n      radius: 150,\n      percent: 65,\n      formatter: per => {\n        return per + '%'\n      }\n    }\n  }\n  wave() {\n    let currentR = 0\n    let per = 4\n    let clipWave = this.$refs['clipWave']\n    let clipPath = this.$refs['clipPath'] || clipWave\n    let pathHeight = clipPath.originalContentRect[3]\n    let { percent, wavelength, amplitude, clientRect, animation, shape } = this.renderAttrs\n    let perR = 24 / animation.duration\n    let currentX = 0 - clientRect.left\n    //以路径的top为起点，计算百分比\n    let startY = (pathHeight * (100 - percent)) / 100 + clipPath.originalContentRect[1]\n    this.tickId = requestAnimationFrame(_ => {\n      this.offsetR += perR\n      let points = [[currentX, startY + pathHeight]]\n      points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\n      while (currentX < clientRect.width + clientRect.left + clientRect.right) {\n        points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\n        currentX += wavelength / (per * 2)\n        currentR += Math.PI / per\n      }\n      let lastY = amplitude * Math.sin(currentR + this.offsetR)\n      points.push([currentX, startY + lastY])\n      points.push([currentX, startY + lastY])\n      points.push([currentX, startY + pathHeight])\n      clipWave.attr({ points: points, clipPath: ' ' + shape })\n      if (this.offsetR >= 2 * Math.PI) {\n        this.offsetR = this.offsetR % (2 * Math.PI)\n      }\n      this.wave()\n    })\n  }\n  render() {\n    let { clientRect, shape, pos, formatter, percent, radius } = this.renderAttrs\n    let renderStyles = this.renderStyles\n    let waveStyle = getStyle(this, 'wave', renderStyles.wave)\n    let shapeStyle = getStyle(this, 'shape', renderStyles.shape)\n    let textStyle = getStyle(this, 'text', [{ pos: [radius, radius], anchor: [0.5, 0.5] }, renderStyles.text])\n    let animation = {\n      from: {\n        pos: this.oldAttr.pos || pos\n      },\n      to: {\n        pos: pos\n      }\n    }\n    this.oldAttr = { ...this.renderAttrs }\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]}>\n        <Group animation={animation}>\n          <Path ref=\"clipPath1\" d={shape} fillColor={shapeStyle.fillColor} />\n          <Polyline ref=\"clipWave\" {...waveStyle} clipPath={shape} smooth={true} />\n          <Path ref=\"clipPath\" d={shape} strokeColor={shapeStyle.strokeColor} lineWidth={shapeStyle.lineWidth} />\n          {textStyle === false ? <Node /> : <Label text={formatter(percent)} {...textStyle} />}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Wave\n","import { Group, Polyline, Label, Arc, Gradient } from 'spritejs'\nimport { jsType } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\n\n/**\n * 根据给定参数，生成仪表盘刻度的坐标以及刻度文字标注的坐标\n * @param {Number} radius 仪表盘半径\n * @param {Number} angle 刻度的角度 单位度\n * @param {Number} tickLength 刻度的长度\n * @param {Number} labelOffset 刻度文字的偏移值\n * @param {Boolean} isInner 刻度是否在仪表盘内部\n */\nfunction tickLine(radius, angle, tickLength, labelOffset, isInner) {\n  const radian = (angle * Math.PI) / 180\n  const cos = Math.cos(radian)\n  const sin = Math.sin(radian)\n  // 起点\n  const [x, y] = [cos * radius, sin * radius]\n  // 中点\n  const [cX0, cY0] = isInner\n    ? [x - tickLength * cos, y - tickLength * sin]\n    : [x + tickLength * cos, y + tickLength * sin]\n  const labelPos = isInner\n    ? [x - (tickLength + labelOffset) * cos, y - (tickLength + labelOffset) * sin]\n    : [x + (tickLength + labelOffset) * cos, y + (tickLength + labelOffset) * sin]\n\n  let anchorX = isInner ? cos : -cos\n  let anchorY = isInner ? sin : -sin\n  let anchor = [0.5, 0.5]\n\n  if (Math.abs(anchorX) > Math.abs(anchorY)) {\n    anchor[0] = anchorX < 0 ? 0 : anchorX\n  } else {\n    anchor[1] = anchorY > 0 ? anchorY : 0\n  }\n  return {\n    points: [\n      [x, y],\n      [cX0, cY0]\n    ],\n    labelPos,\n    anchor\n  }\n}\n\nclass Gauge extends BaseVisual {\n  constructor(attrs) {\n    super(attrs)\n    this.gaugeAnimations = []\n    this.type = 'Gauge'\n    this.oldPos = null\n    this.style('tickText', true)\n    this.style('tickLine', true)\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'gauge',\n      min: 0, // 刻度最小值\n      max: 100, // 刻度最大值\n      percent: 50, // 指针值\n      lineCap: 'round',\n      _useBuiltInColors: false, // 默认颜色不使用渐变色\n      lineWidth: 10, // 仪表盘圆弧宽度\n      startAngle: 140, // 仪表盘弧度起始角度，arc 角度顺时针增加，0度为屏幕X轴方向\n      endAngle: 400, // 仪表盘弧度终止角度\n      strokeBgcolor: '#dde3ea', // 仪表盘弧度的背景色\n      title: (d) => d,\n      tickStep: 10, // tick 步进，生成 tick 的数量为 (max - min) / tickStep\n      tickLength: 10, // 刻度长度，为负值时向外绘制\n      labelOffset: 5,\n      tickFormatter: (d) => d // 刻度文本格式化\n    }\n  }\n\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    // 仪表盘半径\n    const { clientRect } = attrs\n    const { height, width } = clientRect\n    const size = [width, height]\n\n    const radius = ~~Math.min.apply(\n      size,\n      size.map((v) => v / 2)\n    )\n    // 指针宽度\n    const pointerWidth = radius / 10\n    // 绘图中心\n    const center = [width / 2, height / 2]\n    // Fixed: spriteJS bug, 起始角度差为360的时候位置会发生偏差\n    if (attrs.endAngle - attrs.startAngle > 359.9) {\n      attrs.endAngle = attrs.startAngle + 359.9\n    }\n\n    return {\n      ...attrs,\n      radius,\n      pointerWidth,\n      center\n    }\n  }\n\n  get ticks() {\n    let {\n      min,\n      max,\n      radius,\n      startAngle,\n      endAngle,\n      lineWidth,\n      tickStep,\n      tickLength,\n      labelOffset,\n      tickFormatter\n    } = this.renderAttrs\n    const count = Math.abs(max - min) / tickStep\n\n    let total = endAngle - startAngle\n\n    const isInner = tickLength > 0\n    const perAngle = total / count\n    const ticks = []\n    let tickRadius = isInner ? radius - lineWidth / 2 : radius + lineWidth / 2\n    let angle = 0\n    let i = -1\n\n    while (++i <= count) {\n      angle = i * perAngle + startAngle\n      const ret = tickLine(tickRadius, angle, Math.abs(tickLength), Math.abs(labelOffset), isInner)\n      ticks.push({\n        points: ret.points,\n        label: {\n          text: tickFormatter(i * tickStep + min).toFixed(0),\n          pos: ret.labelPos,\n          anchor: ret.anchor\n        }\n      })\n    }\n\n    if ((ticks[0].angle + ticks[ticks.length - 1].angle) % (Math.PI * 2) === 0) {\n      ticks.pop()\n    }\n\n    return ticks\n  }\n\n  transform() {\n    const { radius, startAngle, endAngle, min, max, percent } = this.renderAttrs\n    const total = Math.abs(max - min)\n\n    let attrEndAngle = ((endAngle - startAngle) * (percent - min)) / total + startAngle\n    // 最大不可超过endAngle\n    if (attrEndAngle > endAngle) {\n      attrEndAngle = endAngle\n    }\n\n    return {\n      dataOrigin: percent,\n      startAngle,\n      radius,\n      endAngle: attrEndAngle,\n      strokeColor: this.color(0)\n    }\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const arc = this.transform()\n    this.gaugeAnimations = {\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\n    }\n    return arc\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const arc = this.transform()\n    const animation = {\n      from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\n      to: { startAngle: arc.startAngle, endAngle: arc.endAngle }\n    }\n    if (this.gaugeAnimations) {\n      animation.from = { ...this.gaugeAnimations.to }\n    }\n\n    this.gaugeAnimations = { ...animation }\n    return arc\n  }\n\n  color(i) {\n    return this.theme.colors[i]\n  }\n\n  /**\n   * 渲染指针\n   * @param {Number} angle 角度\n   */\n  renderPointer(d, maxTickTextFontSize) {\n    const style = this.style('pointer')(d, d.dataOrigin, 0)\n    if (style === false) {\n      return\n    }\n    // 动画\n    let { from, to } = this.gaugeAnimations\n    // rotate角度起始位置为屏幕Y轴方向，arc角度为X轴方向\n    const fromRotate = from.endAngle + 90\n    const toRotate = to.endAngle + 90\n    const pointerAnimation = {\n      from: { rotate: fromRotate },\n      to: { rotate: toRotate }\n    }\n    // 半径\n    const { radius, center, tickLength, labelOffset, lineWidth } = this.renderAttrs\n    // 指针顶部离仪表盘的距离\n    let pointerTopOffset = tickLength + lineWidth + labelOffset + maxTickTextFontSize\n    if (tickLength < 0) {\n      pointerTopOffset = pointerTopOffset - tickLength - labelOffset\n    }\n    // 指针长度\n    const pointerLen = radius - pointerTopOffset\n    // 指针宽度\n    let pWidth = radius / 10\n\n    // 指针颜色\n    const color = this.color(0)\n\n    const [x, y] = center\n    const attr = {\n      fillColor: color,\n      rotate: fromRotate,\n      transformOrigin: center,\n      zIndex: 11,\n      points: [\n        [x, y],\n        [x - pWidth / 2, y - pointerLen * 0.1],\n        [x, y - pointerLen],\n        [x + pWidth / 2, y - pointerLen * 0.1],\n        [x, y]\n      ],\n      close: true\n    }\n    return <Polyline {...attr} {...style} animation={pointerAnimation} />\n  }\n\n  isStyleExist(name) {\n    const style = this.style(`${name}`)\n    return Boolean(style)\n  }\n\n  render(data = {}) {\n    const {\n      _useBuiltInColors,\n      title,\n      percent,\n      center,\n      radius,\n      startAngle,\n      endAngle,\n      lineWidth,\n      lineCap,\n      strokeBgcolor,\n      clientRect\n    } = this.renderAttrs\n    const labelCenter = [center[0], center[1] * 1.25]\n    const ticks = this.ticks\n    const tickLine = this.isStyleExist('tickLine')\n    const tickText = this.isStyleExist('tickText')\n    const realTitle = title || percent\n\n    let gradientColor = null // 默认使用内置的渐变配色方案\n\n    if (_useBuiltInColors !== false) {\n      const colors = this.theme.colors.reverse()\n      const gradientOpt = {\n        vector: [0, 0, center[0] * 2, center[1] * 2],\n        colors: [\n          { color: colors[0], offset: 0 },\n          { color: colors[1], offset: 0.3 },\n          { color: colors[2], offset: 1 }\n        ]\n      }\n      gradientColor = new Gradient(gradientOpt)\n    }\n\n    let maxTickTextFontSize = 16\n    if (tickText !== false) {\n      ticks.map((tick, j) => {\n        const style = this.style('tickText')(data, data.dataOrigin, j)\n        if (style && style.fontSize) {\n          if (jsType(style.fontSize) === 'number' && maxTickTextFontSize < style.fontSize) {\n            maxTickTextFontSize = style.fontSize\n          }\n          if (jsType(style.fontSize) === 'string') {\n            const realSize = Number(style.fontSize.replace('px', ''))\n            if (jsType(realSize) === 'number' && maxTickTextFontSize < realSize) {\n              maxTickTextFontSize = realSize\n            }\n          }\n        }\n      })\n    }\n    const gPos = [clientRect.left, clientRect.top]\n    const gSize = [clientRect.width, clientRect.height]\n\n    const gAnimation = {\n      from: { pos: this.oldPos ? this.oldPos : gPos },\n      to: { pos: gPos }\n    }\n    this.oldPos = gPos\n    return (\n      <Group pos={gPos} size={gSize} animation={gAnimation}>\n        <Arc\n          pos={center}\n          lineWidth={lineWidth}\n          lineCap={lineCap}\n          startAngle={startAngle}\n          endAngle={endAngle}\n          strokeColor={strokeBgcolor}\n          radius={radius}\n          zIndex={10}\n        />\n        <Arc\n          pos={center}\n          lineCap={lineCap}\n          lineWidth={lineWidth}\n          {...data}\n          animation={this.gaugeAnimations}\n          {...(gradientColor ? { strokeColor: gradientColor } : { strokeColor: this.color(0) })}\n          {...this.style('arc')(data, data.dataOrigin, 0)}\n          zIndex={11}\n        />\n        {this.renderPointer(data, maxTickTextFontSize)}\n        {realTitle ? (\n          <Label\n            text={jsType(realTitle) === 'function' ? realTitle(data.dataOrigin) : realTitle}\n            pos={labelCenter}\n            textAlign=\"center\"\n            zIndex={10}\n            anchor={[0.5, 1]}\n            {...this.style('title')(data, data.dataOrigin, 0)}\n          />\n        ) : null}\n        {tickLine !== false || tickText !== false\n          ? ticks.map((tick, j) => (\n              <Group pos={center} anchor={[0, 0]} zIndex={1010}>\n                {tickLine !== false ? (\n                  <Polyline\n                    points={tick.points}\n                    strokeColor={strokeBgcolor}\n                    {...this.style('tickLine')(data, data.dataOrigin, j)}\n                  />\n                ) : null}\n                {tickText !== false ? (\n                  <Label {...tick.label} {...this.style('tickText')(data, data.dataOrigin, j)} />\n                ) : null}\n              </Group>\n            ))\n          : null}\n      </Group>\n    )\n  }\n  \n  rendered(){}\n}\n\nexport default Gauge\n","import { Group, Arc } from 'spritejs'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport BaseVisual from '../../base/BaseVisual'\n\n// 数据拷贝\nconst flattern = arr => [].concat.apply([], arr)\n\nclass RadialBar extends BaseVisual {\n  constructor(attrs = {}) {\n    super(attrs)\n    this.type = 'RadialBar'\n    this.animators = []\n    this.oldPos = null\n  }\n\n  defaultAttrs() {\n    return {\n      layer: 'radialBar',\n      radius: 0.8,\n      innerRadius: 0,\n      startAngle: -90,\n      endAngle: 270,\n      lineWidth: 5,\n      strokeBgcolor: '#f5f5f5'\n    }\n  }\n\n  get renderAttrs() {\n    const attrs = super.renderAttrs\n    const { clientRect } = attrs\n    const size = [clientRect.width, clientRect.height]\n    return {\n      ...attrs,\n      size\n    }\n  }\n\n  get maxOuterRadius() {\n    const { startAngle, endAngle, radius, size } = this.renderAttrs\n    const [width, height] = size\n\n    if (endAngle - startAngle === 90) {\n      return Math.min(width, height) * radius\n    } else {\n      return (Math.min(width, height) / 2) * radius\n    }\n  }\n\n  get center() {\n    const { size } = this.renderAttrs\n    const [width, height] = size\n    const maxRadius = this.maxOuterRadius\n    return [width / 2 - maxRadius, height / 2 - maxRadius]\n  }\n\n  get innerRadius() {\n    let { radius, innerRadius } = this.renderAttrs\n    return innerRadius <= 0 ? 0 : (this.maxOuterRadius / radius) * innerRadius\n  }\n\n  transform(data) {\n    const { startAngle, endAngle, max, min, lineWidth, colors } = this.renderAttrs\n    let total = 0\n    if (!isNaN(max) && !isNaN(min)) {\n      total = max - min\n    } else {\n      let cloneData = deepObjectMerge(data)\n      cloneData.sort((a, b) => b.value - a.value)\n      total = cloneData[0].value * 1.3\n    }\n    const angle = endAngle - startAngle\n    const innerRadius = this.innerRadius\n    const outerRadius = this.maxOuterRadius\n    const arcOffset = 0.5\n    const len = data.length\n    const perRadius = ((outerRadius - innerRadius) * 2 - lineWidth * (lineWidth >= 5 ? 1 : len - 1)) / ((len * 2 - 1) * (1 + arcOffset))\n    let value = null\n\n    data.forEach((d, i) => {\n      value = +d.value\n\n      let endAngle = startAngle\n      if (d.state !== 'disabled') {\n        endAngle = startAngle + (angle * value) / total\n      }\n      // spriteJS bug, 起始角度差为360的时候位置会发生偏差\n      if (endAngle - startAngle > 359.9) {\n        endAngle = 359.9 + startAngle\n      }\n\n      d.pos = [outerRadius, outerRadius]\n      d.anchor = [0.5, 0.5]\n      d.lineWidth = lineWidth\n      d.startAngle = startAngle\n      d.endAngle = endAngle\n      d.innerRadius = innerRadius + i * (1 + arcOffset) * perRadius\n      d.radius = d.innerRadius + 1 * perRadius\n      d.strokeColor = colors[i]\n\n      const normalStyle = this.style('arc')(d, d.dataOrigin, d.index)\n\n      Object.assign(d, normalStyle)\n    })\n    // 半径大的在底，小的在上，这样事件触发才正常\n    return data.sort((a, b) => b.radius - a.radius)\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    const { startAngle } = this.renderAttrs\n    let data = flattern(this.dataset)\n    data = this.transform(data)\n    this.animators = data.map(d => ({\n      from: {\n        startAngle,\n        endAngle: startAngle\n      },\n      to: {\n        startAngle,\n        endAngle: d.endAngle\n      }\n    }))\n    return data\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    const { startAngle } = this.renderAttrs\n    let data = flattern(this.dataset)\n    data = this.transform(data)\n    this.animators = data.map((d, i) => {\n      if (d.anticlockwise) {\n        return d.disabled ? { from: { opacity: 1 }, to: { opacity: 0 } } : { from: { opacity: 1 }, to: { opacity: 1 } }\n      } else {\n        let prev = this.animators[i] ? this.animators[i].to : data[i - 1]\n\n        if (!prev) {\n          prev = {\n            startAngle: startAngle,\n            endAngle: startAngle\n          }\n        }\n\n        return {\n          from: {\n            startAngle: prev.startAngle,\n            endAngle: prev.endAngle\n          },\n          to: {\n            startAngle: d.startAngle,\n            endAngle: d.endAngle\n          }\n        }\n      }\n    })\n    return data\n  }\n\n  onMouseenter(event, el) {\n    const { col, row } = el.children[1].attributes\n    this.dataset.forEach(item => {\n      item.state = item.col === col && item.row === row ? 'hover' : 'default'\n    })\n  }\n\n  onMouseleave() {\n    this.dataset.resetState()\n  }\n\n  render(data = []) {\n    const { strokeBgcolor, clientRect } = this.renderAttrs\n    const gAnimation = {\n      from: { pos: this.oldPos ? this.oldPos : this.center },\n      to: { pos: this.center }\n    }\n    this.oldPos = this.center\n\n    const gPos = [clientRect.left, clientRect.top]\n    const gSize = [clientRect.width, clientRect.height]\n    return (\n      <Group pos={gPos} size={gSize}>\n        {data.map((d, i) => {\n          const { col, row, data } = d\n          return (\n            <Group animation={gAnimation} onMouseenter={this.onMouseenter} onMousemove={this.onMouseenter} onMouseleave={this.onMouseleave}>\n              <Arc {...d} startAngle={0} endAngle={360} strokeColor={strokeBgcolor} />\n              <Arc onMouseEvent={['click', d, i]} {...{ ...d, col, row }} animation={this.animators[i]} {...this.style('arc')(d, data, i)} />\n            </Group>\n          )\n        })}\n      </Group>\n    )\n  }\n\n  rendered() {}\n}\n\nexport default RadialBar\n","import Base from './Base'\nimport theme from '../theme/default'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nexport default class BasePlugin extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.plugins[this.constructorName]\n    //如果当前对象设置了theme，不继承theme\n    this.theme.set = obj => {\n      if (this.theme === theme.plugins[this.constructorName]) {\n        this.theme = filterClone(this.theme)\n      }\n      this.theme = deepObjectMerge({}, this.theme, obj)\n    }\n  }\n}\n","import { scaleLinear } from '../../utils/scaleLinear'\nimport { axis } from '../../utils/axis'\nimport { emptyObject } from '@qcharts/utils'\nexport default function layout(arr, attrs) {\n  let res = {\n    scales: [],\n    labels: [],\n    grids: [],\n    axisPoints: [],\n    orient: attrs.orient\n  }\n  let defaultAttrs = {\n    top: {\n      label: {\n        anchor: [0.5, 1],\n        padding: [0, 0, 6, 0],\n        textAlign: 'center'\n      },\n      scale: {\n        anchor: [0.5, 1],\n        width: 1,\n        height: 4\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'category'\n    },\n    bottom: {\n      scale: {\n        anchor: [0.5, 0],\n        width: 1,\n        height: 4\n      },\n      label: {\n        anchor: [0.5, 0],\n        padding: [6, 0, 0, 0],\n        textAlign: 'center'\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'category'\n    },\n    left: {\n      label: {\n        padding: [0, 8, 0, 0],\n        anchor: [1, 0.5],\n        textAlign: 'right'\n      },\n      scale: {\n        anchor: [1, 0.5],\n        width: 4,\n        height: 1\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'value'\n    },\n    right: {\n      label: {\n        anchor: [0, 0.5],\n        padding: [0, 0, 0, 8]\n      },\n      scale: {\n        anchor: [0, 0.5],\n        width: 4,\n        height: 1\n      },\n      grid: {\n        strokeColor: '#666'\n      },\n      name: {},\n      type: 'value'\n    }\n  }\n  const { stack, splitNumber, clientRect, orient, axisGap, transpose, section } = attrs\n  if (transpose) {\n    ;['top', 'bottom', 'right', 'left'].forEach(str => {\n      defaultAttrs[str].type = defaultAttrs[str].type === 'value' ? 'category' : 'value'\n    })\n  }\n  const { width, height } = clientRect\n  let targetVisual = attrs.targetVisual || this.chart.visuals[0]\n  let axisAttrs = {\n    dataSet: arr,\n    stack,\n    splitNumber,\n    section\n  }\n  if (targetVisual && targetVisual.constructorName === 'Scatter' && defaultAttrs[attrs.orient].type === 'category') {\n    axisAttrs.field = targetVisual.dataset.option.text\n  }\n  let scales = axis.call(this, axisAttrs)\n  let maxVal = Math.max.apply(this, scales)\n  let minVal = Math.min.apply(this, scales)\n  let type = attrs.type || defaultAttrs[orient].type\n  let distance = orient === 'left' || orient === 'right' ? height : width\n  let datasetReverse = this.dataset.datasetReverse\n  if (type === 'value') {\n    let scaleFY = scaleLinear()\n      .domain([minVal, maxVal])\n      .range([0, distance])\n    scales.forEach(num => {\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(\n        defaultAttrs,\n        orient,\n        {\n          text: '' + typeof datasetReverse === 'function' ? datasetReverse(num) : num\n        },\n        num,\n        scaleFY,\n        clientRect\n      )\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n      res.grids.push(gridAttr)\n    })\n  } else if (type === 'category') {\n    let curArr = arr[0]\n    let len = axisGap ? curArr.length : curArr.length - 1\n    let scaleFY = scaleLinear()\n      .domain([0, len])\n      .range([0, distance])\n    curArr.forEach((cell, ind) => {\n      let { scaleAttr, labelAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, cell, ind, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n      res.grids.push(gridAttr)\n    })\n    if (axisGap) {\n      // 如果是axisGap为true，需要添加一个点\n      let { scaleAttr, gridAttr } = getItemAttrs(defaultAttrs, orient, {}, curArr.length, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n      res.grids.push(gridAttr)\n    }\n  }\n  if (orient === 'left' || orient === 'right') {\n    let dx = orient === 'left' ? 0 : width\n    res.axisPoints = [\n      [dx, height],\n      [dx, 0]\n    ]\n    res.nameAttr = { pos: [dx, 0], anchor: [0.5, 1], padding: [10] }\n  } else if (orient === 'bottom' || orient === 'top') {\n    let dy = orient === 'bottom' ? height : 0\n    res.axisPoints = [\n      [0, dy],\n      [width, dy]\n    ]\n    res.nameAttr = { pos: [width, dy], anchor: [0, 1] }\n  }\n  return res\n}\nfunction getItemAttrs(defaultAttrs, orient, cell, value, scaleF, clientRect, axisGap) {\n  let res = emptyObject()\n  let { width, height, left } = clientRect\n  let labelPosValue = axisGap ? value + 0.5 : value\n  if (orient === 'left' || orient === 'right') {\n    let x = orient === 'left' ? 0 : width\n    let yv = scaleF(value)\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [x, height - yv] }\n    res.gridAttr = {\n      ...defaultAttrs[orient].grid,\n      points: [\n        [x, height - yv],\n        [width, height - yv]\n      ]\n    }\n    res.labelAttr = {\n      ...defaultAttrs[orient].label,\n      width: left,\n      text: '' + cell.text,\n      pos: [x, height - scaleF(labelPosValue)]\n    }\n  } else if (orient === 'top' || orient === 'bottom') {\n    let y = orient === 'top' ? 0 : height\n    let xv = scaleF(value)\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [xv, y] }\n    res.gridAttr = {\n      ...defaultAttrs[orient].grid,\n      points: [\n        [xv, 0],\n        [xv, y]\n      ]\n    }\n    res.labelAttr = {\n      ...defaultAttrs[orient].label,\n      width: left,\n      text: '' + (cell.text || ''),\n      pos: [scaleF(labelPosValue), y]\n    }\n  }\n  return res\n}\n","import Base from '../../base/BasePlugin'\nimport { Group, Label, Polyline, Node } from 'spritejs'\nimport { emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nimport layout from './layout'\nimport { getStyle } from '../../utils/getStyle'\nclass Axis extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderAxis = emptyObject()\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    let targetVisual = this.chart.visuals[0]\n    if (attrs.axisGap === undefined && targetVisual && targetVisual.constructorName === 'Bar') {\n      //如果axisGap没有赋值\n      //如果是柱状图\n      attrs.axisGap = true\n    }\n    if (targetVisual && targetVisual.attr('axisGap')) {\n      attrs.axisGap = targetVisual.attr('axisGap')\n    }\n    if (targetVisual && targetVisual.constructorName === 'Scatter') {\n      attrs.type = attrs.type || 'value'\n    }\n    if (attrs.transpose === undefined && targetVisual) {\n      //坐标轴转换\n      attrs.transpose = targetVisual.renderAttrs.transpose\n    }\n    return attrs\n  }\n  beforeRender() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  beforeUpdate() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    return {\n      layer: 'axis',\n      zIndex: -1,\n      formatter: e => e\n    }\n  }\n  //defaultStyles() {}\n  getRenderData() {\n    //根据axis的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let axis = layout.call(this, renderData, renderAttrs)\n    return { axis }\n  }\n  render(axis) {\n    let oldAxis = this.renderAxis || emptyObject()\n    this.renderAxis = axis\n    let { clientRect, formatter, orient, name } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    let axisStyle = getStyle(this, 'axis', styles.axis)\n    //当前主体颜色\n    let arrOrient = this.chart.plugins\n      .map(plugin => {\n        if (plugin.constructorName === 'Axis') {\n          return plugin.renderAttrs.orient\n        }\n      })\n      .filter(Boolean)\n    let nameStyle = getStyle(this, 'name', [styles.name || {}, filterClone(axis.nameAttr, [], ['pos'])])\n    let oldPos = (oldAxis.nameAttr && oldAxis.nameAttr.pos) || axis.nameAttr.pos\n    let nameAni = { from: { pos: oldPos }, to: { pos: axis.nameAttr.pos } }\n    return (\n      <Group ref=\"wrap\" pos={[clientRect.left, clientRect.top]}>\n        <Polyline\n          {...axisStyle}\n          animation={{\n            from: { points: oldAxis.axisPoints },\n            to: { points: axis.axisPoints }\n          }}\n        ></Polyline>\n        <Group>\n          {axis.grids.map((grid, ind) => {\n            let fromPoints = (oldAxis.grids && oldAxis.grids[ind] && oldAxis.grids[ind].points) || grid.points\n            let ani = {\n              from: { points: fromPoints },\n              to: { points: grid.points }\n            }\n            let style = getStyle(this, 'grid', styles.grid, [{ label: axis.labels[ind] && axis.labels[ind].text }, ind])\n            if (orient === 'left' || orient === 'right') {\n              if ((ind === 0 && arrOrient.includes('bottom')) || (ind === axis.grids.length - 1 && arrOrient.includes('top'))) {\n                return <Node />\n              }\n            } else if (orient === 'top' || orient === 'bottom') {\n              if ((ind === 0 && arrOrient.includes('left')) || (ind === axis.grids.length - 1 && arrOrient.includes('right'))) {\n                return <Node />\n              }\n            }\n            return style === false ? <Node /> : <Polyline {...style} points={ani.from.points} animation={ani} />\n          })}\n          {axis.scales.map((scale, ind) => {\n            let fromPos = (oldAxis.scales && oldAxis.scales[ind] && oldAxis.scales[ind].pos) || scale.pos\n            let ani = { from: { pos: fromPos }, to: { pos: scale.pos } }\n            // 排除pos属性，pos属性用来处理动画，其它属性直接赋值\n            let style = getStyle(this, 'scale', styles.scale, [scale, ind])\n            return style === false ? <Node /> : <Group {...filterClone(scale, [], ['pos'])} {...style} animation={ani}></Group>\n          })}\n          {axis.labels.map((label, ind) => {\n            let fromPos = (oldAxis.labels && oldAxis.labels[ind] && oldAxis.labels[ind].pos) || label.pos\n            let style = getStyle(this, 'label', styles.label, [label, ind])\n            let ani = { from: { pos: fromPos }, to: { pos: label.pos } }\n            return style === false ? <Node /> : <Label {...filterClone(label, [], ['pos', 'text'])} {...style} text={formatter(label.text)} animation={ani}></Label>\n          })}\n        </Group>\n        {nameStyle === false || name === undefined || name.length === 0 ? <Node /> : <Label {...nameStyle} text={name} animation={nameAni} />}\n      </Group>\n    )\n  }\n}\nexport default Axis\n","import Base from '../../base/BasePlugin'\nimport { Group, Path, Label } from 'spritejs'\nimport { getStyle } from '../../utils/getStyle'\nimport Point from '../../utils/Point'\nclass Legend extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.arrLayout = null\n    this.state = {\n      page: 1,\n      totalPage: 1,\n      perPageWidthOrHeight: 0, // 每页长度（或宽度）\n      paginationSize: [0, 0], // 分页控件大小\n      groupSize: [0, 0] // legends 容器大小\n    }\n    this.twiceRender = false\n    this.animationSwitch = false\n    this.posFrom = [0, 0]\n    this.currentPos = [0, 0]\n    this.legendStateArray = []\n    this.lineCounter = 0 //在scroll属性为false的情况下计算legend的行数(或列数)\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  defaultAttrs() {\n    return {\n      layer: 'legend',\n      orient: 'horizontal', // 布局方式， vertical | horizontal\n      align: ['center', 'bottom'], // 水平方向布局，left | center | right, 垂直方向布局，top | center | bottom\n      iconSize: [12, 12], // 图标默认大小\n      textSize: [40, 12], // 文字默认大小\n      scroll: true, // 滚动方式，已废弃\n      outGap: 10, // 两个legend之间的距离\n      innerGap: 4,\n      lineGap: 15, //换行后两行legend之间距离\n      formatter: d => d.text || d,\n      padding: 2 // legend与canvas整体之间的padding\n    }\n  }\n  get pos() {\n    const { clientRect, align, padding } = this.renderAttrs\n    let groupSize = this.state.groupSize\n    let { width, height, top, left, right, bottom } = clientRect\n    let canvasWidth = width + left + right\n    let canvasHeight = height + top + bottom\n    this.state.paginationSize = this.isVertical ? [30, 60] : [70, 25]\n\n    const isValidLayout = (value, type) => {\n      if (type === 'horizontal') {\n        // 水平布局\n        return ['default', 'left', 'center', 'right'].indexOf(value) > -1\n      } else {\n        // 垂直布局\n        return ['default', 'top', 'center', 'bottom'].indexOf(value) > -1\n      }\n    }\n\n    const hLocation = {\n      // 水平定位\n      default: 0,\n      left: padding,\n      center: (canvasWidth - groupSize[0]) / 2,\n      right: canvasWidth - groupSize[0] - padding,\n      numberOrPercent(num) {\n        // 输入 数字或百分比\n        if (typeof num === 'number') {\n          return num\n        } else {\n          let val = 0\n          try {\n            val = parseFloat(num) / 100\n          } catch (e) {}\n          return (canvasWidth - groupSize[0]) * val\n        }\n      }\n    }\n\n    const vLocation = {\n      // 垂直定位\n      default: 0,\n      top: padding,\n      center: canvasHeight / 2 - groupSize[1] / 2,\n      bottom: canvasHeight - groupSize[1] - padding,\n      numberOrPercent(num) {\n        // 输入 数字或百分比\n        if (typeof num === 'number') {\n          return num\n        } else {\n          let val = 0\n\n          try {\n            val = parseFloat(num) / 100\n          } catch (e) {}\n          return (canvasHeight - groupSize[1]) * val\n        }\n      }\n    }\n    let pos = [\n      isValidLayout(align[0], 'horizontal')\n        ? hLocation[align[0]]\n        : hLocation.numberOrPercent(align[0]),\n      isValidLayout(align[1], 'vertical')\n        ? vLocation[align[1]]\n        : vLocation.numberOrPercent(align[1])\n    ]\n    let pagePos\n    let totalPageX = Math.ceil(this.state.groupSize[0] / canvasWidth)\n    let totalPageY = Math.ceil(this.state.groupSize[1] / canvasHeight)\n    let paginationSize = this.state.paginationSize\n    let pagePrev, pageText, pageNext\n    if (totalPageX > 1) {\n      this.state.totalPage = totalPageX\n      let pagePosY =\n        pos[1] + groupSize[1] + paginationSize[1] > canvasHeight\n          ? pos[1] - paginationSize[1]\n          : pos[1] + groupSize[1]\n      pagePos = [canvasWidth - paginationSize[0], pagePosY]\n      pagePrev = [0, 0]\n      pageText = [15, 0]\n      pageNext = [45, 0]\n      pos[0] = -(this.state.page - 1) * canvasWidth\n    } else if (totalPageY > 1) {\n      this.state.totalPage = totalPageY\n      let pagePosX =\n        pos[0] + groupSize[0] + paginationSize[0] > canvasWidth\n          ? pos[0] - paginationSize[0]\n          : pos[0] + groupSize[0]\n      pagePos = [pagePosX, canvasHeight - paginationSize[1]]\n      pagePrev = [5, 0]\n      pageText = [0, 20]\n      pageNext = [5, 40]\n      pos[1] = -(this.state.page - 1) * canvasHeight\n    } else {\n      this.state.page = 1\n      this.state.totalPage = 1\n    }\n    return {\n      pos: pos,\n      pagePos: { pos: pagePos, pagePrev, pageText, pageNext }\n    }\n  }\n\n  get isVertical() {\n    return this.renderAttrs.orient === 'vertical'\n  }\n  beforeRender() {\n    if (this.twiceRender) {\n      this.reset()\n    } else {\n      this.arrLayout = this.getRenderData().arrLayout\n    }\n    return this.arrLayout\n  }\n\n  getRenderData() {\n    let { layoutBy, innerGap } = this.renderAttrs\n    let renderData = this.dataset[layoutBy].map((item, index) => {\n      this.legendStateArray.push(item.state)\n      return {\n        name: item.name,\n        state: item.state\n      }\n    })\n    let arrLayout = renderData.map(item => {\n      return {\n        textAttrs: {\n          text: item.name,\n          paddingLeft: innerGap\n        }\n      }\n    })\n    this.arrLayout = arrLayout\n    return { arrLayout }\n  }\n  itemClick(e, el) {\n    const ind = el.attr('_index')\n    let state = this.dataset[this.renderAttrs.layoutBy][ind].state\n    state = state !== 'disabled' ? 'disabled' : 'default'\n    this.dataset[this.renderAttrs.layoutBy][ind].state = state\n  }\n  itemLeave(e, el) {\n    const ind = el.attr('_index')\n    this.legendStateArray[ind] = 'default'\n    this.update()\n  }\n  itemMove(e, el) {\n    const ind = el.attr('_index')\n    if (this.legendStateArray[ind] === 'default') {\n      this.legendStateArray[ind] = 'hover'\n      this.update()\n    }\n  }\n  beforeUpdate(params) {\n    if (params && params.type === 'source') {\n      this.animationSwitch = true\n      this.twiceRender = false\n      return this.beforeRender()\n    } else {\n      if (params && params.type === 'resize') {\n        this.animationSwitch = true\n      }\n      return this.arrLayout\n    }\n  }\n\n  rendered() {\n    // console.log(\"rendered\");\n  }\n\n  afterrender(e, el) {\n    if (this.twiceRender) {\n      this.animationSwitch = false\n      return\n    }\n    this.twiceRender = true\n    this.reset()\n    this.update()\n  }\n  reset() {\n    let {\n      outGap,\n      innerGap,\n      iconSize,\n      textSize,\n      clientRect,\n      lineGap,\n      padding\n    } = this.renderAttrs\n    let legendsSize = this.isVertical ? [[0, padding]] : [[padding, 0]]\n    let maxTextWidth = 0\n    let colors = this.theme.colors\n    let { width, height, top, left, right, bottom } = clientRect\n    let canvasWidth = width + left + right\n    let canvasHeight = height + top + bottom\n    this.lineCounter = 0\n    this.arrLayout = this.arrLayout.map((item, index) => {\n      item.iconAttrs = {}\n      let iconEl = this.$refs['icon' + index].$sprite\n      let iconRect = iconEl.getBoundingClientRect()\n      iconSize = [\n        iconEl.width ? iconEl.width : iconSize[0],\n        iconEl.height ? iconEl.height : iconSize[1]\n      ]\n      let textEl = this.$refs['text' + index]\n      let textRect = textEl.getBoundingClientRect()\n      let heightSize =\n        iconSize[1] > textRect.height ? iconSize[1] : textRect.height\n\n      // 垂直布局下，已有的列数的width和\n      let lineWidth =\n        legendsSize.reduce((i, j) => {\n          return i + j[0]\n        }, 0) - legendsSize[this.lineCounter][0]\n\n      // 单个legend的左上角坐标\n      let iconPos = this.isVertical\n        ? [lineWidth, legendsSize[this.lineCounter][1]]\n        : [\n            legendsSize[this.lineCounter][0],\n            this.lineCounter * (heightSize + lineGap)\n          ]\n      // 超过单行长度后换行\n      if (\n        this.isVertical &&\n        iconPos[1] + textRect.height > canvasHeight - 2 * padding\n      ) {\n        this.lineCounter++\n        iconPos = [iconPos[0] + legendsSize[this.lineCounter - 1][0], padding]\n        maxTextWidth = 0 // 换行后重置最宽legend\n        legendsSize.push([0, padding])\n      } else if (\n        !this.isVertical &&\n        iconPos[0] + iconSize[0] + textRect.width + outGap >\n          canvasWidth - 2 * padding\n      ) {\n        this.lineCounter++\n        iconPos = [padding, this.lineCounter * (heightSize + lineGap)]\n        legendsSize.push([padding, 0])\n      }\n      let iconAttrs = {\n        bgcolor: colors[index],\n        size: iconSize,\n        pos: [0, heightSize / 2],\n        anchor: [0, 0.5]\n      }\n      if (this.dataset[this.renderAttrs.layoutBy][index].state === 'disabled') {\n        iconAttrs.bgcolor = '#ccc'\n        iconAttrs.fillColor = '#ccc'\n      }\n      let textAttrs = {\n        ...item.textAttrs,\n        pos: this.isVertical\n          ? [iconSize[0], heightSize / 2]\n          : [iconSize[0], heightSize / 2],\n        text: item.textAttrs.text,\n        anchor: [0, 0.5]\n      }\n      // 单个legend的宽高\n      let size = [iconSize[0] + textRect.width, heightSize]\n      if (size[0] + outGap > maxTextWidth) {\n        maxTextWidth = size[0] + outGap\n      }\n      // 每个legend宽高累加\n      legendsSize[this.lineCounter] = this.isVertical\n        ? [maxTextWidth, legendsSize[this.lineCounter][1] + size[1] + outGap]\n        : [\n            legendsSize[this.lineCounter][0] + size[0] + outGap,\n            size[1] + lineGap\n          ]\n      return {\n        iconAttrs,\n        textAttrs,\n        groupAttrs: {\n          size: size,\n          pos: iconPos\n        }\n      }\n    })\n    // console.log(this.arrLayout)\n    this.state.groupSize = this.isVertical\n      ? [\n          legendsSize.reduce((i, j) => {\n            return i + j[0]\n          }, 0),\n          this.lineCounter === 0 ? legendsSize[0][1] : canvasHeight\n        ]\n      : [\n          this.lineCounter === 0\n            ? legendsSize[0][0]\n            : Math.max(\n                ...legendsSize.map(item => {\n                  return item[0]\n                })\n              ),\n          (this.lineCounter + 1) * legendsSize[0][1]\n        ]\n  }\n  // changePage(e, el) {\n  //   if (el.name === \"prev\" && this.state.page > 1) {\n  //     this.state.page--\n  //     this.animationSwitch = true\n  //     this.update()\n  //   } else if (el.name === \"next\" && this.state.page < this.state.totalPage) {\n  //     this.state.page++\n  //     this.animationSwitch = true\n  //     this.update()\n  //   }\n  // }\n  render(arr) {\n    this.posFrom = this.currentPos\n    const { pos, pagePos } = this.pos\n    this.posFrom = this.twiceRender && this.animationSwitch ? this.posFrom : pos\n    const { page, totalPage } = this.state\n    this.currentPos = pos\n    const styles = this.renderStyles\n    const isVertical = this.isVertical\n    if (this.twiceRender) {\n      pos[0] = pos[0] - 1\n    }\n    const { formatter } = this.renderAttrs\n    if (arr) {\n      return (\n        <Group size={[1, 1]} onAfterrender={this.afterrender}>\n          <Group\n            animation={{\n              from: { pos: this.posFrom },\n              to: { pos: pos },\n              duration:\n                this.twiceRender && this.animationSwitch\n                  ? this.renderAttrs.animation.duration\n                  : 0\n            }}\n            // pos={pos}\n          >\n            {arr.map((attrs, ind) => {\n              let cell = this.dataset[this.renderAttrs.layoutBy][ind]\n              let hover = this.legendStateArray[ind] === 'hover'\n              let disabled = cell.state === 'disabled'\n              let style = getStyle(\n                this,\n                'point',\n                [{}, styles.point],\n                [cell, ind]\n              )\n\n              let hoverStyle = hover\n                ? getStyle(this, 'point:hover', [{}], [cell, ind])\n                : {}\n\n              if (disabled && attrs.iconAttrs && attrs.iconAttrs.bgcolor) {\n                hoverStyle.bgcolor = '#ccc'\n                hoverStyle.fillColor = '#ccc'\n              }\n              let textStyle = getStyle(\n                this,\n                'text',\n                [{}, styles.text],\n                [cell, ind]\n              )\n              let textHoverStyle = hover\n                ? getStyle(this, 'text:hover', [{}], [cell, ind])\n                : {}\n\n              attrs.textAttrs.text = formatter(cell.name || '', cell.data, ind)\n              return (\n                <Group\n                  onClick={this.itemClick}\n                  onMouseleave={this.itemLeave}\n                  onMouseenter={this.itemMove}\n                  onMousemove={this.itemMove}\n                  {...{ _index: ind }}\n                  {...attrs.groupAttrs}\n                >\n                  <Point\n                    {...{ ref: 'icon' + ind }}\n                    {...attrs.iconAttrs}\n                    {...style}\n                    {...hoverStyle}\n                  />\n                  <Label\n                    {...{ ref: 'text' + ind }}\n                    {...attrs.textAttrs}\n                    {...textStyle}\n                    {...textHoverStyle}\n                  />\n                </Group>\n              )\n            })}\n          </Group>\n\n          {/* {totalPage<=1 ? null : (\n            <Group pos={pagePos.pos}>\n              <Path\n                pos={pagePos.pagePrev}\n                {...(isVertical ? { marginLeft: 5 } : {})}\n                name={\"prev\"}\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\n                d={\n                  isVertical\n                    ? \"M 0 15 L 15 15 L7.5 0 Z\"\n                    : \"M 0 7.5 L 13 0 L13 15 Z\"\n                }\n                fillColor={page <= 1 ? \"#ccc\" : \"#324556\"}\n                onClick={this.changePage}\n              />\n              <Label\n                pos={pagePos.pageText}\n                ref=\"paginationText\"\n                fontSize=\"14px\"\n                text={page + \"/\" + totalPage + \"\"}\n                lineBreak=\"normal\"\n                padding={isVertical ? [0, 2] : [0, 2]}\n              />\n\n              <Path\n                pos={pagePos.pageNext}\n                {...(isVertical ? { marginLeft: 5 } : {})}\n                name={\"next\"}\n                padding={[isVertical ? 2 : 1, 0, 0, 0]}\n                d={\n                  isVertical\n                    ? \"M 0 0 L 15 0 L7.5 13 Z\"\n                    : \"M 13 7.5 L 0 0 L0 15 Z\"\n                }\n                fillColor={page >= totalPage ? \"#ccc\" : \"#324556\"}\n                onClick={this.changePage}\n              />\n            </Group>\n          )} */}\n        </Group>\n      )\n    }\n  }\n}\n\nexport default Legend\n\n// reset() {\n//   let legendsSize = [0, 0]\n//   let { outGap, innerGap, iconSize, textSize } = this.renderAttrs\n//   let maxTextWidth = 0\n//   let colors = this.theme.colors\n//   this.arrLayout = this.arrLayout.map((item, index) => {\n//     item.iconAttrs = {}\n//     let iconEl = this.$refs[\"icon\" + index]\n//     let iconRect = iconEl.getBoundingClientRect()\n//     let textEl = this.$refs[\"text\" + index]\n//     let textRect = textEl.getBoundingClientRect()\n//     let iconAttrs = {\n//       bgcolor: colors[index],\n//       size: iconSize,\n//       pos: this.isVertical\n//         ? [0, legendsSize[1] + (textRect.height - iconSize[1]) / 2]\n//         : [legendsSize[0], (textRect.height - iconSize[1]) / 2],\n//     }\n//     if (this.dataset[this.renderAttrs.layoutBy][index].state === \"disabled\") {\n//       iconAttrs.bgcolor = \"#ccc\"\n//       iconAttrs.fillColor = \"#ccc\"\n//     }\n//     let textAttrs = {\n//       ...item.textAttrs,\n//       pos: this.isVertical\n//         ? [iconSize[0], legendsSize[1]]\n//         : [iconSize[0] + legendsSize[0], 0],\n//       text: item.textAttrs.text,\n//     }\n//     let size = [iconSize[0] + textRect.width, iconSize[1]]\n//     if (size[0] + outGap > maxTextWidth) {\n//       maxTextWidth = size[0] + outGap\n//     }\n//     legendsSize = this.isVertical\n//       ? [maxTextWidth, legendsSize[1] + textRect.height + outGap]\n//       : [legendsSize[0] + size[0] + outGap, textRect.height]\n//     return { iconAttrs, textAttrs }\n//   })\n//   this.state.groupSize = legendsSize\n// }\n","import Base from '../../base/BasePlugin'\nimport { throttle } from '@qcharts/utils'\nimport { getStyle } from '../../utils/getStyle'\nclass Tooltip extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.$el = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  defaultAttrs() {\n    return {\n      layer: 'tooltip'\n    }\n  }\n  beforeRender() {}\n  beforeUpdate() {}\n  tipMousemove = throttle(\n    e => {\n      let maxLeft = window.innerWidth - this.$el.getBoundingClientRect().width - 5\n      let maxTop = window.innerHeight - this.$el.getBoundingClientRect().height - 5\n      let tarTop = e.y > maxTop ? maxTop : e.y\n      let tarLeft = e.x > maxLeft ? maxLeft : e.x\n      this.$el.style.left = tarLeft + 'px'\n      this.$el.style.top = tarTop + 'px'\n    },\n    100,\n    1\n  )\n  rendered() {\n    let { colors, sort, formatter, title } = this.renderAttrs\n    let styles = this.renderStyles\n    this.chart.dataset.on('change', data => {\n      let { option } = data\n      this.$el.innerHTML = ''\n      if (option.value === 'hover') {\n        let arr = [].concat(this.chart.dataset).filter(item => item.state === 'hover')\n        if (sort) {\n          arr.sort(sort)\n        }\n        if (arr.length) {\n          let $div = document.createElement('div')\n          $div.style.cssText = 'white-space:nowrap;padding:6px 10px;background-color:rgba(0,0,0,0.5);color:#fff;'\n          arr.forEach((item, ind) => {\n            let text = `${item.text}：${item.value}`\n            if (formatter) {\n              text = formatter(item.data) || text\n            }\n            let style = getStyle(this, 'point', [{ 'background-color': colors[item.row] }, styles.point], [arr.map(item => item.data), ind])\n            let styleText = getStyle(this, 'text', [styles.text], [arr.map(item => item.data), ind])\n            let $html = document.createElement('div')\n            $html.className = 'tooltip-item'\n            $html.innerHTML = `<span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${colors[item.row]}\"></span><span class=\"text\">${text}</span>`\n            $div.append($html)\n            let $icon = $html.querySelector('.icon')\n            let $text = $html.querySelector('.text')\n            Object.assign($icon.style, style)\n            Object.assign($text.style, styleText)\n          })\n          if (title) {\n            let str = title\n            if (typeof title === 'function') {\n              let formatterData = arr.map(cell => cell.data)\n              str = title(formatterData)\n            }\n            let $title = document.createElement('div')\n            $title.className = 'tooltip-title'\n            $title.innerHTML = str || ''\n            let styleTitle = getStyle(this, 'title', [styles.title], [arr.data])\n            Object.assign($title.style, styleTitle)\n            $div.prepend($title)\n          }\n          this.$el.appendChild($div)\n        }\n      } else if (option.name === 'reset') {\n        this.$el.innerHTML = ''\n      }\n    })\n    this.chart.$el.addEventListener('mousemove', this.tipMousemove)\n  }\n  render() {\n    if (!this.$el) {\n      this.$el = document.createElement('div')\n      this.$el.className = 'qcharts-tooltip'\n      this.$el.style.cssText = 'transition:top 300ms ease-out,left 300ms ease-out;position:absolute;pointEvents:none;pointer-events:none;font-size:14px;'\n      document.body.appendChild(this.$el)\n    }\n  }\n}\nexport default Tooltip\n","import Base from './base/Base'\nimport { jsType, emptyObject, throttle } from '@qcharts/utils'\nimport { h } from '@qcharts/vnode'\nimport { getGlobal, isWeiXin } from './base/platform'\nimport BaseVisual from './base/BaseVisual'\nimport BasePlugin from './base/BasePlugin'\nimport { Scene } from 'spritejs'\nimport { Wave, Gauge } from './index'\nclass Chart extends Base {\n  constructor(attr) {\n    super()\n    // 预先将jsx 解析函数挂载到全局\n    const global = getGlobal()\n    if (!global.qcharts || (global.qcharts && !global.qcharts.h)) {\n      global.qcharts = { h }\n    }\n    let { container, contextType = '2d', displayRatio } = attr\n    if (jsType(container) === 'string') {\n      container = document.querySelector(container)\n    }\n    this.$el = container\n    this.visuals = []\n    this.plugins = []\n    this.children = []\n    if (isWeiXin()) {\n      const { pixelUnit = 'rpx', size } = attr\n      let displayRatio = 1\n      if (pixelUnit === 'rpx') {\n        const { windowWidth } = wx.getSystemInfoSync()\n        displayRatio = windowWidth / 750\n      }\n      this.scene = new Scene({\n        width: size[0] / displayRatio,\n        height: size[1] / displayRatio,\n        extra: this,\n        contextType,\n        displayRatio\n      })\n    } else {\n      this.scene = new Scene({ container, contextType, displayRatio: displayRatio || getGlobal().devicePixelRatio })\n    }\n    this.scene.addEventListener('resize', _ => {\n      //舞台变化的时候\n      this.checkUpdate({ type: 'resize' })\n    })\n    this.checkUpdate = throttle(args => {\n      this.children.forEach(node => {\n        node.update(args)\n      })\n    }, 300)\n    this.checkRender = throttle(_ => {\n      this.children.forEach(child => {\n        child.created()\n        console.log('abc')\n        this.dataset.addDep(child)\n      })\n      this.__store.__isCreated__ = true\n      this.dispatchEvent('updated', emptyObject())\n    })\n  }\n  update(args) {\n    //图表发生更新，触发图表内组件更新\n    this.checkUpdate(args)\n  }\n  append(node) {\n    const notNeedDataSetList = [Wave, Gauge]\n    if (notNeedDataSetList.some(Target => node instanceof Target)) {\n      //补齐dataset，wave中不用dataset\n      this.source([], {})\n    } else if (!this.dataset) {\n      console.error('Chart should set data before append some graphs')\n      return\n    }\n    if (jsType(node) === 'array') {\n      node.forEach(item => {\n        this.append(item)\n      })\n      return\n    } else if (node instanceof BaseVisual) {\n      this.visuals.push(node)\n    } else if (node instanceof BasePlugin) {\n      this.plugins.push(node)\n    }\n    this.children.push(node)\n    node.chart = this\n    node.scene = this.scene\n    this.checkRender()\n  }\n  getDataURL() {\n    return this.scene.snapshot().toDataURL()\n  }\n}\n\nexport default Chart\n","import { h, easing } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nimport Line from './visuals/Line/index'\nimport Pie from './visuals/Pie/index'\nimport Area from './visuals/Area/index'\nimport Radar from './visuals/Radar/index'\nimport Bar from './visuals/Bar/index'\nimport PolarBar from './visuals/PolarBar/index'\nimport Funnel from './visuals/Funnel/index'\nimport Scatter from './visuals/Scatter/index'\nimport Wave from './visuals/Wave/index'\nimport Gauge from './visuals/Gauge'\nimport RadialBar from './visuals/RadialBar'\nimport Axis from './plugins/Axis/index'\nimport Legend from './plugins/Legend/index'\nimport Tooltip from './plugins/Tooltip/index'\nimport { getGlobal } from './base/platform'\nimport Chart from './Chart'\nimport theme from './theme/default'\nconst version = '1.0.37'\nconst qcharts = {\n  version,\n  Line,\n  Pie,\n  Area,\n  Radar,\n  Bar,\n  PolarBar,\n  Funnel,\n  Scatter,\n  Gauge,\n  RadialBar,\n  Legend,\n  Axis,\n  Wave,\n  Tooltip,\n  h,\n  theme,\n  Chart,\n  easing\n}\n\nconst global = getGlobal()\nglobal.qcharts = qcharts\n\nexport { Dataset, Line, Pie, Area, Wave, Radar, Tooltip, Bar, PolarBar, Funnel, Scatter, Gauge, RadialBar, Axis, Legend, Chart, h, theme, easing, version }\n\nexport default qcharts\n"],"sourceRoot":""}