{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"spritejs\"","webpack://[name]/./node_modules/@qcharts/vnode/node_modules/@qcharts/utils/lib/index.js","webpack://[name]/./node_modules/filter-clone/lib/index.js","webpack://[name]/./node_modules/@qcharts/vnode/src/h.js","webpack://[name]/./node_modules/@qcharts/vnode/src/consts.js","webpack://[name]/./node_modules/@qcharts/vnode/src/diff.js","webpack://[name]/./node_modules/@qcharts/vnode/src/render.js","webpack://[name]/./node_modules/@qcharts/vnode/tween/easing.js","webpack://[name]/./node_modules/@qcharts/vnode/util/interpolate.js","webpack://[name]/./node_modules/@qcharts/vnode/util/index.js","webpack://[name]/./node_modules/@qcharts/vnode/tween/tween.js","webpack://[name]/./node_modules/@qcharts/vnode/src/patch.js","webpack://[name]/./node_modules/@qcharts/vnode/src/nodeHelper.js","webpack://[name]/./node_modules/@qcharts/dataset/src/state.js","webpack://[name]/./node_modules/@qcharts/dataset/src/event.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Cell.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Row.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Dataset.js","webpack://[name]/./node_modules/@qcharts/dataset/src/index.js","webpack://[name]/./src/base/mixin.js","webpack://[name]/./node_modules/@qcharts/utils/src/index.js","webpack://[name]/./src/base/Base.js","webpack://[name]/./src/theme/default.js","webpack://[name]/./src/base/BaseVisual.js","webpack://[name]/./src/utils/scaleLinear.js","webpack://[name]/./src/utils/axis.js","webpack://[name]/./src/visuals/Line/layout.js","webpack://[name]/./src/visuals/Line/index.js","webpack://[name]/./src/visuals/Line/index_test.js","webpack://[name]/./src/visuals/Area/index.js","webpack://[name]/./src/visuals/Radar/layout.js","webpack://[name]/./src/visuals/Radar/index.js","webpack://[name]/./src/visuals/Bar/index.js","webpack://[name]/./src/visuals/Bar/layout.js","webpack://[name]/./src/visuals/PolarBar/index.js","webpack://[name]/./src/visuals/PolarBar/layout.js","webpack://[name]/./src/base/BasePlugin.js","webpack://[name]/./src/plugins/Axis/layout.js","webpack://[name]/./src/plugins/Axis/index.js","webpack://[name]/./src/plugins/Legend/index.js","webpack://[name]/./src/plugins/Tooltip/index.js","webpack://[name]/./src/base/platform.js","webpack://[name]/./src/Chart.js","webpack://[name]/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","default","length","toString","u","slice","toLowerCase","apply","this","setTimeout","clearTimeout","match","Number","substring","indexOf","_typeof","obj","iterator","constructor","_default","filterClone","include","exclude","res","getType","len","push","j","test","str","VNode","h","tagName","attrs","children","node","arr","concat","filter","Boolean","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","assign","type","isDiffrentVNode","createElement","vnode","TagName","el","patchAttrs","appendChild","map","forEach","easing","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","a","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","number","b","array","bl","al","min","x","Array","interpolate","now","performance","Date","requestAnimationFrame","cancelAnimationFrame","startTime","fn","id","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","time","Error","_onComplete","callback","elapseTime","animateTime","timer","delayTime","Promise","resolve","step","start","cancel","then","graph","patche","keys","ref","addRef","console","error","split","cb","removeAllListeners","addEventListener","evt","addEvent","states","state","oldState","attr","oldstates","oldAttrs","newAttrs","duration","renderAttrs","animation","transition","addAttrs","from","middle","use","to","delay","useTween","formatter","ani","onUpdate","animate","fill","finished","offset","setAnimation","addAnimate","patch","$el","isRoot","newEl","parent","replaceChild","remove","child","ind","_ind","curNode","curVnode","hide","hover","active","disabled","mixed","mixinEvent","target","__store","events","on","off","undefined","curEvent","splice","once","args","self","dispatchEvent","option","item","data","dataset","super","row","col","datasets","num","__name","__option","cell","sta","dispatchOption","Row","Col","store","__deps","__rows","sortKey","resArr","list","sort","keySort","curRow","getArrData","cols","colLen","rowKey","dep","lifeCycle","deepObjectMerge","objectMerge","FirstOBJ","SecondOBJ","jsType","emptyObject","throttle","interval","immediately","firstTime","getDistancePx","distance","Base","component","removeEventListener","listener","__attrs","__vnode__","__isCreated__","__refs","__update","_","update","options","Dataset","opts","render","beforeRender","layer","rendered","warn","beforeUpdate","event","clientRect","left","top","right","bottom","width","height","opacity","layoutBy","style","styleKey","substr","layerName","baseAttrs","defaultAttrs","theme","scene","defaultStyles","styles","canvas","getBoundingClientRect","colors","chart","Node","visuals","Line","line","lineWidth","guideline","strokeColor","statck","LineTest","Area","area","Radar","Bar","bar","groupBar","PolarBar","plugins","Tooltip","Legend","Axis","axis","scale","bgcolor","label","fontSize","fillColor","orient","set","BaseVisual","scaleLinear","domain","range","disDomain","disRange","per","isArray","dataSet","section","gap","divide","toFixed","sectionAxis","stack","sum","sumDown","leng","dataHandle","upZero","downZero","element","abs","sortUpZero","sortDownZero","maxUpZero","ceil","pop","maxDownZero","maxValue","mixNum","maxNum","splitNumber","getMax","axisArray","round","reverse","unit","unshift","needReverse","Global","datasetReverse","layout","lines","scales","maxVal","minVal","scaleFY","prevRow","points","areaPoints","smoothRange","dx","curPos","axisPoints","curLine","nextPoints","startPoints","endPoints","transAreaPoint","renderLines","hoverIndex","getRenderData","arrLayout","maxLen","areaFrom","areaTo","lineDash","renderData","guidePoints","smooth","resetState","arrX","pos","getOffsetPosition","y","curInd","posX","lineState","mergeStyle","renderStyle","renderStyles","zIndex","class","onMouseleave","guidelineleave","onMouseenter","guidelinemove","onMousemove","size","rows","onClick","lineClick","myclick","lineStyle","areaStyle","getPointCoordinate","radian","radius","startAngle","labelOffset","bgPoints","gridAttrs","axisAttrs","sectionAttrs","some","indicatorMax","reduce","dimension","perRadian","startRadian","currentRadian","point","labelPos","text","maxScale","index","categoryPoints","dataOrigin","close","gridPoints","anchor","areaEl","scaleEl","isUpdate","lastGridAttr","gridType","setCanvasCursor","hoverData","color","forceUpdate","toScale","hoverState","fromPts","toPts","newAttr","_getScaleAnimation","preEl","toPoints","other","_isSamePoints","GridShape","Ring","Polyline","_getStyle","gridAttr","innerRadius","outerRadius","clipOverflow","_renderAxisLabel","_renderAxisScale","calcAnchor","font","getPt","perX","perY","perNum","labels","common","translate","display","elIndex","preText","numText","attrFormatter","_getPolylineAnimation","hoverStyle","prePoints","pre","cur","center","padding","renderGrid","renderAxis","renderSection","renderPoints","groups","isNaN","transpose","floor","bgpillarState","log","pillars","fromTos","barData","groupData","nextPillar","prev","labelAttrs","disable","dataLength","barSize","groupGap","stackGap","barWidth","bgPillarAttr","valueAxis","tableSize","axisValueMax","axisValueMin","POSITIVE_RATIO","GROUP_BAR_NUM","flag","computerLegend","GROUP_NUM","BAR_HEIGHT_FACTOR","heightSumUp","heightSumDown","gpData","rects","lenj","stackGapTemp","barHeight","posLabelY","rect","rotate","barStyle","bgpillar","myClick","pillar","endAngle","legendArr","barInnerRadius","padAngle","BAR_MAX_HEIGHT","groupAngle","barAngle","angle","groupBarNumber","ring","maxRadius","maxOuterRadius","BasePlugin","getItemAttrs","scaleF","axisGap","labelPosValue","scaleAttr","labelAttr","textAlign","curArr","oldAxis","scaleStyle","labelStyle","targetVisual","click","clickAble","querySelectorAll","cursor","$dom","getParent","wrap","dom","selector","parentNode","getAttribute","document","className","cssText","html","curColor","innerHTML","arguments","context","debounce","maxLeft","innerWidth","maxTop","tarTop","tarLeft","$div","innerHtml","body","tipMousemove","platform","Chart","container","querySelector","Scene","displayRatio","devicePixelRatio","checkUpdate","checkRender","created","addDep","append","qcharts","version"],"mappings":"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","file":"qcharts.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"spritejs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"spritejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qcharts\"] = factory(require(\"spritejs\"));\n\telse\n\t\troot[\"qcharts\"] = factory(root[\"spritejs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 73);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.utils=e():t.utils=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(...t){let e=t[0];if(t.length>1)for(let r=1;r<t.length;r++)n(e,t[r]);return e;function n(t,e){for(var n in e)t[n]=t[n]&&\"[object Object]\"===t[n].toString()?r(t[n],e[n]):t[n]=e[n];return t}}function o(){return Object.create(null)}function u(t){const e=typeof t;return\"object\"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}function i(t,e=16,n=!1){let r=null,o=n;return function(...n){if(o)return t.apply(this,n),o=!1;r||(r=setTimeout(()=>{clearTimeout(r),r=null,t.apply(this,n)},e))}}function c(t,e){return\"string\"===u(t)&&t.match(/%$/)?Number(t.substring(0,t.indexOf(\"%\")))/100*e:t}n.r(e),n.d(e,\"deepObjectMerge\",(function(){return r})),n.d(e,\"emptyObject\",(function(){return o})),n.d(e,\"jsType\",(function(){return u})),n.d(e,\"throttle\",(function(){return i})),n.d(e,\"getDistancePx\",(function(){return c}))}])}));\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  const el = new TagName()\n  //渲染的spritejs对象放到 visual或者plugin上\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children\n      .map(createElement.bind(this))\n      .filter(Boolean)\n      .forEach(el.appendChild.bind(el))\n  }\n  return el\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","import interpolate from './interpolate'\nimport invariant from './invariant'\ninvariant\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame = window.requestAnimationFrame\nlet cancelAnimationFrame = window.cancelAnimationFrame\nif (!requestAnimationFrame) {\n  const startTime = now()\n  requestAnimationFrame = fn => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = id => {\n    return clearTimeout(id)\n  }\n}\nconst delay = time =>\n  new Promise(resolve =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addAttrs, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs(graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addEvent(graph, el, patche)\n  addAttrs(graph, el, patche)\n  //el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} $el 当前的真实spritejs 节点\n * @param {*} patches 虚拟节点\n * @param {*} isRoot 是否是初节点，用于绑定$el与visual或者plugin\n */\nexport default function patch($el, patche, isRoot = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let graph = this //graph为当前的qcharts对象 visula或者plugin\n  if (!$el && !patche) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      if (newEl) {\n        if (isRoot) {\n          //创建的时候，visual与plugin绑定对应的sprite元素\n          graph.$el = newEl\n        }\n        $el.appendChild(newEl)\n      }\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      $el.parent.replaceChild(newEl, $el)\n      break\n    }\n    case REMOVE: {\n      $el.remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      patchAttrs(graph, $el, attrs)\n      if ($el.children && children.length) {\n        $el.children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        let len = children.length > $el.children.length ? children.length : $el.children.length\n        for (let j = 0; j < len; j++) {\n          let curNode = $el.children.filter(child => child._ind === j)[0]\n          let curVnode = children.filter(child => child._ind === j)[0]\n          if (curVnode && curVnode.type === 'CREATE') {\n            //如果是create需要传父级$el\n            patch.bind(graph)($el, curVnode)\n          } else {\n            patch.bind(graph)(curNode, curVnode)\n          }\n        }\n      }\n      break\n    }\n  }\n}\n","import { Tween } from '../tween'\nimport { deepObjectMerge, emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n\n  const { from, middle, use, to, delay, duration, useTween, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween()\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAttrs(graph, el, attrs = {}) {\n  let states = attrs['states']\n  let state = attrs['state']\n  if (states && state) {\n    let oldState = el.attr('state')\n    if (state !== oldState) {\n      //不相当就处理，相当上一次已经处理完毕\n      let oldstates = el.attr('states') || emptyObject()\n      let oldAttrs = deepObjectMerge(emptyObject(), attrs, oldstates[oldState])\n      let newAttrs = deepObjectMerge(emptyObject(), attrs, states[state])\n      el.attr(oldAttrs)\n      let { duration } = deepObjectMerge(emptyObject(), graph.renderAttrs.animation, states.animation)\n      el.transition(duration / 1000).attr(newAttrs)\n    }\n  } else {\n    el.attr(attrs)\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(graph, el, attrs = {}) {\n  //缓存方法，修改方法指针this\n  Object.keys(attrs).forEach(key => {\n    if (!/^on/.test(key)) {\n      return\n    }\n    const type = key.split('on')[1].toLowerCase()\n    const cb = attrs[key] || (() => {})\n    let newF = evt => cb.call(graph, evt, el)\n    el.removeAllListeners(type)\n    el.addEventListener(type, newF)\n    delete attrs[key]\n  })\n}\n","export default {\n  default: 'default', //默认\n  hide: 'hide', //数据隐藏\n  hover: 'hover', //次激活模式，类似css中的hover\n  active: 'active', //激活模式，如选中等场景\n  disabled: 'disabled', //禁用模式\n  mixed: 'mixed' //混合模式,比如一个row或者col里面有多种状态\n}\n","function mixinEvent(target) {\n  if (target.__store) {\n    target.__store.events = []\n    let events = target.__store.events\n    target.on = function(type, cb) {\n      events.push({ type, cb })\n      return target\n    }\n    target.off = function(type, cb) {\n      for (let i = 0; i < events.length; i++) {\n        if (cb === undefined) {\n          events = []\n        } else {\n          let curEvent = events[i]\n          if (curEvent.type === type && curEvent.cb === cb) {\n            events.splice(i, 1)\n            i--\n          }\n        }\n      }\n      return target\n    }\n    target.once = function(type, cb) {\n      const listener = function(...args) {\n        fn.apply(target, args)\n        self.off(type, cb)\n      }\n      return target.on(type, listener)\n    }\n    target.dispatchEvent = function(type, option) {\n      events.forEach(item => {\n        if (item.type === type) {\n          item.cb.call(target, { type, option })\n        }\n      })\n      return target\n    }\n  }\n}\nexport { mixinEvent }\n","import state from './state'\nimport { mixinEvent } from './event'\nclass Cell extends Object {\n  constructor(data, option, dataset) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.state = state['default']\n    this.__store.row = undefined\n    this.__store.col = undefined\n    this.__store.option = option\n    this.__store.data = data\n    this.__store.datasets = [dataset]\n    mixinEvent(this)\n  }\n  get datasets() {\n    return this.__store.datasets\n  }\n  get data() {\n    return this, this.__store.data\n  }\n  get value() {\n    return this.__store.data[this.__store.option['value']]\n  }\n  get text() {\n    return this.__store.data[this.__store.option['text']]\n  }\n  set row(num) {\n    if (this.__store.row === undefined) {\n      this.__store.row = num\n    }\n  }\n  get row() {\n    return this.__store.row\n  }\n  set col(num) {\n    if (this.__store.col === undefined) {\n      this.__store.col = num\n    }\n  }\n  get col() {\n    return this.__store.col\n  }\n  get option() {\n    return this.__store.option\n  }\n  get state() {\n    return this.__store.state\n  }\n  set state(name) {\n    if (state[name] && this.__store.state !== state[name]) {\n      this.dispatchEvent('change', { name: 'cell', value: state[name], data: this })\n      this.datasets.forEach(dataset => {\n        dataset.dispatchEvent('change', { name: 'cell', value: state[name], data: this })\n      })\n    }\n    this.__store.state = state[name]\n  }\n}\nexport default Cell\n","import { mixinEvent } from './event'\nimport state from './state'\nclass List extends Array {\n  constructor(name, option) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.__name = name\n    this.__store.__option = option\n    this.__store.dataset = null\n    mixinEvent(this)\n  }\n  get data() {\n    let arr = []\n    this.forEach(cell => {\n      arr.push(cell.data)\n    })\n    return arr\n  }\n  set dataset(arr) {\n    this.__store.dataset = arr\n  }\n  get dataset() {\n    return this.__store.dataset\n  }\n  get name() {\n    return this.__store.__name\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get state() {\n    //遍历子项，查看状态是否统一\n    let sta = this[0].state\n    for (let i = 1; i < this.length; i++) {\n      if (this[i].state !== sta) {\n        sta = 'mixed'\n        break\n      }\n    }\n    return sta\n  }\n  set state(name) {\n    if (state[name] && this.state !== state[name]) {\n      //给所有子项设置state\n      this.forEach(cell => {\n        cell.state = state[name]\n      })\n      let dispatchOption = null\n      if (this instanceof Row) {\n        dispatchOption = { name: 'row', value: state[name], data: this }\n      } else if (this instanceof Col) {\n        dispatchOption = { name: 'col', value: state[name], data: this }\n      }\n      this.dispatchEvent('change', dispatchOption)\n      this.dataset && this.dataset.dispatchEvent('change', dispatchOption)\n    }\n  }\n}\nclass Row extends List {}\nclass Col extends List {}\nexport { Row, Col }\n","import Cell from './Cell'\nimport { Row, Col } from './Row'\nimport { mixinEvent } from './event'\nclass Dataset extends Array {\n  constructor(data, option) {\n    super()\n    data.forEach((item, i) => {\n      let cell = item\n      if (!(item instanceof Cell)) {\n        cell = new Cell(item, option, this)\n      } else {\n        cell.datasets.push(this)\n      }\n      this[i] = cell\n    })\n    this.__store = Object.create(null)\n    let store = this.__store\n    store.__option = option\n    store.__deps = []\n    store.__rows = []\n    store.__rows = getArrData(this, option)\n    mixinEvent(this)\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get cols() {\n    let cols = []\n    let colLen = 0\n    this.__store.__rows.forEach(row => {\n      if (row.length > colLen) {\n        colLen = row.length\n      }\n    })\n    for (let i = 0; i < colLen; i++) {\n      let arr = new Col()\n      arr.dataset = this\n      this.__store.__rows.forEach(item => {\n        arr.push(item[i])\n      })\n      cols.push(arr)\n    }\n    return cols\n  }\n  get rows() {\n    return this.__store.__rows\n  }\n  resetState(state = 'default') {\n    let res = []\n    this.forEach(cell => {\n      if (cell.state !== state) {\n        res.push(cell)\n        cell.state = state\n      }\n    })\n    this.dispatchEvent('change', { name: 'reset', data: res })\n  }\n  selectRows(name) {\n    let rowKey = this.option.row\n    let arr = []\n    this.forEach(item => {\n      if (name.indexOf(item.data[rowKey]) !== -1) {\n        arr.push(item)\n      }\n    })\n    return new Dataset(arr, this.option)\n  }\n  addDep(dep) {\n    this.__store.__deps.push(dep)\n  }\n}\nfunction getArrData(data = [], option) {\n  let { row: key, col: sortKey } = option\n  let resArr = []\n  if (key === '*') {\n    let list = new Row('*', option)\n    data.forEach(item => {\n      list.push(item)\n    })\n    resArr.push(list.sort(keySort))\n  } else {\n    let keys = Object.create(null)\n    data.forEach(item => {\n      let data = item.__store.data\n      if (!keys[data[key]]) {\n        keys[data[key]] = new Row(data[key], option)\n      }\n      keys[data[key]].push(item)\n    })\n    for (let key in keys) {\n      let curRow = keys[key].sort(keySort)\n      resArr.push(curRow)\n    }\n  }\n  resArr.forEach((list, m) => {\n    list.dataset = data\n    list.forEach((cell, n) => {\n      cell.row = m\n      cell.col = n\n    })\n  })\n  return resArr\n  function keySort(a, b) {\n    if (sortKey) {\n      return a.data[sortKey] > b.data[sortKey] ? 1 : -1\n    }\n  }\n}\n\nexport default Dataset\n","import Dataset from './Dataset'\nexport default Dataset\n","const lifeCycle = {\n  beforeCreate: 'beforeCreate', //创建前\n  created: 'created', // 图表创建\n  beforeRender: 'beforeRender', //图表渲染前\n  rendered: 'rendered', // 图表渲染结束\n  beforeUpdate: 'beforeUpdate', // 图表更新前\n  updated: 'updated', // 图表更新\n  beforeDestroy: 'beforeDestroy', // 图表卸载前\n  destroyed: 'destroyed' // 图表卸载\n}\nfunction mixin(component) {\n  component.on = component.addEventListener\n  component.off = component.removeEventListener\n  component.once = function(type, fn) {\n    const listener = (...args) => {\n      fn.apply(this, args)\n      this.off(type, listener)\n    }\n    return this.on(type, listener)\n  }\n}\n\nexport { lifeCycle, mixin }\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      if (FirstOBJ[key] && FirstOBJ[key].toString() === '[object Object]' && SecondOBJ[key].toString() === '[object Object]') {\n        //对象处理\n        deepObjectMerge(FirstOBJ[key], SecondOBJ[key])\n      } else if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'array' && jsType(SecondOBJ[key]) === 'array') {\n        //数组处理\n        FirstOBJ[key].splice(0, FirstOBJ[key].length, ...SecondOBJ[key])\n      } else {\n        FirstOBJ[key] = SecondOBJ[key]\n      }\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null\n      ? null\n      : Object.prototype.toString\n          .call(value)\n          .slice(8, -1)\n          .toLowerCase()\n  }\n  return str\n}\n\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function(...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction debounce(fn, delay = 16, immediately = false) {\n  let timer = null\n  return function() {\n    let args = arguments\n    let context = this\n    if (timer) {\n      clearTimeout(timer)\n      timer = setTimeout(function() {\n        fn.apply(context, args)\n      }, delay)\n    } else {\n      if (immediately) {\n        fn.apply(context, args)\n      }\n      timer = setTimeout(function() {\n        fn.apply(context, args)\n      }, delay)\n    }\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, debounce, getDistancePx }\n","import { Node } from 'spritejs'\nimport { lifeCycle, mixin } from './mixin'\nimport { emptyObject, deepObjectMerge, jsType, getDistancePx, throttle } from '@qcharts/utils'\nimport { patch, diff } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nclass Base extends Node {\n  constructor(attrs) {\n    super()\n    this.dispatchEvent(lifeCycle.beforeCreate)\n    mixin(this)\n    this['__store'] = emptyObject()\n    let store = this['__store']\n    store.__attrs = emptyObject()\n    store.__vnode__ = null\n    store.__isCreated__ = false\n    store.__refs = emptyObject()\n    store.dataset = null\n    this.attr(attrs)\n    this.__update = throttle(_ => {\n      if (store.__isCreated__) {\n        this.update()\n      }\n    })\n    //渲染时的数据\n  }\n  get store() {\n    return this['__store']\n  }\n  get layer() {\n    let layerName = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr()).layer\n    return this.scene.layer(layerName)\n  }\n  get $refs() {\n    return this['__store'].__refs\n  }\n  get renderStyles() {\n    let styles = deepObjectMerge({}, this.defaultStyles(), this.theme.styles)\n    return styles\n  }\n  get renderAttrs() {\n    //attrs转换\n    let attrs = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\n    let { animation, clientRect } = attrs\n    //动画数据转换\n    if (jsType(animation) === 'boolean') {\n      animation = { use: animation ? true : false }\n    }\n    //处理layer支持多layer\n    let { width, height } = this.layer.canvas.getBoundingClientRect()\n    //计算布局数据\n    for (let key in clientRect) {\n      if (['left', 'right', 'width'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], width)\n      } else if (['top', 'bottom', 'height'].indexOf(key) !== -1) {\n        clientRect[key] = getDistancePx(clientRect[key], height)\n      }\n    }\n    if (clientRect.width === undefined) {\n      clientRect.width = width - clientRect.left - clientRect.right\n    } else {\n      clientRect.right = width - clientRect.left - clientRect.width\n    }\n    if (clientRect.height === undefined) {\n      clientRect.height = height - clientRect.top - clientRect.bottom\n    } else {\n      clientRect.bottom = height - clientRect.top - clientRect.height\n    }\n    attrs.colors = this.theme.colors\n    return attrs\n  }\n  get dataset() {\n    return this['__store'].dataset || (this.chart && this.chart.dataset)\n  }\n  source(data, options) {\n    let store = this['__store']\n    if (!(data instanceof Dataset)) {\n      let opts = options\n      if (store.dataset) {\n        opts = deepObjectMerge({}, store.dataset.option, options)\n      }\n      store.dataset = new Dataset(data, opts)\n    } else {\n      store.dataset = data\n    }\n    if (store.dataset && store.__isCreated__) {\n      //如果以前存在，则更新\n      this.__update()\n    }\n    return this\n  }\n  created() {\n    //初始化创建的时候执行\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.created)\n    store.__vnode__ = this.render(this.beforeRender())\n    const patches = diff(null, store.__vnode__)\n    this.dispatchEvent(lifeCycle.beforeRender)\n    patch.bind(this)(this.$el || this.layer, patches, 1)\n    this.dispatchEvent(lifeCycle.rendered)\n    this.rendered()\n    store.__isCreated__ = true\n    this.dataset.on('change', this.__update)\n  }\n  beforeRender() {\n    //图表初始化准备数据\n    return this.renderAttrs\n  }\n  render() {\n    console.warn('this function must be rewrited')\n  }\n  beforeUpdate() {\n    return this.renderAttrs\n  }\n  update() {\n    //图表更新准备数据\n    let store = this['__store']\n    this.dispatchEvent(lifeCycle.beforeUpdate)\n    let vnode = this.render(this.beforeUpdate())\n    const patches = diff(store.__vnode__, vnode)\n    patch.bind(this)(this.$el || this.layer, patches)\n    store.__vnode__ = vnode\n    this.dispatchEvent(lifeCycle.updated)\n  }\n  updated() {}\n  dispatchEvent(event, obj = emptyObject()) {\n    super.dispatchEvent(event, obj)\n  }\n  defaultAttrs() {\n    return emptyObject()\n  }\n  defaultStyles() {\n    return emptyObject()\n  }\n  baseAttrs() {\n    let attrs = {\n      //动画类型\n      animation: {\n        use: true,\n        duration: 300,\n        useTween: true,\n        easing: 'linear'\n      },\n      //位置布局信息\n      clientRect: {\n        left: '10%',\n        top: '10%',\n        right: '10%',\n        bottom: '10%',\n        width: undefined,\n        height: undefined\n      },\n      //透明度\n      opacity: 1,\n      layer: 'default',\n      layoutBy: 'rows' //按照哪个数据布局 ['rows','cols']\n    }\n    return attrs\n  }\n  attr(name, val) {\n    //属性设置\n    let store = this['__store']\n    if (jsType(name) === 'object') {\n      for (let key in name) {\n        this.attr(key, name[key])\n      }\n    } else if (name === undefined) {\n      let res = emptyObject()\n      for (let key in store.__attrs) {\n        //过滤style属性\n        if (key.indexOf('style@') !== 0) {\n          res[key] = store.__attrs[key]\n        }\n      }\n      return res\n    } else if (val === undefined) {\n      //获取属性\n      return store.__attrs[name]\n    } else if (name !== undefined) {\n      store.__attrs[name] = val\n      store.__isCreated__ && this.__update()\n    }\n  }\n  addRef(ref, el) {\n    this['__store'].__refs[ref] = el\n    //在vnode中调用，存储到this.__refs中\n  }\n  style(type, style) {\n    //样式设置，样式用attr逻辑存储，添加@符号\n    if (jsType(type) === 'object') {\n      //多样式赋值\n      for (let key in type) {\n        this.style(key, type[key])\n      }\n    } else if (type !== undefined && style === undefined) {\n      //获取样式，统一返回成函数\n      const style = this.attr('style@' + type)\n      return (...args) => {\n        if (jsType(style) === 'function') {\n          return style.apply(this, args)\n        } else {\n          return style\n        }\n      }\n    } else if (type !== undefined && style !== undefined) {\n      //赋值\n      this.attr('style@' + type, style)\n      return this\n    } else if (type === undefined && style === undefined) {\n      //获取全部样式\n      let res = emptyObject()\n      let attrs = this['__store'].__attrs\n      for (let key in attrs) {\n        if (key.indexOf('style@') === 0) {\n          let styleKey = key.substr(6)\n          res[styleKey] = this.style(styleKey)\n        }\n      }\n      return res\n    }\n  }\n}\nexport default Base\n","\nimport { deepObjectMerge } from '@qcharts/utils'\nconst theme = { colors: ['#47A1FF', '#6CD3FF', '#A2E5FF', '#4DCCCB', '#3FDDC7', '#84E0BE', '#59CB74', '#ADDF84', '#FBD54A', '#FFB952', '#F79452', '#E37474', '#FC6980', '#ED8CCE', '#DA65CC', '#9861E5', '#9F8CF1', '#6367EC', '#5982F6', '#659AEC'] }\ntheme.visuals = {\n  Line: {\n    colors: theme.colors,\n    styles: {\n      line: { lineWidth: 1 },\n      guideline: { strokeColor: '#ddd' }\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  LineTest: {\n    colors: theme.colors,\n    styles: {\n      line: { lineWidth: 1 }\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  Area: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 },\n      guideline: { strokeColor: '#ddd' }\n    },\n    attrs: {}\n  },\n\n  Radar: {\n    colors: theme.colors,\n    styles: {\n      area: { opacity: 0.5 }\n    },\n    attrs: {}\n  },\n  Bar: {\n    colors: theme.colors,\n    styles: {\n      bar: {},\n      groupBar: { opacity: 0.1 }\n    },\n    attrs: {\n      statck: false\n    }\n  },\n  PolarBar: {\n    colors: theme.colors,\n    styles: {\n      bar: {}\n    },\n    attrs: {\n      statck: false\n    }\n  }\n}\ntheme.plugins = {\n  Tooltip: {\n    colors: theme.colors,\n    styles: {},\n    attrs: {}\n  },\n  Legend: {\n    colors: theme.colors,\n    styles: {},\n    attrs: {}\n  },\n  Axis: {\n    colors: theme.colors,\n    styles: {\n      axis: {\n        strokeColor: '#ccc',\n        lineWidth: 1\n      },\n      scale: {\n        bgcolor: '#ccc'\n      },\n      label: {\n        fontSize: 12,\n        fillColor: '#666'\n      }\n    },\n    attrs: {\n      orient: 'bottom'\n    }\n  }\n}\ntheme.set = function(obj) {\n  //合并样式\n  deepObjectMerge(theme, obj)\n}\nexport default theme\n","import Base from './Base'\nimport theme from '../theme/default'\nexport default class BaseVisual extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.visuals[this.constructor.name]\n  }\n  get componentType() {\n    return 'visual'\n  }\n}\n","function scaleLinear() {\n  let domain = [0, 1]\n  let range = [0, 1]\n  function scale(num) {\n    let disDomain = domain[1] - domain[0]\n    let disRange = range[1] - range[0]\n    let per = (num - domain[0]) / disDomain || 0\n    return range[0] + disRange * per\n  }\n  scale.domain = function(arr) {\n    domain = arr\n    return this\n  }\n  scale.range = function(arr) {\n    range = arr\n    return this\n  }\n  return scale\n}\n\n// const data = [80, 40, 30, 60, 70]\n// const s = scaleLinear().domain([0, 100]).range([0, 100])\n// console.log(data.map(s))\n\nexport { scaleLinear }\n","//import { Global } from '../core/Global'\nexport function axis(attr) {\n  // 计算坐标轴刻度\n  if (!Array.isArray(attr.dataSet) && !attr.hasOwnProperty('section')) {\n    return []\n  }\n  if (attr.section !== undefined) {\n    return sectionAxis(attr.section)\n  }\n  const data = dataHandle(attr)\n  let upZero = [] // 大于零的数\n  let downZero = [] // 小于零的数\n  for (const element of data) {\n    if (element < 0) {\n      downZero.push(Math.abs(element))\n    } else {\n      upZero.push(element)\n    }\n  }\n  let length = 5 // 刻度数量\n  let sortUpZero = upZero.sort((a, b) => {\n    return a - b\n  })\n  let sortDownZero = downZero.sort((a, b) => {\n    return a - b\n  })\n  let maxUpZero = sortUpZero.length && Math.ceil(sortUpZero.pop() / 0.95)\n  let maxDownZero = sortDownZero.length && Math.ceil(sortDownZero.pop() / 0.95)\n  let maxValue = maxUpZero - maxDownZero >= 0 ? maxUpZero : maxDownZero\n  let mixNum = 4\n  let maxNum = 7\n  if (maxDownZero && maxUpZero) {\n    mixNum = 3\n    maxNum = 5\n  }\n  if (attr.splitNumber) {\n    mixNum = attr.splitNumber\n    maxNum = mixNum + 1\n  }\n  let getMax = false\n  const len = maxValue.toString().length // 最大值位数\n  let max = len < 3 ? Math.ceil(maxValue / Math.pow(10, len - 1)) : Math.ceil(maxValue / Math.pow(10, len - 2))\n  do {\n    for (let i = mixNum; i < maxNum; i++) {\n      if (max % i === 0) {\n        length = i\n        maxValue = len < 3 ? max * Math.pow(10, len - 1) : max * Math.pow(10, len - 2)\n        getMax = true\n        break\n      }\n    }\n    max++\n  } while (!getMax)\n\n  let axisArray = new Array(length + 1)\n  axisArray[0] = 0\n  for (let i = 1; i < length + 1; i++) {\n    axisArray[i] = maxUpZero >= maxDownZero ? Math.round((maxValue / length) * i) : -1 * Math.round((maxValue / length) * i)\n  }\n\n  // 处理0-1之间的数据\n  if ((maxDownZero <= 1 && maxDownZero > 0) || (maxUpZero <= 1 && maxUpZero > 0) || (maxUpZero === 0 && maxDownZero === 0)) {\n    axisArray = new Array(6)\n    axisArray[0] = 0\n    maxValue = 1\n    for (let i = 1; i < 6; i++) {\n      axisArray[i] = maxUpZero >= maxDownZero ? (2 * maxValue * i) / 10 : (-2 * maxValue * i) / 10\n    }\n  }\n\n  if (maxUpZero < maxDownZero) {\n    axisArray.reverse()\n  }\n  if (maxDownZero.length === 0 || maxUpZero.length === 0) {\n    return axisArray\n  }\n  if (maxUpZero >= maxDownZero) {\n    const unit = axisArray[1] * 10\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxDownZero) / maxUpZero); i < len + 1; i++) {\n      axisArray.unshift((-1 * unit * i) / 10)\n    }\n  } else {\n    const unit = axisArray[axisArray.length - 2] * 10\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxUpZero) / maxDownZero); i < len + 1; i++) {\n      axisArray.push((-1 * unit * i) / 10)\n    }\n  }\n  if (attr.needReverse) {\n    axisArray = axisArray.map(value => {\n      return Global.datasetReverse ? Math.round(Global.datasetReverse(value)) : value\n    })\n  }\n  return axisArray\n}\n\nfunction dataHandle(attr) {\n  const stack = attr.stack || false\n  const data = attr.dataSet || []\n  // const field = attr.field || '__valueGetter__'\n  //let field = '__valueGetter__'\n\n  const arr = []\n\n  if (stack && data.length !== 0 && data[0].length) {\n    for (let i = 0, len = data[0].length; i < len; i++) {\n      let sum = 0\n      let sumDown = 0\n      for (let j = 0, leng = data.length; j < leng; j++) {\n        if (data[j][i].disabled === true) {\n          continue\n        }\n        // const value =\n        // attr && attr.field ? data[j][i][field] : data[j][i][field]()\n        const value = data[j][i].value\n        if (value < 0) {\n          sumDown = sumDown + value\n        } else {\n          sum = sum + value\n        }\n      }\n      sum && arr.push(sum)\n      sumDown && arr.push(sumDown)\n    }\n  } else {\n    for (let m = 0; m < data.length; m++) {\n      for (let n = 0; n < data[m].length; n++) {\n        if (data[m][n].disabled === true) {\n          continue\n        }\n        // arr.push(attr && attr.field ? data[i][n][field] : data[i][n][field]())\n        arr.push(data[m][n].value)\n      }\n    }\n  }\n  return arr\n}\n\nfunction sectionAxis(section) {\n  if (section && Array.isArray(section)) {\n    const gap = section[1] - section[0]\n    const arr = []\n    let divide = 4\n    arr.push(section[0])\n    for (let i = 4; i < 8; i++) {\n      if (gap % i === 0) {\n        divide = i\n        break\n      }\n    }\n    for (let j = 1; j <= divide; j++) {\n      arr.push((section[0] + (gap * j) / divide).toFixed(2))\n    }\n    return arr\n  }\n  return []\n}\n","import { scaleLinear } from '../../utils/scaleLinear'\nimport { axis } from '../../utils/axis'\nexport default function layout(arr, attrs) {\n  let type = this.type\n  let lines = []\n  const { stack, splitNumber, clientRect } = attrs\n  const { width, height } = clientRect\n  let scales = axis({ dataSet: arr, stack, splitNumber })\n  let maxVal = Math.max.apply(this, scales)\n  let minVal = Math.min.apply(this, scales)\n  let scaleFY = scaleLinear()\n    .domain([minVal, maxVal])\n    .range([0, height])\n  let prevRow = null\n  arr.forEach(row => {\n    //if (row.state === 'disabled') return\n    let line = { points: [], areaPoints: [], smoothRange: [], state: row.state }\n    row.forEach((cell, i) => {\n      let val = cell.value\n      let dx = width / (row.length - 1)\n      let curPos = [dx * i, height - scaleFY(val)]\n      if (stack && prevRow) {\n        //如果是堆叠并且前一个row存在，则叠加\n        curPos = [dx * i, height - scaleFY(val + prevRow[i].value)]\n      }\n      line.points.push(curPos)\n    })\n    line.axisPoints = [\n      [line.points[0][0], height - scaleFY(0)],\n      [line.points[line.points.length - 1][0], height - scaleFY(0)]\n    ]\n    if (line.state !== 'disabled') {\n      prevRow = row\n    }\n    lines.push(line)\n  })\n  if (type === 'area') {\n    let curLine = null\n    lines.forEach((line, ind) => {\n      let nextPoints = [\n        [line.points[line.points.length - 1][0], height],\n        [line.points[0][0], height]\n      ]\n      if (curLine && attrs.stack) {\n        nextPoints = [].concat(lines[ind - 1].points).reverse()\n      }\n      let res = transAreaPoint(line.points, nextPoints)\n      line.areaPoints = res.areaPoints\n      line.smoothRange = res.smoothRange\n      if (line.state !== 'disabled') {\n        curLine = line\n      }\n    })\n  }\n  return lines\n}\nfunction transAreaPoint(startPoints, endPoints) {\n  let res = {\n    areaPoints: [],\n    smoothRange: []\n  }\n  res.areaPoints = []\n    .concat([startPoints[0]])\n    .concat(startPoints)\n    .concat([startPoints[startPoints.length - 1]])\n    .concat([endPoints[0]])\n    .concat(endPoints)\n    .concat([endPoints[endPoints.length - 1]])\n  res.smoothRange = [1, startPoints.length, startPoints.length + 3, startPoints.length + endPoints.length + 2]\n  return res\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline, Node } from 'spritejs'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport layout from './layout'\nclass Line extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderLines = []\n    this.type = 'line'\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let lines = arrLayout.map(item => {\n      return {\n        smoothRange: item.smoothRange,\n        areaFrom: { points: item.areaPoints },\n        areaTo: { points: item.areaPoints },\n        from: { points: item.points, lineDash: [1, maxLen] },\n        to: { points: item.points, lineDash: [maxLen, maxLen] }\n      }\n    })\n    return lines\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let renderLines = this.renderLines\n    let lines = arrLayout.map((item, i) => {\n      let from = { points: item.points }\n      if (renderLines[i]) {\n        from = { points: renderLines[i].to.points }\n      }\n      if (!renderLines[i] || renderLines[i].state === 'disabled') {\n        from.lineDash = [4, maxLen]\n      }\n      return {\n        state: item.state,\n        smoothRange: item.smoothRange,\n        areaFrom: (renderLines[i] && renderLines[i].areaTo) || item.areaPoints,\n        areaTo: {\n          points: item.areaPoints\n        },\n        from,\n        to: {\n          points: item.points,\n          lineDash: [maxLen, maxLen]\n        }\n      }\n    })\n    return lines\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let { height, width } = renderAttrs.clientRect\n    //对角线长度的2保证会大于曲线的长度\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 2\n    return { width, height, arrLayout, maxLen }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      guidePoints: [],\n      layer: 'line'\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {\n      smooth: false\n    }\n  }\n  guidelineleave(event, el) {\n    this.attr('guidePoints', [])\n    this.dataset.resetState('hover')\n  }\n  guidelinemove(event, el) {\n    if (this.renderLines.length) {\n      //获取 x轴坐标的刻度\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\n      //转换cancas坐标到当前group的相对坐标\n      let [x] = el.getOffsetPosition(event.x, event.y)\n      let curInd = 0\n      //查找当前位置\n      for (let i = 0; i < arrX.length; i++) {\n        if (x > arrX[i] && x < arrX[i + 1]) {\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\n          break\n        }\n      }\n      //重置所有的dateset的状态\n      if (this.hoverIndex !== curInd) {\n        this.dataset.resetState('hover')\n        //设置当前列的state为hover\n        this.dataset.cols[curInd].state = 'hover'\n        let { clientRect } = this.renderAttrs\n        let posX = arrX[curInd]\n        this.hoverIndex = curInd\n        this.attr({\n          guidePoints: [\n            [posX, 0],\n            [posX, clientRect.height]\n          ],\n          lineState: 'default'\n        })\n      }\n    }\n  }\n  render(lines) {\n    let { clientRect, smooth, guidePoints } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderLines = lines\n    return (\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} onMouseleave={this.guidelineleave} onMouseenter={this.guidelinemove} onMousemove={this.guidelinemove} size={[clientRect.width, clientRect.height]}>\n        <Group class=\"lines-group\">\n          {lines.map((line, ind) => {\n            let mergeStyle = deepObjectMerge({ strokeColor: colors[ind], smooth }, styles.line)\n            let style = this.style('line')(mergeStyle, this.dataset.rows[ind], ind)\n            let renderStyle = deepObjectMerge(mergeStyle, style)\n            return line.state === 'disabled' || style === false ? <Node /> : <Polyline onClick={this.lineClick} {...renderStyle} animation={{ from: line.from, to: line.to }} />\n          })}\n        </Group>\n        <Group class=\"areas-group\">\n          {this.type !== 'area'\n            ? null\n            : lines.map((line, ind) => {\n                let mergeStyle = deepObjectMerge({ fillColor: colors[ind], smooth }, styles.area)\n                let style = this.style('area')(mergeStyle, this.dataset.rows[ind], ind)\n                let renderStyle = deepObjectMerge(mergeStyle, style)\n                return line.state === 'disabled' || style === false ? <Node /> : <Polyline smoothRange={line.smoothRange} {...renderStyle} animation={{ from: line.areaFrom, to: line.areaTo }} />\n              })}\n        </Group>\n        <Group class=\"guide-line-group\">\n          {guidePoints.length\n            ? (_ => {\n                let mergeStyle = deepObjectMerge({}, styles.guideline)\n                let style = this.style('area')(mergeStyle)\n                let renderStyle = deepObjectMerge(mergeStyle, style)\n                return <Polyline points={guidePoints} {...renderStyle} />\n              })()\n            : null}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Line\n","import Base from '../../base/BaseVisual'\nimport { Group, Polyline } from 'spritejs'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport layout from './layout'\nclass LineTest extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderLines = []\n    this.type = 'line'\n    this.guidePoints = []\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let lines = arrLayout.map(item => {\n      return {\n        smoothRange: item.smoothRange,\n        areaFrom: { points: item.areaPoints },\n        areaTo: { points: item.areaPoints },\n        from: { points: item.points, lineDash: [1, maxLen] },\n        to: { points: item.points, lineDash: [maxLen, maxLen] }\n      }\n    })\n    return lines\n  }\n  beforeUpdate() {\n    //更新前的处理函数，返回lines,继承base\n    let { arrLayout, maxLen } = this.getRenderData()\n    let renderLines = this.renderLines\n    let lines = arrLayout.map((item, i) => {\n      let from = { points: item.points }\n      if (renderLines[i]) {\n        from = { points: renderLines[i].to.points }\n      }\n      if (!renderLines[i] || renderLines[i].state === 'disabled') {\n        from.lineDash = [4, maxLen]\n      }\n      return {\n        state: item.state,\n        smoothRange: item.smoothRange,\n        areaFrom: renderLines[i].areaTo,\n        areaTo: {\n          points: item.areaPoints\n        },\n        from,\n        to: {\n          points: item.points,\n          lineDash: [maxLen, maxLen]\n        }\n      }\n    })\n    return lines\n  }\n  getRenderData() {\n    //根据line的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let arrLayout = layout.call(this, renderData, renderAttrs)\n    let { height, width } = renderAttrs.clientRect\n    //对角线长度的2保证会大于曲线的长度\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 2\n    return { width, height, arrLayout, maxLen }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      guidePoints: [],\n      //添加一些state做演示效果\n      lineState: 'default',\n      states: {\n        line: {\n          default: { strokeColor: '#0ff' },\n          hover: { strokeColor: '#f00' }\n        }\n      },\n      layer: 'line'\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {\n      smooth: false\n    }\n  }\n  guidelineleave(event, el) {\n    //重置guidePoints属性，此时视图会自动更新\n    this.attr('guidePoints', [])\n    //重置dataset，此时会触发dataset的change事件，name为reset\n    this.dataset.resetState()\n  }\n  guidelinemove(event, el) {\n    if (this.renderLines.length) {\n      //获取 x轴坐标的刻度\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\n      //转换cancas坐标到当前group的相对坐标\n      let [x] = el.getOffsetPosition(event.x, event.y)\n      let curInd = 0\n      //查找当前位置\n      for (let i = 0; i < arrX.length; i++) {\n        if (x > arrX[i] && x < arrX[i + 1]) {\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\n          break\n        }\n      }\n      //重置所有的dateset的状态\n      if (this.hoverIndex !== curInd) {\n        this.dataset.resetState()\n        //设置当前列的state为hover,此时会触发dataset的change事件，其中，cell与对应的col都会触发\n        this.dataset.cols[curInd].state = 'hover'\n        let { clientRect } = this.renderAttrs\n        let posX = arrX[curInd]\n        this.hoverIndex = curInd\n        //修改lineState、guidePoints属性，attr修改会触发视图自动更新\n        this.attr({\n          guidePoints: [\n            [posX, 0],\n            [posX, clientRect.height]\n          ],\n          lineState: 'default'\n        })\n      }\n    }\n  }\n  myclick() {\n    //修改lineState属性，attr修改会触发视图自动更新\n    this.attr('lineState', 'hover')\n  }\n  render(lines) {\n    let { clientRect, smooth, states, lineState, guidePoints } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    //当前主体颜色\n    let colors = this.theme.colors\n    this.renderLines = lines\n    return (\n      <Group\n        class=\"container\"\n        pos={[clientRect.left, clientRect.top]}\n        onMouseleave={this.guidelineleave}\n        onMousemove={this.guidelinemove}\n        size={[clientRect.width, clientRect.height]}\n        onClick={this.myclick}\n      >\n        <Group ref=\"lines\" class=\"lines-group\">\n          {lines.map((line, ind) => {\n            let mergeStyle = deepObjectMerge({ strokeColor: colors[ind], smooth }, styles.line)\n            let style = this.style('line')(mergeStyle, this.dataset.rows[ind], ind)\n            let lineStyle = deepObjectMerge(mergeStyle, style)\n            return line.state === 'disabled' || style === false ? null : (\n              <Polyline state={lineState} states={states.line} onClick={this.lineClick} {...lineStyle} animation={{ from: line.from, to: line.to }} />\n            )\n          })}\n        </Group>\n        <Group ref=\"areas\" class=\"areas-group\">\n          {this.type !== 'area'\n            ? null\n            : lines.map((line, ind) => {\n                let mergeStyle = deepObjectMerge({ fillColor: colors[ind], smooth }, styles.area)\n                let style = this.style('area')(mergeStyle, this.dataset.rows[ind], ind)\n                let areaStyle = deepObjectMerge(mergeStyle, style)\n                return line.state === 'disabled' || style === false ? null : <Polyline smoothRange={line.smoothRange} {...areaStyle} animation={{ from: line.areaFrom, to: line.areaTo }} />\n              })}\n        </Group>\n        <Group class=\"guide-line-group\">{guidePoints.length ? <Polyline points={guidePoints} strokeColor={'#f00'} /> : null}</Group>\n      </Group>\n    )\n  }\n}\nexport default LineTest\n","import Line from '../Line'\nimport { deepObjectMerge } from '@qcharts/utils'\nclass Area extends Line {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'area'\n  }\n  defaultAttrs() {\n    return deepObjectMerge({}, super.defaultAttrs(), {\n      stack: true,\n      layer: 'area'\n    })\n  }\n}\nexport default Area\n","/**\n * 根据给定角度和长度获取极坐标值\n * @param {Number} radian 角度\n * @param {Number} length 长度\n * @returns {Array} [x,y]\n */\nconst getPointCoordinate = (radian, length) => {\n  let x = Math.cos(radian) * length\n  let y = Math.sin(radian) * length\n  return [x, y]\n}\n\n/**\n * 获取数组中最大数除以层级后的整数\n * @param {Array} data\n * @param {Number} splitNumber\n * @returns {Number}\n */\nconst getMax = (data, splitNumber) => {\n  const indicatorMax = Math.max(...data)\n  if (indicatorMax < splitNumber * 10) {\n    return Math.ceil(indicatorMax / splitNumber) * splitNumber\n  } else {\n    return Math.ceil(indicatorMax / 10 / splitNumber) * 10 * splitNumber\n  }\n}\n\n/**\n * 根据给定的数据，返回绘制雷达图所需要的数据\n * @param {Array} dataset 数据集\n * @param {Number} radius 雷达图半径\n * @param {Number} splitNumber  雷达图背景层级\n * @param {Number} startAngle 雷达图起始轴角度\n * @param {Number} labelOffset 雷达图文字偏移值\n * @returns {Object} { sectionAttrs, borderAttrs, axisAttrs, gridAttrs }\n */\nexport default function layout(data, radius, splitNumber, startAngle, labelOffset) {\n  let bgPoints = [] // 最外层背景多边形\n  let gridAttrs = [] // 蜘蛛网图背景\n  let axisAttrs = [] // 坐标轴\n  let sectionAttrs = [] // 多边形数据\n  if (data.some(d => d.length === 0)) {\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  const allDataValue = data.reduce((t, row) => {\n    return t.concat(row.map(cell => cell.value))\n  }, [])\n\n  const max = getMax(allDataValue, splitNumber)\n\n  // 每个类别的弧度\n  const dimension = data[0].length\n  const perRadian = (Math.PI * 2) / dimension\n  // 起始角度->转弧度\n  const startRadian = (Math.PI / 180) * startAngle\n  for (let i = 0; i < dimension; i++) {\n    // 根据角度和半径，计算对应的坐标\n    let currentRadian = i * perRadian + startRadian\n    let point = getPointCoordinate(currentRadian, radius)\n\n    bgPoints.push({\n      point,\n      radian: currentRadian\n    })\n\n    // 类别指示坐标\n    const labelPos = getPointCoordinate(currentRadian, radius + labelOffset)\n    const label = data[0][i].text\n    // 坐标轴属性\n    axisAttrs.push({\n      points: [[0, 0], point],\n      lineWidth: 1,\n      lineDash: [3, 2],\n      strokeColor: '#DDE0E5',\n      label,\n      labelPos,\n      radian: currentRadian,\n      maxScale: max,\n      splitNumber: splitNumber\n    })\n  }\n\n  data.forEach((row, index) => {\n    const categoryPoints = row.map((d, i) => {\n      const value = d.value\n      const radian = bgPoints[i].radian\n      return getPointCoordinate(radian, (value / max) * radius)\n    })\n\n    const dataOrigin = row.map(d => d.data)\n\n    sectionAttrs.push({\n      points: categoryPoints,\n      index: index,\n      dataOrigin,\n      close: true\n    })\n  })\n\n  // 背景网格多边形坐标\n  const gridPoints = bgPoints.map(p => p.point)\n  for (let i = 0; i < splitNumber; i++) {\n    let scale = 1 - i / splitNumber\n    gridAttrs.push({\n      scale,\n      radius,\n      points: gridPoints,\n      index: i,\n      close: true,\n      lineWidth: 1,\n      strokeColor: '#DDE0E5',\n      anchor: [0.5, 0.5]\n    })\n  }\n\n  return { sectionAttrs, axisAttrs, gridAttrs }\n}\n","import { Group, Polyline, Label, Ring } from 'spritejs'\nimport BaseVisual from '../../base/BaseVisual'\nimport layout from './layout'\n\nclass Radar extends BaseVisual {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'radar'\n    this.areaEl = []\n    this.scaleEl = []\n    this.isUpdate = false\n    // 网格背景数据备份，数据全部隐藏的时候显示上一个备份的数据\n    this.lastGridAttr = []\n  }\n\n  //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n  get attrs() {\n    return this.renderAttrs\n  }\n\n  // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n  defaultAttrs() {\n    return {\n      gridType: 'polygon', // 网格类型,polygon,circle\n      splitNumber: 4, // 网格层次\n      startAngle: 270, // 起始角度\n      radius: 0.6, // 雷达图半径\n      labelOffset: 7 // 文字偏移\n    }\n  }\n\n  get center() {\n    const attrs = this.attrs\n    const { height, width } = attrs.clientRect\n    return [width / 2, height / 2]\n  }\n\n  get len() {\n    const { radius } = this.attrs\n    return Math.min(...this.center) * radius\n  }\n\n  getRenderData() {\n    const dataSet = this.dataset\n    // // FIXME 数据筛选之前先按照label进行排序?是否需要？\n    const len = this.len\n    const { splitNumber, startAngle, labelOffset } = this.attrs\n    const { sectionAttrs, axisAttrs, gridAttrs } = layout([...dataSet.rows], len, splitNumber, startAngle, labelOffset)\n\n    const colors = this.theme.colors\n\n    sectionAttrs.forEach((s, i) => {\n      s.strokeColor = colors[i]\n      s.fillColor = colors[i]\n    })\n\n    const sLen = sectionAttrs.length\n    for (let i = sLen; i < this.areaEl.length; i++) {\n      this.areaEl[i] = null\n    }\n\n    return { sectionAttrs, axisAttrs, gridAttrs }\n  }\n\n  showTooltip(evt, attr) {\n    this.chart.setCanvasCursor('pointer')\n    this.dataset.hoverData({\n      data: { color: attr.fillColor, data: attr.dataOrigin },\n      ...evt\n    })\n  }\n\n  hideTooltip() {\n    this.dataset.hoverData(null)\n  }\n\n  beforeUpdate() {\n    super.beforeUpdate()\n    this.isUpdate = true\n    return this.getRenderData()\n  }\n\n  beforeRender() {\n    super.beforeRender()\n    return this.getRenderData()\n  }\n\n  update() {\n    this.forceUpdate()\n  }\n  rendered() {}\n\n  _getScaleAnimation(toScale) {\n    return {\n      from: { scale: 0 },\n      to: { scale: toScale }\n    }\n  }\n\n  _getStyle(type, attr, data, index) {\n    return {\n      style: this.style(type)(attr, data, index),\n      hoverState: this.style(`${type}:hover`)(attr, data, index),\n      onMouseenter: (_, el) => el.attr('state', 'hover'),\n      onMouseleave: (evt, el) => {\n        el.attr('state', 'normal')\n        this.chart.setCanvasCursor('default')\n      }\n    }\n  }\n\n  _isSamePoints(fromPts, toPts) {\n    if (fromPts.toString() === toPts.toString()) {\n      return true\n    }\n    return false\n  }\n\n  _getPolylineAnimation(attr, index) {\n    let newAttr = attr\n    let animation = this._getScaleAnimation(1)\n    // 更新的动画\n    const preEl = this.areaEl[index]\n    if (preEl) {\n      const { points: toPoints, ...other } = attr\n      const { points } = preEl.attr()\n      if (!this._isSamePoints(points, toPoints)) {\n        animation = {\n          from: { points },\n          to: { points: toPoints },\n          useTween: true\n        }\n        newAttr = other\n      } else {\n        animation = {}\n      }\n    }\n    return { attr: newAttr, animation }\n  }\n\n  renderGrid(gridAttrs) {\n    if (gridAttrs.length !== 0) {\n      this.lastGridAttr = gridAttrs\n    } else {\n      gridAttrs = this.lastGridAttr\n    }\n    const { gridType } = this.attr()\n    const GridShape = gridType === 'circle' ? Ring : Polyline\n    return gridAttrs.map((attr, i) => {\n      const animation = this.isUpdate ? {} : this._getScaleAnimation(attr.scale)\n      const { style, ...other } = this._getStyle('grid', attr, null, i)\n      if (style === false) {\n        return\n      }\n      let gridAttr = { ...attr }\n      if (gridType === 'circle') {\n        gridAttr = {\n          lineWidth: attr.lineWidth,\n          strokeColor: attr.strokeColor,\n          innerRadius: 0,\n          outerRadius: attr.radius,\n          scale: attr.scale\n        }\n      }\n      return <GridShape {...gridAttr} {...style} {...other} animation={animation} />\n    })\n  }\n\n  renderAxis(axisAttrs) {\n    const animation = this.isUpdate ? {} : this._getScaleAnimation(1)\n    return axisAttrs.map((attr, i) => {\n      if (attr.disabled) {\n        return\n      }\n      const { style, ...other } = this._getStyle('axis', attr, { text: attr.label }, i)\n      if (style === false) {\n        return\n      }\n      return (\n        <Group clipOverflow={false} size={[1, 1]}>\n          <Polyline {...attr} {...style} {...other} animation={animation} />\n          {this._renderAxisLabel(attr, i)}\n          {this._renderAxisScale(attr, i)}\n        </Group>\n      )\n    })\n  }\n\n  _renderAxisLabel(attrs, i) {\n    const calcAnchor = radian => {\n      const x = 0.5 - Math.cos(radian)\n      const y = 0.5 - Math.sin(radian)\n      return [x, y]\n    }\n    const { label, labelPos, radian } = attrs\n    const anchor = calcAnchor(radian)\n    const attr = {\n      text: label,\n      pos: labelPos,\n      color: '#67728C',\n      radian,\n      anchor,\n      font: '12px 宋体'\n    }\n    const animation = this.isUpdate ? {} : this._getScaleAnimation(1)\n    const { style, ...other } = this._getStyle('label', attr, { text: attr.label, radian }, i)\n    if (style === false) {\n      return\n    }\n    return <Label {...attr} {...style} {...other} animation={animation} />\n  }\n\n  _renderAxisScale(attrs, index) {\n    const getPt = attrs => {\n      const { points, splitNumber, maxScale } = attrs\n      const [x, y] = points[1]\n      const perNum = maxScale / splitNumber\n      return [[x / splitNumber, y / splitNumber], perNum]\n    }\n    const [[perX, perY], perNum] = getPt(attrs)\n    let labels = []\n    const display = index === 0 ? 'block' : 'none'\n    const common = {\n      font: '12px \"宋体\"',\n      anchor: [1, 0.5],\n      translate: [-5, 0],\n      display\n    }\n    for (let i = 0; i < attrs.splitNumber + 1; i++) {\n      let point = [perX * i, perY * i]\n      let text = perNum * i\n      let attr = {\n        text,\n        color: '#67728C',\n        pos: point,\n        ...common\n      }\n      const { style, ...other } = this._getStyle('scale', attr, { text, index }, i)\n      if (style === false) {\n        return\n      }\n      if (attr.display !== 'none') {\n        const elIndex = index * attrs.splitNumber + i\n        const preEl = this.scaleEl[elIndex]\n        let animation = this.isUpdate\n          ? {}\n          : {\n              from: { pos: [0, 0] },\n              to: { pos: point }\n            }\n        if (preEl) {\n          const { text: preText } = preEl.attr()\n          const numText = Number(preText)\n          if (numText !== text) {\n            animation = {\n              from: { text: numText },\n              to: { text },\n              attrFormatter: attr => {\n                attr.text = attr.text.toFixed(0)\n                return attr\n              },\n              useTween: true\n            }\n          }\n        }\n        labels.push(<Label {...attr} {...style} {...other} animation={animation} />)\n      }\n    }\n    return labels\n  }\n\n  renderSection(sectionAttrs) {\n    return sectionAttrs.map((attr, i) => {\n      if (attr.disabled) {\n        this.areaEl[i] = null\n        return\n      }\n      const { animation } = this._getPolylineAnimation(attr, i)\n      const { style, hoverState, ...other } = this._getStyle('section', attr, { ...attr.dataOrigin }, i)\n      if (style === false) {\n        return\n      }\n      let hoverStyle = hoverState\n      if (!hoverState) {\n        hoverStyle = {}\n        const { lineWidth = 1 } = attr\n        hoverStyle.lineWidth = lineWidth + 1\n      }\n      return <Polyline zIndex={9 + i} animation={animation} {...attr} {...style} hoverState={hoverStyle} {...other} />\n    })\n  }\n\n  renderPoints(sectionAttrs) {\n    const allPoints = sectionAttrs.map((attrs, index) => {\n      if (attrs.disabled) {\n        return\n      }\n      const { points, dataOrigin, strokeColor } = attrs\n      let prePoints\n      if (this.areaEl[index]) {\n        prePoints = this.areaEl[index].attr().points\n      }\n      return points.map((point, i) => {\n        let attr = {\n          pos: point,\n          fillColor: strokeColor,\n          strokeColor,\n          innerRadius: 0,\n          outerRadius: 2,\n          dataOrigin: dataOrigin[i],\n          anchor: [0.5, 0.5]\n        }\n        let animation = {\n          from: { pos: [0, 0] },\n          to: { pos: point }\n        }\n        if (prePoints && prePoints[i]) {\n          if (!this._isSamePoints(prePoints[i], point)) {\n            animation.from.pos = prePoints[i]\n            animation.useTween = true\n          } else {\n            animation = {}\n            attr.pos = point\n          }\n        }\n        const style = this.style('point')(attr, { ...attr.dataOrigin }, i)\n        if (style === false) {\n          return\n        }\n        return (\n          <Ring\n            {...attr}\n            {...style}\n            animation={animation}\n            onMouseenter={(_, el) => {\n              el.attr('state', 'hover')\n            }}\n            onMouseleave={(evt, el) => {\n              el.attr('state', 'normal')\n            }}\n          />\n        )\n      })\n    })\n\n    return allPoints.reduce((pre, cur) => pre.concat(cur), [])\n  }\n\n  render({ sectionAttrs, axisAttrs, gridAttrs }) {\n    const center = this.center\n    const padding = this.padding\n    const { size } = this.attr()\n    return (\n      <Group size={size} padding={padding}>\n        <Group pos={center}>\n          {this.renderGrid(gridAttrs)}\n          {this.renderAxis(axisAttrs)}\n          {this.renderSection(sectionAttrs)}\n          {this.renderPoints(sectionAttrs)}\n        </Group>\n      </Group>\n    )\n  }\n}\n\nexport default Radar\n","import Base from '../../base/BaseVisual'\nimport { Group, Sprite } from 'spritejs'\nimport { deepObjectMerge, throttle } from '@qcharts/utils'\nimport layout from './layout'\nclass Bar extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'bar'\n    this.pillars = null\n    this.groups = null\n    this.fromTos = null\n    this.hoverIndex = -1\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map(item => {\n      return {\n        attrs: item,\n        from: {\n          size: this.renderAttrs.transpose ? [0, item.size[1]] : [item.size[0], 0]\n        },\n        to: {\n          size: item.size\n        }\n      }\n    })\n    this.pillars = barData\n    this.groups = arrLayout.groupData\n    return { barData, groupData: arrLayout.groupData }\n  }\n  beforeUpdate() {\n    const pillars = this.pillars\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1]\n      if (!prev) {\n        prev = {\n          size: [0, 0],\n          pos: nextPillar.pos,\n          labelAttrs: null\n        }\n      }\n      return {\n        attrs: nextPillar,\n        from: {\n          size: prev.attrs.disable ? (this.attr('transpose') ? [0, prev.attrs.size[1]] : [prev.attrs.size[0], 0]) : prev.attrs.size,\n          pos: prev.attrs.pos\n        },\n        to: {\n          size: nextPillar.size,\n          pos: nextPillar.pos\n        }\n      }\n    })\n    this.pillars = barData\n    this.groups = arrLayout.groupData\n    return { barData, groupData: arrLayout.groupData }\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    const dataLength = renderData.length > 1 ? renderData.length : renderData[0].length\n    let arrLayout = layout(renderData, renderAttrs)\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n    arrLayout.barData = arrLayout.barData.map((bar, i) => {\n      let style = this.style('pillar')(bar.attrs, this.dataset.rows[i], i)\n      let barStyle = deepObjectMerge({ bgcolor: bar.bgcolor || colors[i % dataLength] }, styles.bar, style)\n      bar = deepObjectMerge(bar, barStyle)\n      return bar\n    })\n    return { arrLayout }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    let renderData = this.dataset['rows']\n    let stateArray = Array.from({ length: renderData[0].length }, () => 'defalut')\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'bar',\n      bgpillarState: stateArray,\n      states: {\n        bgpillar: {\n          animation: { duration: 20 },\n          default: { opacity: 0.01 },\n          hover: { opacity: 0.1 }\n        }\n      }\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n  onMousemove = throttle(\n    (event, el) => {\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\n        let curInd = 0\n        let [x, y] = el.getOffsetPosition(event.x, event.y)\n        if (!this.renderAttrs.transpose) {\n          //获取 x轴坐标的刻度\n          let width = this.groups[0].size[0]\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(x / width)\n        } else {\n          let width = this.groups[0].size[1]\n          //转换canvas坐标到当前group的相对坐标\n          curInd = Math.floor(y / width)\n        }\n        if (curInd < 1) {\n          curInd = 0\n        } else if (curInd > this.groups.length - 1) {\n          curInd = this.groups.length - 1\n        }\n        if (this.hoverIndex !== curInd) {\n          let { bgpillarState } = this.renderAttrs\n          bgpillarState[curInd] = 'hover'\n          bgpillarState[this.hoverIndex] = 'defualt'\n          this.attr('bgpillarState', bgpillarState)\n          this.dataset.resetState()\n          this.dataset.cols[curInd].state = 'hover'\n          this.hoverIndex = curInd\n        }\n      }\n    },\n    16,\n    true\n  )\n  onMouseleave(e, el) {\n    this.dataset.resetState()\n    let { bgpillarState } = this.renderAttrs\n    bgpillarState[this.hoverIndex] = 'defualt'\n    this.attr('bgpillarState', bgpillarState)\n    this.hoverIndex = -1\n  }\n  myClick = function() {\n    console.log('myclick')\n  }\n\n  render(data) {\n    let { clientRect, bgpillarState, states } = this.renderAttrs\n    return (\n      <Group\n        class=\"container\"\n        ref=\"wrap\"\n        pos={[clientRect.left, clientRect.top]}\n        size={[clientRect.width, clientRect.height]}\n        onMouseleave={this.onMouseleave}\n        onMouseenter={this.onMousemove}\n        onMousemove={this.onMousemove}\n        onClick={this.myClick}\n        // onMousemove={throttle(this.onMousemove)}\n      >\n        <Group ref=\"pillars\" class=\"pillars-group\">\n          {data.barData.map((pillar, ind) => {\n            return <Sprite {...pillar.attrs} {...pillar.from} animation={{ from: pillar.from, to: pillar.to }} />\n          })}\n        </Group>\n        <Group ref=\"bgpillar\" class=\"bgpillars-group\">\n          {data.groupData.map((pillar, ind) => {\n            return <Sprite state={bgpillarState[ind]} states={states.bgpillar} {...pillar} />\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Bar\n","import { axis } from '../../utils/axis'\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr\n  const { stack, splitNumber, clientRect } = attrs\n  const { width, height } = clientRect\n  const barSize = [width, height]\n  const transpose = attrs.transpose || false\n  const groupGap = attrs.groupGap || 0\n  const stackGap = attrs.stackGap || 0\n  let barWidth = attrs.barWidth || 0\n  // 输出\n  const barData = []\n  const groupData = []\n\n  const bgPillarAttr = { opacity: 0.01, bgcolor: '#000' }\n\n  const valueAxis = axis({ dataSet: data, stack, splitNumber })\n  if (!valueAxis || !valueAxis.length) {\n    return { barData, groupData }\n  }\n  const tableSize = transpose\n    ? { label: barSize[1], value: barSize[0] }\n    : { label: barSize[0], value: barSize[1] }\n  const axisValueMax = Math.max.apply(this, valueAxis)\n  const axisValueMin = Math.min.apply(this, valueAxis)\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\n\n  const GROUP_NUM = data[0].length\n  let gap = 0\n  // 柱子宽度，根据数据绘制类型计算，是否分组，是否旋转\n  if (barWidth === 0) {\n    barWidth = stack\n      ? (tableSize.label * 0.5) / GROUP_NUM\n      : (tableSize.label * 0.5) / (GROUP_NUM * GROUP_BAR_NUM)\n\n    gap = stack ? barWidth : barWidth * GROUP_BAR_NUM\n  } else {\n    gap = stack\n      ? (tableSize.label - barWidth * GROUP_NUM) / GROUP_NUM\n      : (tableSize.label -\n          barWidth * GROUP_BAR_NUM * GROUP_NUM -\n          groupGap * (GROUP_BAR_NUM - 1) * GROUP_NUM) /\n        GROUP_NUM\n  }\n\n  const BAR_HEIGHT_FACTOR = tableSize.value / (axisValueMax - axisValueMin)\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\n      let value = 0\n      let gpData = { rects: [] }\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        if (data[j][i].disabled !== true) {\n          data[j][i].disabled = false\n        }\n\n        value = data[j][i].value\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\n        let rect = {\n          anchor: [\n            transpose && value < 0 ? 1 : 0,\n            transpose || value < 0 ? 0 : 1\n          ],\n          size: transpose\n            ? [barHeight, barWidth - 1]\n            : [barWidth - 1, barHeight],\n          pos: transpose\n            ? [\n                tableSize.value * (1 - POSITIVE_RATIO),\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i\n              ]\n            : [\n                gap / 2 +\n                  (barWidth + groupGap) * (j - flag) +\n                  (barWidth * GROUP_BAR_NUM +\n                    groupGap * (GROUP_BAR_NUM - 1) +\n                    gap) *\n                    i,\n                tableSize.value * POSITIVE_RATIO\n              ],\n\n          labelAttrs: {\n            opacity: !data[j][i].disabled ? 1 : 0,\n            text: value,\n            anchor: [transpose && value < 0 ? 1 : 0, 0.5],\n            pos: transpose\n              ? [\n                  tableSize.value * (1 - POSITIVE_RATIO),\n                  gap / 2 +\n                    (barWidth + groupGap) * (j - flag) +\n                    (barWidth * GROUP_BAR_NUM +\n                      groupGap * (GROUP_BAR_NUM - 1) +\n                      gap) *\n                      i +\n                    barWidth * 0.5\n                ]\n              : [\n                  gap / 2 +\n                    (barWidth + groupGap) * (j - flag) +\n                    (barWidth * GROUP_BAR_NUM +\n                      groupGap * (GROUP_BAR_NUM - 1) +\n                      gap) *\n                      i +\n                    barWidth * 0.5,\n                  tableSize.value * POSITIVE_RATIO\n                ],\n            rotate: transpose ? 0 : value < 0 ? 90 : 270\n          },\n          ...data[j][i]\n        }\n        if (rect.disabled) {\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\n          flag++\n        } else {\n          gpData.rects.push(rect)\n        }\n        barData.push(rect)\n      }\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        // title: data[0][i]['_x'],\n        pos: transpose\n          ? [\n              0,\n              (gap +\n                barWidth * GROUP_BAR_NUM +\n                groupGap * (GROUP_BAR_NUM - 1)) *\n                i\n            ]\n          : [\n              (gap +\n                barWidth * GROUP_BAR_NUM +\n                groupGap * (GROUP_BAR_NUM - 1)) *\n                i,\n              0\n            ],\n        size: transpose\n          ? [\n              tableSize.value,\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap\n            ]\n          : [\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\n              tableSize.value\n            ],\n        ...bgPillarAttr\n      })\n      groupData.push(gpData)\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0\n      let heightSumDown = 0\n      let value = 0\n      let gpData = { rects: [] }\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        let stackGapTemp = stackGap\n        if (data[j][i].disabled !== true) {\n          data[j][i].disabled = false\n        }\n        value = data[j][i].value\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\n        if (barHeight === 0) {\n          stackGapTemp = 0\n        }\n        let posY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\n        let posX =\n          value < 0\n            ? tableSize.value * (1 - POSITIVE_RATIO) - heightSumDown\n            : tableSize.value * (1 - POSITIVE_RATIO) + heightSumUp\n        let posLabelY =\n          value < 0\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown + barHeight\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\n        let rect = {\n          anchor: [\n            transpose && value < 0 ? 1 : 0,\n            transpose || value < 0 ? 0 : 1\n          ],\n          size: transpose\n            ? [barHeight - stackGapTemp, barWidth]\n            : [barWidth, barHeight - stackGapTemp],\n          pos: transpose\n            ? [posX, gap / 2 + (barWidth + gap) * i]\n            : [gap / 2 + (barWidth + gap) * i, posY],\n          index: j,\n          labelAttrs: {\n            opacity: !data[j][i].disabled ? 1 : 0,\n            text: value,\n            anchor: transpose ? (value < 0 ? [1, 0.5] : [0, 0.5]) : [0.5, 1],\n            pos: transpose\n              ? [posX, +(gap + barWidth) / 2 + (barWidth + gap) * i]\n              : [(gap + barWidth) / 2 + (barWidth + gap) * i, posLabelY]\n          },\n          ...data[j][i]\n        }\n        if (rect.disabled) {\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\n        } else {\n          value < 0\n            ? (heightSumDown = heightSumDown + barHeight)\n            : (heightSumUp = heightSumUp + barHeight)\n          gpData.rects.push(rect)\n        }\n        barData.push(rect)\n      }\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        pos: transpose ? [0, (gap + barWidth) * i] : [(gap + barWidth) * i, 0],\n        size: transpose\n          ? [tableSize.value, barWidth + gap]\n          : [barWidth + gap, tableSize.value],\n        ...bgPillarAttr\n      })\n      groupData.push(gpData)\n    }\n  }\n\n  return { barData, groupData }\n}\n\nfunction computerLegend(data) {\n  let flag = 0\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].disabled !== true) {\n      flag++\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1\n}\n","import Base from '../../base/BaseVisual'\nimport { Group, Ring } from 'spritejs'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport layout from './layout'\nimport filterClone from 'filter-clone'\nclass PolarBar extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.type = 'polarbar'\n    this.groups = []\n    this.pillars = []\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n\n  get center() {\n    let { height, width } = this.renderAttrs.clientRect\n    let [x, y] = [width / 2, height / 2]\n    return [x, y]\n  }\n  get maxOuterRadius() {\n    let { height, width } = this.renderAttrs.clientRect\n    let radius = this.renderAttrs.radius || 1\n    // if (endAngle - startAngle === Math.PI / 2) {\n    //   return Math.min(width, height) * radius\n    // } else {\n    return (Math.min(width, height) / 2) * radius\n    // }\n  }\n  get pos() {\n    let { height, width } = this.renderAttrs.clientRect\n    const maxRadius = this.maxOuterRadius\n    let [x, y] = [width / 2 - maxRadius, height / 2 - maxRadius]\n    return [x, y]\n  }\n\n  beforeRender() {\n    //渲染前的处理函数，返回lines,继承base\n    let { arrLayout } = this.getRenderData()\n    this.pillars = arrLayout.barData\n    this.groups = arrLayout.groupData\n    let barData = arrLayout.barData.map(item => {\n      return {\n        attrs: item,\n        from: {\n          endAngle: item.startAngle\n        },\n        to: {\n          endAngle: item.endAngle\n        }\n      }\n    })\n    let groupData = this.groups\n    return { barData, groupData }\n  }\n  beforeUpdate() {\n    const pillars = this.pillars\n    let { arrLayout } = this.getRenderData()\n    let barData = arrLayout.barData.map((nextPillar, i) => {\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1]\n      if (!prev) {\n        prev = {\n          size: [0, 0],\n          pos: nextPillar.pos,\n          labelAttrs: null\n        }\n      }\n      return {\n        attrs: nextPillar,\n        from: {\n          size: prev.disable\n            ? this.attr('transpose')\n              ? [0, prev.size[1]]\n              : [prev.size[0], 0]\n            : prev.size,\n          pos: prev.pos\n        },\n        to: {\n          size: nextPillar.size,\n          pos: nextPillar.pos\n        }\n      }\n    })\n    this.pillars = arrLayout.barData\n    this.groups = arrLayout.groupData\n    return { barData, groupData: arrLayout.groupData }\n  }\n  getRenderData() {\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    if (!renderData || renderData.length === 0) {\n      return { barData: [], groupData: [] }\n    }\n    const dataLength = data.length > 1 ? data.length : data[0].length\n    this.legendArr = Array.from({ length: data.length }, () => {\n      return 1\n    })\n    const pos = this.pos\n\n    let arrLayout = layout(renderData, renderAttrs)\n    let colors = this.theme.colors\n    let styles = this.renderStyles\n    arrLayout.barData.forEach((bar, i) => {\n      bar.fillColor = bar.fillColor || colors[i % dataLength]\n      bar.strokeColor = renderAttrs.strokeColor || '#FFF'\n      bar.pos = pos\n      bar.lineWidth = 1\n      if (bar.lineWidth && bar.lineWidth >= 1) {\n        // 避免只展示一个扇形时出现边框\n        const { startAngle, endAngle } = bar\n        const angle = (startAngle + endAngle) % (Math.PI * 1)\n        let groupBarNumber =\n          arrLayout.barData.length / arrLayout.groupData.length\n        if (\n          angle <= 0 &&\n          arrLayout.barData.filter(ring => !ring.disabled).length /\n            groupBarNumber <=\n            1\n        ) {\n          bar.lineWidth = 0\n        }\n      }\n    })\n    return { arrLayout }\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\n    return {\n      layer: 'bar'\n    }\n  }\n  defaultStyles() {\n    // 默认的样式,继承base\n    return {}\n  }\n  onMouseenter(e, el) {\n    el.attr({ opacity: 0.1 })\n  }\n  onMouseleave(e, el) {\n    el.attr({ opacity: 0.01 })\n  }\n  render(data) {\n    let { clientRect } = this.renderAttrs\n    console.log(data)\n    return (\n      <Group class=\"container\" ref=\"wrap\" pos={[100, 100]}>\n        <Group>\n          {data.barData.map((pillar, i) => {\n            console.log(pillar.attrs)\n\n            return <Ring {...pillar.attrs} />\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default PolarBar\n","import { axis } from '../../utils/axis'\n\nexport default function layout(arr, attrs) {\n  // 输入\n  const data = arr\n  const { stack, splitNumber, clientRect } = attrs\n  const { width, height } = clientRect\n  const barSize = [width, height]\n  const groupGap = attrs.groupGap || 0\n  const stackGap = attrs.stackGap || 0\n\n  const radius = attrs.radius || 1\n  const barInnerRadius = attrs.innerRadius\n  const padAngle = attrs.padAngle\n  // 输出\n  const barData = []\n  const groupData = []\n\n  const bgPillarAttr = { opacity: 0.01, fillColor: '#000' }\n\n  // const valueAxis = getAxis(stack, data)\n  const valueAxis = axis({ dataSet: data, stack, splitNumber })\n  if (!valueAxis || !valueAxis.length) {\n    return { barData, groupData }\n  }\n\n  const tableSize = Math.min(barSize[0], barSize[1])\n  const axisValueMax = Math.max.apply(this, valueAxis)\n  const axisValueMin = Math.min.apply(this, valueAxis)\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\n\n  const GROUP_NUM = data[0].length\n  const BAR_MAX_HEIGHT = 0.5 * radius * tableSize\n  const BAR_HEIGHT_FACTOR = BAR_MAX_HEIGHT / (axisValueMax - axisValueMin)\n  if (!stack) {\n    // 分组柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\n      let value = 0\n      let gpData = { rects: [] }\n      let groupAngle = (360 - GROUP_NUM * groupGap) / GROUP_NUM\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        if (data[j][i].disabled !== true) {\n          data[j][i].disabled = false\n        }\n        let barAngle = groupAngle / GROUP_BAR_NUM\n        let startAngle =\n          (groupAngle + groupGap) * i + barAngle * (j - flag) - 90\n        value = data[j][i].value\n        let barHeight = BAR_HEIGHT_FACTOR * value\n        let innerRadius =\n          BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) +\n          barInnerRadius * tableSize * 0.5\n\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: innerRadius + barHeight,\n          startAngle: startAngle,\n          endAngle: startAngle + barAngle,\n          ...data[j][i],\n          id: i * lenj + j\n        }\n        if (rect.disabled) {\n          rect.endAngle = rect.startAngle\n          rect.radius = 0\n          rect.opacity = 0\n          flag++\n        } else {\n          rect.opacity = 1\n          gpData.rects.push(rect)\n        }\n        barData.push(rect)\n      }\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        innerRadius: barInnerRadius * 0.5 * tableSize,\n        outerRadius: (barInnerRadius + radius) * 0.5 * tableSize,\n        startAngle: (groupGap + groupAngle) * i - Math.PI * 0.5,\n        endAngle: (groupGap + groupAngle) * i + groupAngle - Math.PI * 0.5,\n        ...bgPillarAttr\n      })\n      groupData.push(gpData)\n    }\n  } else {\n    // 堆叠柱状图\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\n      let heightSumUp = 0\n      let heightSumDown = 0\n      let value = 0\n      let gpData = { rects: [] }\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM\n      // 计算单根柱子\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\n        if (data[j][i].disabled !== true) {\n          data[j][i].disabled = false\n        }\n        let startAngle = (groupAngle + groupGap) * i - Math.PI * 0.5\n        value = data[j][i].value\n        let barHeight = BAR_HEIGHT_FACTOR * value\n        let innerRadius =\n          value < 0\n            ? BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) - heightSumDown\n            : BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + heightSumUp\n        innerRadius = innerRadius + barInnerRadius * tableSize * 0.5\n        let rect = {\n          innerRadius: innerRadius,\n          outerRadius: innerRadius + barHeight - stackGap,\n          startAngle: startAngle,\n          endAngle: startAngle + groupAngle,\n          ...data[j][i]\n        }\n\n        if (rect.disabled) {\n          rect.opacity = 0\n        } else {\n          rect.opacity = 1\n          value < 0\n            ? (heightSumDown = heightSumDown - barHeight)\n            : (heightSumUp = heightSumUp + barHeight)\n          gpData.rects.push(rect)\n        }\n        barData.push(rect)\n      }\n      // 柱子整体属性\n      gpData = Object.assign(gpData, {\n        innerRadius: barInnerRadius * 0.5 * tableSize,\n        outerRadius: (barInnerRadius + radius) * 0.5 * tableSize,\n        startAngle: (groupGap + groupAngle) * i - Math.PI * 0.5,\n        endAngle: (groupGap + groupAngle) * i + groupAngle - Math.PI * 0.5,\n        ...bgPillarAttr\n      })\n      groupData.push(gpData)\n    }\n  }\n  // attachPadAngleOfArr(barData, padAngle)\n  return { barData, groupData }\n}\n\nfunction computerLegend(data) {\n  let flag = 0\n  for (let i = 0, len = data.length; i < len; i++) {\n    if (data[i][0].disabled !== true) {\n      flag++\n    }\n  }\n  if (flag === 0) {\n    // console.warn('data invalid!')\n  }\n  return flag || 1\n}\n\nfunction attachPadAngleOfArr(arr, padAngle = 0) {\n  // 设置 padAngle\n  const maxPadAngle = Math.min.apply(\n    null,\n    arr.filter(d => !d.disabled).map(a => a.endAngle - a.startAngle)\n  )\n\n  if (padAngle >= 0) {\n    padAngle = padAngle > maxPadAngle ? maxPadAngle / 2 : padAngle\n\n    arr\n      .filter(d => !d.disabled)\n      .forEach(a => {\n        if (a.endAngle - a.startAngle > padAngle * 2) {\n          a.padAngle = padAngle\n          a.startAngle += padAngle\n          a.endAngle -= padAngle\n        }\n      })\n  }\n}\n","import Base from './Base'\nimport theme from '../theme/default'\nexport default class BasePlugin extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.theme = theme.plugins[this.constructor.name]\n  }\n  get componentType() {\n    return 'plugin'\n  }\n}\n","import { scaleLinear } from '../../utils/scaleLinear'\nimport { axis } from '../../utils/axis'\nimport { emptyObject } from '@qcharts/utils'\nexport default function layout(arr, attrs) {\n  let res = {\n    scales: [],\n    labels: [],\n    axisPoints: [],\n    orient: attrs.orient\n  }\n  let defaultAttrs = {\n    top: {\n      label: {\n        anchor: [0.5, 1]\n      },\n      scale: {\n        anchor: [1, 1],\n        width: 1,\n        height: 4\n      },\n      type: 'category'\n    },\n    bottom: {\n      scale: {\n        anchor: [0.5, 0],\n        width: 1,\n        bgcolor: '#f00',\n        height: 4\n      },\n      label: {\n        anchor: [0.5, 0],\n        padding: [6, 0, 0, 0],\n        textAlign: 'center'\n      },\n      type: 'category'\n    },\n    left: {\n      label: {\n        padding: [0, 8, 0, 0],\n        anchor: [1, 0.5],\n        textAlign: 'right'\n      },\n      scale: {\n        anchor: [1, 0.5],\n        width: 4,\n        height: 1\n      },\n      type: 'value'\n    },\n    right: {\n      label: {\n        anchor: [1, 0]\n      },\n      scale: {\n        anchor: [0, 1],\n        width: 4,\n        height: 1\n      },\n      type: 'value'\n    }\n  }\n  const { stack, splitNumber, clientRect, orient, axisGap, transpose } = attrs\n  if (transpose) {\n    ;['top', 'bottom', 'right', 'left'].forEach(str => {\n      defaultAttrs[str].type = defaultAttrs[str].type === 'value' ? 'category' : 'value'\n    })\n  }\n  const { width, height } = clientRect\n  let scales = axis({ dataSet: arr, stack, splitNumber })\n  let maxVal = Math.max.apply(this, scales)\n  let minVal = Math.min.apply(this, scales)\n  let type = attrs.type || defaultAttrs[orient].type\n  let distance = orient === 'left' || orient === 'right' ? height : width\n  if (type === 'value') {\n    let scaleFY = scaleLinear()\n      .domain([minVal, maxVal])\n      .range([0, distance])\n    scales.forEach(num => {\n      let { scaleAttr, labelAttr } = getItemAttrs(defaultAttrs, orient, { text: '' + num }, num, scaleFY, clientRect)\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n    })\n  } else if (type === 'category') {\n    let curArr = arr[0]\n    let len = axisGap ? curArr.length : curArr.length - 1\n    let scaleFY = scaleLinear()\n      .domain([0, len])\n      .range([0, distance])\n    curArr.forEach((cell, ind) => {\n      let { scaleAttr, labelAttr } = getItemAttrs(defaultAttrs, orient, cell, ind, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n      res.labels.push(labelAttr)\n    })\n    if (axisGap) {\n      // 如果是axisGap为true，需要添加一个点\n      let { scaleAttr } = getItemAttrs(defaultAttrs, orient, {}, curArr.length, scaleFY, clientRect, axisGap)\n      res.scales.push(scaleAttr)\n    }\n  }\n  if (orient === 'left' || orient === 'right') {\n    res.axisPoints = [\n      [0, height],\n      [0, 0]\n    ]\n  } else if (orient === 'bottom' || orient === 'top') {\n    res.axisPoints = [\n      [0, height],\n      [width, height]\n    ]\n  }\n  return res\n}\nfunction getItemAttrs(defaultAttrs, orient, cell, value, scaleF, clientRect, axisGap) {\n  let res = emptyObject()\n  let { width, height, left } = clientRect\n  let labelPosValue = axisGap ? value + 0.5 : value\n  if (orient === 'left' || orient === 'right') {\n    let x = orient === 'left' ? 0 : width\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [x, height - scaleF(value)] }\n    res.labelAttr = { ...defaultAttrs[orient].label, width: left, text: '' + cell.text, pos: [x, height - scaleF(labelPosValue)] }\n  } else if (orient === 'top' || orient === 'bottom') {\n    let y = orient === 'top' ? 0 : height\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [scaleF(value), y] }\n    res.labelAttr = { ...defaultAttrs[orient].label, width: left, text: '' + cell.text, pos: [scaleF(labelPosValue), y] }\n  }\n  return res\n}\n","import Base from '../../base/BasePlugin'\nimport { Group, Label, Polyline } from 'spritejs'\nimport { emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\nimport layout from './layout'\nclass Axis extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.renderAxis = emptyObject()\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    let targetVisual = this.chart.visuals[0]\n    if (attrs.axisGap === undefined && targetVisual && targetVisual.constructor.name === 'Bar') {\n      //如果axisGap没有赋值\n      //如果是柱状图\n      attrs.axisGap = true\n    }\n    if (attrs.transpose === undefined && targetVisual) {\n      //坐标轴转换\n      attrs.transpose = targetVisual.renderAttrs.transpose\n    }\n    return attrs\n  }\n  beforeRender() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  beforeUpdate() {\n    let { axis } = this.getRenderData()\n    return axis\n  }\n  rendered() {\n    //console.log(this.$refs['wrap'])\n  }\n  defaultAttrs() {\n    return {\n      layer: 'axis'\n    }\n  }\n  //defaultStyles() {}\n  getRenderData() {\n    //根据axis的特性返回需要数据\n    let renderAttrs = this.renderAttrs\n    let renderData = this.dataset[renderAttrs.layoutBy]\n    let axis = layout(renderData, renderAttrs)\n    return { axis }\n  }\n  render(axis) {\n    let oldAxis = this.renderAxis || emptyObject()\n    this.renderAxis = axis\n    let { clientRect } = this.renderAttrs\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\n    let styles = this.renderStyles\n    let scaleStyle = styles.scale\n    let labelStyle = styles.label\n    //当前主体颜色\n    return (\n      <Group ref=\"wrap\" pos={[clientRect.left, clientRect.top]}>\n        <Polyline {...styles.axis} animation={{ from: { points: oldAxis.axisPoints }, to: { points: axis.axisPoints } }}></Polyline>\n        <Group>\n          {axis.scales.map((scale, ind) => {\n            let fromPos = (oldAxis.scales && oldAxis.scales[ind] && oldAxis.scales[ind].pos) || scale.pos\n            let ani = { from: { pos: fromPos }, to: { pos: scale.pos } }\n            // 排除pos属性，pos属性用来处理动画，其它属性直接赋值\n            return <Group {...filterClone(scale, [], ['pos'])} {...scaleStyle} animation={ani}></Group>\n          })}\n          {axis.labels.map((label, ind) => {\n            let fromPos = (oldAxis.labels && oldAxis.labels[ind] && oldAxis.labels[ind].pos) || label.pos\n            let ani = { from: { pos: fromPos }, to: { pos: label.pos } }\n            return <Label {...filterClone(label, [], ['pos'])} {...labelStyle} animation={ani}></Label>\n          })}\n        </Group>\n      </Group>\n    )\n  }\n}\nexport default Axis\n","import Base from '../../base/BasePlugin'\nimport { debounce } from '@qcharts/utils'\nclass Legend extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.$el = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    attrs.clientRect = {\n      bottom: 0,\n      width: '100%',\n      left: 0,\n      right: ''\n    }\n    return attrs\n  }\n  defaultAttrs() {\n    return {}\n  }\n  beforeRender() {\n    //let dataset = this.dataset\n    return this.dataset.rows\n  }\n  itemClick() {\n    console.log(click)\n  }\n  beforeUpdate() {}\n\n  rendered() {\n    let clickAble = this.renderAttrs.clickAble\n    if (clickAble !== false) {\n      let items = this.$el.querySelectorAll('.legend-item')\n      items.forEach(item => {\n        item.style.cursor = 'pointer'\n      })\n      let dataset = this.dataset\n      let $el = this.$el\n      $el.addEventListener(\n        'click',\n        e => {\n          let target = e.target\n          let $dom = getParent($el, target, '.legend-item')\n          if ($dom) {\n            let ind = $dom.getAttribute('data-id')\n            let state = dataset.rows[ind].state\n            dataset.rows[ind].state = state === 'disabled' ? 'default' : 'disabled'\n          }\n          this.render(dataset.rows)\n        },\n        false\n      )\n    }\n  }\n  render(arr) {\n    if (arr) {\n      let { colors, clientRect } = this.renderAttrs\n      let { left, top, width, height, right, bottom } = clientRect\n      if (!this.$el) {\n        this.$el = document.createElement('div')\n        this.$el.className = 'qcharts-legend'\n        this.$el.style.cssText = `text-align:center;position:absolute;font-size:12px;left:${left};top:${top};width:${width};height:${height};right:${right};bottom:${bottom}`\n        this.chart.$el.appendChild(this.$el)\n      }\n      let html = ''\n      arr.forEach((row, ind) => {\n        let state = this.dataset.rows[ind].state\n        let curColor = state !== 'disabled' ? colors[ind] : '#ddd'\n        html += `<div style=\"display:inline-block;padding:0 4px\" class=\"legend-item\" data-id=\"${ind}\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${curColor}\"></span><span class=\"text\" style=\"color:#666\">${row.name}</span></div>`\n      })\n      this.$el.innerHTML = html\n    }\n  }\n}\nfunction getParent(wrap, dom, selector) {\n  let arr = wrap.querySelectorAll(selector)\n  if (dom === wrap) {\n    return\n  } else if ([].indexOf.call(arr, dom) !== -1) {\n    return dom\n  } else {\n    return getParent(wrap, dom.parentNode, selector)\n  }\n}\nexport default Legend\n","import Base from '../../base/BasePlugin'\nimport { debounce } from '@qcharts/utils'\nclass Tooltip extends Base {\n  constructor(attrs) {\n    super(attrs)\n    this.$el = null\n  }\n  get renderAttrs() {\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\n    let attrs = super.renderAttrs\n    return attrs\n  }\n  beforeRender() {}\n  beforeUpdate() {}\n  tipMousemove = debounce(\n    e => {\n      let maxLeft = window.innerWidth - this.$el.getBoundingClientRect().width - 5\n      let maxTop = window.innerWidth - this.$el.getBoundingClientRect().height - 5\n      let tarTop = e.y > maxTop ? maxTop : e.y\n      let tarLeft = e.x > maxLeft ? maxLeft : e.x\n      this.$el.style.left = tarLeft + 'px'\n      this.$el.style.top = tarTop + 'px'\n    },\n    100,\n    1\n  )\n  rendered() {\n    let targetVisual = this.chart.visuals[0]\n    let { colors, sort, formatter } = this.renderAttrs\n    targetVisual.dataset.on('change', data => {\n      let { option } = data\n      this.$el.innerHTML = ''\n      if (option.value === 'hover') {\n        let arr = []\n        targetVisual.dataset.forEach(item => {\n          if (item.state === 'hover') {\n            arr.push(item)\n          }\n        })\n        if (sort) {\n          arr.sort(sort)\n        }\n        let $div = document.createElement('div')\n        $div.style.cssText = 'white-space:nowrap;padding:6px 10px;background-color:rgba(0,0,0,0.5);color:#fff;'\n        let innerHtml = ''\n        arr.forEach((item, ind) => {\n          let text = `${item.text}：${item.value}`\n          if (formatter) {\n            text = formatter(item.data) || text\n          }\n          let html = `<div class=\"tooltip-item\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${colors[ind]}\"></span><span class=\"text\">${item.text}：${item.value}</span></div>`\n          innerHtml += html\n        })\n        $div.innerHTML = innerHtml\n        this.$el.appendChild($div)\n      } else if (option.name === 'reset') {\n        this.$el.innerHTML = ''\n      }\n    })\n    document.body.addEventListener('mousemove', this.tipMousemove)\n  }\n  render() {\n    if (!this.$el) {\n      this.$el = document.createElement('div')\n      this.$el.className = 'qcharts-tooltip'\n      this.$el.style.cssText = 'transition:top 300ms ease-out,left 300ms ease-out;position:absolute;pointEvents:none;pointer-events:none;font-size:14px;'\n    }\n    document.body.appendChild(this.$el)\n  }\n}\nexport default Tooltip\n","let platform = window\nexport default platform\n","import Base from './base/Base'\nimport { jsType, emptyObject, throttle } from '@qcharts/utils'\nimport platform from './base/platform'\nimport BaseVisual from './base/BaseVisual'\nimport BasePlugin from './base/BasePlugin'\nimport { Scene } from 'spritejs'\nclass Chart extends Base {\n  constructor(attr) {\n    super()\n    let { container } = attr\n    if (jsType(container) === 'string') {\n      container = document.querySelector(container)\n    }\n    this.$el = container\n    this.visuals = []\n    this.plugins = []\n    this.scene = new Scene({ container, displayRatio: platform.devicePixelRatio })\n    this.scene.addEventListener('resize', _ => {\n      //舞台变化的时候\n      this.checkUpdate()\n    })\n    this.checkUpdate = throttle(_ => {\n      let nodes = [].concat(this.plugins).concat(this.visuals)\n      nodes.forEach(node => {\n        node.update()\n      })\n    }, 300)\n    this.checkRender = throttle(_ => {\n      let children = [].concat(this.visuals).concat(this.plugins)\n      children.forEach(child => {\n        child.created()\n        this.dataset.addDep(child)\n      })\n      this.__store.__isCreated__ = true\n      this.dispatchEvent('updated', emptyObject())\n    })\n  }\n  update() {\n    //图表发生更新，触发图表内组件更新\n    this.checkUpdate()\n  }\n  append(node) {\n    if (!this.dataset) {\n      console.error('Chart should set data before append some graphs')\n      return\n    }\n    if (jsType(node) === 'array') {\n      node.forEach(item => {\n        this.append(item)\n      })\n      return\n    } else if (node instanceof BaseVisual) {\n      this.visuals.push(node)\n    } else if (node instanceof BasePlugin) {\n      this.plugins.push(node)\n    }\n    node.chart = this\n    node.scene = this.scene\n    this.checkRender()\n  }\n  renderChild() {}\n}\n\nexport default Chart\n","import { h } from '@qcharts/vnode'\nimport Dataset from '@qcharts/dataset'\nimport Line from './visuals/Line/index'\nimport LineTest from './visuals/Line/index_test'\nimport Area from './visuals/Area/index'\nimport Radar from './visuals/Radar/index'\nimport Bar from './visuals/Bar/index'\nimport PolarBar from './visuals/PolarBar/index'\nimport Axis from './plugins/Axis/index'\nimport Legend from './plugins/Legend/index'\nimport Tooltip from './plugins/Tooltip/index'\nimport platform from './base/platform'\nimport Chart from './Chart'\nimport theme from './theme/default'\nconst qcharts = {\n  version: 3.1,\n  Line,\n  Area,\n  Radar,\n  Bar,\n  PolarBar,\n  Legend,\n  Axis,\n  LineTest,\n  Tooltip,\n  h,\n  theme,\n  Chart\n}\nif (process.env.NODE_ENV === 'development') {\n  platform.qcharts = qcharts\n}\n\nexport { qcharts, Dataset, Line, Area, Radar, LineTest, Tooltip, Bar, PolarBar, Axis, Legend, Chart, h, theme }\n\nexport default qcharts\n"],"sourceRoot":""}