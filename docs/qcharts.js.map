{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"spritejs\"","webpack://[name]/./node_modules/@qcharts/vnode/node_modules/@qcharts/utils/lib/index.js","webpack://[name]/./node_modules/filter-clone/lib/index.js","webpack://[name]/./node_modules/@qcharts/vnode/src/h.js","webpack://[name]/./node_modules/@qcharts/vnode/src/consts.js","webpack://[name]/./node_modules/@qcharts/vnode/src/diff.js","webpack://[name]/./node_modules/@qcharts/vnode/src/render.js","webpack://[name]/./node_modules/@qcharts/vnode/tween/easing.js","webpack://[name]/./node_modules/@qcharts/vnode/util/interpolate.js","webpack://[name]/./node_modules/@qcharts/vnode/util/index.js","webpack://[name]/./node_modules/@qcharts/vnode/tween/tween.js","webpack://[name]/./node_modules/@qcharts/vnode/src/patch.js","webpack://[name]/./node_modules/@qcharts/vnode/src/nodeHelper.js","webpack://[name]/./node_modules/@qcharts/dataset/src/state.js","webpack://[name]/./node_modules/@qcharts/dataset/src/event.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Cell.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Row.js","webpack://[name]/./node_modules/@qcharts/dataset/src/Dataset.js","webpack://[name]/./node_modules/@qcharts/dataset/src/index.js","webpack://[name]/./src/base/mixin.js","webpack://[name]/./node_modules/@qcharts/utils/src/index.js","webpack://[name]/./src/base/Base.js","webpack://[name]/./src/theme/default.js","webpack://[name]/./src/base/BaseVisual.js","webpack://[name]/./src/utils/getStyle.js","webpack://[name]/./src/utils/scaleLinear.js","webpack://[name]/./src/utils/axis.js","webpack://[name]/./src/visuals/Line/layout.js","webpack://[name]/./src/visuals/Line/index.js","webpack://[name]/./src/visuals/Pie/layout.js","webpack://[name]/./src/visuals/Pie/index.js","webpack://[name]/./src/visuals/Area/index.js","webpack://[name]/./src/visuals/Radar/layout.js","webpack://[name]/./src/visuals/Radar/index.js","webpack://[name]/./src/visuals/Bar/index.js","webpack://[name]/./src/visuals/Bar/layout.js","webpack://[name]/./src/visuals/PolarBar/index.js","webpack://[name]/./src/visuals/PolarBar/layout.js","webpack://[name]/./src/visuals/Scatter/layout.js","webpack://[name]/./src/visuals/Scatter/index.js","webpack://[name]/./src/utils/color.js","webpack://[name]/./src/utils/ellipse2path.js","webpack://[name]/./src/visuals/Wave/index.js","webpack://[name]/./src/visuals/Gauge/index.js","webpack://[name]/./src/base/BasePlugin.js","webpack://[name]/./src/plugins/Axis/layout.js","webpack://[name]/./src/plugins/Axis/index.js","webpack://[name]/./src/plugins/Legend/index.js","webpack://[name]/./src/plugins/Tooltip/index.js","webpack://[name]/./src/base/platform.js","webpack://[name]/./src/Chart.js","webpack://[name]/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","default","length","toString","u","slice","toLowerCase","apply","this","setTimeout","clearTimeout","match","Number","substring","indexOf","_typeof","obj","iterator","constructor","_default","filterClone","include","exclude","res","getType","len","push","j","test","str","VNode","h","tagName","attrs","children","node","arr","concat","filter","Boolean","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","assign","type","isDiffrentVNode","createElement","vnode","graph","TagName","el","patchAttrs","appendChild","map","forEach","console","log","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","a","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","number","b","array","bl","al","min","x","Array","interpolate","now","performance","Date","requestAnimationFrame","cancelAnimationFrame","startTime","fn","id","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","time","Error","_onComplete","callback","elapseTime","animateTime","timer","delayTime","Promise","resolve","step","start","cancel","then","patche","keys","ref","addRef","error","split","cb","removeAllListeners","addEventListener","evt","addEvent","states","state","oldState","attr","oldstates","oldAttrs","newAttrs","duration","renderAttrs","animation","transition","addAttrs","from","middle","use","to","delay","useTween","easing","formatter","ani","onUpdate","animate","fill","finished","offset","setAnimation","addAnimate","patch","$el","isRoot","newEl","parent","replaceChild","remove","child","ind","_ind","curNode","curVnode","hide","hover","active","disabled","mixed","mixinEvent","target","__store","events","on","off","undefined","curEvent","splice","once","args","self","dispatchEvent","option","item","data","dataset","super","row","col","datasets","num","__name","__option","cell","sta","dispatchOption","Row","Col","store","__deps","__rows","sortKey","resArr","list","sort","keySort","curRow","getArrData","cols","colLen","rowKey","dep","lifeCycle","deepObjectMerge","objectMerge","FirstOBJ","SecondOBJ","jsType","emptyObject","throttle","interval","immediately","firstTime","getDistancePx","distance","Base","component","removeEventListener","listener","__attrs","__vnode__","__isCreated__","__refs","__update","_","update","options","Dataset","opts","render","beforeRender","layer","rendered","warn","beforeUpdate","updated","event","clientRect","left","top","right","bottom","width","height","opacity","layoutBy","style","styleKey","substr","layerName","baseAttrs","defaultAttrs","theme","scene","defaultStyles","styles","canvas","getBoundingClientRect","colors","chart","Node","visuals","Line","line","lineWidth","guideline","strokeColor","statck","LineTest","Pie","sector","Area","area","Radar","Bar","bar","groupBar","PolarBar","Scatter","point","showGuideLine","Wave","wave","fillColor","text","fontSize","shape","Gauge","plugins","Tooltip","Legend","Axis","axis","scale","bgcolor","label","orient","set","BaseVisual","getStyle","defaultStyle","oStyle","oArgs","cusStyle","scaleLinear","domain","range","disDomain","disRange","per","isArray","dataSet","section","gap","divide","toFixed","sectionAxis","stack","sum","sumDown","leng","dataHandle","upZero","downZero","element","abs","sortUpZero","sortDownZero","maxUpZero","ceil","pop","maxDownZero","maxValue","mixNum","maxNum","splitNumber","getMax","axisArray","round","reverse","unit","unshift","needReverse","Global","datasetReverse","layout","lines","scales","maxVal","minVal","scaleFY","prevRow","points","areaPoints","smoothRange","dx","curPos","axisPoints","curLine","nextPoints","startPoints","endPoints","transAreaPoint","renderLines","hoverIndex","getRenderData","arrLayout","maxLen","areaFrom","areaTo","lineDash","renderData","guidePoints","smooth","resetState","arrX","pos","getOffsetPosition","y","curInd","posX","lineState","renderStyles","zIndex","class","onMouseleave","guidelineleave","onMouseenter","guidelinemove","onMousemove","size","rows","onClick","lineClick","rings","arrVal","reduce","totalVal","startAngle","endAngle","activeOffset","minAngle","maxAngle","totalAngle","perAngle","offsetPos","curObj","prevRing","curAngle","bisectorAngle","bisectorRadian","transRadius","angle","computeLinePos","center","radius","disRadius","centerAngle","startPoint","endPoint","labelPos","labelAnchor","renderRings","activeIndex","pervAngle","computeLine","oldRings","radiusPx","fromPoints","fromAnchor","fromPos","toPoints","toAnchor","toPos","anchor","innerRadius","labelOffset","curData","innerRadiusPx","mouseleave","ring","outerRadius","_index","mousemove","getPointCoordinate","radian","bgPoints","gridAttrs","axisAttrs","sectionAttrs","some","indicatorMax","dimension","perRadian","startRadian","currentRadian","maxScale","index","categoryPoints","dataOrigin","close","gridPoints","attributes","sectionData","scaleEl","gridType","otherData","processSectionAttrs","otherAttrs","_getPolylineAnimation","_getStyle","hoverStyle","display","stateStyle","updateData","_processData","toScale","fromPts","toPts","preData","GridShape","Arc","Polyline","_getScaleAnimation","other","gridAttr","color","calcAnchor","axisLabelStyle","getPt","perX","perY","perNum","labels","common","translate","elIndex","preEl","preText","axisStyle","clipOverflow","_renderAxisLabel","_renderAxisScale","secAnimation","prePoints","_isSamePoints","pre","cur","otherAttr","renderGrid","renderAxis","renderSection","renderPoints","groups","isNaN","transpose","floor","bgpillarState","pillars","fromTos","barData","groupData","nextPillar","prev","labelAttrs","disable","dataLength","barSize","groupGap","stackGap","barWidth","bgPillarAttr","valueAxis","tableSize","axisValueMax","axisValueMin","POSITIVE_RATIO","GROUP_BAR_NUM","flag","computerLegend","GROUP_NUM","BAR_HEIGHT_FACTOR","heightSumUp","heightSumDown","gpData","rects","lenj","stackGapTemp","barHeight","posLabelY","rect","rotate","barStyle","bgpillar","myClick","pillar","isTranslated","$refs","$pillars","legendArr","groupPadAngle","barInnerRadius","padAngle","BAR_MAX_HEIGHT","groupAngle","barAngle","getDataRange","getBigRange","updateSectionVal","newSection","layoutWay","textField","valueField","allData","xDomain","xSection","xIsTextData","xScales","field","ySection","yScales","yDomain","newLayoutWay","xLinear","yLinear","dArry","scatterData","guideLineData","labelField","areaField","areaRange","hex","join","hexToRgba","di","temp","oldRow","cInd","curCell","labelAttr","getRealRadius","hStyle","renderScatter","renderLabel","renderGuideLine","ellipse2path","cx","cy","rx","ry","offsetR","tickId","amplitude","wavelength","percent","currentR","clipWave","clipPath","pathHeight","originalContentRect","perR","currentX","startY","lastY","waveStyle","shapeStyle","textStyle","flattern","tickLine","tickLength","isInner","cX0","cY0","anchorX","anchorY","gaugeAnimations","total","arc","arcs","transform","_useBuiltInColors","maxTickTextFontSize","fromRotate","pointerAnimation","pointerWidth","pointerTopOffset","pointerLen","pWidth","transformOrigin","title","subTitle","lineCap","strokeBgcolor","labelCenter","ticks","isStyleExist","tickText","gradientColor","gradientOpt","vector","Gradient","tick","realSize","replace","gPos","gSize","renderPointer","textAlign","forceUpdate","lw","v","tickStep","tickFormatter","count","tickRadius","ret","BasePlugin","getItemAttrs","scaleF","axisGap","labelPosValue","scaleAttr","padding","curArr","dy","oldAxis","targetVisual","click","clickAble","querySelectorAll","cursor","$dom","getParent","wrap","dom","selector","parentNode","getAttribute","document","className","cssText","html","curColor","innerHTML","arguments","context","debounce","maxLeft","innerWidth","maxTop","tarTop","tarLeft","innerHtml","$div","body","tipMousemove","platform","Chart","container","querySelector","Scene","displayRatio","devicePixelRatio","checkUpdate","checkRender","created","addDep","source","append","version","qcharts"],"mappings":"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","file":"qcharts.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"spritejs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"spritejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qcharts\"] = factory(require(\"spritejs\"));\n\telse\n\t\troot[\"qcharts\"] = factory(root[\"spritejs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 73);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.utils=e():t.utils=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(...t){let e=t[0];if(t.length>1)for(let r=1;r<t.length;r++)n(e,t[r]);return e;function n(t,e){for(var n in e)t[n]=t[n]&&\"[object Object]\"===t[n].toString()?r(t[n],e[n]):t[n]=e[n];return t}}function o(){return Object.create(null)}function u(t){const e=typeof t;return\"object\"===e?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():e}function i(t,e=16,n=!1){let r=null,o=n;return function(...n){if(o)return t.apply(this,n),o=!1;r||(r=setTimeout(()=>{clearTimeout(r),r=null,t.apply(this,n)},e))}}function c(t,e){return\"string\"===u(t)&&t.match(/%$/)?Number(t.substring(0,t.indexOf(\"%\")))/100*e:t}n.r(e),n.d(e,\"deepObjectMerge\",(function(){return r})),n.d(e,\"emptyObject\",(function(){return o})),n.d(e,\"jsType\",(function(){return u})),n.d(e,\"throttle\",(function(){return i})),n.d(e,\"getDistancePx\",(function(){return c}))}])}));\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  if(TagName) {\n    const el = new TagName()\n  //渲染的spritejs对象放到 visual或者plugin上\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children\n      .map(createElement.bind(this))\n      .filter(Boolean)\n      .forEach(el.appendChild.bind(el))\n  }\n  return el\n  } else {\n    console.log('tagName is undefined:',vnode)\n  }\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","import interpolate from './interpolate'\nimport invariant from './invariant'\ninvariant\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame = window.requestAnimationFrame\nlet cancelAnimationFrame = window.cancelAnimationFrame\nif (!requestAnimationFrame) {\n  const startTime = now()\n  requestAnimationFrame = fn => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = id => {\n    return clearTimeout(id)\n  }\n}\nconst delay = time =>\n  new Promise(resolve =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addAttrs, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs(graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addEvent(graph, el, patche)\n  addAttrs(graph, el, patche)\n  //el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} $el 当前的真实spritejs 节点\n * @param {*} patches 虚拟节点\n * @param {*} isRoot 是否是初节点，用于绑定$el与visual或者plugin\n */\nexport default function patch($el, patche, isRoot = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let graph = this //graph为当前的qcharts对象 visula或者plugin\n  if (!$el && !patche) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      if (newEl) {\n        if (isRoot) {\n          //创建的时候，visual与plugin绑定对应的sprite元素\n          graph.$el = newEl\n        }\n        $el.appendChild(newEl)\n      }\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      $el.parent.replaceChild(newEl, $el)\n      break\n    }\n    case REMOVE: {\n      $el.remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      patchAttrs(graph, $el, attrs)\n      if ($el.children && children.length) {\n        $el.children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        children.forEach((child, ind) => {\n          child._ind = ind\n        })\n        let len = children.length > $el.children.length ? children.length : $el.children.length\n        for (let j = 0; j < len; j++) {\n          let curNode = $el.children.filter(child => child._ind === j)[0]\n          let curVnode = children.filter(child => child._ind === j)[0]\n          if (curVnode && curVnode.type === 'CREATE') {\n            //如果是create需要传父级$el\n            patch.bind(graph)($el, curVnode)\n          } else {\n            patch.bind(graph)(curNode, curVnode)\n          }\n        }\n      }\n      break\n    }\n  }\n}\n","import { Tween } from '../tween'\nimport { deepObjectMerge, emptyObject } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n\n  const { from, middle, use, to, delay, duration, useTween, easing, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n  if (from) {\n    //如果存在from，一开始就设置，防止出现抖动\n    el.attr(from)\n  }\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween(easing)\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAttrs(graph, el, attrs = {}) {\n  let states = attrs['states']\n  let state = attrs['state']\n  if (states && state) {\n    let oldState = el.attr('state')\n    if (state !== oldState) {\n      //不相当就处理，相当上一次已经处理完毕\n      let oldstates = el.attr('states') || emptyObject()\n      let oldAttrs = deepObjectMerge(emptyObject(), attrs, oldstates[oldState])\n      let newAttrs = deepObjectMerge(emptyObject(), attrs, states[state])\n      el.attr(oldAttrs)\n      let { duration } = deepObjectMerge(emptyObject(), graph.renderAttrs.animation, states.animation)\n      el.transition(duration / 1000).attr(newAttrs)\n    }\n  } else {\n    el.attr(attrs)\n  }\n}\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(graph, el, attrs = {}) {\n  //缓存方法，修改方法指针this\n  Object.keys(attrs).forEach(key => {\n    if (!/^on/.test(key)) {\n      return\n    }\n    const type = key.split('on')[1].toLowerCase()\n    const cb = attrs[key] || (() => {})\n    let newF = evt => cb.call(graph, evt, el)\n    el.removeAllListeners(type)\n    el.addEventListener(type, newF)\n    delete attrs[key]\n  })\n}\n","export default {\n  default: 'default', //默认\n  hide: 'hide', //数据隐藏\n  hover: 'hover', //次激活模式，类似css中的hover\n  active: 'active', //激活模式，如选中等场景\n  disabled: 'disabled', //禁用模式\n  mixed: 'mixed' //混合模式,比如一个row或者col里面有多种状态\n}\n","function mixinEvent(target) {\n  if (target.__store) {\n    target.__store.events = []\n    let events = target.__store.events\n    target.on = function(type, cb) {\n      events.push({ type, cb })\n      return target\n    }\n    target.off = function(type, cb) {\n      for (let i = 0; i < events.length; i++) {\n        if (cb === undefined) {\n          events = []\n        } else {\n          let curEvent = events[i]\n          if (curEvent.type === type && curEvent.cb === cb) {\n            events.splice(i, 1)\n            i--\n          }\n        }\n      }\n      return target\n    }\n    target.once = function(type, cb) {\n      const listener = function(...args) {\n        fn.apply(target, args)\n        self.off(type, cb)\n      }\n      return target.on(type, listener)\n    }\n    target.dispatchEvent = function(type, option) {\n      events.forEach(item => {\n        if (item.type === type) {\n          item.cb.call(target, { type, option })\n        }\n      })\n      return target\n    }\n  }\n}\nexport { mixinEvent }\n","import state from './state'\nimport { mixinEvent } from './event'\nclass Cell extends Object {\n  constructor(data, option, dataset) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.state = state['default']\n    this.__store.row = undefined\n    this.__store.col = undefined\n    this.__store.option = option\n    this.__store.data = data\n    this.__store.datasets = [dataset]\n    mixinEvent(this)\n  }\n  get datasets() {\n    return this.__store.datasets\n  }\n  get data() {\n    return this, this.__store.data\n  }\n  get value() {\n    return this.__store.data[this.__store.option['value']]\n  }\n  get text() {\n    return this.__store.data[this.__store.option['text']]\n  }\n  set row(num) {\n    if (this.__store.row === undefined) {\n      this.__store.row = num\n    }\n  }\n  get row() {\n    return this.__store.row\n  }\n  set col(num) {\n    if (this.__store.col === undefined) {\n      this.__store.col = num\n    }\n  }\n  get col() {\n    return this.__store.col\n  }\n  get option() {\n    return this.__store.option\n  }\n  get state() {\n    return this.__store.state\n  }\n  set state(name) {\n    if (state[name] && this.__store.state !== state[name]) {\n      this.dispatchEvent('change', { name: 'cell', value: state[name], data: this })\n      this.datasets.forEach(dataset => {\n        dataset.dispatchEvent('change', { name: 'cell', value: state[name], data: this })\n      })\n    }\n    this.__store.state = state[name]\n  }\n}\nexport default Cell\n","import { mixinEvent } from './event'\nimport state from './state'\nclass List extends Array {\n  constructor(name, option) {\n    super()\n    this.__store = Object.create(null)\n    this.__store.__name = name\n    this.__store.__option = option\n    this.__store.dataset = null\n    mixinEvent(this)\n  }\n  get data() {\n    let arr = []\n    this.forEach(cell => {\n      arr.push(cell.data)\n    })\n    return arr\n  }\n  set dataset(arr) {\n    this.__store.dataset = arr\n  }\n  get dataset() {\n    return this.__store.dataset\n  }\n  get name() {\n    return this.__store.__name\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get state() {\n    //遍历子项，查看状态是否统一\n    let sta = this[0].state\n    for (let i = 1; i < this.length; i++) {\n      if (this[i].state !== sta) {\n        sta = 'mixed'\n        break\n      }\n    }\n    return sta\n  }\n  set state(name) {\n    if (state[name] && this.state !== state[name]) {\n      //给所有子项设置state\n      this.forEach(cell => {\n        //如果disabled的状态，必须先设置位default,disabled的state不能直接修改位其它状态\n        if (cell.state === 'disabled' && name !== 'default') {\n          return\n        }\n        cell.state = state[name]\n      })\n      let dispatchOption = null\n      if (this instanceof Row) {\n        dispatchOption = { name: 'row', value: state[name], data: this }\n      } else if (this instanceof Col) {\n        dispatchOption = { name: 'col', value: state[name], data: this }\n      }\n      this.dispatchEvent('change', dispatchOption)\n      this.dataset && this.dataset.dispatchEvent('change', dispatchOption)\n    }\n  }\n}\nclass Row extends List {}\nclass Col extends List {}\nexport { Row, Col }\n","import Cell from './Cell'\nimport { Row, Col } from './Row'\nimport { mixinEvent } from './event'\nclass Dataset extends Array {\n  constructor(data, option) {\n    super()\n    data.forEach((item, i) => {\n      let cell = item\n      if (!(item instanceof Cell)) {\n        cell = new Cell(item, option, this)\n      } else {\n        cell.datasets.push(this)\n      }\n      this[i] = cell\n    })\n    this.__store = Object.create(null)\n    let store = this.__store\n    store.__option = option\n    store.__deps = []\n    store.__rows = []\n    store.__rows = getArrData(this, option)\n    mixinEvent(this)\n  }\n  get option() {\n    return this.__store.__option\n  }\n  get cols() {\n    let cols = []\n    let colLen = 0\n    this.__store.__rows.forEach(row => {\n      if (row.length > colLen) {\n        colLen = row.length\n      }\n    })\n    for (let i = 0; i < colLen; i++) {\n      let arr = new Col()\n      arr.dataset = this\n      this.__store.__rows.forEach(item => {\n        arr.push(item[i])\n      })\n      cols.push(arr)\n    }\n    return cols\n  }\n  get rows() {\n    return this.__store.__rows\n  }\n  resetState(state = 'default') {\n    let res = []\n    this.forEach(cell => {\n      //reset的时候不处理disabled\n      if (cell.state !== state && cell.state !== 'disabled') {\n        res.push(cell)\n        cell.state = state\n      }\n    })\n    this.dispatchEvent('change', { name: 'reset', data: res })\n  }\n  selectRows(name) {\n    let rowKey = this.option.row\n    let arr = []\n    this.forEach(item => {\n      if (name.indexOf(item.data[rowKey]) !== -1) {\n        arr.push(item)\n      }\n    })\n    return new Dataset(arr, this.option)\n  }\n  addDep(dep) {\n    this.__store.__deps.push(dep)\n  }\n}\nfunction getArrData(data = [], option) {\n  let { row: key, col: sortKey } = option\n  let resArr = []\n  if (key === '*') {\n    let list = new Row('*', option)\n    data.forEach(item => {\n      list.push(item)\n    })\n    resArr.push(list.sort(keySort))\n  } else {\n    let keys = Object.create(null)\n    data.forEach(item => {\n      let data = item.__store.data\n      if (!keys[data[key]]) {\n        keys[data[key]] = new Row(data[key], option)\n      }\n      keys[data[key]].push(item)\n    })\n    for (let key in keys) {\n      let curRow = keys[key].sort(keySort)\n      resArr.push(curRow)\n    }\n  }\n  resArr.forEach((list, m) => {\n    list.dataset = data\n    list.forEach((cell, n) => {\n      cell.row = m\n      cell.col = n\n    })\n  })\n  return resArr\n  function keySort(a, b) {\n    if (sortKey) {\n      return a.data[sortKey] > b.data[sortKey] ? 1 : -1\n    }\n  }\n}\n\nexport default Dataset\n","import Dataset from './Dataset'\nexport default Dataset\n","const lifeCycle = {\r\n  beforeCreate: 'beforeCreate', //创建前\r\n  created: 'created', // 图表创建\r\n  beforeRender: 'beforeRender', //图表渲染前\r\n  rendered: 'rendered', // 图表渲染结束\r\n  beforeUpdate: 'beforeUpdate', // 图表更新前\r\n  updated: 'updated', // 图表更新\r\n  beforeDestroy: 'beforeDestroy', // 图表卸载前\r\n  destroyed: 'destroyed' // 图表卸载\r\n}\r\nfunction mixin(component) {\r\n  component.on = component.addEventListener\r\n  component.off = component.removeEventListener\r\n  component.once = function(type, fn) {\r\n    const listener = (...args) => {\r\n      fn.apply(this, args)\r\n      this.off(type, listener)\r\n    }\r\n    return this.on(type, listener)\r\n  }\r\n}\r\n\r\nexport { lifeCycle, mixin }\r\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      if (FirstOBJ[key] && FirstOBJ[key].toString() === '[object Object]' && SecondOBJ[key].toString() === '[object Object]') {\n        //对象处理\n        deepObjectMerge(FirstOBJ[key], SecondOBJ[key])\n      } else if (FirstOBJ[key] && jsType(FirstOBJ[key]) === 'array' && jsType(SecondOBJ[key]) === 'array') {\n        //数组处理\n        FirstOBJ[key].splice(0, FirstOBJ[key].length, ...SecondOBJ[key])\n      } else {\n        FirstOBJ[key] = SecondOBJ[key]\n      }\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null\n      ? null\n      : Object.prototype.toString\n          .call(value)\n          .slice(8, -1)\n          .toLowerCase()\n  }\n  return str\n}\n\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function(...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction debounce(fn, delay = 16, immediately = false) {\n  let timer = null\n  return function() {\n    let args = arguments\n    let context = this\n    if (timer) {\n      clearTimeout(timer)\n      timer = setTimeout(function() {\n        fn.apply(context, args)\n      }, delay)\n    } else {\n      if (immediately) {\n        fn.apply(context, args)\n      }\n      timer = setTimeout(function() {\n        fn.apply(context, args)\n      }, delay)\n    }\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, debounce, getDistancePx }\n","import { Node } from 'spritejs'\r\nimport { lifeCycle, mixin } from './mixin'\r\nimport { emptyObject, deepObjectMerge, jsType, getDistancePx, throttle } from '@qcharts/utils'\r\nimport { patch, diff } from '@qcharts/vnode'\r\nimport Dataset from '@qcharts/dataset'\r\nclass Base extends Node {\r\n  constructor(attrs) {\r\n    super()\r\n    this.dispatchEvent(lifeCycle.beforeCreate)\r\n    mixin(this)\r\n    this['__store'] = emptyObject()\r\n    let store = this['__store']\r\n    store.__attrs = emptyObject()\r\n    store.__vnode__ = null\r\n    store.__isCreated__ = false\r\n    store.__refs = emptyObject()\r\n    store.dataset = null\r\n    this.attr(attrs)\r\n    this.__update = throttle(_ => {\r\n      if (store.__isCreated__) {\r\n        this.update()\r\n      }\r\n    })\r\n  }\r\n  get store() {\r\n    return this['__store']\r\n  }\r\n  get layer() {\r\n    let layerName = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr()).layer\r\n    return this.scene.layer(layerName)\r\n  }\r\n  get $refs() {\r\n    return this['__store'].__refs\r\n  }\r\n  get renderStyles() {\r\n    let styles = deepObjectMerge({}, this.defaultStyles(), this.theme.styles)\r\n    return styles\r\n  }\r\n  get renderAttrs() {\r\n    //attrs转换\r\n    let attrs = deepObjectMerge({}, this.baseAttrs(), this.defaultAttrs(), this.theme.attrs, this.attr())\r\n    let { animation, clientRect } = attrs\r\n    //动画数据转换\r\n    if (jsType(animation) === 'boolean') {\r\n      animation = { use: animation ? true : false }\r\n    }\r\n    //处理layer支持多layer\r\n    let { width, height } = this.layer.canvas.getBoundingClientRect()\r\n    //计算布局数据\r\n    for (let key in clientRect) {\r\n      if (['left', 'right', 'width'].indexOf(key) !== -1) {\r\n        clientRect[key] = getDistancePx(clientRect[key], width)\r\n      } else if (['top', 'bottom', 'height'].indexOf(key) !== -1) {\r\n        clientRect[key] = getDistancePx(clientRect[key], height)\r\n      }\r\n    }\r\n    if (clientRect.width === undefined) {\r\n      clientRect.width = width - clientRect.left - clientRect.right\r\n    } else {\r\n      clientRect.right = width - clientRect.left - clientRect.width\r\n    }\r\n    if (clientRect.height === undefined) {\r\n      clientRect.height = height - clientRect.top - clientRect.bottom\r\n    } else {\r\n      clientRect.bottom = height - clientRect.top - clientRect.height\r\n    }\r\n    attrs.colors = this.theme.colors\r\n    return attrs\r\n  }\r\n  get dataset() {\r\n    return this['__store'].dataset || (this.chart && this.chart.dataset)\r\n  }\r\n  source(data, options) {\r\n    let store = this['__store']\r\n    if (!(data instanceof Dataset)) {\r\n      let opts = options\r\n      if (store.dataset) {\r\n        opts = deepObjectMerge({}, store.dataset.option, options)\r\n      }\r\n      store.dataset = new Dataset(data, opts)\r\n    } else {\r\n      store.dataset = data\r\n    }\r\n    if (store.dataset && store.__isCreated__) {\r\n      //如果以前存在，则更新\r\n      this.__update()\r\n    }\r\n    return this\r\n  }\r\n  created() {\r\n    //初始化创建的时候执行\r\n    let store = this['__store']\r\n    this.dispatchEvent(lifeCycle.created)\r\n    store.__vnode__ = this.render(this.beforeRender())\r\n    const patches = diff(null, store.__vnode__)\r\n    this.dispatchEvent(lifeCycle.beforeRender)\r\n    patch.bind(this)(this.$el || this.layer, patches, 1)\r\n    this.dispatchEvent(lifeCycle.rendered)\r\n    this.rendered()\r\n    store.__isCreated__ = true\r\n    this.dataset.on('change', this.__update)\r\n  }\r\n  beforeRender() {\r\n    //图表初始化准备数据\r\n    return this.renderAttrs\r\n  }\r\n  render() {\r\n    console.warn('this function must be rewrited')\r\n  }\r\n  beforeUpdate() {\r\n    return this.renderAttrs\r\n  }\r\n  update() {\r\n    //图表更新准备数据\r\n    let store = this['__store']\r\n    this.dispatchEvent(lifeCycle.beforeUpdate)\r\n    let vnode = this.render(this.beforeUpdate())\r\n    const patches = diff(store.__vnode__, vnode)\r\n    patch.bind(this)(this.$el || this.layer, patches)\r\n    store.__vnode__ = vnode\r\n    this.dispatchEvent(lifeCycle.updated)\r\n    this.updated()\r\n  }\r\n  updated() {}\r\n  dispatchEvent(event, obj = emptyObject()) {\r\n    super.dispatchEvent(event, obj)\r\n  }\r\n  defaultAttrs() {\r\n    return emptyObject()\r\n  }\r\n  defaultStyles() {\r\n    return emptyObject()\r\n  }\r\n  baseAttrs() {\r\n    let attrs = {\r\n      //动画类型\r\n      animation: {\r\n        use: true,\r\n        duration: 300,\r\n        useTween: true,\r\n        easing: 'linear'\r\n      },\r\n      //位置布局信息\r\n      clientRect: {\r\n        left: '10%',\r\n        top: '10%',\r\n        right: '10%',\r\n        bottom: '10%',\r\n        width: undefined,\r\n        height: undefined\r\n      },\r\n      //透明度\r\n      opacity: 1,\r\n      layer: 'default',\r\n      layoutBy: 'rows' //按照哪个数据布局 ['rows','cols']\r\n    }\r\n    return attrs\r\n  }\r\n  attr(name, val) {\r\n    //属性设置\r\n    let store = this['__store']\r\n    if (jsType(name) === 'object') {\r\n      for (let key in name) {\r\n        this.attr(key, name[key])\r\n      }\r\n    } else if (name === undefined) {\r\n      let res = emptyObject()\r\n      for (let key in store.__attrs) {\r\n        //过滤style属性\r\n        if (key.indexOf('style@') !== 0) {\r\n          res[key] = store.__attrs[key]\r\n        }\r\n      }\r\n      return res\r\n    } else if (val === undefined) {\r\n      //获取属性\r\n      return store.__attrs[name]\r\n    } else if (name !== undefined) {\r\n      store.__attrs[name] = val\r\n      store.__isCreated__ && this.__update()\r\n    }\r\n  }\r\n  addRef(ref, el) {\r\n    this['__store'].__refs[ref] = el\r\n    //在vnode中调用，存储到this.__refs中\r\n  }\r\n  style(type, style) {\r\n    //样式设置，样式用attr逻辑存储，添加@符号\r\n    if (jsType(type) === 'object') {\r\n      //多样式赋值\r\n      for (let key in type) {\r\n        this.style(key, type[key])\r\n      }\r\n    } else if (type !== undefined && style === undefined) {\r\n      //获取样式，统一返回成函数\r\n      const style = this.attr('style@' + type)\r\n      return (...args) => {\r\n        if (jsType(style) === 'function') {\r\n          return style.apply(this, args)\r\n        } else {\r\n          return style\r\n        }\r\n      }\r\n    } else if (type !== undefined && style !== undefined) {\r\n      //赋值\r\n      this.attr('style@' + type, style)\r\n      return this\r\n    } else if (type === undefined && style === undefined) {\r\n      //获取全部样式\r\n      let res = emptyObject()\r\n      let attrs = this['__store'].__attrs\r\n      for (let key in attrs) {\r\n        if (key.indexOf('style@') === 0) {\r\n          let styleKey = key.substr(6)\r\n          res[styleKey] = this.style(styleKey)\r\n        }\r\n      }\r\n      return res\r\n    }\r\n  }\r\n}\r\nexport default Base\r\n","import { deepObjectMerge } from '@qcharts/utils'\r\nconst theme = {\r\n  colors: ['#47A1FF', '#6CD3FF', '#A2E5FF', '#4DCCCB', '#3FDDC7', '#84E0BE', '#59CB74', '#ADDF84', '#FBD54A', '#FFB952', '#F79452', '#E37474', '#FC6980', '#ED8CCE', '#DA65CC', '#9861E5', '#9F8CF1', '#6367EC', '#5982F6', '#659AEC']\r\n}\r\ntheme.visuals = {\r\n  Line: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      line: { lineWidth: 1 },\r\n      guideline: { strokeColor: '#ddd' }\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  LineTest: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      line: { lineWidth: 1 }\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Pie: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      sector: { lineWidth: 1, strokeColor: '#fff' }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Area: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      area: { opacity: 0.5 },\r\n      guideline: { strokeColor: '#ddd' }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Radar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      area: { opacity: 0.5 }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Bar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      bar: {},\r\n      groupBar: { opacity: 0.1 }\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  PolarBar: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      bar: {}\r\n    },\r\n    attrs: {\r\n      statck: false\r\n    }\r\n  },\r\n  Scatter: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      point: {}\r\n    },\r\n    attrs: {\r\n      showGuideLine: false\r\n    }\r\n  },\r\n  Wave: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      wave: { fillColor: '#37c', strokeColor: '#37c', lineWidth: 0 },\r\n      text: { fillColor: '#333', fontSize: 24 },\r\n      shape: { fillColor: '#e6f3ff', lineWidth: 3, strokeColor: '#156cbd' }\r\n    },\r\n    attrs: {}\r\n  },\r\n  Gauge: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      area: { opacity: 0.5 }\r\n    },\r\n    attrs: {}\r\n  }\r\n}\r\ntheme.plugins = {\r\n  Tooltip: {\r\n    colors: theme.colors,\r\n    styles: {},\r\n    attrs: {}\r\n  },\r\n  Legend: {\r\n    colors: theme.colors,\r\n    styles: {},\r\n    attrs: {}\r\n  },\r\n  Axis: {\r\n    colors: theme.colors,\r\n    styles: {\r\n      axis: {\r\n        strokeColor: '#ccc',\r\n        lineWidth: 1\r\n      },\r\n      scale: {\r\n        bgcolor: '#ccc'\r\n      },\r\n      label: {\r\n        fontSize: 12,\r\n        fillColor: '#666'\r\n      }\r\n    },\r\n    attrs: {\r\n      orient: 'bottom'\r\n    }\r\n  }\r\n}\r\ntheme.set = function(obj) {\r\n  //合并样式\r\n  deepObjectMerge(theme, obj)\r\n}\r\nexport default theme\r\n","import Base from './Base'\r\nimport theme from '../theme/default'\r\nimport { emptyObject, deepObjectMerge } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nexport default class BaseVisual extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.theme = theme.visuals[this.constructor.name]\r\n    //如果当前对象设置了theme，不继承theme\r\n    this.theme.set = (obj) => {\r\n      if (this.theme === theme.visuals[this.constructor.name]) {\r\n        this.theme = filterClone(this.theme)\r\n      }\r\n      this.theme = deepObjectMerge(this.theme, obj)\r\n    }\r\n  }\r\n  get componentType() {\r\n    return 'visual'\r\n  }\r\n}\r\n","// merge style\r\nimport { deepObjectMerge, jsType } from '@qcharts/utils'\r\n/**\r\n * chart:当前的图表\r\n * key:当前的样式名称\r\n * defaultstyle:为数组或者对象，表示默认的样式\r\n * args:调用style方法的时候，style以后的参数\r\n */\r\nexport function getStyle(chart, key, defaultStyle, args) {\r\n  //合并样式\r\n  let oStyle = defaultStyle\r\n  let oArgs = args\r\n  if (jsType(defaultStyle) === 'array') {\r\n    oStyle = deepObjectMerge.apply(this, defaultStyle)\r\n  }\r\n  if (jsType(args) !== 'array') {\r\n    oArgs = [args]\r\n  }\r\n  let cusStyle = chart.style(key)(oStyle, [...oArgs])\r\n  if (cusStyle === false) {\r\n    return false\r\n  }\r\n  return deepObjectMerge({}, oStyle, cusStyle)\r\n}\r\n","function scaleLinear() {\r\n  let domain = [0, 1]\r\n  let range = [0, 1]\r\n  function scale(num) {\r\n    let disDomain = domain[1] - domain[0]\r\n    let disRange = range[1] - range[0]\r\n    let per = (num - domain[0]) / disDomain || 0\r\n    return range[0] + disRange * per\r\n  }\r\n  scale.domain = function(arr) {\r\n    domain = arr\r\n    return this\r\n  }\r\n  scale.range = function(arr) {\r\n    range = arr\r\n    return this\r\n  }\r\n  return scale\r\n}\r\n\r\n// const data = [80, 40, 30, 60, 70]\r\n// const s = scaleLinear().domain([0, 100]).range([0, 100])\r\n// console.log(data.map(s))\r\n\r\nexport { scaleLinear }\r\n","//import { Global } from '../core/Global'\r\nexport function axis(attr) {\r\n  // 计算坐标轴刻度\r\n  if (!Array.isArray(attr.dataSet) && !attr.hasOwnProperty('section')) {\r\n    return []\r\n  }\r\n  if (attr.section !== undefined) {\r\n    return sectionAxis(attr.section)\r\n  }\r\n  const data = dataHandle(attr)\r\n  let upZero = [] // 大于零的数\r\n  let downZero = [] // 小于零的数\r\n  for (const element of data) {\r\n    if (element < 0) {\r\n      downZero.push(Math.abs(element))\r\n    } else {\r\n      upZero.push(element)\r\n    }\r\n  }\r\n  let length = 5 // 刻度数量\r\n  let sortUpZero = upZero.sort((a, b) => {\r\n    return a - b\r\n  })\r\n  let sortDownZero = downZero.sort((a, b) => {\r\n    return a - b\r\n  })\r\n  let maxUpZero = sortUpZero.length && Math.ceil(sortUpZero.pop() / 0.95)\r\n  let maxDownZero = sortDownZero.length && Math.ceil(sortDownZero.pop() / 0.95)\r\n  let maxValue = maxUpZero - maxDownZero >= 0 ? maxUpZero : maxDownZero\r\n  let mixNum = 4\r\n  let maxNum = 7\r\n  if (maxDownZero && maxUpZero) {\r\n    mixNum = 3\r\n    maxNum = 5\r\n  }\r\n  if (attr.splitNumber) {\r\n    mixNum = attr.splitNumber\r\n    maxNum = mixNum + 1\r\n  }\r\n  let getMax = false\r\n  const len = maxValue.toString().length // 最大值位数\r\n  let max = len < 3 ? Math.ceil(maxValue / Math.pow(10, len - 1)) : Math.ceil(maxValue / Math.pow(10, len - 2))\r\n  do {\r\n    for (let i = mixNum; i < maxNum; i++) {\r\n      if (max % i === 0) {\r\n        length = i\r\n        maxValue = len < 3 ? max * Math.pow(10, len - 1) : max * Math.pow(10, len - 2)\r\n        getMax = true\r\n        break\r\n      }\r\n    }\r\n    max++\r\n  } while (!getMax)\r\n\r\n  let axisArray = new Array(length + 1)\r\n  axisArray[0] = 0\r\n  for (let i = 1; i < length + 1; i++) {\r\n    axisArray[i] = maxUpZero >= maxDownZero ? Math.round((maxValue / length) * i) : -1 * Math.round((maxValue / length) * i)\r\n  }\r\n\r\n  // 处理0-1之间的数据\r\n  if ((maxDownZero <= 1 && maxDownZero > 0) || (maxUpZero <= 1 && maxUpZero > 0) || (maxUpZero === 0 && maxDownZero === 0)) {\r\n    axisArray = new Array(6)\r\n    axisArray[0] = 0\r\n    maxValue = 1\r\n    for (let i = 1; i < 6; i++) {\r\n      axisArray[i] = maxUpZero >= maxDownZero ? (2 * maxValue * i) / 10 : (-2 * maxValue * i) / 10\r\n    }\r\n  }\r\n\r\n  if (maxUpZero < maxDownZero) {\r\n    axisArray.reverse()\r\n  }\r\n  if (maxDownZero.length === 0 || maxUpZero.length === 0) {\r\n    return axisArray\r\n  }\r\n  if (maxUpZero >= maxDownZero) {\r\n    const unit = axisArray[1] * 10\r\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxDownZero) / maxUpZero); i < len + 1; i++) {\r\n      axisArray.unshift((-1 * unit * i) / 10)\r\n    }\r\n  } else {\r\n    const unit = axisArray[axisArray.length - 2] * 10\r\n    for (let i = 1, len = Math.ceil(((axisArray.length - 1) * maxUpZero) / maxDownZero); i < len + 1; i++) {\r\n      axisArray.push((-1 * unit * i) / 10)\r\n    }\r\n  }\r\n  if (attr.needReverse) {\r\n    axisArray = axisArray.map((value) => {\r\n      return Global.datasetReverse ? Math.round(Global.datasetReverse(value)) : value\r\n    })\r\n  }\r\n  return axisArray\r\n}\r\n\r\nfunction dataHandle(attr) {\r\n  const stack = attr.stack || false\r\n  const data = attr.dataSet || []\r\n  const arr = []\r\n\r\n  if (stack && data.length !== 0 && data[0].length) {\r\n    for (let i = 0, len = data[0].length; i < len; i++) {\r\n      let sum = 0\r\n      let sumDown = 0\r\n      for (let j = 0, leng = data.length; j < leng; j++) {\r\n        let val = data[j][i].value\r\n        if (data[j][i].disabled === true || val === undefined) {\r\n          continue\r\n        }\r\n        if (val < 0) {\r\n          sumDown = sumDown + val\r\n        } else {\r\n          sum = sum + val\r\n        }\r\n      }\r\n      sum && arr.push(sum)\r\n      sumDown && arr.push(sumDown)\r\n    }\r\n  } else {\r\n    for (let m = 0; m < data.length; m++) {\r\n      for (let n = 0; n < data[m].length; n++) {\r\n        let val = data[m][n].value\r\n        if (data[m][n].disabled === true || val === undefined) {\r\n          continue\r\n        }\r\n        arr.push(val)\r\n      }\r\n    }\r\n  }\r\n  return arr\r\n}\r\n\r\nfunction sectionAxis(section) {\r\n  if (section && Array.isArray(section)) {\r\n    const gap = section[1] - section[0]\r\n    const arr = []\r\n    let divide = 4\r\n    arr.push(section[0])\r\n    for (let i = 4; i < 8; i++) {\r\n      if (gap % i === 0) {\r\n        divide = i\r\n        break\r\n      }\r\n    }\r\n    for (let j = 1; j <= divide; j++) {\r\n      arr.push((section[0] + (gap * j) / divide).toFixed(2))\r\n    }\r\n    return arr\r\n  }\r\n  return []\r\n}\r\n","import { scaleLinear } from '../../utils/scaleLinear'\r\nimport { axis } from '../../utils/axis'\r\nexport default function layout(arr, attrs) {\r\n  let type = this.type\r\n  let lines = []\r\n  const { stack, splitNumber, clientRect } = attrs\r\n  const { width, height } = clientRect\r\n  let scales = axis({ dataSet: arr, stack, splitNumber })\r\n  let maxVal = Math.max.apply(this, scales)\r\n  let minVal = Math.min.apply(this, scales)\r\n  let scaleFY = scaleLinear()\r\n    .domain([minVal, maxVal])\r\n    .range([0, height])\r\n  let prevRow = null\r\n  arr.forEach(row => {\r\n    //if (row.state === 'disabled') return\r\n    let line = { points: [], areaPoints: [], smoothRange: [], state: row.state }\r\n    row.forEach((cell, i) => {\r\n      let val = cell.value\r\n      if (cell.value !== undefined) {\r\n        //如果为undefined 不渲染\r\n        let dx = width / (row.length - 1)\r\n        let curPos = [dx * i, height - scaleFY(val)]\r\n        if (stack && prevRow) {\r\n          //如果是堆叠并且前一个row存在，则叠加\r\n          curPos = [dx * i, height - scaleFY(val + prevRow[i].value)]\r\n        }\r\n        line.points.push(curPos)\r\n      }\r\n    })\r\n    line.axisPoints = [\r\n      [line.points[0][0], height - scaleFY(0)],\r\n      [line.points[line.points.length - 1][0], height - scaleFY(0)]\r\n    ]\r\n    if (line.state !== 'disabled') {\r\n      prevRow = row\r\n    }\r\n    lines.push(line)\r\n  })\r\n  if (type === 'area') {\r\n    let curLine = null\r\n    lines.forEach((line, ind) => {\r\n      let nextPoints = []\r\n        .concat(line.points)\r\n        .reverse()\r\n        .map(point => [point[0], height])\r\n      if (curLine && attrs.stack) {\r\n        nextPoints = [].concat(lines[ind - 1].points).reverse()\r\n      }\r\n      let res = transAreaPoint(line.points, nextPoints)\r\n      line.areaPoints = res.areaPoints\r\n      line.smoothRange = res.smoothRange\r\n      if (line.state !== 'disabled') {\r\n        curLine = line\r\n      }\r\n    })\r\n  }\r\n  return lines\r\n}\r\nfunction transAreaPoint(startPoints, endPoints) {\r\n  let res = {\r\n    areaPoints: [],\r\n    smoothRange: []\r\n  }\r\n  res.areaPoints = []\r\n    .concat([startPoints[0]])\r\n    .concat(startPoints)\r\n    .concat([startPoints[startPoints.length - 1]])\r\n    .concat([endPoints[0]])\r\n    .concat(endPoints)\r\n    .concat([endPoints[endPoints.length - 1]])\r\n  res.smoothRange = [1, startPoints.length, startPoints.length + 3, startPoints.length + endPoints.length + 2]\r\n  return res\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Polyline, Node } from 'spritejs'\r\nimport { getStyle } from '@/utils/getStyle'\r\nimport layout from './layout'\r\nclass Line extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderLines = []\r\n    this.type = 'line'\r\n    this.hoverIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    let { arrLayout, maxLen } = this.getRenderData()\r\n    let lines = arrLayout.map(item => {\r\n      return {\r\n        smoothRange: item.smoothRange,\r\n        areaFrom: { points: item.areaPoints },\r\n        areaTo: { points: item.areaPoints },\r\n        from: { points: item.points, lineDash: [1, maxLen] },\r\n        to: { points: item.points, lineDash: [maxLen, maxLen] }\r\n      }\r\n    })\r\n    return lines\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    let { arrLayout, maxLen } = this.getRenderData()\r\n    let renderLines = this.renderLines\r\n    let lines = arrLayout.map((item, i) => {\r\n      let from = { points: item.points }\r\n      if (renderLines[i]) {\r\n        from = { points: renderLines[i].to.points }\r\n      }\r\n      if (!renderLines[i] || renderLines[i].state === 'disabled') {\r\n        from.lineDash = [4, maxLen]\r\n      }\r\n      return {\r\n        state: item.state,\r\n        smoothRange: item.smoothRange,\r\n        areaFrom: (renderLines[i] && renderLines[i].areaTo) || item.areaPoints,\r\n        areaTo: {\r\n          points: item.areaPoints\r\n        },\r\n        from,\r\n        to: {\r\n          points: item.points,\r\n          lineDash: [maxLen, maxLen]\r\n        }\r\n      }\r\n    })\r\n    return lines\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    let arrLayout = layout.call(this, renderData, renderAttrs)\r\n    let { height, width } = renderAttrs.clientRect\r\n    //对角线长度的2保证会大于曲线的长度\r\n    let maxLen = Math.sqrt(height ** 2, width ** 2) * 5\r\n    return { width, height, arrLayout, maxLen }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      guidePoints: [],\r\n      layer: 'line'\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {\r\n      smooth: false\r\n    }\r\n  }\r\n  guidelineleave(event, el) {\r\n    this.attr('guidePoints', [])\r\n    this.dataset.resetState()\r\n  }\r\n  guidelinemove(event, el) {\r\n    if (this.renderLines.length) {\r\n      //获取 x轴坐标的刻度\r\n      let arrX = this.renderLines[0].to.points.map(pos => pos[0])\r\n      //转换cancas坐标到当前group的相对坐标\r\n      let [x] = el.getOffsetPosition(event.x, event.y)\r\n      let curInd = 0\r\n      //查找当前位置\r\n      for (let i = 0; i < arrX.length; i++) {\r\n        if (x > arrX[i] && x < arrX[i + 1]) {\r\n          curInd = Math.abs(x - arrX[i]) < Math.abs(x - arrX[i + 1]) ? i : i + 1\r\n          break\r\n        }\r\n      }\r\n      //重置所有的dateset的状态\r\n      if (this.hoverIndex !== curInd) {\r\n        this.dataset.resetState()\r\n        //设置当前列的state为hover\r\n        this.dataset.cols[curInd].state = 'hover'\r\n        let { clientRect } = this.renderAttrs\r\n        let posX = arrX[curInd]\r\n        this.hoverIndex = curInd\r\n        this.attr({\r\n          guidePoints: [\r\n            [posX, 0],\r\n            [posX, clientRect.height]\r\n          ],\r\n          lineState: 'default'\r\n        })\r\n      }\r\n    }\r\n  }\r\n  render(lines) {\r\n    let { clientRect, smooth, guidePoints } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    //当前主体颜色\r\n    let colors = this.theme.colors\r\n    this.renderLines = lines\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} onMouseleave={this.guidelineleave} onMouseenter={this.guidelinemove} onMousemove={this.guidelinemove} size={[clientRect.width, clientRect.height]}>\r\n        <Group class=\"lines-group\">\r\n          {lines.map((line, ind) => {\r\n            let style = getStyle(this, 'line', [{ strokeColor: colors[ind], smooth }, styles.line], [this.dataset.rows[ind], ind])\r\n            return line.state === 'disabled' || style === false ? <Node /> : <Polyline onClick={this.lineClick} {...style} animation={{ from: line.from, to: line.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"areas-group\">\r\n          {this.type !== 'area'\r\n            ? null\r\n            : lines.map((line, ind) => {\r\n                let style = getStyle(this, 'area', [{ fillColor: colors[ind], smooth }, styles.area], [this.dataset.rows[ind], ind])\r\n                return line.state === 'disabled' || style === false ? <Node /> : <Polyline smoothRange={line.smoothRange} {...style} animation={{ from: line.areaFrom, to: line.areaTo }} />\r\n              })}\r\n        </Group>\r\n        <Group class=\"guide-line-group\">\r\n          {guidePoints.length ? (\r\n            (_ => {\r\n              let style = getStyle(this, 'guideline', styles.guideline)\r\n              return style === false ? <Node /> : <Polyline points={guidePoints} {...style} />\r\n            })()\r\n          ) : (\r\n            <Node />\r\n          )}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Line\r\n","export default function layout(arr, attrs) {\r\n  let rings = []\r\n  let arrVal = arr.map(row => row.reduce((val, item) => (row.state !== 'disabled' ? val + item.value : val), 0))\r\n  //当totalVal为0的时候，会造成分母为0 如果totalVal为0 处理成1\r\n  let totalVal = arrVal.reduce((val, item) => val + item, 0) || 1\r\n  let { startAngle, endAngle, activeOffset } = attrs\r\n  let minAngle = Math.min(startAngle, endAngle)\r\n  let maxAngle = Math.max(startAngle, endAngle)\r\n  if (maxAngle > minAngle + 360) {\r\n    maxAngle = minAngle + 360\r\n  }\r\n  let totalAngle = maxAngle - minAngle\r\n  arrVal.forEach((num, ind) => {\r\n    let curPercent = num / totalVal\r\n    let perAngle = curPercent * totalAngle\r\n    //默认中心坐标偏移量0\r\n    let offsetPos = [0, 0]\r\n\r\n    let curObj = { startAngle: minAngle, endAngle: minAngle + perAngle, offsetPos }\r\n    if (ind !== 0) {\r\n      let prevRing = rings[ind - 1]\r\n      curObj = { startAngle: prevRing.endAngle, endAngle: prevRing.endAngle + perAngle, offsetPos }\r\n    }\r\n    let curAngle = ((curObj.startAngle + curObj.endAngle) / 2) % 360\r\n    curObj.bisectorAngle = curAngle\r\n    curObj.bisectorRadian = transRadius(curAngle)\r\n    if (arr[ind].state === 'hover') {\r\n      //角平分,角度转弧度,默认是顺时针，角度为相反\r\n      curObj.offsetPos = [activeOffset * Math.cos(curObj.bisectorRadian), activeOffset * Math.sin(curObj.bisectorRadian)]\r\n      //选中状态\r\n    }\r\n    rings.push(curObj)\r\n  })\r\n  return rings\r\n}\r\nexport function transRadius(angle) {\r\n  return (angle / 180) * Math.PI\r\n}\r\nexport function computeLinePos(startAngle, endAngle, center, radius, disRadius) {\r\n  let points = []\r\n  let centerAn = ((startAngle + endAngle) / 2) % 360\r\n  let centerAngle = transRadius(centerAn)\r\n  let labelAnchor = [0, 0]\r\n  let startPoint = [radius * Math.cos(centerAngle), radius * Math.sin(centerAngle)]\r\n  let endPoint = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius) * Math.sin(centerAngle)]\r\n  let labelPos = [(radius + disRadius) * Math.cos(centerAngle), (radius + disRadius + 5) * Math.sin(centerAngle)]\r\n  labelPos = [center[0] + labelPos[0], center[1] + labelPos[1]]\r\n  points.push([center[0] + startPoint[0], center[1] + startPoint[1]])\r\n  points.push([center[0] + endPoint[0], center[1] + endPoint[1]])\r\n  labelAnchor = [Math.sin(centerAngle / 2), 1 - Math.cos(centerAngle / 4)]\r\n  return { points, labelAnchor, labelPos: labelPos }\r\n}\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Node, Ring, Polyline, Label } from 'spritejs'\r\nimport filterClone from 'filter-clone'\r\nimport layout from './layout'\r\nimport { computeLinePos } from './layout'\r\nimport { getStyle } from '@/utils/getStyle'\r\nclass Pie extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderRings = []\r\n    this.hoverIndex = -1\r\n    this.activeIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let { radius, innerRadius } = attrs\r\n    let { width, height } = attrs.clientRect\r\n    attrs.center = [width / 2, height / 2]\r\n    attrs.radiusPx = (Math.min(width, height) * radius) / 2\r\n    attrs.innerRadiusPx = (Math.min(width, height) * innerRadius) / 2\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    let { rings } = this.getRenderData()\r\n    let { center } = this.renderAttrs\r\n    let arr = rings.map((item, ind) => {\r\n      if (ind === 0) {\r\n        return {\r\n          from: { startAngle: 0, endAngle: 0, pos: center },\r\n          to: { ...item, pos: center }\r\n        }\r\n      }\r\n      let pervAngle = rings[ind - 1].endAngle\r\n      return {\r\n        from: { startAngle: pervAngle, endAngle: pervAngle, pos: center },\r\n        to: { ...item, pos: center }\r\n      }\r\n    })\r\n    this.computeLine(arr)\r\n    return arr\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    let { rings } = this.getRenderData()\r\n    let { center } = this.renderAttrs\r\n    let oldRings = this.renderRings\r\n    let arr = rings.map((item, ind) => {\r\n      let curPos = [center[0] + item.offsetPos[0], center[1] + item.offsetPos[1]]\r\n      let attrs = filterClone(item, ['startAngle', 'endAngle'])\r\n      if (ind === this.hoverIndex) {\r\n        return {\r\n          from: { ...oldRings[ind].to },\r\n          to: { ...attrs, pos: curPos }\r\n        }\r\n      } else {\r\n        return {\r\n          from: { ...oldRings[ind].to },\r\n          to: { ...attrs, pos: curPos }\r\n        }\r\n      }\r\n    })\r\n    this.computeLine(arr)\r\n    return arr\r\n  }\r\n  computeLine(arr) {\r\n    let { radiusPx } = this.renderAttrs\r\n    arr.forEach(item => {\r\n      let { points: fromPoints, labelAnchor: fromAnchor, labelPos: fromPos } = computeLinePos(item.from.startAngle, item.from.endAngle, item.from.pos, radiusPx + 1, 15)\r\n      let { points: toPoints, labelAnchor: toAnchor, labelPos: toPos } = computeLinePos(item.to.startAngle, item.to.endAngle, item.to.pos, radiusPx + 1, 15)\r\n      item.line = {\r\n        from: {\r\n          points: fromPoints\r\n        },\r\n        to: {\r\n          points: toPoints\r\n        }\r\n      }\r\n      item.label = {\r\n        from: {\r\n          pos: fromPos,\r\n          anchor: fromAnchor\r\n        },\r\n        to: {\r\n          pos: toPos,\r\n          anchor: toAnchor\r\n        }\r\n      }\r\n    })\r\n    //计算guideline位置\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    //let { radiusPx, center } = renderAttrs\r\n    let renderData = this.renderData()\r\n    let rings = layout.call(this, renderData, renderAttrs)\r\n    return { rings }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'pie',\r\n      radius: 1,\r\n      innerRadius: 0,\r\n      startAngle: 0,\r\n      endAngle: 360,\r\n      lineWidth: 1,\r\n      //选中偏移量基数\r\n      activeOffset: 10,\r\n      //饼图上文字偏移量\r\n      labelOffset: 20\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n  }\r\n  mousemove(event, el) {\r\n    let renderData = this.renderData()\r\n    let ind = el.attr('_index')\r\n    if (ind !== this.hoverIndex) {\r\n      let curData = renderData[ind]\r\n      renderData.forEach(row => {\r\n        if (row.state === 'hover') {\r\n          row.state = 'default'\r\n        }\r\n      })\r\n      curData.state = 'hover'\r\n      this.hoverIndex = ind\r\n    }\r\n  }\r\n  mouseleave() {\r\n    let renderData = this.renderData()\r\n    renderData.forEach(row => {\r\n      if (row.state === 'hover') {\r\n        row.state = 'default'\r\n      }\r\n    })\r\n    this.hoverIndex = -1\r\n  }\r\n  renderData() {\r\n    let renderAttrs = this.renderAttrs\r\n    return this.dataset[renderAttrs.layoutBy]\r\n  }\r\n  render(rings) {\r\n    //console.log(rings)\r\n    let { clientRect, innerRadiusPx, radiusPx } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    //当前主体颜色\r\n    let colors = this.theme.colors\r\n    this.renderRings = rings\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Group class=\"rings-group\" onMouseleave={this.mouseleave}>\r\n          {rings.map((ring, ind) => {\r\n            let style = getStyle(this, 'sector', [{ strokeColor: colors[ind], fillColor: colors[ind], innerRadius: innerRadiusPx, outerRadius: radiusPx, _index: ind }, styles.sector], [this.dataset.rows[ind], ind])\r\n            return ring.state === 'disabled' || style === false ? <Node /> : <Ring onMousemove={this.mousemove} {...style} animation={{ from: ring.from, to: ring.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"line-group\">\r\n          {rings.map((ring, ind) => {\r\n            let style = getStyle(this, 'guideline', [{ strokeColor: colors[ind] }, styles.guideline], [this.dataset.rows[ind], ind])\r\n            let hide = false\r\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\r\n              hide = true\r\n            }\r\n            return hide || style === false ? <Node /> : <Polyline {...style} animation={{ from: ring.line.from, to: ring.line.to }} />\r\n          })}\r\n        </Group>\r\n        <Group class=\"label-group\">\r\n          {rings.map((ring, ind) => {\r\n            let name = this.dataset.rows[ind].name\r\n            let style = getStyle(this, 'guideText', [{ fillColor: '#666', fontSize: 12 }, styles.guideline], [this.dataset.rows[ind], ind])\r\n            let hide = false\r\n            if (ring.to.startAngle === ring.to.endAngle || ring.state === 'disable' || style === false) {\r\n              hide = true\r\n            }\r\n            return hide || style === false ? <Node /> : <Label text={name} {...style} pos={ring.label.from.pos} animation={{ from: ring.label.from, to: ring.label.to }} />\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Pie\r\n","import Line from '../Line'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nclass Area extends Line {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'area'\r\n  }\r\n  defaultAttrs() {\r\n    return deepObjectMerge({}, super.defaultAttrs(), {\r\n      stack: true,\r\n      layer: 'area'\r\n    })\r\n  }\r\n}\r\nexport default Area\r\n","/**\r\n * 根据给定角度和长度获取极坐标值\r\n * @param {Number} radian 角度\r\n * @param {Number} length 长度\r\n * @returns {Array} [x,y]\r\n */\r\nconst getPointCoordinate = (radian, length) => {\r\n  let x = Math.cos(radian) * length\r\n  let y = Math.sin(radian) * length\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 获取数组中最大数除以层级后的整数\r\n * @param {Array} data\r\n * @param {Number} splitNumber\r\n * @returns {Number}\r\n */\r\nconst getMax = (data, splitNumber) => {\r\n  const indicatorMax = Math.max(...data)\r\n  if (indicatorMax < splitNumber * 10) {\r\n    return Math.ceil(indicatorMax / splitNumber) * splitNumber\r\n  } else {\r\n    return Math.ceil(indicatorMax / 10 / splitNumber) * 10 * splitNumber\r\n  }\r\n}\r\n\r\n/**\r\n * 根据给定的数据，返回绘制雷达图所需要的数据\r\n * @param {Array} dataset 数据集\r\n * @param {Number} radius 雷达图半径\r\n * @param {Number} splitNumber  雷达图背景层级\r\n * @param {Number} startAngle 雷达图起始轴角度\r\n * @param {Number} labelOffset 雷达图文字偏移值\r\n * @returns {Object} { sectionAttrs, borderAttrs, axisAttrs, gridAttrs }\r\n */\r\nexport default function layout(data, radius, splitNumber, startAngle, labelOffset) {\r\n  let bgPoints = [] // 最外层背景多边形\r\n  let gridAttrs = [] // 蜘蛛网图背景\r\n  let axisAttrs = [] // 坐标轴\r\n  let sectionAttrs = [] // 多边形数据\r\n\r\n  if (data.some((d) => d.length === 0)) {\r\n    return { sectionAttrs, axisAttrs, gridAttrs }\r\n  }\r\n\r\n  const allDataValue = data.reduce((t, row) => {\r\n    return t.concat(row.map((cell) => cell.value))\r\n  }, [])\r\n\r\n  const max = getMax(allDataValue, splitNumber)\r\n\r\n  // 每个类别的弧度\r\n  const dimension = data[0].length\r\n  const perRadian = (Math.PI * 2) / dimension\r\n  // 起始角度->转弧度\r\n  const startRadian = (Math.PI / 180) * startAngle\r\n  for (let i = 0; i < dimension; i++) {\r\n    // 根据角度和半径，计算对应的坐标\r\n    let currentRadian = i * perRadian + startRadian\r\n    let point = getPointCoordinate(currentRadian, radius)\r\n\r\n    bgPoints.push({\r\n      point,\r\n      radian: currentRadian,\r\n    })\r\n\r\n    // 类别指示坐标\r\n    const labelPos = getPointCoordinate(currentRadian, radius + labelOffset)\r\n    const label = data[0][i].text\r\n    // 坐标轴属性\r\n    axisAttrs.push({\r\n      points: [[0, 0], point],\r\n      lineWidth: 1,\r\n      lineDash: [3, 2],\r\n      strokeColor: '#DDE0E5',\r\n      label,\r\n      labelPos,\r\n      radian: currentRadian,\r\n      maxScale: max,\r\n      splitNumber: splitNumber,\r\n    })\r\n  }\r\n\r\n  data.forEach((row, index) => {\r\n    const categoryPoints = row.map((d, i) => {\r\n      const value = d.value\r\n      const radian = bgPoints[i].radian\r\n      return getPointCoordinate(radian, (value / max) * radius)\r\n    })\r\n\r\n    sectionAttrs.push({\r\n      index: index,\r\n      name: row.name,\r\n      dataOrigin: row.data,\r\n      lineWidth: 1,\r\n      points: categoryPoints,\r\n      state: row.state,\r\n      close: true,\r\n    })\r\n  })\r\n\r\n  // 背景网格多边形坐标\r\n  const gridPoints = bgPoints.map((p) => p.point)\r\n  for (let i = 0; i < splitNumber; i++) {\r\n    let scale = 1 - i / splitNumber\r\n    gridAttrs.push({\r\n      scale,\r\n      radius,\r\n      points: gridPoints,\r\n      index: i,\r\n      close: true,\r\n      lineWidth: 1,\r\n      strokeColor: '#DDE0E5',\r\n      anchor: [0.5, 0.5],\r\n    })\r\n  }\r\n\r\n  return { sectionAttrs, axisAttrs, gridAttrs }\r\n}\r\n","import { Group, Polyline, Label, Arc } from 'spritejs'\r\nimport { deepObjectMerge, throttle } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\nimport layout from './layout'\r\n\r\nclass Radar extends BaseVisual {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'radar'\r\n    this.sectionData = []\r\n    this.scaleEl = []\r\n  }\r\n\r\n  //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    const { height, width } = attrs.clientRect\r\n    const center = [width / 2, height / 2]\r\n\r\n    const { radius } = attrs\r\n    const len = Math.min(...center) * radius\r\n\r\n    return { ...attrs, center, len }\r\n  }\r\n\r\n  // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n  defaultAttrs() {\r\n    return {\r\n      gridType: 'polygon', // 网格类型,polygon,circle\r\n      splitNumber: 4, // 网格层次\r\n      startAngle: 270, // 起始角度\r\n      radius: 0.6, // 雷达图半径\r\n      labelOffset: 7, // 文字偏移\r\n    }\r\n  }\r\n\r\n  getRenderData() {\r\n    const dataSet = this.dataset\r\n    // // FIXME 数据筛选之前先按照label进行排序?是否需要？\r\n    const { len, splitNumber, startAngle, labelOffset } = this.renderAttrs\r\n    const { sectionAttrs, axisAttrs, gridAttrs } = layout([...dataSet.rows], len, splitNumber, startAngle, labelOffset)\r\n\r\n    const colors = this.theme.colors\r\n\r\n    sectionAttrs.forEach((s, i) => {\r\n      s.strokeColor = colors[i]\r\n      s.fillColor = colors[i]\r\n    })\r\n\r\n    return { sectionAttrs, axisAttrs, gridAttrs }\r\n  }\r\n\r\n  _processData() {\r\n    const { sectionAttrs, ...otherData } = this.getRenderData()\r\n    const processSectionAttrs = sectionAttrs\r\n      .filter((attr) => attr.state !== 'disabled')\r\n      .map((attr, i) => {\r\n        const { points, ...otherAttrs } = attr\r\n        const animation = this._getPolylineAnimation(points, i)\r\n        const { style, hoverStyle } = this._getStyle('section', attr, { ...attr.dataOrigin }, i)\r\n        if (style === false) {\r\n          attr.display = 'none'\r\n        }\r\n        let stateStyle = { lineWidth: attr.lineWidth, display: 'block' }\r\n        if (attr.state === 'hover') {\r\n          stateStyle = { ...hoverStyle, lineWidth: attr.lineWidth + 1 }\r\n        }\r\n        // 由于有着动画的原因，一开始的points需要设置为from points\r\n        return deepObjectMerge(otherAttrs, { points: animation.from.points }, { animation }, style, stateStyle)\r\n      })\r\n    return { ...otherData, sectionAttrs: processSectionAttrs }\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const updateData = this._processData()\r\n    if (updateData.sectionAttrs) {\r\n      const len = Math.max(this.sectionData.length, updateData.sectionAttrs.length)\r\n      for (let i = 0; i < len; i++) {\r\n        this.sectionData[i] = updateData.sectionAttrs[i]\r\n      }\r\n    }\r\n    this.sectionData = [...updateData.sectionAttrs]\r\n    return updateData\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const renderData = this._processData()\r\n    this.sectionData = [...renderData.sectionAttrs]\r\n    return renderData\r\n  }\r\n\r\n  rendered() {}\r\n\r\n  _getScaleAnimation(toScale) {\r\n    return {\r\n      from: { scale: 0 },\r\n      to: { scale: toScale },\r\n    }\r\n  }\r\n\r\n  _getStyle(type, attr, data, index) {\r\n    return {\r\n      style: this.style(type)(attr, data, index) || {},\r\n      hoverStyle: this.style(`${type}:hover`)(attr, data, index) || {},\r\n    }\r\n  }\r\n\r\n  _isSamePoints(fromPts, toPts) {\r\n    return fromPts.toString() === toPts.toString()\r\n  }\r\n\r\n  _getPolylineAnimation(toPoints, index) {\r\n    let preData = this.sectionData[index]\r\n    if (!preData) {\r\n      const fromPoints = new Array(toPoints.length).fill([0, 0])\r\n      preData = {\r\n        animation: {\r\n          to: {\r\n            points: fromPoints,\r\n          },\r\n        },\r\n      }\r\n    }\r\n    return {\r\n      from: { points: preData.animation.to.points },\r\n      to: { points: toPoints },\r\n    }\r\n  }\r\n\r\n  renderGrid(gridAttrs) {\r\n    const { gridType } = this.renderAttrs\r\n    const GridShape = gridType === 'circle' ? Arc : Polyline\r\n    return gridAttrs.map((attr, i) => {\r\n      const animation = this.scaleEl.length > 0 ? {} : this._getScaleAnimation(attr.scale)\r\n      const { style, ...other } = this._getStyle('grid', attr, null, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      let gridAttr = { ...attr }\r\n      if (gridType === 'circle') {\r\n        gridAttr = {\r\n          lineWidth: attr.lineWidth,\r\n          strokeColor: attr.strokeColor,\r\n          radius: attr.radius,\r\n          scale: attr.scale,\r\n        }\r\n      }\r\n      return <GridShape {...gridAttr} {...style} {...other} animation={animation} />\r\n    })\r\n  }\r\n\r\n  _renderAxisLabel(attrs, i) {\r\n    const calcAnchor = (radian) => {\r\n      const x = 0.5 - Math.cos(radian)\r\n      const y = 0.5 - Math.sin(radian)\r\n      return [x, y]\r\n    }\r\n    const { label, labelPos, radian } = attrs\r\n    const anchor = calcAnchor(radian)\r\n    const attr = {\r\n      text: label,\r\n      pos: labelPos,\r\n      color: '#67728C',\r\n      radian,\r\n      anchor,\r\n      fontSize: 12,\r\n    }\r\n    const animation = this.scaleEl.length > 0 ? {} : this._getScaleAnimation(1)\r\n    const { style, ...other } = this._getStyle('label', attr, { text: attr.label, radian }, i)\r\n    if (style === false) {\r\n      return\r\n    }\r\n    const axisLabelStyle = deepObjectMerge(attr, style, other)\r\n    return <Label {...axisLabelStyle} animation={animation} />\r\n  }\r\n\r\n  _renderAxisScale(attrs, index) {\r\n    const getPt = (attrs) => {\r\n      const { points, splitNumber, maxScale } = attrs\r\n      const [x, y] = points[1]\r\n      const perNum = maxScale / splitNumber\r\n      return [[x / splitNumber, y / splitNumber], perNum]\r\n    }\r\n    const [[perX, perY], perNum] = getPt(attrs)\r\n    let labels = []\r\n    const display = index === 0 ? 'block' : 'none'\r\n    const common = {\r\n      fontSize: 12,\r\n      anchor: [1, 0.5],\r\n      translate: [-5, 0],\r\n      display,\r\n    }\r\n    for (let i = 0; i < attrs.splitNumber + 1; i++) {\r\n      let point = [perX * i, perY * i]\r\n      let text = perNum * i\r\n      let attr = {\r\n        text,\r\n        color: '#67728C',\r\n        pos: point,\r\n        ...common,\r\n      }\r\n      const { style, ...other } = this._getStyle('scale', attr, { text, index }, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      if (attr.display !== 'none') {\r\n        let animation = {}\r\n        const elIndex = index * attrs.splitNumber + i\r\n        const preEl = this.scaleEl[elIndex]\r\n        if (preEl) {\r\n          const { text: preText } = preEl\r\n          if (preText !== text) {\r\n            animation = {\r\n              from: { text: preText },\r\n              to: { text },\r\n              formatter: (attr) => {\r\n                attr.text = attr.text.toFixed(0)\r\n                return attr\r\n              },\r\n            }\r\n          }\r\n        } else {\r\n          animation = {\r\n            from: { pos: [0, 0] },\r\n            to: { pos: point },\r\n          }\r\n        }\r\n        this.scaleEl[i] = { text: Number(text.toFixed(0)) }\r\n        labels.push(<Label {...attr} {...style} {...other} animation={animation} />)\r\n      }\r\n    }\r\n    return labels\r\n  }\r\n\r\n  renderAxis(axisAttrs) {\r\n    const animation = this.scaleEl.length > 0 ? {} : this._getScaleAnimation(1)\r\n    return axisAttrs.map((attr, i) => {\r\n      const { style, ...other } = this._getStyle('axis', attr, { text: attr.label }, i)\r\n      if (style === false) {\r\n        return\r\n      }\r\n      const axisStyle = deepObjectMerge(attr, style, other)\r\n      return (\r\n        <Group clipOverflow={false} size={[1, 1]}>\r\n          <Polyline {...axisStyle} animation={animation} />\r\n          {this._renderAxisLabel(attr, i)}\r\n          {this._renderAxisScale(attr, i)}\r\n        </Group>\r\n      )\r\n    })\r\n  }\r\n\r\n  renderPoints(sectionAttrs) {\r\n    const allPoints = sectionAttrs.map((attrs, index) => {\r\n      const { animation: secAnimation, dataOrigin, strokeColor } = attrs\r\n      const prePoints = secAnimation && secAnimation.from && secAnimation.from.points\r\n      const toPoints = secAnimation && secAnimation.to && secAnimation.to.points\r\n      return toPoints.map((point, i) => {\r\n        let attr = {\r\n          pos: point,\r\n          fillColor: strokeColor,\r\n          startAngle: 0,\r\n          endAngle: 360,\r\n          radius: 2,\r\n          dataOrigin: dataOrigin[i],\r\n          anchor: [0.5, 0.5],\r\n        }\r\n        let animation = {\r\n          from: { pos: [0, 0] },\r\n          to: { pos: point },\r\n        }\r\n\r\n        if (prePoints && prePoints[i]) {\r\n          if (!this._isSamePoints(prePoints[i], point)) {\r\n            animation.from.pos = prePoints[i]\r\n            attr.pos = prePoints[i]\r\n          } else {\r\n            animation = {}\r\n          }\r\n        }\r\n        const style = this.style('point')(attr, { ...attr.dataOrigin }, i)\r\n        if (style === false) {\r\n          return\r\n        }\r\n        return <Arc {...attr} {...style} animation={animation} />\r\n      })\r\n    })\r\n\r\n    return allPoints.reduce((pre, cur) => pre.concat(cur), [])\r\n  }\r\n\r\n  renderSection(sectionAttrs) {\r\n    return sectionAttrs.map((attr, i) => {\r\n      const { animation, ...otherAttr } = attr\r\n      return <Polyline zIndex={9 + i} animation={animation} {...otherAttr} onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave} />\r\n    })\r\n  }\r\n\r\n  onMouseenter = throttle(\r\n    (event, el) => {\r\n      this.dataset.resetState()\r\n      const name = el.attributes.name\r\n      this.dataset.rows\r\n        .filter((row) => row.state !== 'disabled')\r\n        .forEach((row) => {\r\n          row.state = row.name === name ? 'hover' : 'default'\r\n        })\r\n    },\r\n    16,\r\n    true\r\n  )\r\n  onMouseleave() {\r\n    this.dataset.resetState()\r\n    this.dataset.rows.filter((row) => row.state !== 'disabled').forEach((row) => row.state === 'default')\r\n  }\r\n\r\n  render({ sectionAttrs, axisAttrs, gridAttrs }) {\r\n    const { center, clientRect } = this.renderAttrs\r\n    return (\r\n      <Group pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Group pos={center}>\r\n          {this.renderGrid(gridAttrs)}\r\n          {this.renderAxis(axisAttrs)}\r\n          {this.renderSection(sectionAttrs)}\r\n          {this.renderPoints(sectionAttrs)}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Radar\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Sprite } from 'spritejs'\r\nimport { deepObjectMerge, throttle } from '@qcharts/utils'\r\nimport layout from './layout'\r\nclass Bar extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.type = 'bar'\r\n    this.pillars = null\r\n    this.groups = null\r\n    this.fromTos = null\r\n    this.hoverIndex = -1\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base---------before\r\n    let { arrLayout } = this.getRenderData()\r\n    let barData = arrLayout.barData.map(item => {\r\n      return {\r\n        attrs: item,\r\n        from: {\r\n          size: this.renderAttrs.transpose\r\n            ? [0, item.size[1]]\r\n            : [item.size[0], 0]\r\n        },\r\n        to: {\r\n          size: item.size\r\n        }\r\n      }\r\n    })\r\n    this.pillars = barData\r\n    this.groups = arrLayout.groupData\r\n    return { barData, groupData: arrLayout.groupData }\r\n  }\r\n  beforeUpdate() {\r\n    const pillars = this.pillars\r\n    let { arrLayout } = this.getRenderData()\r\n    let barData = arrLayout.barData.map((nextPillar, i) => {\r\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1]\r\n      if (!prev) {\r\n        prev = {\r\n          size: [0, 0],\r\n          pos: nextPillar.pos,\r\n          labelAttrs: null\r\n        }\r\n      }\r\n      return {\r\n        attrs: nextPillar,\r\n        from: {\r\n          size: prev.attrs.disable\r\n            ? this.attr('transpose')\r\n              ? [0, prev.attrs.size[1]]\r\n              : [prev.attrs.size[0], 0]\r\n            : prev.attrs.size,\r\n          pos: prev.attrs.pos\r\n        },\r\n        to: {\r\n          size: nextPillar.size,\r\n          pos: nextPillar.pos\r\n        }\r\n      }\r\n    })\r\n    this.pillars = barData\r\n    this.groups = arrLayout.groupData\r\n    return { barData, groupData: arrLayout.groupData }\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs\r\n\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    const dataLength =\r\n      renderData.length > 1 ? renderData.length : renderData[0].length\r\n    let arrLayout = layout(renderData, renderAttrs)\r\n    let colors = this.theme.colors\r\n    let styles = this.renderStyles\r\n    arrLayout.barData = arrLayout.barData.map((bar, i) => {\r\n      let style = this.style('pillar')(bar.attrs, this.dataset.rows[i], i)\r\n      let barStyle = deepObjectMerge(\r\n        { bgcolor: bar.bgcolor || colors[i % dataLength] },\r\n        styles.bar,\r\n        style\r\n      )\r\n      bar = deepObjectMerge(bar, barStyle)\r\n      return bar\r\n    })\r\n    return { arrLayout }\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    let renderData = this.dataset['rows']\r\n    let stateArray = Array.from(\r\n      { length: renderData[0].length },\r\n      () => 'defalut'\r\n    )\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: 'bar',\r\n      bgpillarState: stateArray,\r\n      states: {\r\n        bgpillar: {\r\n          animation: { duration: 20 },\r\n          default: { opacity: 0.01 },\r\n          hover: { opacity: 0.1 }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {}\r\n  }\r\n  onMousemove = throttle(\r\n    (event, el) => {\r\n      if (this.groups.length && !isNaN(event.x) && !isNaN(event.y)) {\r\n        let curInd = 0\r\n        let [x, y] = el.getOffsetPosition(event.x, event.y)\r\n        if (!this.renderAttrs.transpose) {\r\n          //获取 x轴坐标的刻度\r\n          let width = this.groups[0].size[0]\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(x / width)\r\n        } else {\r\n          let width = this.groups[0].size[1]\r\n          //转换canvas坐标到当前group的相对坐标\r\n          curInd = Math.floor(y / width)\r\n        }\r\n        if (curInd < 1) {\r\n          curInd = 0\r\n        } else if (curInd > this.groups.length - 1) {\r\n          curInd = this.groups.length - 1\r\n        }\r\n        if (this.hoverIndex !== curInd) {\r\n          let { bgpillarState } = this.renderAttrs\r\n          bgpillarState[curInd] = 'hover'\r\n          bgpillarState[this.hoverIndex] = 'defualt'\r\n          this.attr('bgpillarState', bgpillarState)\r\n          this.dataset.resetState()\r\n          this.dataset.cols[curInd].state = 'hover'\r\n          this.hoverIndex = curInd\r\n        }\r\n      }\r\n    },\r\n    16,\r\n    true\r\n  )\r\n  onMouseleave(e, el) {\r\n    this.dataset.resetState()\r\n    let { bgpillarState } = this.renderAttrs\r\n    bgpillarState[this.hoverIndex] = 'defualt'\r\n    this.attr('bgpillarState', bgpillarState)\r\n    this.hoverIndex = -1\r\n  }\r\n  myClick = function() {\r\n    console.log('myclick')\r\n  }\r\n\r\n  render(data) {\r\n    let { clientRect, bgpillarState, states } = this.renderAttrs\r\n    return (\r\n      <Group\r\n        class=\"container\"\r\n        ref=\"wrap\"\r\n        pos={[clientRect.left, clientRect.top]}\r\n        size={[clientRect.width, clientRect.height]}\r\n        onMouseleave={this.onMouseleave}\r\n        onMouseenter={this.onMousemove}\r\n        onMousemove={this.onMousemove}\r\n        onClick={this.myClick}\r\n        // onMousemove={throttle(this.onMousemove)}\r\n      >\r\n        <Group ref=\"pillars\" class=\"pillars-group\">\r\n          {data.barData.map((pillar, ind) => {\r\n            return (\r\n              <Sprite\r\n                {...pillar.attrs}\r\n                {...pillar.from}\r\n                animation={{ from: pillar.from, to: pillar.to }}\r\n              />\r\n            )\r\n          })}\r\n        </Group>\r\n        <Group ref=\"bgpillar\" class=\"bgpillars-group\">\r\n          {data.groupData.map((pillar, ind) => {\r\n            return (\r\n              <Sprite\r\n                state={bgpillarState[ind]}\r\n                states={states.bgpillar}\r\n                {...pillar}\r\n              />\r\n            )\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Bar\r\n","import { axis } from '../../utils/axis'\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr\r\n  const { stack, splitNumber, clientRect } = attrs\r\n  const { width, height } = clientRect\r\n  const barSize = [width, height]\r\n  const transpose = attrs.transpose || false\r\n  const groupGap = attrs.groupGap || 0\r\n  const stackGap = attrs.stackGap || 0\r\n  let barWidth = attrs.barWidth || 0\r\n  // 输出\r\n  const barData = []\r\n  const groupData = []\r\n\r\n  const bgPillarAttr = { opacity: 0, bgcolor: '#000' }\r\n\r\n  const valueAxis = axis({ dataSet: data, stack, splitNumber })\r\n  if (!valueAxis || !valueAxis.length) {\r\n    return { barData, groupData }\r\n  }\r\n  const tableSize = transpose\r\n    ? { label: barSize[1], value: barSize[0] }\r\n    : { label: barSize[0], value: barSize[1] }\r\n  const axisValueMax = Math.max.apply(this, valueAxis)\r\n  const axisValueMin = Math.min.apply(this, valueAxis)\r\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin) // 正负柱子高度比例\r\n  const GROUP_BAR_NUM = computerLegend(data) // 图例显示个数\r\n\r\n  const GROUP_NUM = data[0].length\r\n  let gap = 0\r\n  // 柱子宽度，根据数据绘制类型计算，是否分组，是否旋转\r\n  if (barWidth === 0) {\r\n    barWidth = stack\r\n      ? (tableSize.label * 0.5) / GROUP_NUM\r\n      : (tableSize.label * 0.5) / (GROUP_NUM * GROUP_BAR_NUM)\r\n\r\n    gap = stack ? barWidth : barWidth * GROUP_BAR_NUM\r\n  } else {\r\n    gap = stack\r\n      ? (tableSize.label - barWidth * GROUP_NUM) / GROUP_NUM\r\n      : (tableSize.label -\r\n          barWidth * GROUP_BAR_NUM * GROUP_NUM -\r\n          groupGap * (GROUP_BAR_NUM - 1) * GROUP_NUM) /\r\n        GROUP_NUM\r\n  }\r\n\r\n  const BAR_HEIGHT_FACTOR = tableSize.value / (axisValueMax - axisValueMin)\r\n  if (!stack) {\r\n    // 分组柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let flag = 0 // 计算当前柱子前面有几根被隐藏\r\n      let value = 0\r\n      let gpData = { rects: [] }\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        if (data[j][i].disabled !== true) {\r\n          data[j][i].disabled = false\r\n        }\r\n\r\n        value = data[j][i].value\r\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\r\n        let rect = {\r\n          anchor: [\r\n            transpose && value < 0 ? 1 : 0,\r\n            transpose || value < 0 ? 0 : 1\r\n          ],\r\n          size: transpose\r\n            ? [barHeight, barWidth - 1]\r\n            : [barWidth - 1, barHeight],\r\n          pos: transpose\r\n            ? [\r\n                tableSize.value * (1 - POSITIVE_RATIO),\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i\r\n              ]\r\n            : [\r\n                gap / 2 +\r\n                  (barWidth + groupGap) * (j - flag) +\r\n                  (barWidth * GROUP_BAR_NUM +\r\n                    groupGap * (GROUP_BAR_NUM - 1) +\r\n                    gap) *\r\n                    i,\r\n                tableSize.value * POSITIVE_RATIO\r\n              ],\r\n\r\n          labelAttrs: {\r\n            opacity: !data[j][i].disabled ? 1 : 0,\r\n            text: value,\r\n            anchor: [transpose && value < 0 ? 1 : 0, 0.5],\r\n            pos: transpose\r\n              ? [\r\n                  tableSize.value * (1 - POSITIVE_RATIO),\r\n                  gap / 2 +\r\n                    (barWidth + groupGap) * (j - flag) +\r\n                    (barWidth * GROUP_BAR_NUM +\r\n                      groupGap * (GROUP_BAR_NUM - 1) +\r\n                      gap) *\r\n                      i +\r\n                    barWidth * 0.5\r\n                ]\r\n              : [\r\n                  gap / 2 +\r\n                    (barWidth + groupGap) * (j - flag) +\r\n                    (barWidth * GROUP_BAR_NUM +\r\n                      groupGap * (GROUP_BAR_NUM - 1) +\r\n                      gap) *\r\n                      i +\r\n                    barWidth * 0.5,\r\n                  tableSize.value * POSITIVE_RATIO\r\n                ],\r\n            rotate: transpose ? 0 : value < 0 ? 90 : 270\r\n          },\r\n          ...data[j][i]\r\n        }\r\n        if (rect.disabled) {\r\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\r\n          flag++\r\n        } else {\r\n          gpData.rects.push(rect)\r\n        }\r\n        barData.push(rect)\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        // title: data[0][i]['_x'],\r\n        pos: transpose\r\n          ? [\r\n              0,\r\n              (gap +\r\n                barWidth * GROUP_BAR_NUM +\r\n                groupGap * (GROUP_BAR_NUM - 1)) *\r\n                i\r\n            ]\r\n          : [\r\n              (gap +\r\n                barWidth * GROUP_BAR_NUM +\r\n                groupGap * (GROUP_BAR_NUM - 1)) *\r\n                i,\r\n              0\r\n            ],\r\n        size: transpose\r\n          ? [\r\n              tableSize.value,\r\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap\r\n            ]\r\n          : [\r\n              barWidth * GROUP_BAR_NUM + groupGap * (GROUP_BAR_NUM - 1) + gap,\r\n              tableSize.value\r\n            ],\r\n        ...bgPillarAttr\r\n      })\r\n      groupData.push(gpData)\r\n    }\r\n  } else {\r\n    // 堆叠柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let heightSumUp = 0\r\n      let heightSumDown = 0\r\n      let value = 0\r\n      let gpData = { rects: [] }\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        let stackGapTemp = stackGap\r\n        if (data[j][i].disabled !== true) {\r\n          data[j][i].disabled = false\r\n        }\r\n        value = data[j][i].value\r\n        let barHeight = BAR_HEIGHT_FACTOR * Math.abs(value)\r\n        if (barHeight === 0) {\r\n          stackGapTemp = 0\r\n        }\r\n        let posY =\r\n          value < 0\r\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown\r\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\r\n        let posX =\r\n          value < 0\r\n            ? tableSize.value * (1 - POSITIVE_RATIO) - heightSumDown\r\n            : tableSize.value * (1 - POSITIVE_RATIO) + heightSumUp\r\n        let posLabelY =\r\n          value < 0\r\n            ? tableSize.value * POSITIVE_RATIO + heightSumDown + barHeight\r\n            : tableSize.value * POSITIVE_RATIO - heightSumUp\r\n        let rect = {\r\n          anchor: [\r\n            transpose && value < 0 ? 1 : 0,\r\n            transpose || value < 0 ? 0 : 1\r\n          ],\r\n          size: transpose\r\n            ? [barHeight - stackGapTemp, barWidth]\r\n            : [barWidth, barHeight - stackGapTemp],\r\n          pos: transpose\r\n            ? [posX, gap / 2 + (barWidth + gap) * i]\r\n            : [gap / 2 + (barWidth + gap) * i, posY],\r\n          index: j,\r\n          labelAttrs: {\r\n            opacity: !data[j][i].disabled ? 1 : 0,\r\n            text: value,\r\n            anchor: transpose ? (value < 0 ? [1, 0.5] : [0, 0.5]) : [0.5, 1],\r\n            pos: transpose\r\n              ? [posX, +(gap + barWidth) / 2 + (barWidth + gap) * i]\r\n              : [(gap + barWidth) / 2 + (barWidth + gap) * i, posLabelY]\r\n          },\r\n          ...data[j][i]\r\n        }\r\n        if (rect.disabled) {\r\n          rect.size = transpose ? [0, rect.size[1]] : [rect.size[0], 0]\r\n        } else {\r\n          value < 0\r\n            ? (heightSumDown = heightSumDown + barHeight)\r\n            : (heightSumUp = heightSumUp + barHeight)\r\n          gpData.rects.push(rect)\r\n        }\r\n        barData.push(rect)\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        pos: transpose ? [0, (gap + barWidth) * i] : [(gap + barWidth) * i, 0],\r\n        size: transpose\r\n          ? [tableSize.value, barWidth + gap]\r\n          : [barWidth + gap, tableSize.value],\r\n        ...bgPillarAttr\r\n      })\r\n      groupData.push(gpData)\r\n    }\r\n  }\r\n\r\n  return { barData, groupData }\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].disabled !== true) {\r\n      flag++\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    // console.warn('data invalid!')\r\n  }\r\n  return flag || 1\r\n}\r\n","import Base from \"../../base/BaseVisual\";\r\nimport { Group, Ring } from \"spritejs\";\r\nimport { deepObjectMerge, throttle } from \"@qcharts/utils\";\r\nimport layout from \"./layout\";\r\nimport filterClone from \"filter-clone\";\r\nclass PolarBar extends Base {\r\n  constructor(attrs) {\r\n    super(attrs);\r\n    this.type = \"polarbar\";\r\n    this.groups = [];\r\n    this.pillars = [];\r\n    this.$pillars = [];\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs;\r\n    return attrs;\r\n  }\r\n\r\n  get pos() {\r\n    let { height, width, top, left } = this.renderAttrs.clientRect;\r\n    let [x, y] = [left + width / 2, top + height / 2];\r\n    return [x, y];\r\n  }\r\n\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    let { arrLayout } = this.getRenderData();\r\n    this.pillars = arrLayout.barData;\r\n    this.groups = arrLayout.groupData;\r\n    let barData = arrLayout.barData.map((item) => {\r\n      return {\r\n        attrs: item,\r\n        from: {\r\n          endAngle: item.startAngle,\r\n        },\r\n        to: {\r\n          endAngle: item.endAngle,\r\n        },\r\n      };\r\n    });\r\n    let groupData = this.groups;\r\n    return { barData, groupData };\r\n  }\r\n  beforeUpdate() {\r\n    const pillars = this.pillars;\r\n    let { arrLayout } = this.getRenderData();\r\n    let barData = arrLayout.barData.map((nextPillar, i) => {\r\n      let prev = pillars[i] ? pillars[i] : arrLayout.barData[i - 1];\r\n      if (!prev) {\r\n        prev = {\r\n          size: [0, 0],\r\n          pos: nextPillar.pos,\r\n          labelAttrs: null,\r\n        };\r\n      }\r\n      return {\r\n        attrs: nextPillar,\r\n        from: {\r\n          size: prev.disable\r\n            ? this.attr(\"transpose\")\r\n              ? [0, prev.size[1]]\r\n              : [prev.size[0], 0]\r\n            : prev.size,\r\n          pos: prev.pos,\r\n        },\r\n        to: {\r\n          size: nextPillar.size,\r\n          pos: nextPillar.pos,\r\n        },\r\n      };\r\n    });\r\n    this.pillars = arrLayout.barData;\r\n    this.groups = arrLayout.groupData;\r\n    return { barData, groupData: arrLayout.groupData };\r\n  }\r\n  getRenderData() {\r\n    let renderAttrs = this.renderAttrs;\r\n    let renderData = this.dataset[renderAttrs.layoutBy];\r\n    if (!renderData || renderData.length === 0) {\r\n      return { barData: [], groupData: [] };\r\n    }\r\n    const dataLength =\r\n      renderData.length > 1 ? renderData.length : renderData[0].length;\r\n    this.legendArr = Array.from({ length: renderData.length }, () => {\r\n      return 1;\r\n    });\r\n    let arrLayout = layout(renderData, renderAttrs);\r\n    let colors = this.theme.colors;\r\n    let styles = this.renderStyles;\r\n    arrLayout.groupData.forEach((bar, i) => {\r\n      bar.pos = this.pos;\r\n    });\r\n    arrLayout.barData.forEach((bar, i) => {\r\n      let style = this.style(\"pillar\")(bar.attrs, this.dataset.rows[i], i);\r\n      bar.fillColor = bar.fillColor || colors[i % dataLength];\r\n      bar.strokeColor = renderAttrs.strokeColor || \"#FFF\";\r\n      bar.pos = this.pos;\r\n      if (\r\n        !bar.hasOwnProperty(\"startAngle\") ||\r\n        !bar.hasOwnProperty(\"endAngle\")\r\n      ) {\r\n        bar.lineWidth = 0;\r\n      } else {\r\n        bar.lineWidth = 1;\r\n      }\r\n      let barStyle = deepObjectMerge(\r\n        { bgcolor: bar.bgcolor || colors[i % dataLength] },\r\n        styles.bar,\r\n        style\r\n      );\r\n      bar = deepObjectMerge(bar, barStyle);\r\n    });\r\n    return { arrLayout };\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      layer: \"bar\",\r\n    };\r\n  }\r\n  defaultStyles() {\r\n    // 默认的样式,继承base\r\n    return {};\r\n  }\r\n  onMouseenter(e, el) {\r\n    el.attr({ opacity: 0.1 });\r\n  }\r\n  onMouseleave(e, el) {\r\n    el.attr({ opacity: 0.01 });\r\n  }\r\n\r\n  onClick = (evt, el, i, attrs) => {\r\n    if (\r\n      this.renderAttrs.stack ||\r\n      !attrs.hasOwnProperty(\"startAngle\") ||\r\n      !attrs.hasOwnProperty(\"endAngle\")\r\n    ) {\r\n      return;\r\n    }\r\n    let { width, height } = this.renderAttrs.clientRect;\r\n    let isTranslated = el.isTranslated;\r\n    const offset = Math.max(20, Math.min(width / 2, height / 2) * 0.1);\r\n    const { startAngle, endAngle } = attrs;\r\n    const angle = (Math.PI * (startAngle + endAngle)) / 360;\r\n    const translate = [offset * Math.cos(angle), offset * Math.sin(angle)];\r\n    let target = el;\r\n    if (isTranslated) {\r\n      target.transition(0.3).attr(\"translate\", [0, 0]);\r\n      el.isTranslated = false;\r\n    } else {\r\n      target.transition(0.3).attr(\"translate\", translate);\r\n      el.isTranslated = true;\r\n      for (let i = 0, len = this.pillars.length; i < len; i++) {\r\n        if (\r\n          el.id !== this.$refs[\"pillar\" + i].id &&\r\n          this.$refs[\"pillar\" + i].isTranslated === true\r\n        ) {\r\n          this.$refs[\"pillar\" + i].transition(0.3).attr(\"translate\", [0, 0]);\r\n          this.$refs[\"pillar\" + i].isTranslated = false;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  onMouseleave(index) {\r\n    // this.dataset.resetState();\r\n  }\r\n\r\n  onMousemove = throttle(\r\n    (index) => {\r\n      console.log(index);\r\n    },\r\n    16,\r\n    true\r\n  );\r\n\r\n  render(data) {\r\n    let { clientRect } = this.renderAttrs;\r\n    // console.log(data);\r\n    return (\r\n      <Group class=\"container\" ref=\"wrap\">\r\n        <Group>\r\n          {data.barData.map((pillar, i) => {\r\n            return (\r\n              <Ring\r\n                ref={\"pillar\" + i}\r\n                {...pillar.attrs}\r\n                onClick={(e, el) => {\r\n                  this.onClick(e, el, i, pillar.attrs);\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n        </Group>\r\n        {/* <Group>\r\n          {data.groupData.map((pillar, i) => {\r\n            return <Ring {...pillar} />;\r\n          })}\r\n        </Group> */}\r\n      </Group>\r\n    );\r\n  }\r\n}\r\nexport default PolarBar;\r\n","import { axis } from \"../../utils/axis\";\r\n\r\nexport default function layout(arr, attrs) {\r\n  // 输入\r\n  const data = arr;\r\n  const { stack, splitNumber, clientRect, groupPadAngle } = attrs;\r\n  const { width, height } = clientRect;\r\n  const barSize = [width, height];\r\n  const groupGap = groupPadAngle || 0;\r\n  const stackGap = attrs.stackGap || 0;\r\n\r\n  const radius = attrs.radius || 1;\r\n  const barInnerRadius = attrs.innerRadius || 0;\r\n  const padAngle = attrs.padAngle;\r\n  // 输出\r\n  const barData = [];\r\n  const groupData = [];\r\n\r\n  const bgPillarAttr = { opacity: 0.01, fillColor: \"#FF0000\" };\r\n\r\n  // const valueAxis = getAxis(stack, data)\r\n  const valueAxis = axis({ dataSet: data, stack, splitNumber });\r\n  if (!valueAxis || !valueAxis.length) {\r\n    return { barData, groupData };\r\n  }\r\n\r\n  const tableSize = Math.min(barSize[0], barSize[1]);\r\n  const axisValueMax = Math.max.apply(this, valueAxis);\r\n  const axisValueMin = Math.min.apply(this, valueAxis);\r\n  const POSITIVE_RATIO = axisValueMax / (axisValueMax - axisValueMin); // 正负柱子高度比例\r\n  const GROUP_BAR_NUM = computerLegend(data); // 图例显示个数\r\n\r\n  const GROUP_NUM = data[0].length;\r\n  const BAR_MAX_HEIGHT = 0.5 * radius * tableSize;\r\n  const BAR_HEIGHT_FACTOR = BAR_MAX_HEIGHT / (axisValueMax - axisValueMin);\r\n  if (!stack) {\r\n    // 分组柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let flag = 0; // 计算当前柱子前面有几根被隐藏\r\n      let value = 0;\r\n      let gpData = { rects: [] };\r\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        if (data[j][i].disabled !== true) {\r\n          data[j][i].disabled = false;\r\n        }\r\n        let barAngle = groupAngle / GROUP_BAR_NUM;\r\n        let startAngle =\r\n          (groupAngle + groupGap) * i + barAngle * (j - flag) - Math.PI * 0.5;\r\n        value = data[j][i].value;\r\n        let barHeight = BAR_HEIGHT_FACTOR * value;\r\n        let innerRadius =\r\n          BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) +\r\n          barInnerRadius * tableSize * 0.5;\r\n\r\n        let rect = {\r\n          innerRadius: innerRadius,\r\n          outerRadius: innerRadius + barHeight,\r\n          startAngle: (startAngle * 180) / Math.PI,\r\n          endAngle: ((startAngle + barAngle) * 180) / Math.PI,\r\n          ...data[j][i],\r\n          id: i * lenj + j,\r\n        };\r\n\r\n        if (rect.disabled) {\r\n          rect.endAngle = rect.startAngle;\r\n          rect.radius = 0;\r\n          rect.opacity = 0;\r\n          flag++;\r\n        } else {\r\n          rect.opacity = 1;\r\n          gpData.rects.push(rect);\r\n        }\r\n        if (GROUP_NUM < 2) {\r\n          delete rect.startAngle;\r\n          delete rect.endAngle;\r\n        }\r\n        barData.push(rect);\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        innerRadius: barInnerRadius * 0.5 * tableSize,\r\n        outerRadius: (barInnerRadius + radius) * 0.5 * tableSize,\r\n        startAngle:\r\n          (((groupGap + groupAngle) * i - Math.PI * 0.5) * 180) / Math.PI,\r\n        endAngle:\r\n          (((groupGap + groupAngle) * i + groupAngle - Math.PI * 0.5) * 180) /\r\n          Math.PI,\r\n        ...bgPillarAttr,\r\n      });\r\n      if (GROUP_NUM < 2) {\r\n        delete gpData.startAngle;\r\n        delete gpData.endAngle;\r\n      }\r\n      groupData.push(gpData);\r\n    }\r\n  } else {\r\n    // 堆叠柱状图\r\n    for (let i = 0, len = GROUP_NUM; i < len; i++) {\r\n      let heightSumUp = 0;\r\n      let heightSumDown = 0;\r\n      let value = 0;\r\n      let gpData = { rects: [] };\r\n      let groupAngle = (Math.PI * 2 - GROUP_NUM * groupGap) / GROUP_NUM;\r\n      // 计算单根柱子\r\n      for (let j = 0, lenj = data.length; j < lenj; j++) {\r\n        if (data[j][i].disabled !== true) {\r\n          data[j][i].disabled = false;\r\n        }\r\n        let startAngle = (groupAngle + groupGap) * i - Math.PI * 0.5;\r\n        value = data[j][i].value;\r\n        let barHeight = BAR_HEIGHT_FACTOR * value;\r\n        let innerRadius =\r\n          value < 0\r\n            ? BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) - heightSumDown\r\n            : BAR_MAX_HEIGHT * (1 - POSITIVE_RATIO) + heightSumUp;\r\n        innerRadius = innerRadius + barInnerRadius * tableSize * 0.5;\r\n        let rect = {\r\n          innerRadius: innerRadius,\r\n          outerRadius: innerRadius + barHeight - stackGap,\r\n          startAngle: (startAngle * 180) / Math.PI,\r\n          endAngle: ((startAngle + groupAngle) * 180) / Math.PI,\r\n          ...data[j][i],\r\n        };\r\n\r\n        if (rect.disabled) {\r\n          rect.opacity = 0;\r\n        } else {\r\n          rect.opacity = 1;\r\n          value < 0\r\n            ? (heightSumDown = heightSumDown - barHeight)\r\n            : (heightSumUp = heightSumUp + barHeight);\r\n          gpData.rects.push(rect);\r\n        }\r\n        barData.push(rect);\r\n      }\r\n      // 柱子整体属性\r\n      gpData = Object.assign(gpData, {\r\n        innerRadius: barInnerRadius * 0.5 * tableSize,\r\n        outerRadius: (barInnerRadius + radius) * 0.5 * tableSize,\r\n        startAngle:\r\n          (((groupGap + groupAngle) * i - Math.PI * 0.5) * 180) / Math.PI,\r\n        endAngle:\r\n          (((groupGap + groupAngle) * i + groupAngle - Math.PI * 0.5) * 180) /\r\n          Math.PI,\r\n        ...bgPillarAttr,\r\n      });\r\n      groupData.push(gpData);\r\n    }\r\n  }\r\n  // attachPadAngleOfArr(barData, padAngle)\r\n  return { barData, groupData };\r\n}\r\n\r\nfunction computerLegend(data) {\r\n  let flag = 0;\r\n  for (let i = 0, len = data.length; i < len; i++) {\r\n    if (data[i][0].disabled !== true) {\r\n      flag++;\r\n    }\r\n  }\r\n  if (flag === 0) {\r\n    // console.warn('data invalid!')\r\n  }\r\n  return flag || 1;\r\n}\r\n\r\nfunction attachPadAngleOfArr(arr, padAngle = 0) {\r\n  // 设置 padAngle\r\n  const maxPadAngle = Math.min.apply(\r\n    null,\r\n    arr.filter((d) => !d.disabled).map((a) => a.endAngle - a.startAngle)\r\n  );\r\n\r\n  if (padAngle >= 0) {\r\n    padAngle = padAngle > maxPadAngle ? maxPadAngle / 2 : padAngle;\r\n\r\n    arr\r\n      .filter((d) => !d.disabled)\r\n      .forEach((a) => {\r\n        if (a.endAngle - a.startAngle > padAngle * 2) {\r\n          a.padAngle = padAngle;\r\n          a.startAngle += padAngle;\r\n          a.endAngle -= padAngle;\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { axis } from '../../utils/axis'\r\nimport { scaleLinear } from '../../utils/scaleLinear'\r\nimport { jsType } from '@qcharts/utils'\r\n\r\nconst getDataRange = (data) => {\r\n  if (data.length === 0) {\r\n    return [0, 1]\r\n  }\r\n  const min = Math.min(...data)\r\n  const max = Math.max(...data)\r\n  return [min, max]\r\n}\r\n\r\nconst getBigRange = (data) => {\r\n  if (data.length === 0) {\r\n    return [0, 1]\r\n  }\r\n  const [min, max] = getDataRange(data)\r\n  const n = Math.round(min / 10) - 1\r\n  const m = Math.round(max / 10) + 1\r\n  return [n * 10, m * 10]\r\n}\r\n\r\nconst updateSectionVal = (section, newSection) => {\r\n  const { min, max } = newSection\r\n  if (jsType(min) === 'number') {\r\n    section[0] = min\r\n  }\r\n  if (jsType(max) === 'number') {\r\n    section[1] = max\r\n  }\r\n}\r\n\r\nexport default function layout(dataSet, size, layoutWay) {\r\n  const [width, height] = size\r\n\r\n  const { text: textField, value: valueField } = dataSet.option\r\n  const allData = [...dataSet].filter((cell) => cell.state !== 'disabled')\r\n\r\n  // 如果X轴是文本框，则进行均分\r\n  const maxLen = getDataRange(dataSet.rows.map((d) => d.length))[1]\r\n\r\n  let xDomain = [0, maxLen - 1]\r\n  let xSection = [0, maxLen - 1]\r\n  const xIsTextData = allData.some((d) => jsType(d.text) === 'string')\r\n  if (!xIsTextData) {\r\n    xSection = getBigRange(allData.map((d) => d.text))\r\n    const xScales = axis({\r\n      dataSet: data,\r\n      stack: false,\r\n      field: textField,\r\n      section: xSection,\r\n    })\r\n    xDomain = getDataRange(xScales)\r\n  }\r\n\r\n  const yIsTextData = allData.some((d) => jsType(d.value) === 'string')\r\n  if (yIsTextData) {\r\n    throw new Error(\"Scatter's value category data should be Number!\")\r\n  }\r\n  let ySection = getBigRange(allData.map((d) => d.value))\r\n  const yScales = axis({\r\n    dataSet: data,\r\n    stack: false,\r\n    field: valueField,\r\n    section: ySection,\r\n  })\r\n  const yDomain = getDataRange(yScales)\r\n\r\n  if (layoutWay) {\r\n    if (layoutWay[textField]) {\r\n      updateSectionVal(xSection, layoutWay[textField])\r\n    }\r\n    if (layoutWay[valueField]) {\r\n      updateSectionVal(ySection, layoutWay[valueField])\r\n    }\r\n  }\r\n\r\n  const newLayoutWay = {}\r\n  newLayoutWay[textField] = { min: xSection[0], max: xSection[1] }\r\n  newLayoutWay[valueField] = { min: ySection[0], max: ySection[1] }\r\n\r\n  const xLinear = scaleLinear()\r\n    .domain(xDomain)\r\n    .range([0, width])\r\n  const yLinear = scaleLinear()\r\n    .domain(yDomain)\r\n    .range([0, height])\r\n\r\n  const resultData = dataSet.rows.map((dArry) => {\r\n    const attrs = dArry.map((d, i) => {\r\n      const x = xIsTextData ? i : d.text\r\n      const y = d.value\r\n      const pos = [xLinear(x), height - yLinear(y)]\r\n      return {\r\n        pos,\r\n        radius: 5,\r\n        anchor: [1, 1],\r\n        dataOrigin: { ...d.data },\r\n        state: d.state,\r\n        name: dArry.name,\r\n        col: d.col,\r\n        row: d.row,\r\n      }\r\n    })\r\n    return {\r\n      name: dArry.name,\r\n      state: dArry.state,\r\n      attrs,\r\n    }\r\n  })\r\n  return { data: resultData, layoutWay: newLayoutWay }\r\n}\r\n","import { Group, Polyline, Arc, Label } from 'spritejs'\r\nimport BaseVisual from '../../base/BaseVisual'\r\nimport { scaleLinear } from '../../utils/scaleLinear'\r\nimport { hexToRgba } from '../../utils/color'\r\nimport { deepObjectMerge } from '@qcharts/utils'\r\nimport layout from './layout'\r\n\r\nclass Scatter extends BaseVisual {\r\n  constructor(attrs = {}) {\r\n    super(attrs)\r\n    this.type = 'scatter'\r\n    this.scatterData = []\r\n    this.guideLineData = []\r\n  }\r\n\r\n  defaultAttrs() {\r\n    return {\r\n      labelField: null,\r\n      areaField: null,\r\n      areaRange: null,\r\n      showGuideLine: false,\r\n      layoutWay: null,\r\n    }\r\n  }\r\n\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n    return { ...attrs }\r\n  }\r\n\r\n  _processData() {\r\n    const dataSet = this.dataset\r\n    const { layoutWay, clientRect } = this.renderAttrs\r\n    const { data, layoutWay: newLayoutWay } = layout(dataSet, [clientRect.width, clientRect.height], layoutWay)\r\n\r\n    deepObjectMerge(this.renderAttrs.layoutWay || {}, newLayoutWay)\r\n\r\n    data.forEach((item, i) => {\r\n      const color = this.theme.colors[i]\r\n      const fillColor = hexToRgba(color, 0.3)\r\n      item.attrs.forEach((di) => {\r\n        di.strokeColor = color\r\n        di.fillColor = fillColor\r\n      })\r\n    })\r\n    return data\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const updateData = this._processData()\r\n    const temp = updateData.map((row) => deepObjectMerge({}, row))\r\n    updateData.forEach((row, ind) => {\r\n      const oldRow = this.scatterData[ind]\r\n      row.attrs.forEach((cell, cInd) => {\r\n        if (oldRow && oldRow.attrs[cInd]) {\r\n          const curCell = oldRow.attrs[cInd]\r\n          const toPos = [...cell.pos]\r\n          const fromPos =\r\n            curCell.animation.to && curCell.animation.to.pos ? [...curCell.animation.to.pos] : [...curCell.pos]\r\n          cell.scale = 1\r\n          if (toPos.toString() === fromPos.toString()) {\r\n            cell.animation = {}\r\n          } else {\r\n            cell.pos = [...fromPos]\r\n            cell.animation = {\r\n              from: { pos: fromPos },\r\n              to: { pos: toPos },\r\n            }\r\n          }\r\n        } else {\r\n          cell.scale = 0\r\n          cell.animation = {\r\n            from: { scale: 0 },\r\n            to: { scale: 1 },\r\n          }\r\n        }\r\n      })\r\n    })\r\n    this.scatterData = temp.map((row) => deepObjectMerge({}, row))\r\n    return updateData\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const renderData = this._processData()\r\n    this.scatterData = renderData.map((row) => deepObjectMerge({}, row))\r\n    renderData.forEach((row) => {\r\n      row.attrs.forEach((cell) => {\r\n        cell.scale = 0\r\n        cell.animation = {\r\n          from: { scale: 0 },\r\n          to: { scale: 1 },\r\n        }\r\n      })\r\n    })\r\n    return renderData\r\n  }\r\n\r\n  rendered() {}\r\n\r\n  getRealRadius(attr) {\r\n    const { areaRange, areaField } = this.renderAttrs\r\n    const { radius, dataOrigin } = attr\r\n    // 面积字段未定义，直接返回半径\r\n    if (!areaField || !dataOrigin.hasOwnProperty(areaField)) {\r\n      return radius\r\n    }\r\n    // 面积范围未定义，直接返回数据中的面积\r\n    if (!areaRange) {\r\n      return dataOrigin[areaField]\r\n    }\r\n    const allData = [...this.dataset].filter((cell) => cell.state !== 'disabled').sort((a, b) => a - b)\r\n    const linear = scaleLinear()\r\n      .domain([allData[0], allData[allData.length - 1]])\r\n      .range(areaRange)\r\n    const realArea = linear(dataOrigin[areaField])\r\n    return realArea\r\n  }\r\n\r\n  onMouseenter(event, el) {\r\n    this.dataset.resetState()\r\n    const { row, col } = el.attributes\r\n    this.dataset.forEach((cell) => {\r\n      cell.state = cell.row === row && cell.col === col ? 'hover' : 'default'\r\n    })\r\n    const { showGuideLine } = this.renderAttrs\r\n    if (showGuideLine) {\r\n      const pos = el.attr('pos')\r\n      const { height, width } = this.renderAttrs.clientRect\r\n      this.guideLineData = [\r\n        [\r\n          [0, pos[1]],\r\n          [width, pos[1]],\r\n        ],\r\n        [\r\n          [pos[0], 0],\r\n          [pos[0], height],\r\n        ],\r\n      ]\r\n    }\r\n  }\r\n  onMouseleave() {\r\n    this.dataset.resetState()\r\n    this.guideLineData = []\r\n  }\r\n\r\n  renderGuideLine() {\r\n    if (this.guideLineData.length > 0) {\r\n      return this.guideLineData.map((points) => {\r\n        return <Polyline points={points} strokeColor={'#ddd'} lineWidth={1} translate={[0.5, 0.5]} />\r\n      })\r\n    }\r\n    return\r\n  }\r\n\r\n  renderLabel(data) {\r\n    const { labelField } = this.renderAttrs\r\n    if (labelField) {\r\n      const labels = data.map((item) => {\r\n        return item.attrs.map((attr, i) => {\r\n          const style = this.style('label')(attr, { ...attr.dataOrigin }, i)\r\n          if (style === false) {\r\n            return\r\n          }\r\n          const dataOrigin = attr.dataOrigin\r\n          if (dataOrigin.hasOwnProperty(labelField)) {\r\n            const { strokeColor, ...other } = attr\r\n            const text = dataOrigin[labelField]\r\n            const labelAttr = deepObjectMerge(\r\n              other,\r\n              {\r\n                fillColor: strokeColor,\r\n                text,\r\n                anchor: [0.5, 0.5],\r\n                fontSize: '12px',\r\n              },\r\n              style\r\n            )\r\n            return <Label {...labelAttr} />\r\n          }\r\n        })\r\n      })\r\n      return labels.reduce((pre, cur) => {\r\n        return pre.concat(cur)\r\n      }, [])\r\n    }\r\n  }\r\n\r\n  renderScatter(data) {\r\n    const scatters = data.map((item) => {\r\n      return item.attrs.map((attr, i) => {\r\n        const radius = this.getRealRadius({ ...attr })\r\n\r\n        let style = this.style('point')(attr, { ...attr.dataOrigin }, i)\r\n        if (style === false) {\r\n          return\r\n        }\r\n\r\n        const hStyle = this.style('point:hover')(attr, attr.dataOrigin, i) || { radius: radius + 1 }\r\n        if (attr.state === 'hover') {\r\n          style = deepObjectMerge(style || {}, hStyle)\r\n        } else {\r\n          style = deepObjectMerge(style || {}, { radius })\r\n        }\r\n\r\n        return (\r\n          <Group clipOverflow={false}>\r\n            <Arc {...attr} {...style} onMouseenter={this.onMouseenter} onMouseleave={this.onMouseleave} />\r\n          </Group>\r\n        )\r\n      })\r\n    })\r\n    return scatters.reduce((pre, cur) => {\r\n      return pre.concat(cur)\r\n    }, [])\r\n  }\r\n\r\n  render(data) {\r\n    const { height, width, left, top } = this.renderAttrs.clientRect\r\n    return (\r\n      <Group size={[width, height]} pos={[left, top]} zIndex={100} clipOverflow={false}>\r\n        {this.renderScatter(data)}\r\n        {this.renderLabel(data)}\r\n        {this.renderGuideLine()}\r\n      </Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Scatter\r\n","export function hexToRgba(hex, opacity) {\r\n  // 16进制颜色转rgba\r\n  if (/^rgba\\(.+\\)$/.test(hex)) {\r\n    return hex;\r\n  }\r\n  var c\r\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n    c = hex.substring(1).split('')\r\n    if (c.length === 3) {\r\n      c = [c[ 0 ], c[ 0 ], c[ 1 ], c[ 1 ], c[ 2 ], c[ 2 ]]\r\n    }\r\n    c = '0x' + c.join('')\r\n    return (\r\n      'rgba(' +\r\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') +\r\n      ',' +\r\n      opacity +\r\n      ')'\r\n    )\r\n  }\r\n  throw new Error('Bad Hex')\r\n}\r\nexport function randomHexColor() {\r\n  // 随机生成十六进制颜色\r\n  let random = Math.floor(Math.random() * 16777216).toString(16) // 生成ffffff以内16进制数\r\n  while (random.length < 6) {\r\n    // while循环判断hex位数，少于6位前面加0凑够6位\r\n    random = `0${random}`\r\n  }\r\n  return `#${random}`\r\n}\r\n","//通过圆生成path\r\nfunction ellipse2path(cx, cy, rx, ry) {\r\n  //非数值单位计算，如当宽度像100%则移除\r\n  if (isNaN(cx - cy + rx - ry)) return\r\n  var path = 'M' + (cx - rx) + ' ' + cy + 'a' + rx + ' ' + ry + ' 0 1 0 ' + 2 * rx + ' 0' + 'a' + rx + ' ' + ry + ' 0 1 0 ' + -2 * rx + ' 0' + 'z'\r\n  return path\r\n}\r\nexport default ellipse2path\r\n","import Base from '../../base/BaseVisual'\r\nimport { Group, Polyline, Path, requestAnimationFrame, cancelAnimationFrame, Label, Node } from 'spritejs'\r\nimport ellipse2path from '../../utils/ellipse2path'\r\nimport { getStyle } from '@/utils/getStyle'\r\nclass Wave extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    //波纹振偏移量\r\n    this.offsetR = 50\r\n    this.tickId = ''\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理，如果需要新增渲染时的默认值，在该处处理\r\n    let attrs = super.renderAttrs\r\n    let clientRect = attrs.clientRect\r\n    let width = Math.floor(clientRect.width)\r\n    let height = Math.floor(clientRect.height)\r\n    attrs.center = [width / 2, height / 2]\r\n    if (!attrs.shape) {\r\n      attrs.shape = ellipse2path(attrs.center[0], attrs.center[1], attrs.radius, attrs.radius)\r\n    }\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    //渲染前的处理函数，返回lines,继承base\r\n    return []\r\n  }\r\n  beforeUpdate() {\r\n    //更新前的处理函数，返回lines,继承base\r\n    return []\r\n  }\r\n  getRenderData() {\r\n    //根据line的特性返回需要数据\r\n  }\r\n  rendered() {\r\n    //path的高宽\r\n    this.wave()\r\n  }\r\n  defaultAttrs() {\r\n    // 默认的属性,继承base，正常情况可以删除，建议到theme里面设置默认样式\r\n    return {\r\n      amplitude: 8, //振幅\r\n      wavelength: 300, //波长`\r\n      radius: 150,\r\n      percent: 0.65,\r\n      formatter: per => {\r\n        return per * 100 + '%'\r\n      }\r\n    }\r\n  }\r\n  wave() {\r\n    let currentR = 0\r\n    let per = 4\r\n    let clipWave = this.$refs['clipWave']\r\n    let clipPath = this.$refs['clipPath'] || clipWave\r\n    let pathHeight = clipPath.originalContentRect[3]\r\n    let { percent, wavelength, amplitude, clientRect, animation, shape } = this.renderAttrs\r\n    let perR = 24 / animation.duration\r\n    let currentX = 0 - clientRect.left\r\n    //以路径的top为起点，计算百分比\r\n    let startY = pathHeight * (1 - percent) + clipPath.originalContentRect[1]\r\n    this.tickId = requestAnimationFrame(_ => {\r\n      this.offsetR += perR\r\n      let points = [[currentX, startY + pathHeight]]\r\n      points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\r\n      while (currentX < clientRect.width + clientRect.left + clientRect.right) {\r\n        points.push([currentX, startY + amplitude * Math.sin(currentR + this.offsetR)])\r\n        currentX += wavelength / (per * 2)\r\n        currentR += Math.PI / per\r\n      }\r\n      let lastY = amplitude * Math.sin(currentR + this.offsetR)\r\n      points.push([currentX, startY + lastY])\r\n      points.push([currentX, startY + lastY])\r\n      points.push([currentX, startY + pathHeight])\r\n      clipWave.attr({ points: points, clipPath: ' ' + shape })\r\n      if (this.offsetR >= 2 * Math.PI) {\r\n        this.offsetR = this.offsetR % (2 * Math.PI)\r\n      }\r\n      this.wave()\r\n    })\r\n  }\r\n  render() {\r\n    let { clientRect, shape, center, formatter, percent } = this.renderAttrs\r\n    let renderStyles = this.renderStyles\r\n    let waveStyle = getStyle(this, 'wave', renderStyles.wave)\r\n    let shapeStyle = getStyle(this, 'shape', renderStyles.shape)\r\n    let textStyle = getStyle(this, 'text', renderStyles.text)\r\n    return (\r\n      <Group zIndex={1} class=\"container\" pos={[clientRect.left, clientRect.top]} size={[clientRect.width, clientRect.height]}>\r\n        <Path ref=\"clipPath1\" d={shape} fillColor={shapeStyle.fillColor} />\r\n        <Polyline ref=\"clipWave\" {...waveStyle} clipPath={shape} smooth={true} />\r\n        <Path ref=\"clipPath\" d={shape} strokeColor={shapeStyle.strokeColor} lineWidth={shapeStyle.lineWidth} />\r\n        {textStyle === false ? <Node /> : <Label text={formatter(percent)} {...textStyle} pos={center} anchor={[0.5]} />}\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Wave\r\n","import { Group, Polyline, Label, Arc, Gradient } from 'spritejs'\r\nimport { jsType } from '@qcharts/utils'\r\nimport BaseVisual from '../../base/BaseVisual'\r\n\r\nconst flattern = (arr) => [].concat.apply([], arr)\r\n\r\n/**\r\n * 根据给定参数，生成仪表盘刻度的坐标以及刻度文字标注的坐标\r\n * @param {Number} radius 仪表盘半径\r\n * @param {Number} angle 刻度的角度 单位度\r\n * @param {Number} tickLength 刻度的长度\r\n * @param {Number} labelOffset 刻度文字的偏移值\r\n * @param {Boolean} isInner 刻度是否在仪表盘内部\r\n */\r\nfunction tickLine(radius, angle, tickLength, labelOffset, isInner) {\r\n  const radian = (angle * Math.PI) / 180\r\n  const cos = Math.cos(radian)\r\n  const sin = Math.sin(radian)\r\n  // 起点\r\n  const [x, y] = [cos * radius, sin * radius]\r\n  // 中点\r\n  const [cX0, cY0] = isInner\r\n    ? [x - tickLength * cos, y - tickLength * sin]\r\n    : [x + tickLength * cos, y + tickLength * sin]\r\n  const labelPos = isInner\r\n    ? [x - (tickLength + labelOffset) * cos, y - (tickLength + labelOffset) * sin]\r\n    : [x + (tickLength + labelOffset) * cos, y + (tickLength + labelOffset) * sin]\r\n\r\n  let anchorX = isInner ? cos : -cos\r\n  let anchorY = isInner ? sin : -sin\r\n  let anchor = [0.5, 0.5]\r\n\r\n  if (Math.abs(anchorX) > Math.abs(anchorY)) {\r\n    anchor[0] = anchorX < 0 ? 0 : anchorX\r\n  } else {\r\n    anchor[1] = anchorY > 0 ? anchorY : 0\r\n  }\r\n  return {\r\n    points: [\r\n      [x, y],\r\n      [cX0, cY0],\r\n    ],\r\n    labelPos,\r\n    anchor,\r\n  }\r\n}\r\n\r\nclass Gauge extends BaseVisual {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.gaugeAnimations = []\r\n    this.type = 'Gauge'\r\n    this.style('tickText', true)\r\n    this.style('tickLine', true)\r\n  }\r\n\r\n  get renderAttrs() {\r\n    const attrs = super.renderAttrs\r\n\r\n    // 仪表盘半径\r\n    const { clientRect, lineWidth: lw = 10 } = attrs\r\n    const { height, width } = clientRect\r\n    const size = [width, height]\r\n    const len = this.dataset.length\r\n    const radius = ~~(\r\n      (Math.min.apply(\r\n        size,\r\n        size.map((v) => v / 2)\r\n      ) -\r\n        lw * (len - 1) * 2) /\r\n      len\r\n    )\r\n    // 指针宽度\r\n    const pointerWidth = radius / 10\r\n    // 绘图中心\r\n    const center = [width / 2, height / 2]\r\n\r\n    return {\r\n      min: 0,\r\n      max: 100,\r\n      lineCap: 'round',\r\n      lineWidth: 10, // 仪表盘圆弧宽度\r\n      startAngle: 140, // 仪表盘弧度起始角度，arc 角度顺时针增加，0度为屏幕X轴方向\r\n      endAngle: 400, // 仪表盘弧度终止角度\r\n      strokeBgcolor: '#dde3ea', // 仪表盘弧度的背景色\r\n      title: (d) => d,\r\n      subTitle: (d) => d,\r\n\r\n      tickStep: 10, // tick 步进，生成 tick 的数量为 (max - min) / tickStep\r\n      tickLength: 10, // 刻度长度，为负值时向外绘制\r\n      labelOffset: 5,\r\n      tickFormatter: (d) => d, // 刻度文本格式化\r\n      ...attrs,\r\n      radius,\r\n      pointerWidth,\r\n      center,\r\n    }\r\n  }\r\n\r\n  get ticks() {\r\n    let {\r\n      min,\r\n      max,\r\n      radius,\r\n      startAngle,\r\n      endAngle,\r\n      lineWidth,\r\n      tickStep,\r\n      tickLength,\r\n      labelOffset,\r\n      tickFormatter,\r\n    } = this.renderAttrs\r\n    const count = Math.abs(max - min) / tickStep\r\n\r\n    let total = endAngle - startAngle\r\n\r\n    const isInner = tickLength > 0\r\n    const perAngle = total / count\r\n    const ticks = []\r\n    let tickRadius = isInner ? radius - lineWidth / 2 : radius + lineWidth / 2\r\n    let angle = 0\r\n    let i = -1\r\n\r\n    while (++i <= count) {\r\n      angle = i * perAngle + startAngle\r\n      const ret = tickLine(tickRadius, angle, Math.abs(tickLength), Math.abs(labelOffset), isInner)\r\n      ticks.push({\r\n        points: ret.points,\r\n        label: {\r\n          text: tickFormatter(i * tickStep).toFixed(0),\r\n          pos: ret.labelPos,\r\n          anchor: ret.anchor,\r\n        },\r\n      })\r\n    }\r\n\r\n    if ((ticks[0].angle + ticks[ticks.length - 1].angle) % (Math.PI * 2) === 0) {\r\n      ticks.pop()\r\n    }\r\n\r\n    return ticks\r\n  }\r\n\r\n  transform(data) {\r\n    const { radius, startAngle, endAngle, min, max } = this.renderAttrs\r\n    const total = Math.abs(max - min)\r\n\r\n    return data.reduce((a, d, i) => {\r\n      const value = d.value\r\n      const arc = {\r\n        dataOrigin: d.data,\r\n        startAngle,\r\n        radius,\r\n        endAngle: d.disabled ? startAngle : ((endAngle - startAngle) * value) / total + startAngle,\r\n        strokeColor: this.color(i),\r\n      }\r\n      a.push(arc)\r\n      return a\r\n    }, [])\r\n  }\r\n\r\n  beforeRender() {\r\n    super.beforeRender()\r\n    const data = flattern(this.dataset)\r\n    const arcs = this.transform(data)\r\n    this.gaugeAnimations = arcs.reduce((a, c, i) => {\r\n      a.push({\r\n        from: { startAngle: c.startAngle, endAngle: c.startAngle },\r\n        to: { startAngle: c.startAngle, endAngle: c.endAngle },\r\n      })\r\n      return a\r\n    }, [])\r\n    console.log(arcs)\r\n    console.log(this.gaugeAnimations)\r\n    return arcs\r\n  }\r\n\r\n  beforeUpdate() {\r\n    super.beforeUpdate()\r\n    const data = flattern(this.dataset)\r\n    const arcs = this.transform(data)\r\n    this.gaugeAnimations = arcs.map((arc, i) => {\r\n      const animation = this.gaugeAnimations[i]\r\n      if (animation) {\r\n        return {\r\n          from: animation.to,\r\n          to: { startAngle: arc.startAngle, endAngle: arc.endAngle },\r\n        }\r\n      } else {\r\n        return {\r\n          from: { startAngle: arc.startAngle, endAngle: arc.startAngle },\r\n          to: { startAngle: arc.startAngle, endAngle: arc.endAngle },\r\n        }\r\n      }\r\n    })\r\n    return arcs\r\n  }\r\n\r\n  color(i) {\r\n    if (i && typeof i !== 'number') {\r\n      this._useBuiltInColors = false\r\n    }\r\n\r\n    return this.theme.colors[i]\r\n  }\r\n\r\n  /**\r\n   * 渲染指针\r\n   * @param {Number} angle 角度\r\n   */\r\n  renderPointer(d, i, maxTickTextFontSize) {\r\n    const style = this.style('pointer')(d, d.dataOrigin, i)\r\n    if (style === false) {\r\n      return\r\n    }\r\n    // 动画\r\n    let { from, to } = this.gaugeAnimations[i]\r\n    // rotate角度起始位置为屏幕Y轴方向，arc角度为X轴方向\r\n    const fromRotate = from.startAngle + 90\r\n    const toRotate = to.endAngle + 90\r\n    const pointerAnimation = {\r\n      from: { rotate: fromRotate },\r\n      to: { rotate: toRotate },\r\n    }\r\n    // 半径\r\n    const { radius, pointerWidth, center, tickLength, labelOffset, lineWidth } = this.renderAttrs\r\n    // 指针顶部离仪表盘的距离\r\n    let pointerTopOffset = tickLength + lineWidth + labelOffset + maxTickTextFontSize\r\n    if (tickLength < 0) {\r\n      pointerTopOffset = pointerTopOffset - tickLength - labelOffset\r\n    }\r\n    // 指针长度\r\n    const pointerLen = radius - pointerTopOffset\r\n    // 指针宽度\r\n    let pWidth = radius / 10\r\n    if (jsType(pointerWidth) === 'boolean') {\r\n      pWidth = pointerWidth\r\n    } else if (jsType(pointerWidth) === 'array') {\r\n      pWidth = i < pointerWidth.length ? pointerWidth[i] : pointerWidth[pointerWidth.length - 1]\r\n    }\r\n\r\n    // 指针颜色\r\n    const color = this.color(i)\r\n\r\n    const [x, y] = center\r\n    const attr = {\r\n      fillColor: color,\r\n      rotate: fromRotate,\r\n      transformOrigin: center,\r\n      zIndex: 11,\r\n      points: [\r\n        [x, y],\r\n        [x - pWidth / 2, y - pointerLen * 0.1],\r\n        [x, y - pointerLen],\r\n        [x + pWidth / 2, y - pointerLen * 0.1],\r\n        [x, y],\r\n      ],\r\n      close: true,\r\n    }\r\n    console.log(pointerAnimation)\r\n    return (\r\n      <Polyline\r\n        {...attr}\r\n        {...style}\r\n        animation={{\r\n          ...pointerAnimation,\r\n          duration: 300,\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  isStyleExist(name) {\r\n    const style = this.style(`${name}`)\r\n    return Boolean(style)\r\n  }\r\n\r\n  render(data = []) {\r\n    const { title, subTitle,center,radius, startAngle, endAngle, lineWidth, lineCap, strokeBgcolor, clientRect } = this.renderAttrs\r\n    const labelCenter = [center[0], center[1] * 1.25]\r\n    const ticks = this.ticks\r\n    const tickLine = this.isStyleExist('tickLine')\r\n    const tickText = this.isStyleExist('tickText')\r\n\r\n    let gradientColor = null // 默认使用内置的渐变配色方案\r\n\r\n    if (this._useBuiltInColors !== false) {\r\n      const colors = this.theme.colors.reverse()\r\n      const gradientOpt = {\r\n        vector: [0, 0, center[0] * 2, center[1] * 2],\r\n        colors: [\r\n          { color: colors[0], offset: 0 },\r\n          { color: colors[1], offset: 0.3 },\r\n          { color: colors[2], offset: 1 },\r\n        ],\r\n      }\r\n      gradientColor = new Gradient(gradientOpt)\r\n    }\r\n\r\n    let maxTickTextFontSize = 16\r\n    if (tickText !== false) {\r\n      data.map((d, i) => {\r\n        ticks.map((tick, j) => {\r\n          const style = this.style('tickText')(d, d.dataOrigin, j)\r\n          if (style && style.fontSize) {\r\n            if (jsType(style.fontSize) === 'number' && maxTickTextFontSize < style.fontSize) {\r\n              maxTickTextFontSize = style.fontSize\r\n            }\r\n            if (jsType(style.fontSize) === 'string') {\r\n              const realSize = Number(style.fontSize.replace('px', ''))\r\n              if (jsType(realSize) === 'number' && maxTickTextFontSize < realSize) {\r\n                maxTickTextFontSize = realSize\r\n              }\r\n            }\r\n          }\r\n        })\r\n      })\r\n    }\r\n    const gPos = [clientRect.left, clientRect.top]\r\n    const gSize = [clientRect.width, clientRect.height]\r\n    return (\r\n      <Group pos={gPos} size={gSize}>\r\n        {data.map((d, i) => {\r\n          return (\r\n            <Group bgcolor=\"transparent\">\r\n              <Arc\r\n                pos={center}\r\n                lineWidth={lineWidth}\r\n                lineCap={lineCap}\r\n                startAngle={startAngle}\r\n                endAngle={endAngle}\r\n                strokeColor={strokeBgcolor}\r\n                radius={radius}\r\n                zIndex={10}\r\n              />\r\n              <Arc\r\n                pos={center}\r\n                lineCap={lineCap}\r\n                lineWidth={lineWidth}\r\n                {...d}\r\n                animation={{\r\n                  ...this.gaugeAnimations[i],\r\n                  duration: 300,\r\n                }}\r\n                {...(gradientColor ? { strokeColor: gradientColor } : { strokeColor: this.color(i) })}\r\n                {...this.style('arc')(d, d.dataOrigin, i)}\r\n                zIndex={11}\r\n              />\r\n              {this.renderPointer(d, i, maxTickTextFontSize)}\r\n              {title ? (\r\n                <Label\r\n                  text={jsType(title) === 'function' ? title(d.dataOrigin) : title}\r\n                  pos={labelCenter}\r\n                  textAlign=\"center\"\r\n                  zIndex={10}\r\n                  anchor={[0.5, 1]}\r\n                  {...this.style('title')(d, d.dataOrigin, i)}\r\n                />\r\n              ) : null}\r\n              {subTitle ? (\r\n                <Label\r\n                  text={jsType(subTitle) === 'function' ? subTitle(d.dataOrigin) : subTitle}\r\n                  pos={labelCenter}\r\n                  textAlign=\"center\"\r\n                  zIndex={10}\r\n                  anchor={[0.5, 0]}\r\n                  fillColor={strokeBgcolor}\r\n                  {...this.style('subTitle')(d, d.dataOrigin, i)}\r\n                />\r\n              ) : null}\r\n\r\n              {tickLine !== false || tickText !== false\r\n                ? ticks.map((tick, j) => (\r\n                    <Group pos={center} anchor={[0, 0]} zIndex={1010}>\r\n                      {tickLine !== false ? (\r\n                        <Polyline\r\n                          points={tick.points}\r\n                          strokeColor={strokeBgcolor}\r\n                          {...this.style('tickLine')(d, d.dataOrigin, j)}\r\n                        />\r\n                      ) : null}\r\n                      {tickText !== false ? (\r\n                        <Label {...tick.label} {...this.style('tickText')(d, d.dataOrigin, j)} />\r\n                      ) : null}\r\n                    </Group>\r\n                  ))\r\n                : null}\r\n            </Group>\r\n          )\r\n        })}\r\n      </Group>\r\n    )\r\n  }\r\n\r\n  rendered() {\r\n    this.on('resize', () => this.forceUpdate())\r\n  }\r\n}\r\n\r\nexport default Gauge\r\n","import Base from './Base'\r\nimport theme from '../theme/default'\r\nimport { emptyObject, deepObjectMerge } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nexport default class BasePlugin extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.theme = theme.plugins[this.constructor.name]\r\n    //如果当前对象设置了theme，不继承theme\r\n    this.theme.set = (obj) => {\r\n      if (this.theme === theme.visuals[this.constructor.name]) {\r\n        this.theme = filterClone(this.theme)\r\n      }\r\n      this.theme = deepObjectMerge(this.theme, obj)\r\n    }\r\n  }\r\n  get componentType() {\r\n    return 'plugin'\r\n  }\r\n}\r\n","import { scaleLinear } from '../../utils/scaleLinear'\r\nimport { axis } from '../../utils/axis'\r\nimport { emptyObject } from '@qcharts/utils'\r\nexport default function layout(arr, attrs) {\r\n  let res = {\r\n    scales: [],\r\n    labels: [],\r\n    axisPoints: [],\r\n    orient: attrs.orient\r\n  }\r\n  let defaultAttrs = {\r\n    top: {\r\n      label: {\r\n        anchor: [0.5, 1],\r\n        padding: [0, 0, 6, 0],\r\n        textAlign: 'center'\r\n      },\r\n      scale: {\r\n        anchor: [0.5, 1],\r\n        width: 1,\r\n        height: 4\r\n      },\r\n      type: 'category'\r\n    },\r\n    bottom: {\r\n      scale: {\r\n        anchor: [0.5, 0],\r\n        width: 1,\r\n        height: 4\r\n      },\r\n      label: {\r\n        anchor: [0.5, 0],\r\n        padding: [6, 0, 0, 0],\r\n        textAlign: 'center'\r\n      },\r\n      type: 'category'\r\n    },\r\n    left: {\r\n      label: {\r\n        padding: [0, 8, 0, 0],\r\n        anchor: [1, 0.5],\r\n        textAlign: 'right'\r\n      },\r\n      scale: {\r\n        anchor: [1, 0.5],\r\n        width: 4,\r\n        height: 1\r\n      },\r\n      type: 'value'\r\n    },\r\n    right: {\r\n      label: {\r\n        anchor: [0, 0.5],\r\n        padding: [0, 0, 0, 8]\r\n      },\r\n      scale: {\r\n        anchor: [0, 0.5],\r\n        width: 4,\r\n        height: 1\r\n      },\r\n      type: 'value'\r\n    }\r\n  }\r\n  const { stack, splitNumber, clientRect, orient, axisGap, transpose } = attrs\r\n  if (transpose) {\r\n    ;['top', 'bottom', 'right', 'left'].forEach((str) => {\r\n      defaultAttrs[str].type = defaultAttrs[str].type === 'value' ? 'category' : 'value'\r\n    })\r\n  }\r\n  const { width, height } = clientRect\r\n  let scales = axis({ dataSet: arr, stack, splitNumber })\r\n  let maxVal = Math.max.apply(this, scales)\r\n  let minVal = Math.min.apply(this, scales)\r\n  let type = attrs.type || defaultAttrs[orient].type\r\n  let distance = orient === 'left' || orient === 'right' ? height : width\r\n  if (type === 'value') {\r\n    let scaleFY = scaleLinear()\r\n      .domain([minVal, maxVal])\r\n      .range([0, distance])\r\n    scales.forEach((num) => {\r\n      let { scaleAttr, labelAttr } = getItemAttrs(defaultAttrs, orient, { text: '' + num }, num, scaleFY, clientRect)\r\n      res.scales.push(scaleAttr)\r\n      res.labels.push(labelAttr)\r\n    })\r\n  } else if (type === 'category') {\r\n    let curArr = arr[0]\r\n    let len = axisGap ? curArr.length : curArr.length - 1\r\n    let scaleFY = scaleLinear()\r\n      .domain([0, len])\r\n      .range([0, distance])\r\n    curArr.forEach((cell, ind) => {\r\n      let { scaleAttr, labelAttr } = getItemAttrs(defaultAttrs, orient, cell, ind, scaleFY, clientRect, axisGap)\r\n      res.scales.push(scaleAttr)\r\n      res.labels.push(labelAttr)\r\n    })\r\n    if (axisGap) {\r\n      // 如果是axisGap为true，需要添加一个点\r\n      let { scaleAttr } = getItemAttrs(defaultAttrs, orient, {}, curArr.length, scaleFY, clientRect, axisGap)\r\n      res.scales.push(scaleAttr)\r\n    }\r\n  }\r\n  if (orient === 'left' || orient === 'right') {\r\n    let dx = orient === 'left' ? 0 : width\r\n    res.axisPoints = [\r\n      [dx, height],\r\n      [dx, 0]\r\n    ]\r\n  } else if (orient === 'bottom' || orient === 'top') {\r\n    let dy = orient === 'bottom' ? height : 0\r\n    res.axisPoints = [\r\n      [0, dy],\r\n      [width, dy]\r\n    ]\r\n  }\r\n  return res\r\n}\r\nfunction getItemAttrs(defaultAttrs, orient, cell, value, scaleF, clientRect, axisGap) {\r\n  let res = emptyObject()\r\n  let { width, height, left } = clientRect\r\n  let labelPosValue = axisGap ? value + 0.5 : value\r\n  if (orient === 'left' || orient === 'right') {\r\n    let x = orient === 'left' ? 0 : width\r\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [x, height - scaleF(value)] }\r\n    res.labelAttr = { ...defaultAttrs[orient].label, width: left, text: '' + cell.text, pos: [x, height - scaleF(labelPosValue)] }\r\n  } else if (orient === 'top' || orient === 'bottom') {\r\n    let y = orient === 'top' ? 0 : height\r\n    res.scaleAttr = { ...defaultAttrs[orient].scale, pos: [scaleF(value), y] }\r\n    res.labelAttr = { ...defaultAttrs[orient].label, width: left, text: '' + cell.text, pos: [scaleF(labelPosValue), y] }\r\n  }\r\n  return res\r\n}\r\n","import Base from '../../base/BasePlugin'\r\nimport { Group, Label, Polyline } from 'spritejs'\r\nimport { emptyObject, deepObjectMerge } from '@qcharts/utils'\r\nimport filterClone from 'filter-clone'\r\nimport layout from './layout'\r\nimport { getStyle } from '@/utils/getStyle'\r\nclass Axis extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.renderAxis = emptyObject()\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    let targetVisual = this.chart.visuals[0]\r\n    if (attrs.axisGap === undefined && targetVisual && targetVisual.constructor.name === 'Bar') {\r\n      //如果axisGap没有赋值\r\n      //如果是柱状图\r\n      attrs.axisGap = true\r\n    }\r\n    if (targetVisual && targetVisual.constructor.name === 'Scatter') {\r\n      attrs.type = 'value'\r\n    }\r\n    if (attrs.transpose === undefined && targetVisual) {\r\n      //坐标轴转换\r\n      attrs.transpose = targetVisual.renderAttrs.transpose\r\n    }\r\n    return attrs\r\n  }\r\n  beforeRender() {\r\n    let { axis } = this.getRenderData()\r\n    return axis\r\n  }\r\n  beforeUpdate() {\r\n    let { axis } = this.getRenderData()\r\n    return axis\r\n  }\r\n  rendered() {\r\n    //console.log(this.$refs['wrap'])\r\n  }\r\n  defaultAttrs() {\r\n    return {\r\n      layer: 'axis',\r\n      formatter: e => e\r\n    }\r\n  }\r\n  //defaultStyles() {}\r\n  getRenderData() {\r\n    //根据axis的特性返回需要数据\r\n    let renderAttrs = this.renderAttrs\r\n    let renderData = this.dataset[renderAttrs.layoutBy]\r\n    let axis = layout(renderData, renderAttrs)\r\n    return { axis }\r\n  }\r\n  render(axis) {\r\n    let oldAxis = this.renderAxis || emptyObject()\r\n    this.renderAxis = axis\r\n    let { clientRect, formatter } = this.renderAttrs\r\n    //渲染的样式，合并了theme中的styles与组件上的defaultStyles\r\n    let styles = this.renderStyles\r\n    let axisStyle = getStyle(this, 'axis', styles.axis)\r\n    //当前主体颜色\r\n    return (\r\n      <Group ref=\"wrap\" pos={[clientRect.left, clientRect.top]}>\r\n        <Polyline {...axisStyle} animation={{ from: { points: oldAxis.axisPoints }, to: { points: axis.axisPoints } }}></Polyline>\r\n        <Group>\r\n          {axis.scales.map((scale, ind) => {\r\n            let fromPos = (oldAxis.scales && oldAxis.scales[ind] && oldAxis.scales[ind].pos) || scale.pos\r\n            let ani = { from: { pos: fromPos }, to: { pos: scale.pos } }\r\n            // 排除pos属性，pos属性用来处理动画，其它属性直接赋值\r\n            let style = getStyle(this, 'scale', styles.scale, [scale, ind])\r\n            return <Group {...filterClone(scale, [], ['pos'])} {...style} animation={ani}></Group>\r\n          })}\r\n          {axis.labels.map((label, ind) => {\r\n            let fromPos = (oldAxis.labels && oldAxis.labels[ind] && oldAxis.labels[ind].pos) || label.pos\r\n            let style = getStyle(this, 'label', styles.label, [label, ind])\r\n            let ani = { from: { pos: fromPos }, to: { pos: label.pos } }\r\n            return <Label {...filterClone(label, [], ['pos', 'text'])} {...style} text={formatter(label.text)} animation={ani}></Label>\r\n          })}\r\n        </Group>\r\n      </Group>\r\n    )\r\n  }\r\n}\r\nexport default Axis\r\n","import Base from '../../base/BasePlugin'\r\n//import { debounce } from '@qcharts/utils'\r\nclass Legend extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.$el = null\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    attrs.clientRect = {\r\n      bottom: 0,\r\n      width: '100%',\r\n      left: 0,\r\n      right: ''\r\n    }\r\n    return attrs\r\n  }\r\n  defaultAttrs() {\r\n    return {}\r\n  }\r\n  beforeRender() {\r\n    //let dataset = this.dataset\r\n    return this.dataset.rows\r\n  }\r\n  itemClick() {\r\n    console.log(click)\r\n  }\r\n  beforeUpdate() {}\r\n\r\n  rendered() {\r\n    let clickAble = this.renderAttrs.clickAble\r\n    if (clickAble !== false) {\r\n      let items = this.$el.querySelectorAll('.legend-item')\r\n      items.forEach(item => {\r\n        item.style.cursor = 'pointer'\r\n      })\r\n      let dataset = this.dataset\r\n      let $el = this.$el\r\n      $el.addEventListener(\r\n        'click',\r\n        e => {\r\n          let target = e.target\r\n          let $dom = getParent($el, target, '.legend-item')\r\n          if ($dom) {\r\n            let ind = $dom.getAttribute('data-id')\r\n            let state = dataset.rows[ind].state\r\n            dataset.rows[ind].state = state === 'disabled' ? 'default' : 'disabled'\r\n          }\r\n          this.render(dataset.rows)\r\n        },\r\n        false\r\n      )\r\n    }\r\n  }\r\n  render(arr) {\r\n    if (arr) {\r\n      let { colors, clientRect } = this.renderAttrs\r\n      let { left, top, width, height, right, bottom } = clientRect\r\n      if (!this.$el) {\r\n        this.$el = document.createElement('div')\r\n        this.$el.className = 'qcharts-legend'\r\n        this.$el.style.cssText = `text-align:center;position:absolute;font-size:12px;left:${left};top:${top};width:${width};height:${height};right:${right};bottom:${bottom}`\r\n        this.chart.$el.appendChild(this.$el)\r\n      }\r\n      let html = ''\r\n      arr.forEach((row, ind) => {\r\n        let state = this.dataset.rows[ind].state\r\n        let curColor = state !== 'disabled' ? colors[ind] : '#ddd'\r\n        html += `<div style=\"display:inline-block;padding:0 4px;cursor:pointer\" class=\"legend-item\" data-id=\"${ind}\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${curColor}\"></span><span class=\"text\" style=\"color:#666\">${row.name}</span></div>`\r\n      })\r\n      this.$el.innerHTML = html\r\n    }\r\n  }\r\n}\r\nfunction getParent(wrap, dom, selector) {\r\n  let arr = wrap.querySelectorAll(selector)\r\n  if (dom === wrap) {\r\n    return\r\n  } else if ([].indexOf.call(arr, dom) !== -1) {\r\n    return dom\r\n  } else {\r\n    return getParent(wrap, dom.parentNode, selector)\r\n  }\r\n}\r\nexport default Legend\r\n","import Base from '../../base/BasePlugin'\r\nimport { debounce } from '@qcharts/utils'\r\nclass Tooltip extends Base {\r\n  constructor(attrs) {\r\n    super(attrs)\r\n    this.$el = null\r\n  }\r\n  get renderAttrs() {\r\n    //处理默认属性，变为渲染时的属性，比如高宽的百分比，通用属性到base中处理\r\n    let attrs = super.renderAttrs\r\n    return attrs\r\n  }\r\n  beforeRender() {}\r\n  beforeUpdate() {}\r\n  tipMousemove = debounce(\r\n    e => {\r\n      let maxLeft = window.innerWidth - this.$el.getBoundingClientRect().width - 5\r\n      let maxTop = window.innerWidth - this.$el.getBoundingClientRect().height - 5\r\n      let tarTop = e.y > maxTop ? maxTop : e.y\r\n      let tarLeft = e.x > maxLeft ? maxLeft : e.x\r\n      this.$el.style.left = tarLeft + 'px'\r\n      this.$el.style.top = tarTop + 'px'\r\n    },\r\n    100,\r\n    1\r\n  )\r\n  rendered() {\r\n    let targetVisual = this.chart.visuals[0]\r\n    let { colors, sort, formatter } = this.renderAttrs\r\n    targetVisual.dataset.on('change', data => {\r\n      let { option } = data\r\n      this.$el.innerHTML = ''\r\n      if (option.value === 'hover') {\r\n        let arr = []\r\n        targetVisual.dataset.forEach(item => {\r\n          if (item.state === 'hover') {\r\n            arr.push(item)\r\n          }\r\n        })\r\n        if (sort) {\r\n          arr.sort(sort)\r\n        }\r\n        if (arr.length) {\r\n          let innerHtml = ''\r\n          let $div = document.createElement('div')\r\n          $div.style.cssText = 'white-space:nowrap;padding:6px 10px;background-color:rgba(0,0,0,0.5);color:#fff;'\r\n          arr.forEach((item, ind) => {\r\n            let text = `${item.text}：${item.value}`\r\n            if (formatter) {\r\n              text = formatter(item.data) || text\r\n            }\r\n            let html = `<div class=\"tooltip-item\"><span class=\"icon\" style=\"margin-right:6px;display:inline-block;width:10px;height:10px;background-color:${colors[ind]}\"></span><span class=\"text\">${item.text}：${item.value}</span></div>`\r\n            innerHtml += html\r\n          })\r\n          $div.innerHTML = innerHtml\r\n          this.$el.appendChild($div)\r\n        }\r\n      } else if (option.name === 'reset') {\r\n        this.$el.innerHTML = ''\r\n      }\r\n    })\r\n    document.body.addEventListener('mousemove', this.tipMousemove)\r\n  }\r\n  render() {\r\n    if (!this.$el) {\r\n      this.$el = document.createElement('div')\r\n      this.$el.className = 'qcharts-tooltip'\r\n      this.$el.style.cssText = 'transition:top 300ms ease-out,left 300ms ease-out;position:absolute;pointEvents:none;pointer-events:none;font-size:14px;'\r\n    }\r\n    document.body.appendChild(this.$el)\r\n  }\r\n}\r\nexport default Tooltip\r\n","let platform = window\r\nexport default platform\r\n","import Base from './base/Base'\r\nimport { jsType, emptyObject, throttle } from '@qcharts/utils'\r\nimport platform from './base/platform'\r\nimport BaseVisual from './base/BaseVisual'\r\nimport BasePlugin from './base/BasePlugin'\r\nimport { Scene } from 'spritejs'\r\nimport { Wave } from './index'\r\nclass Chart extends Base {\r\n  constructor(attr) {\r\n    super()\r\n    let { container } = attr\r\n    if (jsType(container) === 'string') {\r\n      container = document.querySelector(container)\r\n    }\r\n    this.$el = container\r\n    this.visuals = []\r\n    this.plugins = []\r\n    this.scene = new Scene({ container, displayRatio: platform.devicePixelRatio })\r\n    this.scene.addEventListener('resize', _ => {\r\n      //舞台变化的时候\r\n      this.checkUpdate()\r\n    })\r\n    this.checkUpdate = throttle(_ => {\r\n      let nodes = [].concat(this.plugins).concat(this.visuals)\r\n      nodes.forEach(node => {\r\n        node.update()\r\n      })\r\n    }, 300)\r\n    this.checkRender = throttle(_ => {\r\n      let children = [].concat(this.visuals).concat(this.plugins)\r\n      children.forEach(child => {\r\n        child.created()\r\n        this.dataset.addDep(child)\r\n      })\r\n      this.__store.__isCreated__ = true\r\n      this.dispatchEvent('updated', emptyObject())\r\n    })\r\n  }\r\n  update() {\r\n    //图表发生更新，触发图表内组件更新\r\n    this.checkUpdate()\r\n  }\r\n  append(node) {\r\n    if (node instanceof Wave) {\r\n      //补齐dataset，wave中不用dataset\r\n      this.source([], {})\r\n    } else if (!this.dataset) {\r\n      console.error('Chart should set data before append some graphs')\r\n      return\r\n    }\r\n    if (jsType(node) === 'array') {\r\n      node.forEach(item => {\r\n        this.append(item)\r\n      })\r\n      return\r\n    } else if (node instanceof BaseVisual) {\r\n      this.visuals.push(node)\r\n    } else if (node instanceof BasePlugin) {\r\n      this.plugins.push(node)\r\n    }\r\n    node.chart = this\r\n    node.scene = this.scene\r\n    this.checkRender()\r\n  }\r\n  renderChild() {}\r\n}\r\n\r\nexport default Chart\r\n","import { h, easing } from '@qcharts/vnode'\r\nimport Dataset from '@qcharts/dataset'\r\nimport Line from './visuals/Line/index'\r\nimport Pie from './visuals/Pie/index'\r\nimport Area from './visuals/Area/index'\r\nimport Radar from './visuals/Radar/index'\r\nimport Bar from './visuals/Bar/index'\r\nimport PolarBar from './visuals/PolarBar/index'\r\nimport Scatter from './visuals/Scatter/index'\r\nimport Wave from './visuals/Wave/index'\r\nimport Gauge from './visuals/Gauge'\r\nimport Axis from './plugins/Axis/index'\r\nimport Legend from './plugins/Legend/index'\r\nimport Tooltip from './plugins/Tooltip/index'\r\nimport platform from './base/platform'\r\nimport Chart from './Chart'\r\nimport theme from './theme/default'\r\nconst version = require('../package.json').version\r\nconst qcharts = {\r\n  version,\r\n  Line,\r\n  Pie,\r\n  Area,\r\n  Radar,\r\n  Bar,\r\n  PolarBar,\r\n  Scatter,\r\n  Gauge,\r\n  Legend,\r\n  Axis,\r\n  Wave,\r\n  Tooltip,\r\n  h,\r\n  theme,\r\n  Chart,\r\n  easing\r\n}\r\nif (process.env.NODE_ENV === 'development') {\r\n  platform.qcharts = qcharts\r\n}\r\n\r\nexport { version, Dataset, Line, Pie, Area, Wave, Radar, Tooltip, Bar, PolarBar, Scatter,Gauge, Axis, Legend, Chart, h, theme, easing }\r\n\r\nexport default qcharts\r\n"],"sourceRoot":""}